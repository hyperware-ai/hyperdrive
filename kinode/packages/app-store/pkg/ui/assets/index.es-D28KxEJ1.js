const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DQgewFTe.js","assets/index-DtWnD0nq.js","assets/index-DHwIfc_p.css"])))=>i.map(i=>d[i]);
import{p as process$1,j as getAugmentedNamespace,c as commonjsGlobal,h as Buffer,l as getDefaultExportFromCjs,_ as __vitePreload}from"./index-DtWnD0nq.js";import{g as safeBufferExports,f as eventsExports,a as require_stream_readable$1,b as require_stream_writable$1,c as require_stream_duplex$1,_ as _stream_transform$1,d as _stream_passthrough$1,e as endOfStream,p as pipeline_1,i as inherits_browserExports,r as require$$0$3,h as requireString_decoder,s as sha_jsExports,u as util$1,j as browser$d,G as Gg}from"./index-DszBTI8l.js";import{b as bnExports}from"./bn-D5e-dFUq.js";const global=globalThis||void 0||self;var __spreadArray=function(te,t,G){if(G||arguments.length===2)for(var Te=0,Zr=t.length,Ie;Te<Zr;Te++)(Ie||!(Te in t))&&(Ie||(Ie=Array.prototype.slice.call(t,0,Te)),Ie[Te]=t[Te]);return te.concat(Ie||Array.prototype.slice.call(t))},BrowserInfo=function(){function te(t,G,Te){this.name=t,this.version=G,this.os=Te,this.type="browser"}return te}(),NodeInfo=function(){function te(t){this.version=t,this.type="node",this.name="node",this.os=process$1.platform}return te}(),SearchBotDeviceInfo=function(){function te(t,G,Te,Zr){this.name=t,this.version=G,this.os=Te,this.bot=Zr,this.type="bot-device"}return te}(),BotInfo=function(){function te(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return te}(),ReactNativeInfo=function(){function te(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return te}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(te){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(te){return te!==""&&userAgentRules.reduce(function(t,G){var Te=G[0],Zr=G[1];if(t)return t;var Ie=Zr.exec(te);return!!Ie&&[Te,Ie]},!1)}function parseUserAgent(te){var t=matchUserAgent(te);if(!t)return null;var G=t[0],Te=t[1];if(G==="searchbot")return new BotInfo;var Zr=Te[1]&&Te[1].split(".").join("_").split("_").slice(0,3);Zr?Zr.length<REQUIRED_VERSION_PARTS&&(Zr=__spreadArray(__spreadArray([],Zr,!0),createVersionParts(REQUIRED_VERSION_PARTS-Zr.length),!0)):Zr=[];var Ie=Zr.join("."),ni=detectOS(te),fi=SEARCHBOT_OS_REGEX.exec(te);return fi&&fi[1]?new SearchBotDeviceInfo(G,Ie,ni,fi[1]):new BrowserInfo(G,Ie,ni)}function detectOS(te){for(var t=0,G=operatingSystemRules.length;t<G;t++){var Te=operatingSystemRules[t],Zr=Te[0],Ie=Te[1],ni=Ie.exec(te);if(ni)return Zr}return null}function getNodeVersion(){var te=typeof process$1<"u"&&process$1.version;return te?new NodeInfo(process$1.version.slice(1)):null}function createVersionParts(te){for(var t=[],G=0;G<te;G++)t.push("0");return t}var cjs$3={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(te,t){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Te){G.__proto__=Te}||function(G,Te){for(var Zr in Te)Te.hasOwnProperty(Zr)&&(G[Zr]=Te[Zr])},extendStatics$1(te,t)};function __extends$1(te,t){extendStatics$1(te,t);function G(){this.constructor=te}te.prototype=t===null?Object.create(t):(G.prototype=t.prototype,new G)}var __assign$1=function(){return __assign$1=Object.assign||function(t){for(var G,Te=1,Zr=arguments.length;Te<Zr;Te++){G=arguments[Te];for(var Ie in G)Object.prototype.hasOwnProperty.call(G,Ie)&&(t[Ie]=G[Ie])}return t},__assign$1.apply(this,arguments)};function __rest$1(te,t){var G={};for(var Te in te)Object.prototype.hasOwnProperty.call(te,Te)&&t.indexOf(Te)<0&&(G[Te]=te[Te]);if(te!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zr=0,Te=Object.getOwnPropertySymbols(te);Zr<Te.length;Zr++)t.indexOf(Te[Zr])<0&&Object.prototype.propertyIsEnumerable.call(te,Te[Zr])&&(G[Te[Zr]]=te[Te[Zr]]);return G}function __decorate$1(te,t,G,Te){var Zr=arguments.length,Ie=Zr<3?t:Te===null?Te=Object.getOwnPropertyDescriptor(t,G):Te,ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ie=Reflect.decorate(te,t,G,Te);else for(var fi=te.length-1;fi>=0;fi--)(ni=te[fi])&&(Ie=(Zr<3?ni(Ie):Zr>3?ni(t,G,Ie):ni(t,G))||Ie);return Zr>3&&Ie&&Object.defineProperty(t,G,Ie),Ie}function __param$1(te,t){return function(G,Te){t(G,Te,te)}}function __metadata$1(te,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(te,t)}function __awaiter$1(te,t,G,Te){function Zr(Ie){return Ie instanceof G?Ie:new G(function(ni){ni(Ie)})}return new(G||(G=Promise))(function(Ie,ni){function fi(si){try{ai(Te.next(si))}catch(li){ni(li)}}function ci(si){try{ai(Te.throw(si))}catch(li){ni(li)}}function ai(si){si.done?Ie(si.value):Zr(si.value).then(fi,ci)}ai((Te=Te.apply(te,t||[])).next())})}function __generator$1(te,t){var G={label:0,sent:function(){if(Ie[0]&1)throw Ie[1];return Ie[1]},trys:[],ops:[]},Te,Zr,Ie,ni;return ni={next:fi(0),throw:fi(1),return:fi(2)},typeof Symbol=="function"&&(ni[Symbol.iterator]=function(){return this}),ni;function fi(ai){return function(si){return ci([ai,si])}}function ci(ai){if(Te)throw new TypeError("Generator is already executing.");for(;G;)try{if(Te=1,Zr&&(Ie=ai[0]&2?Zr.return:ai[0]?Zr.throw||((Ie=Zr.return)&&Ie.call(Zr),0):Zr.next)&&!(Ie=Ie.call(Zr,ai[1])).done)return Ie;switch(Zr=0,Ie&&(ai=[ai[0]&2,Ie.value]),ai[0]){case 0:case 1:Ie=ai;break;case 4:return G.label++,{value:ai[1],done:!1};case 5:G.label++,Zr=ai[1],ai=[0];continue;case 7:ai=G.ops.pop(),G.trys.pop();continue;default:if(Ie=G.trys,!(Ie=Ie.length>0&&Ie[Ie.length-1])&&(ai[0]===6||ai[0]===2)){G=0;continue}if(ai[0]===3&&(!Ie||ai[1]>Ie[0]&&ai[1]<Ie[3])){G.label=ai[1];break}if(ai[0]===6&&G.label<Ie[1]){G.label=Ie[1],Ie=ai;break}if(Ie&&G.label<Ie[2]){G.label=Ie[2],G.ops.push(ai);break}Ie[2]&&G.ops.pop(),G.trys.pop();continue}ai=t.call(te,G)}catch(si){ai=[6,si],Zr=0}finally{Te=Ie=0}if(ai[0]&5)throw ai[1];return{value:ai[0]?ai[1]:void 0,done:!0}}}function __createBinding$1(te,t,G,Te){Te===void 0&&(Te=G),te[Te]=t[G]}function __exportStar$1(te,t){for(var G in te)G!=="default"&&!t.hasOwnProperty(G)&&(t[G]=te[G])}function __values$1(te){var t=typeof Symbol=="function"&&Symbol.iterator,G=t&&te[t],Te=0;if(G)return G.call(te);if(te&&typeof te.length=="number")return{next:function(){return te&&Te>=te.length&&(te=void 0),{value:te&&te[Te++],done:!te}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(te,t){var G=typeof Symbol=="function"&&te[Symbol.iterator];if(!G)return te;var Te=G.call(te),Zr,Ie=[],ni;try{for(;(t===void 0||t-- >0)&&!(Zr=Te.next()).done;)Ie.push(Zr.value)}catch(fi){ni={error:fi}}finally{try{Zr&&!Zr.done&&(G=Te.return)&&G.call(Te)}finally{if(ni)throw ni.error}}return Ie}function __spread$1(){for(var te=[],t=0;t<arguments.length;t++)te=te.concat(__read$1(arguments[t]));return te}function __spreadArrays$1(){for(var te=0,t=0,G=arguments.length;t<G;t++)te+=arguments[t].length;for(var Te=Array(te),Zr=0,t=0;t<G;t++)for(var Ie=arguments[t],ni=0,fi=Ie.length;ni<fi;ni++,Zr++)Te[Zr]=Ie[ni];return Te}function __await$1(te){return this instanceof __await$1?(this.v=te,this):new __await$1(te)}function __asyncGenerator$1(te,t,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te=G.apply(te,t||[]),Zr,Ie=[];return Zr={},ni("next"),ni("throw"),ni("return"),Zr[Symbol.asyncIterator]=function(){return this},Zr;function ni(mi){Te[mi]&&(Zr[mi]=function(di){return new Promise(function($i,sn){Ie.push([mi,di,$i,sn])>1||fi(mi,di)})})}function fi(mi,di){try{ci(Te[mi](di))}catch($i){li(Ie[0][3],$i)}}function ci(mi){mi.value instanceof __await$1?Promise.resolve(mi.value.v).then(ai,si):li(Ie[0][2],mi)}function ai(mi){fi("next",mi)}function si(mi){fi("throw",mi)}function li(mi,di){mi(di),Ie.shift(),Ie.length&&fi(Ie[0][0],Ie[0][1])}}function __asyncDelegator$1(te){var t,G;return t={},Te("next"),Te("throw",function(Zr){throw Zr}),Te("return"),t[Symbol.iterator]=function(){return this},t;function Te(Zr,Ie){t[Zr]=te[Zr]?function(ni){return(G=!G)?{value:__await$1(te[Zr](ni)),done:Zr==="return"}:Ie?Ie(ni):ni}:Ie}}function __asyncValues$1(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=te[Symbol.asyncIterator],G;return t?t.call(te):(te=typeof __values$1=="function"?__values$1(te):te[Symbol.iterator](),G={},Te("next"),Te("throw"),Te("return"),G[Symbol.asyncIterator]=function(){return this},G);function Te(Ie){G[Ie]=te[Ie]&&function(ni){return new Promise(function(fi,ci){ni=te[Ie](ni),Zr(fi,ci,ni.done,ni.value)})}}function Zr(Ie,ni,fi,ci){Promise.resolve(ci).then(function(ai){Ie({value:ai,done:fi})},ni)}}function __makeTemplateObject$1(te,t){return Object.defineProperty?Object.defineProperty(te,"raw",{value:t}):te.raw=t,te}function __importStar$1(te){if(te&&te.__esModule)return te;var t={};if(te!=null)for(var G in te)Object.hasOwnProperty.call(te,G)&&(t[G]=te[G]);return t.default=te,t}function __importDefault$1(te){return te&&te.__esModule?te:{default:te}}function __classPrivateFieldGet$1(te,t){if(!t.has(te))throw new TypeError("attempted to get private field on non-instance");return t.get(te)}function __classPrivateFieldSet$1(te,t,G){if(!t.has(te))throw new TypeError("attempted to set private field on non-instance");return t.set(te,G),G}const tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign$1},__asyncDelegator:__asyncDelegator$1,__asyncGenerator:__asyncGenerator$1,__asyncValues:__asyncValues$1,__await:__await$1,__awaiter:__awaiter$1,__classPrivateFieldGet:__classPrivateFieldGet$1,__classPrivateFieldSet:__classPrivateFieldSet$1,__createBinding:__createBinding$1,__decorate:__decorate$1,__exportStar:__exportStar$1,__extends:__extends$1,__generator:__generator$1,__importDefault:__importDefault$1,__importStar:__importStar$1,__makeTemplateObject:__makeTemplateObject$1,__metadata:__metadata$1,__param:__param$1,__read:__read$1,__rest:__rest$1,__spread:__spread$1,__spreadArrays:__spreadArrays$1,__values:__values$1},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(tslib_es6$1);var utils$4={},delay={},hasRequiredDelay;function requireDelay(){if(hasRequiredDelay)return delay;hasRequiredDelay=1,Object.defineProperty(delay,"__esModule",{value:!0}),delay.delay=void 0;function te(t){return new Promise(G=>{setTimeout(()=>{G(!0)},t)})}return delay.delay=te,delay}var convert={},constants$1={},misc={},hasRequiredMisc;function requireMisc(){return hasRequiredMisc||(hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.ONE_THOUSAND=misc.ONE_HUNDRED=void 0,misc.ONE_HUNDRED=100,misc.ONE_THOUSAND=1e3),misc}var time={},hasRequiredTime;function requireTime(){return hasRequiredTime||(hasRequiredTime=1,function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.ONE_YEAR=te.FOUR_WEEKS=te.THREE_WEEKS=te.TWO_WEEKS=te.ONE_WEEK=te.THIRTY_DAYS=te.SEVEN_DAYS=te.FIVE_DAYS=te.THREE_DAYS=te.ONE_DAY=te.TWENTY_FOUR_HOURS=te.TWELVE_HOURS=te.SIX_HOURS=te.THREE_HOURS=te.ONE_HOUR=te.SIXTY_MINUTES=te.THIRTY_MINUTES=te.TEN_MINUTES=te.FIVE_MINUTES=te.ONE_MINUTE=te.SIXTY_SECONDS=te.THIRTY_SECONDS=te.TEN_SECONDS=te.FIVE_SECONDS=te.ONE_SECOND=void 0,te.ONE_SECOND=1,te.FIVE_SECONDS=5,te.TEN_SECONDS=10,te.THIRTY_SECONDS=30,te.SIXTY_SECONDS=60,te.ONE_MINUTE=te.SIXTY_SECONDS,te.FIVE_MINUTES=te.ONE_MINUTE*5,te.TEN_MINUTES=te.ONE_MINUTE*10,te.THIRTY_MINUTES=te.ONE_MINUTE*30,te.SIXTY_MINUTES=te.ONE_MINUTE*60,te.ONE_HOUR=te.SIXTY_MINUTES,te.THREE_HOURS=te.ONE_HOUR*3,te.SIX_HOURS=te.ONE_HOUR*6,te.TWELVE_HOURS=te.ONE_HOUR*12,te.TWENTY_FOUR_HOURS=te.ONE_HOUR*24,te.ONE_DAY=te.TWENTY_FOUR_HOURS,te.THREE_DAYS=te.ONE_DAY*3,te.FIVE_DAYS=te.ONE_DAY*5,te.SEVEN_DAYS=te.ONE_DAY*7,te.THIRTY_DAYS=te.ONE_DAY*30,te.ONE_WEEK=te.SEVEN_DAYS,te.TWO_WEEKS=te.ONE_WEEK*2,te.THREE_WEEKS=te.ONE_WEEK*3,te.FOUR_WEEKS=te.ONE_WEEK*4,te.ONE_YEAR=te.ONE_DAY*365}(time)),time}var hasRequiredConstants$1;function requireConstants$1(){return hasRequiredConstants$1||(hasRequiredConstants$1=1,function(te){Object.defineProperty(te,"__esModule",{value:!0});const t=require$$0$2;t.__exportStar(requireMisc(),te),t.__exportStar(requireTime(),te)}(constants$1)),constants$1}var hasRequiredConvert;function requireConvert(){if(hasRequiredConvert)return convert;hasRequiredConvert=1,Object.defineProperty(convert,"__esModule",{value:!0}),convert.fromMiliseconds=convert.toMiliseconds=void 0;const te=requireConstants$1();function t(Te){return Te*te.ONE_THOUSAND}convert.toMiliseconds=t;function G(Te){return Math.floor(Te/te.ONE_THOUSAND)}return convert.fromMiliseconds=G,convert}var hasRequiredUtils$4;function requireUtils$4(){return hasRequiredUtils$4||(hasRequiredUtils$4=1,function(te){Object.defineProperty(te,"__esModule",{value:!0});const t=require$$0$2;t.__exportStar(requireDelay(),te),t.__exportStar(requireConvert(),te)}(utils$4)),utils$4}var watch$2={},hasRequiredWatch$1;function requireWatch$1(){if(hasRequiredWatch$1)return watch$2;hasRequiredWatch$1=1,Object.defineProperty(watch$2,"__esModule",{value:!0}),watch$2.Watch=void 0;class te{constructor(){this.timestamps=new Map}start(G){if(this.timestamps.has(G))throw new Error(`Watch already started for label: ${G}`);this.timestamps.set(G,{started:Date.now()})}stop(G){const Te=this.get(G);if(typeof Te.elapsed<"u")throw new Error(`Watch already stopped for label: ${G}`);const Zr=Date.now()-Te.started;this.timestamps.set(G,{started:Te.started,elapsed:Zr})}get(G){const Te=this.timestamps.get(G);if(typeof Te>"u")throw new Error(`No timestamp found for label: ${G}`);return Te}elapsed(G){const Te=this.get(G);return Te.elapsed||Date.now()-Te.started}}return watch$2.Watch=te,watch$2.default=te,watch$2}var types={},watch$1={},hasRequiredWatch;function requireWatch(){if(hasRequiredWatch)return watch$1;hasRequiredWatch=1,Object.defineProperty(watch$1,"__esModule",{value:!0}),watch$1.IWatch=void 0;class te{}return watch$1.IWatch=te,watch$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(te){Object.defineProperty(te,"__esModule",{value:!0}),require$$0$2.__exportStar(requireWatch(),te)}(types)),types}(function(te){Object.defineProperty(te,"__esModule",{value:!0});const t=require$$0$2;t.__exportStar(requireUtils$4(),te),t.__exportStar(requireWatch$1(),te),t.__exportStar(requireTypes(),te),t.__exportStar(requireConstants$1(),te)})(cjs$3);var cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});cjs$2.getLocalStorage=cjs$2.getLocalStorageOrThrow=cjs$2.getCrypto=cjs$2.getCryptoOrThrow=getLocation_1=cjs$2.getLocation=cjs$2.getLocationOrThrow=getNavigator_1=cjs$2.getNavigator=cjs$2.getNavigatorOrThrow=getDocument_1=cjs$2.getDocument=cjs$2.getDocumentOrThrow=cjs$2.getFromWindowOrThrow=cjs$2.getFromWindow=void 0;function getFromWindow(te){let t;return typeof window<"u"&&typeof window[te]<"u"&&(t=window[te]),t}cjs$2.getFromWindow=getFromWindow;function getFromWindowOrThrow(te){const t=getFromWindow(te);if(!t)throw new Error(`${te} is not defined in Window`);return t}cjs$2.getFromWindowOrThrow=getFromWindowOrThrow;function getDocumentOrThrow(){return getFromWindowOrThrow("document")}cjs$2.getDocumentOrThrow=getDocumentOrThrow;function getDocument(){return getFromWindow("document")}var getDocument_1=cjs$2.getDocument=getDocument;function getNavigatorOrThrow(){return getFromWindowOrThrow("navigator")}cjs$2.getNavigatorOrThrow=getNavigatorOrThrow;function getNavigator(){return getFromWindow("navigator")}var getNavigator_1=cjs$2.getNavigator=getNavigator;function getLocationOrThrow(){return getFromWindowOrThrow("location")}cjs$2.getLocationOrThrow=getLocationOrThrow;function getLocation(){return getFromWindow("location")}var getLocation_1=cjs$2.getLocation=getLocation;function getCryptoOrThrow(){return getFromWindowOrThrow("crypto")}cjs$2.getCryptoOrThrow=getCryptoOrThrow;function getCrypto(){return getFromWindow("crypto")}cjs$2.getCrypto=getCrypto;function getLocalStorageOrThrow(){return getFromWindowOrThrow("localStorage")}cjs$2.getLocalStorageOrThrow=getLocalStorageOrThrow;function getLocalStorage(){return getFromWindow("localStorage")}cjs$2.getLocalStorage=getLocalStorage;var cjs$1={};Object.defineProperty(cjs$1,"__esModule",{value:!0});var getWindowMetadata_1=cjs$1.getWindowMetadata=void 0;const window_getters_1=cjs$2;function getWindowMetadata(){let te,t;try{te=window_getters_1.getDocumentOrThrow(),t=window_getters_1.getLocationOrThrow()}catch{return null}function G(){const li=te.getElementsByTagName("link"),mi=[];for(let di=0;di<li.length;di++){const $i=li[di],sn=$i.getAttribute("rel");if(sn&&sn.toLowerCase().indexOf("icon")>-1){const ln=$i.getAttribute("href");if(ln)if(ln.toLowerCase().indexOf("https:")===-1&&ln.toLowerCase().indexOf("http:")===-1&&ln.indexOf("//")!==0){let mn=t.protocol+"//"+t.host;if(ln.indexOf("/")===0)mn+=ln;else{const cn=t.pathname.split("/");cn.pop();const Rn=cn.join("/");mn+=Rn+"/"+ln}mi.push(mn)}else if(ln.indexOf("//")===0){const mn=t.protocol+ln;mi.push(mn)}else mi.push(ln)}}return mi}function Te(...li){const mi=te.getElementsByTagName("meta");for(let di=0;di<mi.length;di++){const $i=mi[di],sn=["itemprop","property","name"].map(ln=>$i.getAttribute(ln)).filter(ln=>ln?li.includes(ln):!1);if(sn.length&&sn){const ln=$i.getAttribute("content");if(ln)return ln}}return""}function Zr(){let li=Te("name","og:site_name","og:title","twitter:title");return li||(li=te.title),li}function Ie(){return Te("description","og:description","twitter:description","keywords")}const ni=Zr(),fi=Ie(),ci=t.origin,ai=G();return{description:fi,url:ci,icons:ai,name:ni}}getWindowMetadata_1=cjs$1.getWindowMetadata=getWindowMetadata;var queryString={},strictUriEncode=te=>encodeURIComponent(te).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(te,t){try{return[decodeURIComponent(te.join(""))]}catch{}if(te.length===1)return te;t=t||1;var G=te.slice(0,t),Te=te.slice(t);return Array.prototype.concat.call([],decodeComponents(G),decodeComponents(Te))}function decode$2(te){try{return decodeURIComponent(te)}catch{for(var t=te.match(singleMatcher)||[],G=1;G<t.length;G++)te=decodeComponents(t,G).join(""),t=te.match(singleMatcher)||[];return te}}function customDecodeURIComponent(te){for(var t={"%FE%FF":"��","%FF%FE":"��"},G=multiMatcher.exec(te);G;){try{t[G[0]]=decodeURIComponent(G[0])}catch{var Te=decode$2(G[0]);Te!==G[0]&&(t[G[0]]=Te)}G=multiMatcher.exec(te)}t["%C2"]="�";for(var Zr=Object.keys(t),Ie=0;Ie<Zr.length;Ie++){var ni=Zr[Ie];te=te.replace(new RegExp(ni,"g"),t[ni])}return te}var decodeUriComponent=function(te){if(typeof te!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof te+"`");try{return te=te.replace(/\+/g," "),decodeURIComponent(te)}catch{return customDecodeURIComponent(te)}},splitOnFirst=(te,t)=>{if(!(typeof te=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[te];const G=te.indexOf(t);return G===-1?[te]:[te.slice(0,G),te.slice(G+t.length)]},filterObj=function(te,t){for(var G={},Te=Object.keys(te),Zr=Array.isArray(t),Ie=0;Ie<Te.length;Ie++){var ni=Te[Ie],fi=te[ni];(Zr?t.indexOf(ni)!==-1:t(ni,fi,te))&&(G[ni]=fi)}return G};(function(te){const t=strictUriEncode,G=decodeUriComponent,Te=splitOnFirst,Zr=filterObj,Ie=cn=>cn==null,ni=Symbol("encodeFragmentIdentifier");function fi(cn){switch(cn.arrayFormat){case"index":return Rn=>(vn,Cn)=>{const ho=vn.length;return Cn===void 0||cn.skipNull&&Cn===null||cn.skipEmptyString&&Cn===""?vn:Cn===null?[...vn,[si(Rn,cn),"[",ho,"]"].join("")]:[...vn,[si(Rn,cn),"[",si(ho,cn),"]=",si(Cn,cn)].join("")]};case"bracket":return Rn=>(vn,Cn)=>Cn===void 0||cn.skipNull&&Cn===null||cn.skipEmptyString&&Cn===""?vn:Cn===null?[...vn,[si(Rn,cn),"[]"].join("")]:[...vn,[si(Rn,cn),"[]=",si(Cn,cn)].join("")];case"colon-list-separator":return Rn=>(vn,Cn)=>Cn===void 0||cn.skipNull&&Cn===null||cn.skipEmptyString&&Cn===""?vn:Cn===null?[...vn,[si(Rn,cn),":list="].join("")]:[...vn,[si(Rn,cn),":list=",si(Cn,cn)].join("")];case"comma":case"separator":case"bracket-separator":{const Rn=cn.arrayFormat==="bracket-separator"?"[]=":"=";return vn=>(Cn,ho)=>ho===void 0||cn.skipNull&&ho===null||cn.skipEmptyString&&ho===""?Cn:(ho=ho===null?"":ho,Cn.length===0?[[si(vn,cn),Rn,si(ho,cn)].join("")]:[[Cn,si(ho,cn)].join(cn.arrayFormatSeparator)])}default:return Rn=>(vn,Cn)=>Cn===void 0||cn.skipNull&&Cn===null||cn.skipEmptyString&&Cn===""?vn:Cn===null?[...vn,si(Rn,cn)]:[...vn,[si(Rn,cn),"=",si(Cn,cn)].join("")]}}function ci(cn){let Rn;switch(cn.arrayFormat){case"index":return(vn,Cn,ho)=>{if(Rn=/\[(\d*)\]$/.exec(vn),vn=vn.replace(/\[\d*\]$/,""),!Rn){ho[vn]=Cn;return}ho[vn]===void 0&&(ho[vn]={}),ho[vn][Rn[1]]=Cn};case"bracket":return(vn,Cn,ho)=>{if(Rn=/(\[\])$/.exec(vn),vn=vn.replace(/\[\]$/,""),!Rn){ho[vn]=Cn;return}if(ho[vn]===void 0){ho[vn]=[Cn];return}ho[vn]=[].concat(ho[vn],Cn)};case"colon-list-separator":return(vn,Cn,ho)=>{if(Rn=/(:list)$/.exec(vn),vn=vn.replace(/:list$/,""),!Rn){ho[vn]=Cn;return}if(ho[vn]===void 0){ho[vn]=[Cn];return}ho[vn]=[].concat(ho[vn],Cn)};case"comma":case"separator":return(vn,Cn,ho)=>{const hn=typeof Cn=="string"&&Cn.includes(cn.arrayFormatSeparator),Zn=typeof Cn=="string"&&!hn&&li(Cn,cn).includes(cn.arrayFormatSeparator);Cn=Zn?li(Cn,cn):Cn;const Do=hn||Zn?Cn.split(cn.arrayFormatSeparator).map(Yo=>li(Yo,cn)):Cn===null?Cn:li(Cn,cn);ho[vn]=Do};case"bracket-separator":return(vn,Cn,ho)=>{const hn=/(\[\])$/.test(vn);if(vn=vn.replace(/\[\]$/,""),!hn){ho[vn]=Cn&&li(Cn,cn);return}const Zn=Cn===null?[]:Cn.split(cn.arrayFormatSeparator).map(Do=>li(Do,cn));if(ho[vn]===void 0){ho[vn]=Zn;return}ho[vn]=[].concat(ho[vn],Zn)};default:return(vn,Cn,ho)=>{if(ho[vn]===void 0){ho[vn]=Cn;return}ho[vn]=[].concat(ho[vn],Cn)}}}function ai(cn){if(typeof cn!="string"||cn.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function si(cn,Rn){return Rn.encode?Rn.strict?t(cn):encodeURIComponent(cn):cn}function li(cn,Rn){return Rn.decode?G(cn):cn}function mi(cn){return Array.isArray(cn)?cn.sort():typeof cn=="object"?mi(Object.keys(cn)).sort((Rn,vn)=>Number(Rn)-Number(vn)).map(Rn=>cn[Rn]):cn}function di(cn){const Rn=cn.indexOf("#");return Rn!==-1&&(cn=cn.slice(0,Rn)),cn}function $i(cn){let Rn="";const vn=cn.indexOf("#");return vn!==-1&&(Rn=cn.slice(vn)),Rn}function sn(cn){cn=di(cn);const Rn=cn.indexOf("?");return Rn===-1?"":cn.slice(Rn+1)}function ln(cn,Rn){return Rn.parseNumbers&&!Number.isNaN(Number(cn))&&typeof cn=="string"&&cn.trim()!==""?cn=Number(cn):Rn.parseBooleans&&cn!==null&&(cn.toLowerCase()==="true"||cn.toLowerCase()==="false")&&(cn=cn.toLowerCase()==="true"),cn}function mn(cn,Rn){Rn=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},Rn),ai(Rn.arrayFormatSeparator);const vn=ci(Rn),Cn=Object.create(null);if(typeof cn!="string"||(cn=cn.trim().replace(/^[?#&]/,""),!cn))return Cn;for(const ho of cn.split("&")){if(ho==="")continue;let[hn,Zn]=Te(Rn.decode?ho.replace(/\+/g," "):ho,"=");Zn=Zn===void 0?null:["comma","separator","bracket-separator"].includes(Rn.arrayFormat)?Zn:li(Zn,Rn),vn(li(hn,Rn),Zn,Cn)}for(const ho of Object.keys(Cn)){const hn=Cn[ho];if(typeof hn=="object"&&hn!==null)for(const Zn of Object.keys(hn))hn[Zn]=ln(hn[Zn],Rn);else Cn[ho]=ln(hn,Rn)}return Rn.sort===!1?Cn:(Rn.sort===!0?Object.keys(Cn).sort():Object.keys(Cn).sort(Rn.sort)).reduce((ho,hn)=>{const Zn=Cn[hn];return Zn&&typeof Zn=="object"&&!Array.isArray(Zn)?ho[hn]=mi(Zn):ho[hn]=Zn,ho},Object.create(null))}te.extract=sn,te.parse=mn,te.stringify=(cn,Rn)=>{if(!cn)return"";Rn=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},Rn),ai(Rn.arrayFormatSeparator);const vn=Zn=>Rn.skipNull&&Ie(cn[Zn])||Rn.skipEmptyString&&cn[Zn]==="",Cn=fi(Rn),ho={};for(const Zn of Object.keys(cn))vn(Zn)||(ho[Zn]=cn[Zn]);const hn=Object.keys(ho);return Rn.sort!==!1&&hn.sort(Rn.sort),hn.map(Zn=>{const Do=cn[Zn];return Do===void 0?"":Do===null?si(Zn,Rn):Array.isArray(Do)?Do.length===0&&Rn.arrayFormat==="bracket-separator"?si(Zn,Rn)+"[]":Do.reduce(Cn(Zn),[]).join("&"):si(Zn,Rn)+"="+si(Do,Rn)}).filter(Zn=>Zn.length>0).join("&")},te.parseUrl=(cn,Rn)=>{Rn=Object.assign({decode:!0},Rn);const[vn,Cn]=Te(cn,"#");return Object.assign({url:vn.split("?")[0]||"",query:mn(sn(cn),Rn)},Rn&&Rn.parseFragmentIdentifier&&Cn?{fragmentIdentifier:li(Cn,Rn)}:{})},te.stringifyUrl=(cn,Rn)=>{Rn=Object.assign({encode:!0,strict:!0,[ni]:!0},Rn);const vn=di(cn.url).split("?")[0]||"",Cn=te.extract(cn.url),ho=te.parse(Cn,{sort:!1}),hn=Object.assign(ho,cn.query);let Zn=te.stringify(hn,Rn);Zn&&(Zn=`?${Zn}`);let Do=$i(cn.url);return cn.fragmentIdentifier&&(Do=`#${Rn[ni]?si(cn.fragmentIdentifier,Rn):cn.fragmentIdentifier}`),`${vn}${Zn}${Do}`},te.pick=(cn,Rn,vn)=>{vn=Object.assign({parseFragmentIdentifier:!0,[ni]:!1},vn);const{url:Cn,query:ho,fragmentIdentifier:hn}=te.parseUrl(cn,vn);return te.stringifyUrl({url:Cn,query:Zr(ho,Rn),fragmentIdentifier:hn},vn)},te.exclude=(cn,Rn,vn)=>{const Cn=Array.isArray(Rn)?ho=>!Rn.includes(ho):(ho,hn)=>!Rn(ho,hn);return te.pick(cn,Cn,vn)}})(queryString);var chacha20poly1305={},chacha={},binary={},int={};(function(te){Object.defineProperty(te,"__esModule",{value:!0});function t(fi,ci){var ai=fi>>>16&65535,si=fi&65535,li=ci>>>16&65535,mi=ci&65535;return si*mi+(ai*mi+si*li<<16>>>0)|0}te.mul=Math.imul||t;function G(fi,ci){return fi+ci|0}te.add=G;function Te(fi,ci){return fi-ci|0}te.sub=Te;function Zr(fi,ci){return fi<<ci|fi>>>32-ci}te.rotl=Zr;function Ie(fi,ci){return fi<<32-ci|fi>>>ci}te.rotr=Ie;function ni(fi){return typeof fi=="number"&&isFinite(fi)&&Math.floor(fi)===fi}te.isInteger=Number.isInteger||ni,te.MAX_SAFE_INTEGER=9007199254740991,te.isSafeInteger=function(fi){return te.isInteger(fi)&&fi>=-te.MAX_SAFE_INTEGER&&fi<=te.MAX_SAFE_INTEGER}})(int);Object.defineProperty(binary,"__esModule",{value:!0});var int_1=int;function readInt16BE(te,t){return t===void 0&&(t=0),(te[t+0]<<8|te[t+1])<<16>>16}binary.readInt16BE=readInt16BE;function readUint16BE(te,t){return t===void 0&&(t=0),(te[t+0]<<8|te[t+1])>>>0}binary.readUint16BE=readUint16BE;function readInt16LE(te,t){return t===void 0&&(t=0),(te[t+1]<<8|te[t])<<16>>16}binary.readInt16LE=readInt16LE;function readUint16LE(te,t){return t===void 0&&(t=0),(te[t+1]<<8|te[t])>>>0}binary.readUint16LE=readUint16LE;function writeUint16BE(te,t,G){return t===void 0&&(t=new Uint8Array(2)),G===void 0&&(G=0),t[G+0]=te>>>8,t[G+1]=te>>>0,t}binary.writeUint16BE=writeUint16BE;binary.writeInt16BE=writeUint16BE;function writeUint16LE(te,t,G){return t===void 0&&(t=new Uint8Array(2)),G===void 0&&(G=0),t[G+0]=te>>>0,t[G+1]=te>>>8,t}binary.writeUint16LE=writeUint16LE;binary.writeInt16LE=writeUint16LE;function readInt32BE(te,t){return t===void 0&&(t=0),te[t]<<24|te[t+1]<<16|te[t+2]<<8|te[t+3]}binary.readInt32BE=readInt32BE;function readUint32BE(te,t){return t===void 0&&(t=0),(te[t]<<24|te[t+1]<<16|te[t+2]<<8|te[t+3])>>>0}binary.readUint32BE=readUint32BE;function readInt32LE(te,t){return t===void 0&&(t=0),te[t+3]<<24|te[t+2]<<16|te[t+1]<<8|te[t]}binary.readInt32LE=readInt32LE;function readUint32LE(te,t){return t===void 0&&(t=0),(te[t+3]<<24|te[t+2]<<16|te[t+1]<<8|te[t])>>>0}binary.readUint32LE=readUint32LE;function writeUint32BE(te,t,G){return t===void 0&&(t=new Uint8Array(4)),G===void 0&&(G=0),t[G+0]=te>>>24,t[G+1]=te>>>16,t[G+2]=te>>>8,t[G+3]=te>>>0,t}binary.writeUint32BE=writeUint32BE;binary.writeInt32BE=writeUint32BE;function writeUint32LE(te,t,G){return t===void 0&&(t=new Uint8Array(4)),G===void 0&&(G=0),t[G+0]=te>>>0,t[G+1]=te>>>8,t[G+2]=te>>>16,t[G+3]=te>>>24,t}binary.writeUint32LE=writeUint32LE;binary.writeInt32LE=writeUint32LE;function readInt64BE(te,t){t===void 0&&(t=0);var G=readInt32BE(te,t),Te=readInt32BE(te,t+4);return G*4294967296+Te-(Te>>31)*4294967296}binary.readInt64BE=readInt64BE;function readUint64BE(te,t){t===void 0&&(t=0);var G=readUint32BE(te,t),Te=readUint32BE(te,t+4);return G*4294967296+Te}binary.readUint64BE=readUint64BE;function readInt64LE(te,t){t===void 0&&(t=0);var G=readInt32LE(te,t),Te=readInt32LE(te,t+4);return Te*4294967296+G-(G>>31)*4294967296}binary.readInt64LE=readInt64LE;function readUint64LE(te,t){t===void 0&&(t=0);var G=readUint32LE(te,t),Te=readUint32LE(te,t+4);return Te*4294967296+G}binary.readUint64LE=readUint64LE;function writeUint64BE(te,t,G){return t===void 0&&(t=new Uint8Array(8)),G===void 0&&(G=0),writeUint32BE(te/4294967296>>>0,t,G),writeUint32BE(te>>>0,t,G+4),t}binary.writeUint64BE=writeUint64BE;binary.writeInt64BE=writeUint64BE;function writeUint64LE(te,t,G){return t===void 0&&(t=new Uint8Array(8)),G===void 0&&(G=0),writeUint32LE(te>>>0,t,G),writeUint32LE(te/4294967296>>>0,t,G+4),t}binary.writeUint64LE=writeUint64LE;binary.writeInt64LE=writeUint64LE;function readUintBE(te,t,G){if(G===void 0&&(G=0),te%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(te/8>t.length-G)throw new Error("readUintBE: array is too short for the given bitLength");for(var Te=0,Zr=1,Ie=te/8+G-1;Ie>=G;Ie--)Te+=t[Ie]*Zr,Zr*=256;return Te}binary.readUintBE=readUintBE;function readUintLE(te,t,G){if(G===void 0&&(G=0),te%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(te/8>t.length-G)throw new Error("readUintLE: array is too short for the given bitLength");for(var Te=0,Zr=1,Ie=G;Ie<G+te/8;Ie++)Te+=t[Ie]*Zr,Zr*=256;return Te}binary.readUintLE=readUintLE;function writeUintBE(te,t,G,Te){if(G===void 0&&(G=new Uint8Array(te/8)),Te===void 0&&(Te=0),te%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var Zr=1,Ie=te/8+Te-1;Ie>=Te;Ie--)G[Ie]=t/Zr&255,Zr*=256;return G}binary.writeUintBE=writeUintBE;function writeUintLE(te,t,G,Te){if(G===void 0&&(G=new Uint8Array(te/8)),Te===void 0&&(Te=0),te%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var Zr=1,Ie=Te;Ie<Te+te/8;Ie++)G[Ie]=t/Zr&255,Zr*=256;return G}binary.writeUintLE=writeUintLE;function readFloat32BE(te,t){t===void 0&&(t=0);var G=new DataView(te.buffer,te.byteOffset,te.byteLength);return G.getFloat32(t)}binary.readFloat32BE=readFloat32BE;function readFloat32LE(te,t){t===void 0&&(t=0);var G=new DataView(te.buffer,te.byteOffset,te.byteLength);return G.getFloat32(t,!0)}binary.readFloat32LE=readFloat32LE;function readFloat64BE(te,t){t===void 0&&(t=0);var G=new DataView(te.buffer,te.byteOffset,te.byteLength);return G.getFloat64(t)}binary.readFloat64BE=readFloat64BE;function readFloat64LE(te,t){t===void 0&&(t=0);var G=new DataView(te.buffer,te.byteOffset,te.byteLength);return G.getFloat64(t,!0)}binary.readFloat64LE=readFloat64LE;function writeFloat32BE(te,t,G){t===void 0&&(t=new Uint8Array(4)),G===void 0&&(G=0);var Te=new DataView(t.buffer,t.byteOffset,t.byteLength);return Te.setFloat32(G,te),t}binary.writeFloat32BE=writeFloat32BE;function writeFloat32LE(te,t,G){t===void 0&&(t=new Uint8Array(4)),G===void 0&&(G=0);var Te=new DataView(t.buffer,t.byteOffset,t.byteLength);return Te.setFloat32(G,te,!0),t}binary.writeFloat32LE=writeFloat32LE;function writeFloat64BE(te,t,G){t===void 0&&(t=new Uint8Array(8)),G===void 0&&(G=0);var Te=new DataView(t.buffer,t.byteOffset,t.byteLength);return Te.setFloat64(G,te),t}binary.writeFloat64BE=writeFloat64BE;function writeFloat64LE(te,t,G){t===void 0&&(t=new Uint8Array(8)),G===void 0&&(G=0);var Te=new DataView(t.buffer,t.byteOffset,t.byteLength);return Te.setFloat64(G,te,!0),t}binary.writeFloat64LE=writeFloat64LE;var wipe$1={};Object.defineProperty(wipe$1,"__esModule",{value:!0});function wipe(te){for(var t=0;t<te.length;t++)te[t]=0;return te}wipe$1.wipe=wipe;Object.defineProperty(chacha,"__esModule",{value:!0});var binary_1=binary,wipe_1$3=wipe$1,ROUNDS=20;function core(te,t,G){for(var Te=1634760805,Zr=857760878,Ie=2036477234,ni=1797285236,fi=G[3]<<24|G[2]<<16|G[1]<<8|G[0],ci=G[7]<<24|G[6]<<16|G[5]<<8|G[4],ai=G[11]<<24|G[10]<<16|G[9]<<8|G[8],si=G[15]<<24|G[14]<<16|G[13]<<8|G[12],li=G[19]<<24|G[18]<<16|G[17]<<8|G[16],mi=G[23]<<24|G[22]<<16|G[21]<<8|G[20],di=G[27]<<24|G[26]<<16|G[25]<<8|G[24],$i=G[31]<<24|G[30]<<16|G[29]<<8|G[28],sn=t[3]<<24|t[2]<<16|t[1]<<8|t[0],ln=t[7]<<24|t[6]<<16|t[5]<<8|t[4],mn=t[11]<<24|t[10]<<16|t[9]<<8|t[8],cn=t[15]<<24|t[14]<<16|t[13]<<8|t[12],Rn=Te,vn=Zr,Cn=Ie,ho=ni,hn=fi,Zn=ci,Do=ai,Yo=si,ui=li,H=mi,X=di,Br=$i,Wr=sn,ri=ln,ii=mn,oi=cn,ei=0;ei<ROUNDS;ei+=2)Rn=Rn+hn|0,Wr^=Rn,Wr=Wr>>>16|Wr<<16,ui=ui+Wr|0,hn^=ui,hn=hn>>>20|hn<<12,vn=vn+Zn|0,ri^=vn,ri=ri>>>16|ri<<16,H=H+ri|0,Zn^=H,Zn=Zn>>>20|Zn<<12,Cn=Cn+Do|0,ii^=Cn,ii=ii>>>16|ii<<16,X=X+ii|0,Do^=X,Do=Do>>>20|Do<<12,ho=ho+Yo|0,oi^=ho,oi=oi>>>16|oi<<16,Br=Br+oi|0,Yo^=Br,Yo=Yo>>>20|Yo<<12,Cn=Cn+Do|0,ii^=Cn,ii=ii>>>24|ii<<8,X=X+ii|0,Do^=X,Do=Do>>>25|Do<<7,ho=ho+Yo|0,oi^=ho,oi=oi>>>24|oi<<8,Br=Br+oi|0,Yo^=Br,Yo=Yo>>>25|Yo<<7,vn=vn+Zn|0,ri^=vn,ri=ri>>>24|ri<<8,H=H+ri|0,Zn^=H,Zn=Zn>>>25|Zn<<7,Rn=Rn+hn|0,Wr^=Rn,Wr=Wr>>>24|Wr<<8,ui=ui+Wr|0,hn^=ui,hn=hn>>>25|hn<<7,Rn=Rn+Zn|0,oi^=Rn,oi=oi>>>16|oi<<16,X=X+oi|0,Zn^=X,Zn=Zn>>>20|Zn<<12,vn=vn+Do|0,Wr^=vn,Wr=Wr>>>16|Wr<<16,Br=Br+Wr|0,Do^=Br,Do=Do>>>20|Do<<12,Cn=Cn+Yo|0,ri^=Cn,ri=ri>>>16|ri<<16,ui=ui+ri|0,Yo^=ui,Yo=Yo>>>20|Yo<<12,ho=ho+hn|0,ii^=ho,ii=ii>>>16|ii<<16,H=H+ii|0,hn^=H,hn=hn>>>20|hn<<12,Cn=Cn+Yo|0,ri^=Cn,ri=ri>>>24|ri<<8,ui=ui+ri|0,Yo^=ui,Yo=Yo>>>25|Yo<<7,ho=ho+hn|0,ii^=ho,ii=ii>>>24|ii<<8,H=H+ii|0,hn^=H,hn=hn>>>25|hn<<7,vn=vn+Do|0,Wr^=vn,Wr=Wr>>>24|Wr<<8,Br=Br+Wr|0,Do^=Br,Do=Do>>>25|Do<<7,Rn=Rn+Zn|0,oi^=Rn,oi=oi>>>24|oi<<8,X=X+oi|0,Zn^=X,Zn=Zn>>>25|Zn<<7;binary_1.writeUint32LE(Rn+Te|0,te,0),binary_1.writeUint32LE(vn+Zr|0,te,4),binary_1.writeUint32LE(Cn+Ie|0,te,8),binary_1.writeUint32LE(ho+ni|0,te,12),binary_1.writeUint32LE(hn+fi|0,te,16),binary_1.writeUint32LE(Zn+ci|0,te,20),binary_1.writeUint32LE(Do+ai|0,te,24),binary_1.writeUint32LE(Yo+si|0,te,28),binary_1.writeUint32LE(ui+li|0,te,32),binary_1.writeUint32LE(H+mi|0,te,36),binary_1.writeUint32LE(X+di|0,te,40),binary_1.writeUint32LE(Br+$i|0,te,44),binary_1.writeUint32LE(Wr+sn|0,te,48),binary_1.writeUint32LE(ri+ln|0,te,52),binary_1.writeUint32LE(ii+mn|0,te,56),binary_1.writeUint32LE(oi+cn|0,te,60)}function streamXOR(te,t,G,Te,Zr){if(Zr===void 0&&(Zr=0),te.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(Te.length<G.length)throw new Error("ChaCha: destination is shorter than source");var Ie,ni;if(Zr===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");Ie=new Uint8Array(16),ni=Ie.length-t.length,Ie.set(t,ni)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");Ie=t,ni=Zr}for(var fi=new Uint8Array(64),ci=0;ci<G.length;ci+=64){core(fi,Ie,te);for(var ai=ci;ai<ci+64&&ai<G.length;ai++)Te[ai]=G[ai]^fi[ai-ci];incrementCounter(Ie,0,ni)}return wipe_1$3.wipe(fi),Zr===0&&wipe_1$3.wipe(Ie),Te}chacha.streamXOR=streamXOR;function stream(te,t,G,Te){return Te===void 0&&(Te=0),wipe_1$3.wipe(G),streamXOR(te,t,G,G,Te)}chacha.stream=stream;function incrementCounter(te,t,G){for(var Te=1;G--;)Te=Te+(te[t]&255)|0,te[t]=Te&255,Te>>>=8,t++;if(Te>0)throw new Error("ChaCha: counter overflow")}var poly1305={},constantTime={};Object.defineProperty(constantTime,"__esModule",{value:!0});function select(te,t,G){return~(te-1)&t|te-1&G}constantTime.select=select;function lessOrEqual(te,t){return(te|0)-(t|0)-1>>>31&1}constantTime.lessOrEqual=lessOrEqual;function compare(te,t){if(te.length!==t.length)return 0;for(var G=0,Te=0;Te<te.length;Te++)G|=te[Te]^t[Te];return 1&G-1>>>8}constantTime.compare=compare;function equal(te,t){return te.length===0||t.length===0?!1:compare(te,t)!==0}constantTime.equal=equal;(function(te){Object.defineProperty(te,"__esModule",{value:!0});var t=constantTime,G=wipe$1;te.DIGEST_LENGTH=16;var Te=function(){function ni(fi){this.digestLength=te.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var ci=fi[0]|fi[1]<<8;this._r[0]=ci&8191;var ai=fi[2]|fi[3]<<8;this._r[1]=(ci>>>13|ai<<3)&8191;var si=fi[4]|fi[5]<<8;this._r[2]=(ai>>>10|si<<6)&7939;var li=fi[6]|fi[7]<<8;this._r[3]=(si>>>7|li<<9)&8191;var mi=fi[8]|fi[9]<<8;this._r[4]=(li>>>4|mi<<12)&255,this._r[5]=mi>>>1&8190;var di=fi[10]|fi[11]<<8;this._r[6]=(mi>>>14|di<<2)&8191;var $i=fi[12]|fi[13]<<8;this._r[7]=(di>>>11|$i<<5)&8065;var sn=fi[14]|fi[15]<<8;this._r[8]=($i>>>8|sn<<8)&8191,this._r[9]=sn>>>5&127,this._pad[0]=fi[16]|fi[17]<<8,this._pad[1]=fi[18]|fi[19]<<8,this._pad[2]=fi[20]|fi[21]<<8,this._pad[3]=fi[22]|fi[23]<<8,this._pad[4]=fi[24]|fi[25]<<8,this._pad[5]=fi[26]|fi[27]<<8,this._pad[6]=fi[28]|fi[29]<<8,this._pad[7]=fi[30]|fi[31]<<8}return ni.prototype._blocks=function(fi,ci,ai){for(var si=this._fin?0:2048,li=this._h[0],mi=this._h[1],di=this._h[2],$i=this._h[3],sn=this._h[4],ln=this._h[5],mn=this._h[6],cn=this._h[7],Rn=this._h[8],vn=this._h[9],Cn=this._r[0],ho=this._r[1],hn=this._r[2],Zn=this._r[3],Do=this._r[4],Yo=this._r[5],ui=this._r[6],H=this._r[7],X=this._r[8],Br=this._r[9];ai>=16;){var Wr=fi[ci+0]|fi[ci+1]<<8;li+=Wr&8191;var ri=fi[ci+2]|fi[ci+3]<<8;mi+=(Wr>>>13|ri<<3)&8191;var ii=fi[ci+4]|fi[ci+5]<<8;di+=(ri>>>10|ii<<6)&8191;var oi=fi[ci+6]|fi[ci+7]<<8;$i+=(ii>>>7|oi<<9)&8191;var ei=fi[ci+8]|fi[ci+9]<<8;sn+=(oi>>>4|ei<<12)&8191,ln+=ei>>>1&8191;var Y=fi[ci+10]|fi[ci+11]<<8;mn+=(ei>>>14|Y<<2)&8191;var Xr=fi[ci+12]|fi[ci+13]<<8;cn+=(Y>>>11|Xr<<5)&8191;var on=fi[ci+14]|fi[ci+15]<<8;Rn+=(Xr>>>8|on<<8)&8191,vn+=on>>>5|si;var Mn=0,Bn=Mn;Bn+=li*Cn,Bn+=mi*(5*Br),Bn+=di*(5*X),Bn+=$i*(5*H),Bn+=sn*(5*ui),Mn=Bn>>>13,Bn&=8191,Bn+=ln*(5*Yo),Bn+=mn*(5*Do),Bn+=cn*(5*Zn),Bn+=Rn*(5*hn),Bn+=vn*(5*ho),Mn+=Bn>>>13,Bn&=8191;var fn=Mn;fn+=li*ho,fn+=mi*Cn,fn+=di*(5*Br),fn+=$i*(5*X),fn+=sn*(5*H),Mn=fn>>>13,fn&=8191,fn+=ln*(5*ui),fn+=mn*(5*Yo),fn+=cn*(5*Do),fn+=Rn*(5*Zn),fn+=vn*(5*hn),Mn+=fn>>>13,fn&=8191;var uo=Mn;uo+=li*hn,uo+=mi*ho,uo+=di*Cn,uo+=$i*(5*Br),uo+=sn*(5*X),Mn=uo>>>13,uo&=8191,uo+=ln*(5*H),uo+=mn*(5*ui),uo+=cn*(5*Yo),uo+=Rn*(5*Do),uo+=vn*(5*Zn),Mn+=uo>>>13,uo&=8191;var un=Mn;un+=li*Zn,un+=mi*hn,un+=di*ho,un+=$i*Cn,un+=sn*(5*Br),Mn=un>>>13,un&=8191,un+=ln*(5*X),un+=mn*(5*H),un+=cn*(5*ui),un+=Rn*(5*Yo),un+=vn*(5*Do),Mn+=un>>>13,un&=8191;var gn=Mn;gn+=li*Do,gn+=mi*Zn,gn+=di*hn,gn+=$i*ho,gn+=sn*Cn,Mn=gn>>>13,gn&=8191,gn+=ln*(5*Br),gn+=mn*(5*X),gn+=cn*(5*H),gn+=Rn*(5*ui),gn+=vn*(5*Yo),Mn+=gn>>>13,gn&=8191;var An=Mn;An+=li*Yo,An+=mi*Do,An+=di*Zn,An+=$i*hn,An+=sn*ho,Mn=An>>>13,An&=8191,An+=ln*Cn,An+=mn*(5*Br),An+=cn*(5*X),An+=Rn*(5*H),An+=vn*(5*ui),Mn+=An>>>13,An&=8191;var an=Mn;an+=li*ui,an+=mi*Yo,an+=di*Do,an+=$i*Zn,an+=sn*hn,Mn=an>>>13,an&=8191,an+=ln*ho,an+=mn*Cn,an+=cn*(5*Br),an+=Rn*(5*X),an+=vn*(5*H),Mn+=an>>>13,an&=8191;var qo=Mn;qo+=li*H,qo+=mi*ui,qo+=di*Yo,qo+=$i*Do,qo+=sn*Zn,Mn=qo>>>13,qo&=8191,qo+=ln*hn,qo+=mn*ho,qo+=cn*Cn,qo+=Rn*(5*Br),qo+=vn*(5*X),Mn+=qo>>>13,qo&=8191;var ko=Mn;ko+=li*X,ko+=mi*H,ko+=di*ui,ko+=$i*Yo,ko+=sn*Do,Mn=ko>>>13,ko&=8191,ko+=ln*Zn,ko+=mn*hn,ko+=cn*ho,ko+=Rn*Cn,ko+=vn*(5*Br),Mn+=ko>>>13,ko&=8191;var Uo=Mn;Uo+=li*Br,Uo+=mi*X,Uo+=di*H,Uo+=$i*ui,Uo+=sn*Yo,Mn=Uo>>>13,Uo&=8191,Uo+=ln*Do,Uo+=mn*Zn,Uo+=cn*hn,Uo+=Rn*ho,Uo+=vn*Cn,Mn+=Uo>>>13,Uo&=8191,Mn=(Mn<<2)+Mn|0,Mn=Mn+Bn|0,Bn=Mn&8191,Mn=Mn>>>13,fn+=Mn,li=Bn,mi=fn,di=uo,$i=un,sn=gn,ln=An,mn=an,cn=qo,Rn=ko,vn=Uo,ci+=16,ai-=16}this._h[0]=li,this._h[1]=mi,this._h[2]=di,this._h[3]=$i,this._h[4]=sn,this._h[5]=ln,this._h[6]=mn,this._h[7]=cn,this._h[8]=Rn,this._h[9]=vn},ni.prototype.finish=function(fi,ci){ci===void 0&&(ci=0);var ai=new Uint16Array(10),si,li,mi,di;if(this._leftover){for(di=this._leftover,this._buffer[di++]=1;di<16;di++)this._buffer[di]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(si=this._h[1]>>>13,this._h[1]&=8191,di=2;di<10;di++)this._h[di]+=si,si=this._h[di]>>>13,this._h[di]&=8191;for(this._h[0]+=si*5,si=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=si,si=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=si,ai[0]=this._h[0]+5,si=ai[0]>>>13,ai[0]&=8191,di=1;di<10;di++)ai[di]=this._h[di]+si,si=ai[di]>>>13,ai[di]&=8191;for(ai[9]-=8192,li=(si^1)-1,di=0;di<10;di++)ai[di]&=li;for(li=~li,di=0;di<10;di++)this._h[di]=this._h[di]&li|ai[di];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,mi=this._h[0]+this._pad[0],this._h[0]=mi&65535,di=1;di<8;di++)mi=(this._h[di]+this._pad[di]|0)+(mi>>>16)|0,this._h[di]=mi&65535;return fi[ci+0]=this._h[0]>>>0,fi[ci+1]=this._h[0]>>>8,fi[ci+2]=this._h[1]>>>0,fi[ci+3]=this._h[1]>>>8,fi[ci+4]=this._h[2]>>>0,fi[ci+5]=this._h[2]>>>8,fi[ci+6]=this._h[3]>>>0,fi[ci+7]=this._h[3]>>>8,fi[ci+8]=this._h[4]>>>0,fi[ci+9]=this._h[4]>>>8,fi[ci+10]=this._h[5]>>>0,fi[ci+11]=this._h[5]>>>8,fi[ci+12]=this._h[6]>>>0,fi[ci+13]=this._h[6]>>>8,fi[ci+14]=this._h[7]>>>0,fi[ci+15]=this._h[7]>>>8,this._finished=!0,this},ni.prototype.update=function(fi){var ci=0,ai=fi.length,si;if(this._leftover){si=16-this._leftover,si>ai&&(si=ai);for(var li=0;li<si;li++)this._buffer[this._leftover+li]=fi[ci+li];if(ai-=si,ci+=si,this._leftover+=si,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(ai>=16&&(si=ai-ai%16,this._blocks(fi,ci,si),ci+=si,ai-=si),ai){for(var li=0;li<ai;li++)this._buffer[this._leftover+li]=fi[ci+li];this._leftover+=ai}return this},ni.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var fi=new Uint8Array(16);return this.finish(fi),fi},ni.prototype.clean=function(){return G.wipe(this._buffer),G.wipe(this._r),G.wipe(this._h),G.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},ni}();te.Poly1305=Te;function Zr(ni,fi){var ci=new Te(ni);ci.update(fi);var ai=ci.digest();return ci.clean(),ai}te.oneTimeAuth=Zr;function Ie(ni,fi){return ni.length!==te.DIGEST_LENGTH||fi.length!==te.DIGEST_LENGTH?!1:t.equal(ni,fi)}te.equal=Ie})(poly1305);(function(te){Object.defineProperty(te,"__esModule",{value:!0});var t=chacha,G=poly1305,Te=wipe$1,Zr=binary,Ie=constantTime;te.KEY_LENGTH=32,te.NONCE_LENGTH=12,te.TAG_LENGTH=16;var ni=new Uint8Array(16),fi=function(){function ci(ai){if(this.nonceLength=te.NONCE_LENGTH,this.tagLength=te.TAG_LENGTH,ai.length!==te.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(ai)}return ci.prototype.seal=function(ai,si,li,mi){if(ai.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var di=new Uint8Array(16);di.set(ai,di.length-ai.length);var $i=new Uint8Array(32);t.stream(this._key,di,$i,4);var sn=si.length+this.tagLength,ln;if(mi){if(mi.length!==sn)throw new Error("ChaCha20Poly1305: incorrect destination length");ln=mi}else ln=new Uint8Array(sn);return t.streamXOR(this._key,di,si,ln,4),this._authenticate(ln.subarray(ln.length-this.tagLength,ln.length),$i,ln.subarray(0,ln.length-this.tagLength),li),Te.wipe(di),ln},ci.prototype.open=function(ai,si,li,mi){if(ai.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(si.length<this.tagLength)return null;var di=new Uint8Array(16);di.set(ai,di.length-ai.length);var $i=new Uint8Array(32);t.stream(this._key,di,$i,4);var sn=new Uint8Array(this.tagLength);if(this._authenticate(sn,$i,si.subarray(0,si.length-this.tagLength),li),!Ie.equal(sn,si.subarray(si.length-this.tagLength,si.length)))return null;var ln=si.length-this.tagLength,mn;if(mi){if(mi.length!==ln)throw new Error("ChaCha20Poly1305: incorrect destination length");mn=mi}else mn=new Uint8Array(ln);return t.streamXOR(this._key,di,si.subarray(0,si.length-this.tagLength),mn,4),Te.wipe(di),mn},ci.prototype.clean=function(){return Te.wipe(this._key),this},ci.prototype._authenticate=function(ai,si,li,mi){var di=new G.Poly1305(si);mi&&(di.update(mi),mi.length%16>0&&di.update(ni.subarray(mi.length%16))),di.update(li),li.length%16>0&&di.update(ni.subarray(li.length%16));var $i=new Uint8Array(8);mi&&Zr.writeUint64LE(mi.length,$i),di.update($i),Zr.writeUint64LE(li.length,$i),di.update($i);for(var sn=di.digest(),ln=0;ln<sn.length;ln++)ai[ln]=sn[ln];di.clean(),Te.wipe(sn),Te.wipe($i)},ci}();te.ChaCha20Poly1305=fi})(chacha20poly1305);var hkdf={},hmac$2={},hash$1={};Object.defineProperty(hash$1,"__esModule",{value:!0});function isSerializableHash(te){return typeof te.saveState<"u"&&typeof te.restoreState<"u"&&typeof te.cleanSavedState<"u"}hash$1.isSerializableHash=isSerializableHash;Object.defineProperty(hmac$2,"__esModule",{value:!0});var hash_1=hash$1,constant_time_1=constantTime,wipe_1$2=wipe$1,HMAC=function(){function te(t,G){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var Te=new Uint8Array(this.blockSize);G.length>this.blockSize?this._inner.update(G).finish(Te).clean():Te.set(G);for(var Zr=0;Zr<Te.length;Zr++)Te[Zr]^=54;this._inner.update(Te);for(var Zr=0;Zr<Te.length;Zr++)Te[Zr]^=106;this._outer.update(Te),hash_1.isSerializableHash(this._inner)&&hash_1.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),wipe_1$2.wipe(Te)}return te.prototype.reset=function(){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},te.prototype.clean=function(){hash_1.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),hash_1.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},te.prototype.update=function(t){return this._inner.update(t),this},te.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},te.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},te.prototype.saveState=function(){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},te.prototype.restoreState=function(t){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},te.prototype.cleanSavedState=function(t){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},te}();hmac$2.HMAC=HMAC;function hmac$1(te,t,G){var Te=new HMAC(te,t);Te.update(G);var Zr=Te.digest();return Te.clean(),Zr}hmac$2.hmac=hmac$1;hmac$2.equal=constant_time_1.equal;Object.defineProperty(hkdf,"__esModule",{value:!0});var hmac_1=hmac$2,wipe_1$1=wipe$1,HKDF=function(){function te(t,G,Te,Zr){Te===void 0&&(Te=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=Zr;var Ie=hmac_1.hmac(this._hash,Te,G);this._hmac=new hmac_1.HMAC(t,Ie),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return te.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},te.prototype.expand=function(t){for(var G=new Uint8Array(t),Te=0;Te<G.length;Te++)this._bufpos===this._buffer.length&&this._fillBuffer(),G[Te]=this._buffer[this._bufpos++];return G},te.prototype.clean=function(){this._hmac.clean(),wipe_1$1.wipe(this._buffer),wipe_1$1.wipe(this._counter),this._bufpos=0},te}(),HKDF_1=hkdf.HKDF=HKDF,random={},system={},browser$c={};Object.defineProperty(browser$c,"__esModule",{value:!0});browser$c.BrowserRandomSource=void 0;const QUOTA=65536;class BrowserRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const G=new Uint8Array(t);for(let Te=0;Te<G.length;Te+=QUOTA)this._crypto.getRandomValues(G.subarray(Te,Te+Math.min(G.length-Te,QUOTA)));return G}}browser$c.BrowserRandomSource=BrowserRandomSource;function commonjsRequire(te){throw new Error('Could not dynamically require "'+te+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var node$1={},cryptoBrowserify={},browser$b={exports:{}},hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$b.exports;hasRequiredBrowser$a=1;var te=65536,t=4294967295;function G(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Te=safeBufferExports.Buffer,Zr=commonjsGlobal.crypto||commonjsGlobal.msCrypto;Zr&&Zr.getRandomValues?browser$b.exports=Ie:browser$b.exports=G;function Ie(ni,fi){if(ni>t)throw new RangeError("requested too many random bytes");var ci=Te.allocUnsafe(ni);if(ni>0)if(ni>te)for(var ai=0;ai<ni;ai+=te)Zr.getRandomValues(ci.slice(ai,ai+te));else Zr.getRandomValues(ci);return typeof fi=="function"?process$1.nextTick(function(){fi(null,ci)}):ci}return browser$b.exports}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=G;var te=eventsExports.EventEmitter,t=inherits_browserExports;t(G,te),G.Readable=require_stream_readable$1(),G.Writable=require_stream_writable$1(),G.Duplex=require_stream_duplex$1(),G.Transform=_stream_transform$1,G.PassThrough=_stream_passthrough$1,G.finished=endOfStream,G.pipeline=pipeline_1,G.Stream=G;function G(){te.call(this)}return G.prototype.pipe=function(Te,Zr){var Ie=this;function ni(di){Te.writable&&Te.write(di)===!1&&Ie.pause&&Ie.pause()}Ie.on("data",ni);function fi(){Ie.readable&&Ie.resume&&Ie.resume()}Te.on("drain",fi),!Te._isStdio&&(!Zr||Zr.end!==!1)&&(Ie.on("end",ai),Ie.on("close",si));var ci=!1;function ai(){ci||(ci=!0,Te.end())}function si(){ci||(ci=!0,typeof Te.destroy=="function"&&Te.destroy())}function li(di){if(mi(),te.listenerCount(this,"error")===0)throw di}Ie.on("error",li),Te.on("error",li);function mi(){Ie.removeListener("data",ni),Te.removeListener("drain",fi),Ie.removeListener("end",ai),Ie.removeListener("close",si),Ie.removeListener("error",li),Te.removeListener("error",li),Ie.removeListener("end",mi),Ie.removeListener("close",mi),Te.removeListener("close",mi)}return Ie.on("end",mi),Ie.on("close",mi),Te.on("close",mi),Te.emit("pipe",Ie),Te},streamBrowserify}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var te=safeBufferExports.Buffer,t=requireStreamBrowserify().Transform,G=inherits_browserExports;function Te(Ie,ni){if(!te.isBuffer(Ie)&&typeof Ie!="string")throw new TypeError(ni+" must be a string or a buffer")}function Zr(Ie){t.call(this),this._block=te.allocUnsafe(Ie),this._blockSize=Ie,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return G(Zr,t),Zr.prototype._transform=function(Ie,ni,fi){var ci=null;try{this.update(Ie,ni)}catch(ai){ci=ai}fi(ci)},Zr.prototype._flush=function(Ie){var ni=null;try{this.push(this.digest())}catch(fi){ni=fi}Ie(ni)},Zr.prototype.update=function(Ie,ni){if(Te(Ie,"Data"),this._finalized)throw new Error("Digest already called");te.isBuffer(Ie)||(Ie=te.from(Ie,ni));for(var fi=this._block,ci=0;this._blockOffset+Ie.length-ci>=this._blockSize;){for(var ai=this._blockOffset;ai<this._blockSize;)fi[ai++]=Ie[ci++];this._update(),this._blockOffset=0}for(;ci<Ie.length;)fi[this._blockOffset++]=Ie[ci++];for(var si=0,li=Ie.length*8;li>0;++si)this._length[si]+=li,li=this._length[si]/4294967296|0,li>0&&(this._length[si]-=4294967296*li);return this},Zr.prototype._update=function(){throw new Error("_update is not implemented")},Zr.prototype.digest=function(Ie){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var ni=this._digest();Ie!==void 0&&(ni=ni.toString(Ie)),this._block.fill(0),this._blockOffset=0;for(var fi=0;fi<4;++fi)this._length[fi]=0;return ni},Zr.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=Zr,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var te=inherits_browserExports,t=requireHashBase(),G=safeBufferExports.Buffer,Te=new Array(16);function Zr(){t.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}te(Zr,t),Zr.prototype._update=function(){for(var si=Te,li=0;li<16;++li)si[li]=this._block.readInt32LE(li*4);var mi=this._a,di=this._b,$i=this._c,sn=this._d;mi=ni(mi,di,$i,sn,si[0],3614090360,7),sn=ni(sn,mi,di,$i,si[1],3905402710,12),$i=ni($i,sn,mi,di,si[2],606105819,17),di=ni(di,$i,sn,mi,si[3],3250441966,22),mi=ni(mi,di,$i,sn,si[4],4118548399,7),sn=ni(sn,mi,di,$i,si[5],1200080426,12),$i=ni($i,sn,mi,di,si[6],2821735955,17),di=ni(di,$i,sn,mi,si[7],4249261313,22),mi=ni(mi,di,$i,sn,si[8],1770035416,7),sn=ni(sn,mi,di,$i,si[9],2336552879,12),$i=ni($i,sn,mi,di,si[10],4294925233,17),di=ni(di,$i,sn,mi,si[11],2304563134,22),mi=ni(mi,di,$i,sn,si[12],1804603682,7),sn=ni(sn,mi,di,$i,si[13],4254626195,12),$i=ni($i,sn,mi,di,si[14],2792965006,17),di=ni(di,$i,sn,mi,si[15],1236535329,22),mi=fi(mi,di,$i,sn,si[1],4129170786,5),sn=fi(sn,mi,di,$i,si[6],3225465664,9),$i=fi($i,sn,mi,di,si[11],643717713,14),di=fi(di,$i,sn,mi,si[0],3921069994,20),mi=fi(mi,di,$i,sn,si[5],3593408605,5),sn=fi(sn,mi,di,$i,si[10],38016083,9),$i=fi($i,sn,mi,di,si[15],3634488961,14),di=fi(di,$i,sn,mi,si[4],3889429448,20),mi=fi(mi,di,$i,sn,si[9],568446438,5),sn=fi(sn,mi,di,$i,si[14],3275163606,9),$i=fi($i,sn,mi,di,si[3],4107603335,14),di=fi(di,$i,sn,mi,si[8],1163531501,20),mi=fi(mi,di,$i,sn,si[13],2850285829,5),sn=fi(sn,mi,di,$i,si[2],4243563512,9),$i=fi($i,sn,mi,di,si[7],1735328473,14),di=fi(di,$i,sn,mi,si[12],2368359562,20),mi=ci(mi,di,$i,sn,si[5],4294588738,4),sn=ci(sn,mi,di,$i,si[8],2272392833,11),$i=ci($i,sn,mi,di,si[11],1839030562,16),di=ci(di,$i,sn,mi,si[14],4259657740,23),mi=ci(mi,di,$i,sn,si[1],2763975236,4),sn=ci(sn,mi,di,$i,si[4],1272893353,11),$i=ci($i,sn,mi,di,si[7],4139469664,16),di=ci(di,$i,sn,mi,si[10],3200236656,23),mi=ci(mi,di,$i,sn,si[13],681279174,4),sn=ci(sn,mi,di,$i,si[0],3936430074,11),$i=ci($i,sn,mi,di,si[3],3572445317,16),di=ci(di,$i,sn,mi,si[6],76029189,23),mi=ci(mi,di,$i,sn,si[9],3654602809,4),sn=ci(sn,mi,di,$i,si[12],3873151461,11),$i=ci($i,sn,mi,di,si[15],530742520,16),di=ci(di,$i,sn,mi,si[2],3299628645,23),mi=ai(mi,di,$i,sn,si[0],4096336452,6),sn=ai(sn,mi,di,$i,si[7],1126891415,10),$i=ai($i,sn,mi,di,si[14],2878612391,15),di=ai(di,$i,sn,mi,si[5],4237533241,21),mi=ai(mi,di,$i,sn,si[12],1700485571,6),sn=ai(sn,mi,di,$i,si[3],2399980690,10),$i=ai($i,sn,mi,di,si[10],4293915773,15),di=ai(di,$i,sn,mi,si[1],2240044497,21),mi=ai(mi,di,$i,sn,si[8],1873313359,6),sn=ai(sn,mi,di,$i,si[15],4264355552,10),$i=ai($i,sn,mi,di,si[6],2734768916,15),di=ai(di,$i,sn,mi,si[13],1309151649,21),mi=ai(mi,di,$i,sn,si[4],4149444226,6),sn=ai(sn,mi,di,$i,si[11],3174756917,10),$i=ai($i,sn,mi,di,si[2],718787259,15),di=ai(di,$i,sn,mi,si[9],3951481745,21),this._a=this._a+mi|0,this._b=this._b+di|0,this._c=this._c+$i|0,this._d=this._d+sn|0},Zr.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var si=G.allocUnsafe(16);return si.writeInt32LE(this._a,0),si.writeInt32LE(this._b,4),si.writeInt32LE(this._c,8),si.writeInt32LE(this._d,12),si};function Ie(si,li){return si<<li|si>>>32-li}function ni(si,li,mi,di,$i,sn,ln){return Ie(si+(li&mi|~li&di)+$i+sn|0,ln)+li|0}function fi(si,li,mi,di,$i,sn,ln){return Ie(si+(li&di|mi&~di)+$i+sn|0,ln)+li|0}function ci(si,li,mi,di,$i,sn,ln){return Ie(si+(li^mi^di)+$i+sn|0,ln)+li|0}function ai(si,li,mi,di,$i,sn,ln){return Ie(si+(mi^(li|~di))+$i+sn|0,ln)+li|0}return md5_js=Zr,md5_js}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var te=require$$0$3.Buffer,t=inherits_browserExports,G=requireHashBase(),Te=new Array(16),Zr=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ie=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ni=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],fi=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ci=[0,1518500249,1859775393,2400959708,2840853838],ai=[1352829926,1548603684,1836072691,2053994217,0];function si(){G.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}t(si,G),si.prototype._update=function(){for(var mn=Te,cn=0;cn<16;++cn)mn[cn]=this._block.readInt32LE(cn*4);for(var Rn=this._a|0,vn=this._b|0,Cn=this._c|0,ho=this._d|0,hn=this._e|0,Zn=this._a|0,Do=this._b|0,Yo=this._c|0,ui=this._d|0,H=this._e|0,X=0;X<80;X+=1){var Br,Wr;X<16?(Br=mi(Rn,vn,Cn,ho,hn,mn[Zr[X]],ci[0],ni[X]),Wr=ln(Zn,Do,Yo,ui,H,mn[Ie[X]],ai[0],fi[X])):X<32?(Br=di(Rn,vn,Cn,ho,hn,mn[Zr[X]],ci[1],ni[X]),Wr=sn(Zn,Do,Yo,ui,H,mn[Ie[X]],ai[1],fi[X])):X<48?(Br=$i(Rn,vn,Cn,ho,hn,mn[Zr[X]],ci[2],ni[X]),Wr=$i(Zn,Do,Yo,ui,H,mn[Ie[X]],ai[2],fi[X])):X<64?(Br=sn(Rn,vn,Cn,ho,hn,mn[Zr[X]],ci[3],ni[X]),Wr=di(Zn,Do,Yo,ui,H,mn[Ie[X]],ai[3],fi[X])):(Br=ln(Rn,vn,Cn,ho,hn,mn[Zr[X]],ci[4],ni[X]),Wr=mi(Zn,Do,Yo,ui,H,mn[Ie[X]],ai[4],fi[X])),Rn=hn,hn=ho,ho=li(Cn,10),Cn=vn,vn=Br,Zn=H,H=ui,ui=li(Yo,10),Yo=Do,Do=Wr}var ri=this._b+Cn+ui|0;this._b=this._c+ho+H|0,this._c=this._d+hn+Zn|0,this._d=this._e+Rn+Do|0,this._e=this._a+vn+Yo|0,this._a=ri},si.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var mn=te.alloc?te.alloc(20):new te(20);return mn.writeInt32LE(this._a,0),mn.writeInt32LE(this._b,4),mn.writeInt32LE(this._c,8),mn.writeInt32LE(this._d,12),mn.writeInt32LE(this._e,16),mn};function li(mn,cn){return mn<<cn|mn>>>32-cn}function mi(mn,cn,Rn,vn,Cn,ho,hn,Zn){return li(mn+(cn^Rn^vn)+ho+hn|0,Zn)+Cn|0}function di(mn,cn,Rn,vn,Cn,ho,hn,Zn){return li(mn+(cn&Rn|~cn&vn)+ho+hn|0,Zn)+Cn|0}function $i(mn,cn,Rn,vn,Cn,ho,hn,Zn){return li(mn+((cn|~Rn)^vn)+ho+hn|0,Zn)+Cn|0}function sn(mn,cn,Rn,vn,Cn,ho,hn,Zn){return li(mn+(cn&vn|Rn&~vn)+ho+hn|0,Zn)+Cn|0}function ln(mn,cn,Rn,vn,Cn,ho,hn,Zn){return li(mn+(cn^(Rn|~vn))+ho+hn|0,Zn)+Cn|0}return ripemd160=si,ripemd160}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var te=safeBufferExports.Buffer,t=requireStreamBrowserify().Transform,G=requireString_decoder().StringDecoder,Te=inherits_browserExports;function Zr(Ie){t.call(this),this.hashMode=typeof Ie=="string",this.hashMode?this[Ie]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return Te(Zr,t),Zr.prototype.update=function(Ie,ni,fi){typeof Ie=="string"&&(Ie=te.from(Ie,ni));var ci=this._update(Ie);return this.hashMode?this:(fi&&(ci=this._toString(ci,fi)),ci)},Zr.prototype.setAutoPadding=function(){},Zr.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},Zr.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},Zr.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},Zr.prototype._transform=function(Ie,ni,fi){var ci;try{this.hashMode?this._update(Ie):this.push(this._update(Ie))}catch(ai){ci=ai}finally{fi(ci)}},Zr.prototype._flush=function(Ie){var ni;try{this.push(this.__final())}catch(fi){ni=fi}Ie(ni)},Zr.prototype._finalOrDigest=function(Ie){var ni=this.__final()||te.alloc(0);return Ie&&(ni=this._toString(ni,Ie,!0)),ni},Zr.prototype._toString=function(Ie,ni,fi){if(this._decoder||(this._decoder=new G(ni),this._encoding=ni),this._encoding!==ni)throw new Error("can't switch encodings");var ci=this._decoder.write(Ie);return fi&&(ci+=this._decoder.end()),ci},cipherBase=Zr,cipherBase}var browser$a,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$a;hasRequiredBrowser$9=1;var te=inherits_browserExports,t=requireMd5_js(),G=requireRipemd160(),Te=sha_jsExports,Zr=requireCipherBase();function Ie(ni){Zr.call(this,"digest"),this._hash=ni}return te(Ie,Zr),Ie.prototype._update=function(ni){this._hash.update(ni)},Ie.prototype._final=function(){return this._hash.digest()},browser$a=function(fi){return fi=fi.toLowerCase(),fi==="md5"?new t:fi==="rmd160"||fi==="ripemd160"?new G:new Ie(Te(fi))},browser$a}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var te=inherits_browserExports,t=safeBufferExports.Buffer,G=requireCipherBase(),Te=t.alloc(128),Zr=64;function Ie(ni,fi){G.call(this,"digest"),typeof fi=="string"&&(fi=t.from(fi)),this._alg=ni,this._key=fi,fi.length>Zr?fi=ni(fi):fi.length<Zr&&(fi=t.concat([fi,Te],Zr));for(var ci=this._ipad=t.allocUnsafe(Zr),ai=this._opad=t.allocUnsafe(Zr),si=0;si<Zr;si++)ci[si]=fi[si]^54,ai[si]=fi[si]^92;this._hash=[ci]}return te(Ie,G),Ie.prototype._update=function(ni){this._hash.push(ni)},Ie.prototype._final=function(){var ni=this._alg(t.concat(this._hash));return this._alg(t.concat([this._opad,ni]))},legacy=Ie,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var te=requireMd5_js();return md5=function(t){return new te().update(t).digest()},md5}var browser$9,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$9;hasRequiredBrowser$8=1;var te=inherits_browserExports,t=requireLegacy(),G=requireCipherBase(),Te=safeBufferExports.Buffer,Zr=requireMd5(),Ie=requireRipemd160(),ni=sha_jsExports,fi=Te.alloc(128);function ci(ai,si){G.call(this,"digest"),typeof si=="string"&&(si=Te.from(si));var li=ai==="sha512"||ai==="sha384"?128:64;if(this._alg=ai,this._key=si,si.length>li){var mi=ai==="rmd160"?new Ie:ni(ai);si=mi.update(si).digest()}else si.length<li&&(si=Te.concat([si,fi],li));for(var di=this._ipad=Te.allocUnsafe(li),$i=this._opad=Te.allocUnsafe(li),sn=0;sn<li;sn++)di[sn]=si[sn]^54,$i[sn]=si[sn]^92;this._hash=ai==="rmd160"?new Ie:ni(ai),this._hash.update(di)}return te(ci,G),ci.prototype._update=function(ai){this._hash.update(ai)},ci.prototype._final=function(){var ai=this._hash.digest(),si=this._alg==="rmd160"?new Ie:ni(this._alg);return si.update(this._opad).update(ai).digest()},browser$9=function(si,li){return si=si.toLowerCase(),si==="rmd160"||si==="ripemd160"?new ci("rmd160",li):si==="md5"?new t(Zr,li):new ci(si,li)},browser$9}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512$1={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224,sha384,sha512:sha512$1,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$8={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var te=Math.pow(2,30)-1;return precondition=function(t,G){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof G!="number")throw new TypeError("Key length not a number");if(G<0||G>te||G!==G)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var te;if(commonjsGlobal.process&&commonjsGlobal.process.browser)te="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var t=parseInt(process$1.version.split(".")[0].slice(1),10);te=t>=6?"utf-8":"binary"}else te="utf-8";return defaultEncoding_1=te,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var te=safeBufferExports.Buffer;return toBuffer=function(t,G,Te){if(te.isBuffer(t))return t;if(typeof t=="string")return te.from(t,G);if(ArrayBuffer.isView(t))return te.from(t.buffer);throw new TypeError(Te+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var te=requireMd5(),t=requireRipemd160(),G=sha_jsExports,Te=safeBufferExports.Buffer,Zr=requirePrecondition(),Ie=requireDefaultEncoding(),ni=requireToBuffer(),fi=Te.alloc(128),ci={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function ai(mi,di,$i){var sn=si(mi),ln=mi==="sha512"||mi==="sha384"?128:64;di.length>ln?di=sn(di):di.length<ln&&(di=Te.concat([di,fi],ln));for(var mn=Te.allocUnsafe(ln+ci[mi]),cn=Te.allocUnsafe(ln+ci[mi]),Rn=0;Rn<ln;Rn++)mn[Rn]=di[Rn]^54,cn[Rn]=di[Rn]^92;var vn=Te.allocUnsafe(ln+$i+4);mn.copy(vn,0,0,ln),this.ipad1=vn,this.ipad2=mn,this.opad=cn,this.alg=mi,this.blocksize=ln,this.hash=sn,this.size=ci[mi]}ai.prototype.run=function(mi,di){mi.copy(di,this.blocksize);var $i=this.hash(di);return $i.copy(this.opad,this.blocksize),this.hash(this.opad)};function si(mi){function di(sn){return G(mi).update(sn).digest()}function $i(sn){return new t().update(sn).digest()}return mi==="rmd160"||mi==="ripemd160"?$i:mi==="md5"?te:di}function li(mi,di,$i,sn,ln){Zr($i,sn),mi=ni(mi,Ie,"Password"),di=ni(di,Ie,"Salt"),ln=ln||"sha1";var mn=new ai(ln,mi,di.length),cn=Te.allocUnsafe(sn),Rn=Te.allocUnsafe(di.length+4);di.copy(Rn,0,0,di.length);for(var vn=0,Cn=ci[ln],ho=Math.ceil(sn/Cn),hn=1;hn<=ho;hn++){Rn.writeUInt32BE(hn,di.length);for(var Zn=mn.run(Rn,mn.ipad1),Do=Zn,Yo=1;Yo<$i;Yo++){Do=mn.run(Do,mn.ipad2);for(var ui=0;ui<Cn;ui++)Zn[ui]^=Do[ui]}Zn.copy(cn,vn),vn+=Cn}return cn}return syncBrowser=li,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var te=safeBufferExports.Buffer,t=requirePrecondition(),G=requireDefaultEncoding(),Te=requireSyncBrowser(),Zr=requireToBuffer(),Ie,ni=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,fi={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},ci=[];function ai($i){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!ni||!ni.importKey||!ni.deriveBits)return Promise.resolve(!1);if(ci[$i]!==void 0)return ci[$i];Ie=Ie||te.alloc(8);var sn=mi(Ie,Ie,10,128,$i).then(function(){return!0}).catch(function(){return!1});return ci[$i]=sn,sn}var si;function li(){return si||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?si=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?si=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?si=commonjsGlobal.setImmediate:si=commonjsGlobal.setTimeout,si)}function mi($i,sn,ln,mn,cn){return ni.importKey("raw",$i,{name:"PBKDF2"},!1,["deriveBits"]).then(function(Rn){return ni.deriveBits({name:"PBKDF2",salt:sn,iterations:ln,hash:{name:cn}},Rn,mn<<3)}).then(function(Rn){return te.from(Rn)})}function di($i,sn){$i.then(function(ln){li()(function(){sn(null,ln)})},function(ln){li()(function(){sn(ln)})})}return async=function($i,sn,ln,mn,cn,Rn){typeof cn=="function"&&(Rn=cn,cn=void 0),cn=cn||"sha1";var vn=fi[cn.toLowerCase()];if(!vn||typeof commonjsGlobal.Promise!="function"){li()(function(){var Cn;try{Cn=Te($i,sn,ln,mn,cn)}catch(ho){return Rn(ho)}Rn(null,Cn)});return}if(t(ln,mn),$i=Zr($i,G,"Password"),sn=Zr(sn,G,"Salt"),typeof Rn!="function")throw new Error("No callback provided to pbkdf2");di(ai(vn).then(function(Cn){return Cn?mi($i,sn,ln,mn,vn):Te($i,sn,ln,mn,cn)}),Rn)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$8.pbkdf2=requireAsync(),browser$8.pbkdf2Sync=requireSyncBrowser()),browser$8}var browser$7={},des$1={},utils$3={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$3;hasRequiredUtils$3=1,utils$3.readUInt32BE=function(Zr,Ie){var ni=Zr[0+Ie]<<24|Zr[1+Ie]<<16|Zr[2+Ie]<<8|Zr[3+Ie];return ni>>>0},utils$3.writeUInt32BE=function(Zr,Ie,ni){Zr[0+ni]=Ie>>>24,Zr[1+ni]=Ie>>>16&255,Zr[2+ni]=Ie>>>8&255,Zr[3+ni]=Ie&255},utils$3.ip=function(Zr,Ie,ni,fi){for(var ci=0,ai=0,si=6;si>=0;si-=2){for(var li=0;li<=24;li+=8)ci<<=1,ci|=Ie>>>li+si&1;for(var li=0;li<=24;li+=8)ci<<=1,ci|=Zr>>>li+si&1}for(var si=6;si>=0;si-=2){for(var li=1;li<=25;li+=8)ai<<=1,ai|=Ie>>>li+si&1;for(var li=1;li<=25;li+=8)ai<<=1,ai|=Zr>>>li+si&1}ni[fi+0]=ci>>>0,ni[fi+1]=ai>>>0},utils$3.rip=function(Zr,Ie,ni,fi){for(var ci=0,ai=0,si=0;si<4;si++)for(var li=24;li>=0;li-=8)ci<<=1,ci|=Ie>>>li+si&1,ci<<=1,ci|=Zr>>>li+si&1;for(var si=4;si<8;si++)for(var li=24;li>=0;li-=8)ai<<=1,ai|=Ie>>>li+si&1,ai<<=1,ai|=Zr>>>li+si&1;ni[fi+0]=ci>>>0,ni[fi+1]=ai>>>0},utils$3.pc1=function(Zr,Ie,ni,fi){for(var ci=0,ai=0,si=7;si>=5;si--){for(var li=0;li<=24;li+=8)ci<<=1,ci|=Ie>>li+si&1;for(var li=0;li<=24;li+=8)ci<<=1,ci|=Zr>>li+si&1}for(var li=0;li<=24;li+=8)ci<<=1,ci|=Ie>>li+si&1;for(var si=1;si<=3;si++){for(var li=0;li<=24;li+=8)ai<<=1,ai|=Ie>>li+si&1;for(var li=0;li<=24;li+=8)ai<<=1,ai|=Zr>>li+si&1}for(var li=0;li<=24;li+=8)ai<<=1,ai|=Zr>>li+si&1;ni[fi+0]=ci>>>0,ni[fi+1]=ai>>>0},utils$3.r28shl=function(Zr,Ie){return Zr<<Ie&268435455|Zr>>>28-Ie};var te=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$3.pc2=function(Zr,Ie,ni,fi){for(var ci=0,ai=0,si=te.length>>>1,li=0;li<si;li++)ci<<=1,ci|=Zr>>>te[li]&1;for(var li=si;li<te.length;li++)ai<<=1,ai|=Ie>>>te[li]&1;ni[fi+0]=ci>>>0,ni[fi+1]=ai>>>0},utils$3.expand=function(Zr,Ie,ni){var fi=0,ci=0;fi=(Zr&1)<<5|Zr>>>27;for(var ai=23;ai>=15;ai-=4)fi<<=6,fi|=Zr>>>ai&63;for(var ai=11;ai>=3;ai-=4)ci|=Zr>>>ai&63,ci<<=6;ci|=(Zr&31)<<1|Zr>>>31,Ie[ni+0]=fi>>>0,Ie[ni+1]=ci>>>0};var t=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$3.substitute=function(Zr,Ie){for(var ni=0,fi=0;fi<4;fi++){var ci=Zr>>>18-fi*6&63,ai=t[fi*64+ci];ni<<=4,ni|=ai}for(var fi=0;fi<4;fi++){var ci=Ie>>>18-fi*6&63,ai=t[4*64+fi*64+ci];ni<<=4,ni|=ai}return ni>>>0};var G=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$3.permute=function(Zr){for(var Ie=0,ni=0;ni<G.length;ni++)Ie<<=1,Ie|=Zr>>>G[ni]&1;return Ie>>>0},utils$3.padSplit=function(Zr,Ie,ni){for(var fi=Zr.toString(2);fi.length<Ie;)fi="0"+fi;for(var ci=[],ai=0;ai<Ie;ai+=ni)ci.push(fi.slice(ai,ai+ni));return ci.join(" ")},utils$3}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=te;function te(t,G){if(!t)throw new Error(G||"Assertion failed")}return te.equal=function(G,Te,Zr){if(G!=Te)throw new Error(Zr||"Assertion failed: "+G+" != "+Te)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var te=requireMinimalisticAssert();function t(G){this.options=G,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=G.padding!==!1}return cipher=t,t.prototype._init=function(){},t.prototype.update=function(Te){return Te.length===0?[]:this.type==="decrypt"?this._updateDecrypt(Te):this._updateEncrypt(Te)},t.prototype._buffer=function(Te,Zr){for(var Ie=Math.min(this.buffer.length-this.bufferOff,Te.length-Zr),ni=0;ni<Ie;ni++)this.buffer[this.bufferOff+ni]=Te[Zr+ni];return this.bufferOff+=Ie,Ie},t.prototype._flushBuffer=function(Te,Zr){return this._update(this.buffer,0,Te,Zr),this.bufferOff=0,this.blockSize},t.prototype._updateEncrypt=function(Te){var Zr=0,Ie=0,ni=(this.bufferOff+Te.length)/this.blockSize|0,fi=new Array(ni*this.blockSize);this.bufferOff!==0&&(Zr+=this._buffer(Te,Zr),this.bufferOff===this.buffer.length&&(Ie+=this._flushBuffer(fi,Ie)));for(var ci=Te.length-(Te.length-Zr)%this.blockSize;Zr<ci;Zr+=this.blockSize)this._update(Te,Zr,fi,Ie),Ie+=this.blockSize;for(;Zr<Te.length;Zr++,this.bufferOff++)this.buffer[this.bufferOff]=Te[Zr];return fi},t.prototype._updateDecrypt=function(Te){for(var Zr=0,Ie=0,ni=Math.ceil((this.bufferOff+Te.length)/this.blockSize)-1,fi=new Array(ni*this.blockSize);ni>0;ni--)Zr+=this._buffer(Te,Zr),Ie+=this._flushBuffer(fi,Ie);return Zr+=this._buffer(Te,Zr),fi},t.prototype.final=function(Te){var Zr;Te&&(Zr=this.update(Te));var Ie;return this.type==="encrypt"?Ie=this._finalEncrypt():Ie=this._finalDecrypt(),Zr?Zr.concat(Ie):Ie},t.prototype._pad=function(Te,Zr){if(Zr===0)return!1;for(;Zr<Te.length;)Te[Zr++]=0;return!0},t.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var Te=new Array(this.blockSize);return this._update(this.buffer,0,Te,0),Te},t.prototype._unpad=function(Te){return Te},t.prototype._finalDecrypt=function(){te.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var Te=new Array(this.blockSize);return this._flushBuffer(Te,0),this._unpad(Te)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var te=requireMinimalisticAssert(),t=inherits_browserExports,G=requireUtils$3(),Te=requireCipher();function Zr(){this.tmp=new Array(2),this.keys=null}function Ie(fi){Te.call(this,fi);var ci=new Zr;this._desState=ci,this.deriveKeys(ci,fi.key)}t(Ie,Te),des=Ie,Ie.create=function(ci){return new Ie(ci)};var ni=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return Ie.prototype.deriveKeys=function(ci,ai){ci.keys=new Array(16*2),te.equal(ai.length,this.blockSize,"Invalid key length");var si=G.readUInt32BE(ai,0),li=G.readUInt32BE(ai,4);G.pc1(si,li,ci.tmp,0),si=ci.tmp[0],li=ci.tmp[1];for(var mi=0;mi<ci.keys.length;mi+=2){var di=ni[mi>>>1];si=G.r28shl(si,di),li=G.r28shl(li,di),G.pc2(si,li,ci.keys,mi)}},Ie.prototype._update=function(ci,ai,si,li){var mi=this._desState,di=G.readUInt32BE(ci,ai),$i=G.readUInt32BE(ci,ai+4);G.ip(di,$i,mi.tmp,0),di=mi.tmp[0],$i=mi.tmp[1],this.type==="encrypt"?this._encrypt(mi,di,$i,mi.tmp,0):this._decrypt(mi,di,$i,mi.tmp,0),di=mi.tmp[0],$i=mi.tmp[1],G.writeUInt32BE(si,di,li),G.writeUInt32BE(si,$i,li+4)},Ie.prototype._pad=function(ci,ai){if(this.padding===!1)return!1;for(var si=ci.length-ai,li=ai;li<ci.length;li++)ci[li]=si;return!0},Ie.prototype._unpad=function(ci){if(this.padding===!1)return ci;for(var ai=ci[ci.length-1],si=ci.length-ai;si<ci.length;si++)te.equal(ci[si],ai);return ci.slice(0,ci.length-ai)},Ie.prototype._encrypt=function(ci,ai,si,li,mi){for(var di=ai,$i=si,sn=0;sn<ci.keys.length;sn+=2){var ln=ci.keys[sn],mn=ci.keys[sn+1];G.expand($i,ci.tmp,0),ln^=ci.tmp[0],mn^=ci.tmp[1];var cn=G.substitute(ln,mn),Rn=G.permute(cn),vn=$i;$i=(di^Rn)>>>0,di=vn}G.rip($i,di,li,mi)},Ie.prototype._decrypt=function(ci,ai,si,li,mi){for(var di=si,$i=ai,sn=ci.keys.length-2;sn>=0;sn-=2){var ln=ci.keys[sn],mn=ci.keys[sn+1];G.expand(di,ci.tmp,0),ln^=ci.tmp[0],mn^=ci.tmp[1];var cn=G.substitute(ln,mn),Rn=G.permute(cn),vn=di;di=($i^Rn)>>>0,$i=vn}G.rip(di,$i,li,mi)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var te=requireMinimalisticAssert(),t=inherits_browserExports,G={};function Te(Ie){te.equal(Ie.length,8,"Invalid IV length"),this.iv=new Array(8);for(var ni=0;ni<this.iv.length;ni++)this.iv[ni]=Ie[ni]}function Zr(Ie){function ni(si){Ie.call(this,si),this._cbcInit()}t(ni,Ie);for(var fi=Object.keys(G),ci=0;ci<fi.length;ci++){var ai=fi[ci];ni.prototype[ai]=G[ai]}return ni.create=function(li){return new ni(li)},ni}return cbc$1.instantiate=Zr,G._cbcInit=function(){var ni=new Te(this.options.iv);this._cbcState=ni},G._update=function(ni,fi,ci,ai){var si=this._cbcState,li=this.constructor.super_.prototype,mi=si.iv;if(this.type==="encrypt"){for(var di=0;di<this.blockSize;di++)mi[di]^=ni[fi+di];li._update.call(this,mi,0,ci,ai);for(var di=0;di<this.blockSize;di++)mi[di]=ci[ai+di]}else{li._update.call(this,ni,fi,ci,ai);for(var di=0;di<this.blockSize;di++)ci[ai+di]^=mi[di];for(var di=0;di<this.blockSize;di++)mi[di]=ni[fi+di]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var te=requireMinimalisticAssert(),t=inherits_browserExports,G=requireCipher(),Te=requireDes$1();function Zr(ni,fi){te.equal(fi.length,24,"Invalid key length");var ci=fi.slice(0,8),ai=fi.slice(8,16),si=fi.slice(16,24);ni==="encrypt"?this.ciphers=[Te.create({type:"encrypt",key:ci}),Te.create({type:"decrypt",key:ai}),Te.create({type:"encrypt",key:si})]:this.ciphers=[Te.create({type:"decrypt",key:si}),Te.create({type:"encrypt",key:ai}),Te.create({type:"decrypt",key:ci})]}function Ie(ni){G.call(this,ni);var fi=new Zr(this.type,this.options.key);this._edeState=fi}return t(Ie,G),ede=Ie,Ie.create=function(fi){return new Ie(fi)},Ie.prototype._update=function(fi,ci,ai,si){var li=this._edeState;li.ciphers[0]._update(fi,ci,ai,si),li.ciphers[1]._update(ai,si,ai,si),li.ciphers[2]._update(ai,si,ai,si)},Ie.prototype._pad=Te.prototype._pad,Ie.prototype._unpad=Te.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var te=requireCipherBase(),t=requireDes(),G=inherits_browserExports,Te=safeBufferExports.Buffer,Zr={"des-ede3-cbc":t.CBC.instantiate(t.EDE),"des-ede3":t.EDE,"des-ede-cbc":t.CBC.instantiate(t.EDE),"des-ede":t.EDE,"des-cbc":t.CBC.instantiate(t.DES),"des-ecb":t.DES};Zr.des=Zr["des-cbc"],Zr.des3=Zr["des-ede3-cbc"],browserifyDes=Ie,G(Ie,te);function Ie(ni){te.call(this);var fi=ni.mode.toLowerCase(),ci=Zr[fi],ai;ni.decrypt?ai="decrypt":ai="encrypt";var si=ni.key;Te.isBuffer(si)||(si=Te.from(si)),(fi==="des-ede"||fi==="des-ede-cbc")&&(si=Te.concat([si,si.slice(0,8)]));var li=ni.iv;Te.isBuffer(li)||(li=Te.from(li)),this._des=ci.create({key:si,iv:li,type:ai})}return Ie.prototype._update=function(ni){return Te.from(this._des.update(ni))},Ie.prototype._final=function(){return Te.from(this._des.final())},browserifyDes}var browser$6={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(te,t){return te._cipher.encryptBlock(t)},ecb.decrypt=function(te,t){return te._cipher.decryptBlock(t)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(t,G){for(var Te=Math.min(t.length,G.length),Zr=new Buffer(Te),Ie=0;Ie<Te;++Ie)Zr[Ie]=t[Ie]^G[Ie];return Zr}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var te=requireBufferXor();return cbc.encrypt=function(t,G){var Te=te(G,t._prev);return t._prev=t._cipher.encryptBlock(Te),t._prev},cbc.decrypt=function(t,G){var Te=t._prev;t._prev=G;var Zr=t._cipher.decryptBlock(G);return te(Zr,Te)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var te=safeBufferExports.Buffer,t=requireBufferXor();function G(Te,Zr,Ie){var ni=Zr.length,fi=t(Zr,Te._cache);return Te._cache=Te._cache.slice(ni),Te._prev=te.concat([Te._prev,Ie?Zr:fi]),fi}return cfb.encrypt=function(Te,Zr,Ie){for(var ni=te.allocUnsafe(0),fi;Zr.length;)if(Te._cache.length===0&&(Te._cache=Te._cipher.encryptBlock(Te._prev),Te._prev=te.allocUnsafe(0)),Te._cache.length<=Zr.length)fi=Te._cache.length,ni=te.concat([ni,G(Te,Zr.slice(0,fi),Ie)]),Zr=Zr.slice(fi);else{ni=te.concat([ni,G(Te,Zr,Ie)]);break}return ni},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var te=safeBufferExports.Buffer;function t(G,Te,Zr){var Ie=G._cipher.encryptBlock(G._prev),ni=Ie[0]^Te;return G._prev=te.concat([G._prev.slice(1),te.from([Zr?Te:ni])]),ni}return cfb8.encrypt=function(G,Te,Zr){for(var Ie=Te.length,ni=te.allocUnsafe(Ie),fi=-1;++fi<Ie;)ni[fi]=t(G,Te[fi],Zr);return ni},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var te=safeBufferExports.Buffer;function t(Te,Zr,Ie){for(var ni,fi=-1,ci=8,ai=0,si,li;++fi<ci;)ni=Te._cipher.encryptBlock(Te._prev),si=Zr&1<<7-fi?128:0,li=ni[0]^si,ai+=(li&128)>>fi%8,Te._prev=G(Te._prev,Ie?si:li);return ai}function G(Te,Zr){var Ie=Te.length,ni=-1,fi=te.allocUnsafe(Te.length);for(Te=te.concat([Te,te.from([Zr])]);++ni<Ie;)fi[ni]=Te[ni]<<1|Te[ni+1]>>7;return fi}return cfb1.encrypt=function(Te,Zr,Ie){for(var ni=Zr.length,fi=te.allocUnsafe(ni),ci=-1;++ci<ni;)fi[ci]=t(Te,Zr[ci],Ie);return fi},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var te=requireBufferXor();function t(G){return G._prev=G._cipher.encryptBlock(G._prev),G._prev}return ofb.encrypt=function(G,Te){for(;G._cache.length<Te.length;)G._cache=Buffer.concat([G._cache,t(G)]);var Zr=G._cache.slice(0,Te.length);return G._cache=G._cache.slice(Te.length),te(Te,Zr)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function te(t){for(var G=t.length,Te;G--;)if(Te=t.readUInt8(G),Te===255)t.writeUInt8(0,G);else{Te++,t.writeUInt8(Te,G);break}}return incr32_1=te,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var te=requireBufferXor(),t=safeBufferExports.Buffer,G=requireIncr32();function Te(Ie){var ni=Ie._cipher.encryptBlockRaw(Ie._prev);return G(Ie._prev),ni}var Zr=16;return ctr.encrypt=function(Ie,ni){var fi=Math.ceil(ni.length/Zr),ci=Ie._cache.length;Ie._cache=t.concat([Ie._cache,t.allocUnsafe(fi*Zr)]);for(var ai=0;ai<fi;ai++){var si=Te(Ie),li=ci+ai*Zr;Ie._cache.writeUInt32BE(si[0],li+0),Ie._cache.writeUInt32BE(si[1],li+4),Ie._cache.writeUInt32BE(si[2],li+8),Ie._cache.writeUInt32BE(si[3],li+12)}var mi=Ie._cache.slice(0,ni.length);return Ie._cache=Ie._cache.slice(ni.length),te(ni,mi)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var te={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},t=require$$2;for(var G in t)t[G].module=te[t[G].mode];return modes_1=t,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var te=safeBufferExports.Buffer;function t(fi){te.isBuffer(fi)||(fi=te.from(fi));for(var ci=fi.length/4|0,ai=new Array(ci),si=0;si<ci;si++)ai[si]=fi.readUInt32BE(si*4);return ai}function G(fi){for(var ci=0;ci<fi.length;fi++)fi[ci]=0}function Te(fi,ci,ai,si,li){for(var mi=ai[0],di=ai[1],$i=ai[2],sn=ai[3],ln=fi[0]^ci[0],mn=fi[1]^ci[1],cn=fi[2]^ci[2],Rn=fi[3]^ci[3],vn,Cn,ho,hn,Zn=4,Do=1;Do<li;Do++)vn=mi[ln>>>24]^di[mn>>>16&255]^$i[cn>>>8&255]^sn[Rn&255]^ci[Zn++],Cn=mi[mn>>>24]^di[cn>>>16&255]^$i[Rn>>>8&255]^sn[ln&255]^ci[Zn++],ho=mi[cn>>>24]^di[Rn>>>16&255]^$i[ln>>>8&255]^sn[mn&255]^ci[Zn++],hn=mi[Rn>>>24]^di[ln>>>16&255]^$i[mn>>>8&255]^sn[cn&255]^ci[Zn++],ln=vn,mn=Cn,cn=ho,Rn=hn;return vn=(si[ln>>>24]<<24|si[mn>>>16&255]<<16|si[cn>>>8&255]<<8|si[Rn&255])^ci[Zn++],Cn=(si[mn>>>24]<<24|si[cn>>>16&255]<<16|si[Rn>>>8&255]<<8|si[ln&255])^ci[Zn++],ho=(si[cn>>>24]<<24|si[Rn>>>16&255]<<16|si[ln>>>8&255]<<8|si[mn&255])^ci[Zn++],hn=(si[Rn>>>24]<<24|si[ln>>>16&255]<<16|si[mn>>>8&255]<<8|si[cn&255])^ci[Zn++],vn=vn>>>0,Cn=Cn>>>0,ho=ho>>>0,hn=hn>>>0,[vn,Cn,ho,hn]}var Zr=[0,1,2,4,8,16,32,64,128,27,54],Ie=function(){for(var fi=new Array(256),ci=0;ci<256;ci++)ci<128?fi[ci]=ci<<1:fi[ci]=ci<<1^283;for(var ai=[],si=[],li=[[],[],[],[]],mi=[[],[],[],[]],di=0,$i=0,sn=0;sn<256;++sn){var ln=$i^$i<<1^$i<<2^$i<<3^$i<<4;ln=ln>>>8^ln&255^99,ai[di]=ln,si[ln]=di;var mn=fi[di],cn=fi[mn],Rn=fi[cn],vn=fi[ln]*257^ln*16843008;li[0][di]=vn<<24|vn>>>8,li[1][di]=vn<<16|vn>>>16,li[2][di]=vn<<8|vn>>>24,li[3][di]=vn,vn=Rn*16843009^cn*65537^mn*257^di*16843008,mi[0][ln]=vn<<24|vn>>>8,mi[1][ln]=vn<<16|vn>>>16,mi[2][ln]=vn<<8|vn>>>24,mi[3][ln]=vn,di===0?di=$i=1:(di=mn^fi[fi[fi[Rn^mn]]],$i^=fi[fi[$i]])}return{SBOX:ai,INV_SBOX:si,SUB_MIX:li,INV_SUB_MIX:mi}}();function ni(fi){this._key=t(fi),this._reset()}return ni.blockSize=4*4,ni.keySize=256/8,ni.prototype.blockSize=ni.blockSize,ni.prototype.keySize=ni.keySize,ni.prototype._reset=function(){for(var fi=this._key,ci=fi.length,ai=ci+6,si=(ai+1)*4,li=[],mi=0;mi<ci;mi++)li[mi]=fi[mi];for(mi=ci;mi<si;mi++){var di=li[mi-1];mi%ci===0?(di=di<<8|di>>>24,di=Ie.SBOX[di>>>24]<<24|Ie.SBOX[di>>>16&255]<<16|Ie.SBOX[di>>>8&255]<<8|Ie.SBOX[di&255],di^=Zr[mi/ci|0]<<24):ci>6&&mi%ci===4&&(di=Ie.SBOX[di>>>24]<<24|Ie.SBOX[di>>>16&255]<<16|Ie.SBOX[di>>>8&255]<<8|Ie.SBOX[di&255]),li[mi]=li[mi-ci]^di}for(var $i=[],sn=0;sn<si;sn++){var ln=si-sn,mn=li[ln-(sn%4?0:4)];sn<4||ln<=4?$i[sn]=mn:$i[sn]=Ie.INV_SUB_MIX[0][Ie.SBOX[mn>>>24]]^Ie.INV_SUB_MIX[1][Ie.SBOX[mn>>>16&255]]^Ie.INV_SUB_MIX[2][Ie.SBOX[mn>>>8&255]]^Ie.INV_SUB_MIX[3][Ie.SBOX[mn&255]]}this._nRounds=ai,this._keySchedule=li,this._invKeySchedule=$i},ni.prototype.encryptBlockRaw=function(fi){return fi=t(fi),Te(fi,this._keySchedule,Ie.SUB_MIX,Ie.SBOX,this._nRounds)},ni.prototype.encryptBlock=function(fi){var ci=this.encryptBlockRaw(fi),ai=te.allocUnsafe(16);return ai.writeUInt32BE(ci[0],0),ai.writeUInt32BE(ci[1],4),ai.writeUInt32BE(ci[2],8),ai.writeUInt32BE(ci[3],12),ai},ni.prototype.decryptBlock=function(fi){fi=t(fi);var ci=fi[1];fi[1]=fi[3],fi[3]=ci;var ai=Te(fi,this._invKeySchedule,Ie.INV_SUB_MIX,Ie.INV_SBOX,this._nRounds),si=te.allocUnsafe(16);return si.writeUInt32BE(ai[0],0),si.writeUInt32BE(ai[3],4),si.writeUInt32BE(ai[2],8),si.writeUInt32BE(ai[1],12),si},ni.prototype.scrub=function(){G(this._keySchedule),G(this._invKeySchedule),G(this._key)},aes.AES=ni,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var te=safeBufferExports.Buffer,t=te.alloc(16,0);function G(Ie){return[Ie.readUInt32BE(0),Ie.readUInt32BE(4),Ie.readUInt32BE(8),Ie.readUInt32BE(12)]}function Te(Ie){var ni=te.allocUnsafe(16);return ni.writeUInt32BE(Ie[0]>>>0,0),ni.writeUInt32BE(Ie[1]>>>0,4),ni.writeUInt32BE(Ie[2]>>>0,8),ni.writeUInt32BE(Ie[3]>>>0,12),ni}function Zr(Ie){this.h=Ie,this.state=te.alloc(16,0),this.cache=te.allocUnsafe(0)}return Zr.prototype.ghash=function(Ie){for(var ni=-1;++ni<Ie.length;)this.state[ni]^=Ie[ni];this._multiply()},Zr.prototype._multiply=function(){for(var Ie=G(this.h),ni=[0,0,0,0],fi,ci,ai,si=-1;++si<128;){for(ci=(this.state[~~(si/8)]&1<<7-si%8)!==0,ci&&(ni[0]^=Ie[0],ni[1]^=Ie[1],ni[2]^=Ie[2],ni[3]^=Ie[3]),ai=(Ie[3]&1)!==0,fi=3;fi>0;fi--)Ie[fi]=Ie[fi]>>>1|(Ie[fi-1]&1)<<31;Ie[0]=Ie[0]>>>1,ai&&(Ie[0]=Ie[0]^225<<24)}this.state=Te(ni)},Zr.prototype.update=function(Ie){this.cache=te.concat([this.cache,Ie]);for(var ni;this.cache.length>=16;)ni=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(ni)},Zr.prototype.final=function(Ie,ni){return this.cache.length&&this.ghash(te.concat([this.cache,t],16)),this.ghash(Te([0,Ie,0,ni])),this.state},ghash=Zr,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var te=requireAes(),t=safeBufferExports.Buffer,G=requireCipherBase(),Te=inherits_browserExports,Zr=requireGhash(),Ie=requireBufferXor(),ni=requireIncr32();function fi(si,li){var mi=0;si.length!==li.length&&mi++;for(var di=Math.min(si.length,li.length),$i=0;$i<di;++$i)mi+=si[$i]^li[$i];return mi}function ci(si,li,mi){if(li.length===12)return si._finID=t.concat([li,t.from([0,0,0,1])]),t.concat([li,t.from([0,0,0,2])]);var di=new Zr(mi),$i=li.length,sn=$i%16;di.update(li),sn&&(sn=16-sn,di.update(t.alloc(sn,0))),di.update(t.alloc(8,0));var ln=$i*8,mn=t.alloc(8);mn.writeUIntBE(ln,0,8),di.update(mn),si._finID=di.state;var cn=t.from(si._finID);return ni(cn),cn}function ai(si,li,mi,di){G.call(this);var $i=t.alloc(4,0);this._cipher=new te.AES(li);var sn=this._cipher.encryptBlock($i);this._ghash=new Zr(sn),mi=ci(this,mi,sn),this._prev=t.from(mi),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=di,this._alen=0,this._len=0,this._mode=si,this._authTag=null,this._called=!1}return Te(ai,G),ai.prototype._update=function(si){if(!this._called&&this._alen){var li=16-this._alen%16;li<16&&(li=t.alloc(li,0),this._ghash.update(li))}this._called=!0;var mi=this._mode.encrypt(this,si);return this._decrypt?this._ghash.update(si):this._ghash.update(mi),this._len+=si.length,mi},ai.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var si=Ie(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&fi(si,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=si,this._cipher.scrub()},ai.prototype.getAuthTag=function(){if(this._decrypt||!t.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},ai.prototype.setAuthTag=function(li){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=li},ai.prototype.setAAD=function(li){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(li),this._alen+=li.length},authCipher=ai,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var te=requireAes(),t=safeBufferExports.Buffer,G=requireCipherBase(),Te=inherits_browserExports;function Zr(Ie,ni,fi,ci){G.call(this),this._cipher=new te.AES(ni),this._prev=t.from(fi),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=ci,this._mode=Ie}return Te(Zr,G),Zr.prototype._update=function(Ie){return this._mode.encrypt(this,Ie,this._decrypt)},Zr.prototype._final=function(){this._cipher.scrub()},streamCipher=Zr,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var te=safeBufferExports.Buffer,t=requireMd5_js();function G(Te,Zr,Ie,ni){if(te.isBuffer(Te)||(Te=te.from(Te,"binary")),Zr&&(te.isBuffer(Zr)||(Zr=te.from(Zr,"binary")),Zr.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var fi=Ie/8,ci=te.alloc(fi),ai=te.alloc(ni||0),si=te.alloc(0);fi>0||ni>0;){var li=new t;li.update(si),li.update(Te),Zr&&li.update(Zr),si=li.digest();var mi=0;if(fi>0){var di=ci.length-fi;mi=Math.min(fi,si.length),si.copy(ci,di,0,mi),fi-=mi}if(mi<si.length&&ni>0){var $i=ai.length-ni,sn=Math.min(ni,si.length-mi);si.copy(ai,$i,mi,mi+sn),ni-=sn}}return si.fill(0),{key:ci,iv:ai}}return evp_bytestokey=G,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var te=requireModes$1(),t=requireAuthCipher(),G=safeBufferExports.Buffer,Te=requireStreamCipher(),Zr=requireCipherBase(),Ie=requireAes(),ni=requireEvp_bytestokey(),fi=inherits_browserExports;function ci(di,$i,sn){Zr.call(this),this._cache=new si,this._cipher=new Ie.AES($i),this._prev=G.from(sn),this._mode=di,this._autopadding=!0}fi(ci,Zr),ci.prototype._update=function(di){this._cache.add(di);for(var $i,sn,ln=[];$i=this._cache.get();)sn=this._mode.encrypt(this,$i),ln.push(sn);return G.concat(ln)};var ai=G.alloc(16,16);ci.prototype._final=function(){var di=this._cache.flush();if(this._autopadding)return di=this._mode.encrypt(this,di),this._cipher.scrub(),di;if(!di.equals(ai))throw this._cipher.scrub(),new Error("data not multiple of block length")},ci.prototype.setAutoPadding=function(di){return this._autopadding=!!di,this};function si(){this.cache=G.allocUnsafe(0)}si.prototype.add=function(di){this.cache=G.concat([this.cache,di])},si.prototype.get=function(){if(this.cache.length>15){var di=this.cache.slice(0,16);return this.cache=this.cache.slice(16),di}return null},si.prototype.flush=function(){for(var di=16-this.cache.length,$i=G.allocUnsafe(di),sn=-1;++sn<di;)$i.writeUInt8(di,sn);return G.concat([this.cache,$i])};function li(di,$i,sn){var ln=te[di.toLowerCase()];if(!ln)throw new TypeError("invalid suite type");if(typeof $i=="string"&&($i=G.from($i)),$i.length!==ln.key/8)throw new TypeError("invalid key length "+$i.length);if(typeof sn=="string"&&(sn=G.from(sn)),ln.mode!=="GCM"&&sn.length!==ln.iv)throw new TypeError("invalid iv length "+sn.length);return ln.type==="stream"?new Te(ln.module,$i,sn):ln.type==="auth"?new t(ln.module,$i,sn):new ci(ln.module,$i,sn)}function mi(di,$i){var sn=te[di.toLowerCase()];if(!sn)throw new TypeError("invalid suite type");var ln=ni($i,!1,sn.key,sn.iv);return li(di,ln.key,ln.iv)}return encrypter.createCipheriv=li,encrypter.createCipher=mi,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var te=requireAuthCipher(),t=safeBufferExports.Buffer,G=requireModes$1(),Te=requireStreamCipher(),Zr=requireCipherBase(),Ie=requireAes(),ni=requireEvp_bytestokey(),fi=inherits_browserExports;function ci(di,$i,sn){Zr.call(this),this._cache=new ai,this._last=void 0,this._cipher=new Ie.AES($i),this._prev=t.from(sn),this._mode=di,this._autopadding=!0}fi(ci,Zr),ci.prototype._update=function(di){this._cache.add(di);for(var $i,sn,ln=[];$i=this._cache.get(this._autopadding);)sn=this._mode.decrypt(this,$i),ln.push(sn);return t.concat(ln)},ci.prototype._final=function(){var di=this._cache.flush();if(this._autopadding)return si(this._mode.decrypt(this,di));if(di)throw new Error("data not multiple of block length")},ci.prototype.setAutoPadding=function(di){return this._autopadding=!!di,this};function ai(){this.cache=t.allocUnsafe(0)}ai.prototype.add=function(di){this.cache=t.concat([this.cache,di])},ai.prototype.get=function(di){var $i;if(di){if(this.cache.length>16)return $i=this.cache.slice(0,16),this.cache=this.cache.slice(16),$i}else if(this.cache.length>=16)return $i=this.cache.slice(0,16),this.cache=this.cache.slice(16),$i;return null},ai.prototype.flush=function(){if(this.cache.length)return this.cache};function si(di){var $i=di[15];if($i<1||$i>16)throw new Error("unable to decrypt data");for(var sn=-1;++sn<$i;)if(di[sn+(16-$i)]!==$i)throw new Error("unable to decrypt data");if($i!==16)return di.slice(0,16-$i)}function li(di,$i,sn){var ln=G[di.toLowerCase()];if(!ln)throw new TypeError("invalid suite type");if(typeof sn=="string"&&(sn=t.from(sn)),ln.mode!=="GCM"&&sn.length!==ln.iv)throw new TypeError("invalid iv length "+sn.length);if(typeof $i=="string"&&($i=t.from($i)),$i.length!==ln.key/8)throw new TypeError("invalid key length "+$i.length);return ln.type==="stream"?new Te(ln.module,$i,sn,!0):ln.type==="auth"?new te(ln.module,$i,sn,!0):new ci(ln.module,$i,sn)}function mi(di,$i){var sn=G[di.toLowerCase()];if(!sn)throw new TypeError("invalid suite type");var ln=ni($i,!1,sn.key,sn.iv);return li(di,ln.key,ln.iv)}return decrypter.createDecipher=mi,decrypter.createDecipheriv=li,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$6;hasRequiredBrowser$6=1;var te=requireEncrypter(),t=requireDecrypter(),G=require$$2;function Te(){return Object.keys(G)}return browser$6.createCipher=browser$6.Cipher=te.createCipher,browser$6.createCipheriv=browser$6.Cipheriv=te.createCipheriv,browser$6.createDecipher=browser$6.Decipher=t.createDecipher,browser$6.createDecipheriv=browser$6.Decipheriv=t.createDecipheriv,browser$6.listCiphers=browser$6.getCiphers=Te,browser$6}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(te){te["des-ecb"]={key:8,iv:0},te["des-cbc"]=te.des={key:8,iv:8},te["des-ede3-cbc"]=te.des3={key:24,iv:8},te["des-ede3"]={key:24,iv:0},te["des-ede-cbc"]={key:16,iv:8},te["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$7;hasRequiredBrowser$5=1;var te=requireBrowserifyDes(),t=requireBrowser$6(),G=requireModes$1(),Te=requireModes(),Zr=requireEvp_bytestokey();function Ie(si,li){si=si.toLowerCase();var mi,di;if(G[si])mi=G[si].key,di=G[si].iv;else if(Te[si])mi=Te[si].key*8,di=Te[si].iv;else throw new TypeError("invalid suite type");var $i=Zr(li,!1,mi,di);return fi(si,$i.key,$i.iv)}function ni(si,li){si=si.toLowerCase();var mi,di;if(G[si])mi=G[si].key,di=G[si].iv;else if(Te[si])mi=Te[si].key*8,di=Te[si].iv;else throw new TypeError("invalid suite type");var $i=Zr(li,!1,mi,di);return ci(si,$i.key,$i.iv)}function fi(si,li,mi){if(si=si.toLowerCase(),G[si])return t.createCipheriv(si,li,mi);if(Te[si])return new te({key:li,iv:mi,mode:si});throw new TypeError("invalid suite type")}function ci(si,li,mi){if(si=si.toLowerCase(),G[si])return t.createDecipheriv(si,li,mi);if(Te[si])return new te({key:li,iv:mi,mode:si,decrypt:!0});throw new TypeError("invalid suite type")}function ai(){return Object.keys(Te).concat(t.getCiphers())}return browser$7.createCipher=browser$7.Cipher=Ie,browser$7.createCipheriv=browser$7.Cipheriv=fi,browser$7.createDecipher=browser$7.Decipher=ni,browser$7.createDecipheriv=browser$7.Decipheriv=ci,browser$7.listCiphers=browser$7.getCiphers=ai,browser$7}var browser$5={},bn$6={exports:{}};bn$6.exports;var hasRequiredBn$5;function requireBn$5(){return hasRequiredBn$5||(hasRequiredBn$5=1,function(te){(function(t,G){function Te(ui,H){if(!ui)throw new Error(H||"Assertion failed")}function Zr(ui,H){ui.super_=H;var X=function(){};X.prototype=H.prototype,ui.prototype=new X,ui.prototype.constructor=ui}function Ie(ui,H,X){if(Ie.isBN(ui))return ui;this.negative=0,this.words=null,this.length=0,this.red=null,ui!==null&&((H==="le"||H==="be")&&(X=H,H=10),this._init(ui||0,H||10,X||"be"))}typeof t=="object"?t.exports=Ie:G.BN=Ie,Ie.BN=Ie,Ie.wordSize=26;var ni;try{typeof window<"u"&&typeof window.Buffer<"u"?ni=window.Buffer:ni=require$$0$3.Buffer}catch{}Ie.isBN=function(H){return H instanceof Ie?!0:H!==null&&typeof H=="object"&&H.constructor.wordSize===Ie.wordSize&&Array.isArray(H.words)},Ie.max=function(H,X){return H.cmp(X)>0?H:X},Ie.min=function(H,X){return H.cmp(X)<0?H:X},Ie.prototype._init=function(H,X,Br){if(typeof H=="number")return this._initNumber(H,X,Br);if(typeof H=="object")return this._initArray(H,X,Br);X==="hex"&&(X=16),Te(X===(X|0)&&X>=2&&X<=36),H=H.toString().replace(/\s+/g,"");var Wr=0;H[0]==="-"&&(Wr++,this.negative=1),Wr<H.length&&(X===16?this._parseHex(H,Wr,Br):(this._parseBase(H,X,Wr),Br==="le"&&this._initArray(this.toArray(),X,Br)))},Ie.prototype._initNumber=function(H,X,Br){H<0&&(this.negative=1,H=-H),H<67108864?(this.words=[H&67108863],this.length=1):H<4503599627370496?(this.words=[H&67108863,H/67108864&67108863],this.length=2):(Te(H<9007199254740992),this.words=[H&67108863,H/67108864&67108863,1],this.length=3),Br==="le"&&this._initArray(this.toArray(),X,Br)},Ie.prototype._initArray=function(H,X,Br){if(Te(typeof H.length=="number"),H.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(H.length/3),this.words=new Array(this.length);for(var Wr=0;Wr<this.length;Wr++)this.words[Wr]=0;var ri,ii,oi=0;if(Br==="be")for(Wr=H.length-1,ri=0;Wr>=0;Wr-=3)ii=H[Wr]|H[Wr-1]<<8|H[Wr-2]<<16,this.words[ri]|=ii<<oi&67108863,this.words[ri+1]=ii>>>26-oi&67108863,oi+=24,oi>=26&&(oi-=26,ri++);else if(Br==="le")for(Wr=0,ri=0;Wr<H.length;Wr+=3)ii=H[Wr]|H[Wr+1]<<8|H[Wr+2]<<16,this.words[ri]|=ii<<oi&67108863,this.words[ri+1]=ii>>>26-oi&67108863,oi+=24,oi>=26&&(oi-=26,ri++);return this.strip()};function fi(ui,H){var X=ui.charCodeAt(H);return X>=65&&X<=70?X-55:X>=97&&X<=102?X-87:X-48&15}function ci(ui,H,X){var Br=fi(ui,X);return X-1>=H&&(Br|=fi(ui,X-1)<<4),Br}Ie.prototype._parseHex=function(H,X,Br){this.length=Math.ceil((H.length-X)/6),this.words=new Array(this.length);for(var Wr=0;Wr<this.length;Wr++)this.words[Wr]=0;var ri=0,ii=0,oi;if(Br==="be")for(Wr=H.length-1;Wr>=X;Wr-=2)oi=ci(H,X,Wr)<<ri,this.words[ii]|=oi&67108863,ri>=18?(ri-=18,ii+=1,this.words[ii]|=oi>>>26):ri+=8;else{var ei=H.length-X;for(Wr=ei%2===0?X+1:X;Wr<H.length;Wr+=2)oi=ci(H,X,Wr)<<ri,this.words[ii]|=oi&67108863,ri>=18?(ri-=18,ii+=1,this.words[ii]|=oi>>>26):ri+=8}this.strip()};function ai(ui,H,X,Br){for(var Wr=0,ri=Math.min(ui.length,X),ii=H;ii<ri;ii++){var oi=ui.charCodeAt(ii)-48;Wr*=Br,oi>=49?Wr+=oi-49+10:oi>=17?Wr+=oi-17+10:Wr+=oi}return Wr}Ie.prototype._parseBase=function(H,X,Br){this.words=[0],this.length=1;for(var Wr=0,ri=1;ri<=67108863;ri*=X)Wr++;Wr--,ri=ri/X|0;for(var ii=H.length-Br,oi=ii%Wr,ei=Math.min(ii,ii-oi)+Br,Y=0,Xr=Br;Xr<ei;Xr+=Wr)Y=ai(H,Xr,Xr+Wr,X),this.imuln(ri),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(oi!==0){var on=1;for(Y=ai(H,Xr,H.length,X),Xr=0;Xr<oi;Xr++)on*=X;this.imuln(on),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this.strip()},Ie.prototype.copy=function(H){H.words=new Array(this.length);for(var X=0;X<this.length;X++)H.words[X]=this.words[X];H.length=this.length,H.negative=this.negative,H.red=this.red},Ie.prototype.clone=function(){var H=new Ie(null);return this.copy(H),H},Ie.prototype._expand=function(H){for(;this.length<H;)this.words[this.length++]=0;return this},Ie.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ie.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var si=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],li=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],mi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ie.prototype.toString=function(H,X){H=H||10,X=X|0||1;var Br;if(H===16||H==="hex"){Br="";for(var Wr=0,ri=0,ii=0;ii<this.length;ii++){var oi=this.words[ii],ei=((oi<<Wr|ri)&16777215).toString(16);ri=oi>>>24-Wr&16777215,ri!==0||ii!==this.length-1?Br=si[6-ei.length]+ei+Br:Br=ei+Br,Wr+=2,Wr>=26&&(Wr-=26,ii--)}for(ri!==0&&(Br=ri.toString(16)+Br);Br.length%X!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}if(H===(H|0)&&H>=2&&H<=36){var Y=li[H],Xr=mi[H];Br="";var on=this.clone();for(on.negative=0;!on.isZero();){var Mn=on.modn(Xr).toString(H);on=on.idivn(Xr),on.isZero()?Br=Mn+Br:Br=si[Y-Mn.length]+Mn+Br}for(this.isZero()&&(Br="0"+Br);Br.length%X!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}Te(!1,"Base should be between 2 and 36")},Ie.prototype.toNumber=function(){var H=this.words[0];return this.length===2?H+=this.words[1]*67108864:this.length===3&&this.words[2]===1?H+=4503599627370496+this.words[1]*67108864:this.length>2&&Te(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-H:H},Ie.prototype.toJSON=function(){return this.toString(16)},Ie.prototype.toBuffer=function(H,X){return Te(typeof ni<"u"),this.toArrayLike(ni,H,X)},Ie.prototype.toArray=function(H,X){return this.toArrayLike(Array,H,X)},Ie.prototype.toArrayLike=function(H,X,Br){var Wr=this.byteLength(),ri=Br||Math.max(1,Wr);Te(Wr<=ri,"byte array longer than desired length"),Te(ri>0,"Requested array length <= 0"),this.strip();var ii=X==="le",oi=new H(ri),ei,Y,Xr=this.clone();if(ii){for(Y=0;!Xr.isZero();Y++)ei=Xr.andln(255),Xr.iushrn(8),oi[Y]=ei;for(;Y<ri;Y++)oi[Y]=0}else{for(Y=0;Y<ri-Wr;Y++)oi[Y]=0;for(Y=0;!Xr.isZero();Y++)ei=Xr.andln(255),Xr.iushrn(8),oi[ri-Y-1]=ei}return oi},Math.clz32?Ie.prototype._countBits=function(H){return 32-Math.clz32(H)}:Ie.prototype._countBits=function(H){var X=H,Br=0;return X>=4096&&(Br+=13,X>>>=13),X>=64&&(Br+=7,X>>>=7),X>=8&&(Br+=4,X>>>=4),X>=2&&(Br+=2,X>>>=2),Br+X},Ie.prototype._zeroBits=function(H){if(H===0)return 26;var X=H,Br=0;return X&8191||(Br+=13,X>>>=13),X&127||(Br+=7,X>>>=7),X&15||(Br+=4,X>>>=4),X&3||(Br+=2,X>>>=2),X&1||Br++,Br},Ie.prototype.bitLength=function(){var H=this.words[this.length-1],X=this._countBits(H);return(this.length-1)*26+X};function di(ui){for(var H=new Array(ui.bitLength()),X=0;X<H.length;X++){var Br=X/26|0,Wr=X%26;H[X]=(ui.words[Br]&1<<Wr)>>>Wr}return H}Ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var H=0,X=0;X<this.length;X++){var Br=this._zeroBits(this.words[X]);if(H+=Br,Br!==26)break}return H},Ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ie.prototype.toTwos=function(H){return this.negative!==0?this.abs().inotn(H).iaddn(1):this.clone()},Ie.prototype.fromTwos=function(H){return this.testn(H-1)?this.notn(H).iaddn(1).ineg():this.clone()},Ie.prototype.isNeg=function(){return this.negative!==0},Ie.prototype.neg=function(){return this.clone().ineg()},Ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ie.prototype.iuor=function(H){for(;this.length<H.length;)this.words[this.length++]=0;for(var X=0;X<H.length;X++)this.words[X]=this.words[X]|H.words[X];return this.strip()},Ie.prototype.ior=function(H){return Te((this.negative|H.negative)===0),this.iuor(H)},Ie.prototype.or=function(H){return this.length>H.length?this.clone().ior(H):H.clone().ior(this)},Ie.prototype.uor=function(H){return this.length>H.length?this.clone().iuor(H):H.clone().iuor(this)},Ie.prototype.iuand=function(H){var X;this.length>H.length?X=H:X=this;for(var Br=0;Br<X.length;Br++)this.words[Br]=this.words[Br]&H.words[Br];return this.length=X.length,this.strip()},Ie.prototype.iand=function(H){return Te((this.negative|H.negative)===0),this.iuand(H)},Ie.prototype.and=function(H){return this.length>H.length?this.clone().iand(H):H.clone().iand(this)},Ie.prototype.uand=function(H){return this.length>H.length?this.clone().iuand(H):H.clone().iuand(this)},Ie.prototype.iuxor=function(H){var X,Br;this.length>H.length?(X=this,Br=H):(X=H,Br=this);for(var Wr=0;Wr<Br.length;Wr++)this.words[Wr]=X.words[Wr]^Br.words[Wr];if(this!==X)for(;Wr<X.length;Wr++)this.words[Wr]=X.words[Wr];return this.length=X.length,this.strip()},Ie.prototype.ixor=function(H){return Te((this.negative|H.negative)===0),this.iuxor(H)},Ie.prototype.xor=function(H){return this.length>H.length?this.clone().ixor(H):H.clone().ixor(this)},Ie.prototype.uxor=function(H){return this.length>H.length?this.clone().iuxor(H):H.clone().iuxor(this)},Ie.prototype.inotn=function(H){Te(typeof H=="number"&&H>=0);var X=Math.ceil(H/26)|0,Br=H%26;this._expand(X),Br>0&&X--;for(var Wr=0;Wr<X;Wr++)this.words[Wr]=~this.words[Wr]&67108863;return Br>0&&(this.words[Wr]=~this.words[Wr]&67108863>>26-Br),this.strip()},Ie.prototype.notn=function(H){return this.clone().inotn(H)},Ie.prototype.setn=function(H,X){Te(typeof H=="number"&&H>=0);var Br=H/26|0,Wr=H%26;return this._expand(Br+1),X?this.words[Br]=this.words[Br]|1<<Wr:this.words[Br]=this.words[Br]&~(1<<Wr),this.strip()},Ie.prototype.iadd=function(H){var X;if(this.negative!==0&&H.negative===0)return this.negative=0,X=this.isub(H),this.negative^=1,this._normSign();if(this.negative===0&&H.negative!==0)return H.negative=0,X=this.isub(H),H.negative=1,X._normSign();var Br,Wr;this.length>H.length?(Br=this,Wr=H):(Br=H,Wr=this);for(var ri=0,ii=0;ii<Wr.length;ii++)X=(Br.words[ii]|0)+(Wr.words[ii]|0)+ri,this.words[ii]=X&67108863,ri=X>>>26;for(;ri!==0&&ii<Br.length;ii++)X=(Br.words[ii]|0)+ri,this.words[ii]=X&67108863,ri=X>>>26;if(this.length=Br.length,ri!==0)this.words[this.length]=ri,this.length++;else if(Br!==this)for(;ii<Br.length;ii++)this.words[ii]=Br.words[ii];return this},Ie.prototype.add=function(H){var X;return H.negative!==0&&this.negative===0?(H.negative=0,X=this.sub(H),H.negative^=1,X):H.negative===0&&this.negative!==0?(this.negative=0,X=H.sub(this),this.negative=1,X):this.length>H.length?this.clone().iadd(H):H.clone().iadd(this)},Ie.prototype.isub=function(H){if(H.negative!==0){H.negative=0;var X=this.iadd(H);return H.negative=1,X._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(H),this.negative=1,this._normSign();var Br=this.cmp(H);if(Br===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Wr,ri;Br>0?(Wr=this,ri=H):(Wr=H,ri=this);for(var ii=0,oi=0;oi<ri.length;oi++)X=(Wr.words[oi]|0)-(ri.words[oi]|0)+ii,ii=X>>26,this.words[oi]=X&67108863;for(;ii!==0&&oi<Wr.length;oi++)X=(Wr.words[oi]|0)+ii,ii=X>>26,this.words[oi]=X&67108863;if(ii===0&&oi<Wr.length&&Wr!==this)for(;oi<Wr.length;oi++)this.words[oi]=Wr.words[oi];return this.length=Math.max(this.length,oi),Wr!==this&&(this.negative=1),this.strip()},Ie.prototype.sub=function(H){return this.clone().isub(H)};function $i(ui,H,X){X.negative=H.negative^ui.negative;var Br=ui.length+H.length|0;X.length=Br,Br=Br-1|0;var Wr=ui.words[0]|0,ri=H.words[0]|0,ii=Wr*ri,oi=ii&67108863,ei=ii/67108864|0;X.words[0]=oi;for(var Y=1;Y<Br;Y++){for(var Xr=ei>>>26,on=ei&67108863,Mn=Math.min(Y,H.length-1),Bn=Math.max(0,Y-ui.length+1);Bn<=Mn;Bn++){var fn=Y-Bn|0;Wr=ui.words[fn]|0,ri=H.words[Bn]|0,ii=Wr*ri+on,Xr+=ii/67108864|0,on=ii&67108863}X.words[Y]=on|0,ei=Xr|0}return ei!==0?X.words[Y]=ei|0:X.length--,X.strip()}var sn=function(H,X,Br){var Wr=H.words,ri=X.words,ii=Br.words,oi=0,ei,Y,Xr,on=Wr[0]|0,Mn=on&8191,Bn=on>>>13,fn=Wr[1]|0,uo=fn&8191,un=fn>>>13,gn=Wr[2]|0,An=gn&8191,an=gn>>>13,qo=Wr[3]|0,ko=qo&8191,Uo=qo>>>13,kh=Wr[4]|0,Vo=kh&8191,tf=kh>>>13,Wh=Wr[5]|0,Rh=Wh&8191,vh=Wh>>>13,Jh=Wr[6]|0,Vf=Jh&8191,Zo=Jh>>>13,Vh=Wr[7]|0,Qf=Vh&8191,Ko=Vh>>>13,Zh=Wr[8]|0,Xf=Zh&8191,Lf=Zh>>>13,Qh=Wr[9]|0,bh=Qh&8191,jf=Qh>>>13,Yh=ri[0]|0,Sh=Yh&8191,ph=Yh>>>13,Xh=ri[1]|0,Th=Xh&8191,$h=Xh>>>13,zu=ri[2]|0,Nh=zu&8191,Ih=zu>>>13,Ku=ri[3]|0,Lh=Ku&8191,wh=Ku>>>13,hu=ri[4]|0,qh=hu&8191,_h=hu>>>13,qu=ri[5]|0,Dh=qu&8191,xh=qu>>>13,Lu=ri[6]|0,Bh=Lu&8191,Eh=Lu>>>13,ku=ri[7]|0,Ch=ku&8191,Mh=ku>>>13,au=ri[8]|0,Oh=au&8191,Ah=au>>>13,r0=ri[9]|0,jh=r0&8191,Ph=r0>>>13;Br.negative=H.negative^X.negative,Br.length=19,ei=Math.imul(Mn,Sh),Y=Math.imul(Mn,ph),Y=Y+Math.imul(Bn,Sh)|0,Xr=Math.imul(Bn,ph);var Uu=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,ei=Math.imul(uo,Sh),Y=Math.imul(uo,ph),Y=Y+Math.imul(un,Sh)|0,Xr=Math.imul(un,ph),ei=ei+Math.imul(Mn,Th)|0,Y=Y+Math.imul(Mn,$h)|0,Y=Y+Math.imul(Bn,Th)|0,Xr=Xr+Math.imul(Bn,$h)|0;var nc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(nc>>>26)|0,nc&=67108863,ei=Math.imul(An,Sh),Y=Math.imul(An,ph),Y=Y+Math.imul(an,Sh)|0,Xr=Math.imul(an,ph),ei=ei+Math.imul(uo,Th)|0,Y=Y+Math.imul(uo,$h)|0,Y=Y+Math.imul(un,Th)|0,Xr=Xr+Math.imul(un,$h)|0,ei=ei+Math.imul(Mn,Nh)|0,Y=Y+Math.imul(Mn,Ih)|0,Y=Y+Math.imul(Bn,Nh)|0,Xr=Xr+Math.imul(Bn,Ih)|0;var sc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(sc>>>26)|0,sc&=67108863,ei=Math.imul(ko,Sh),Y=Math.imul(ko,ph),Y=Y+Math.imul(Uo,Sh)|0,Xr=Math.imul(Uo,ph),ei=ei+Math.imul(An,Th)|0,Y=Y+Math.imul(An,$h)|0,Y=Y+Math.imul(an,Th)|0,Xr=Xr+Math.imul(an,$h)|0,ei=ei+Math.imul(uo,Nh)|0,Y=Y+Math.imul(uo,Ih)|0,Y=Y+Math.imul(un,Nh)|0,Xr=Xr+Math.imul(un,Ih)|0,ei=ei+Math.imul(Mn,Lh)|0,Y=Y+Math.imul(Mn,wh)|0,Y=Y+Math.imul(Bn,Lh)|0,Xr=Xr+Math.imul(Bn,wh)|0;var ac=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(ac>>>26)|0,ac&=67108863,ei=Math.imul(Vo,Sh),Y=Math.imul(Vo,ph),Y=Y+Math.imul(tf,Sh)|0,Xr=Math.imul(tf,ph),ei=ei+Math.imul(ko,Th)|0,Y=Y+Math.imul(ko,$h)|0,Y=Y+Math.imul(Uo,Th)|0,Xr=Xr+Math.imul(Uo,$h)|0,ei=ei+Math.imul(An,Nh)|0,Y=Y+Math.imul(An,Ih)|0,Y=Y+Math.imul(an,Nh)|0,Xr=Xr+Math.imul(an,Ih)|0,ei=ei+Math.imul(uo,Lh)|0,Y=Y+Math.imul(uo,wh)|0,Y=Y+Math.imul(un,Lh)|0,Xr=Xr+Math.imul(un,wh)|0,ei=ei+Math.imul(Mn,qh)|0,Y=Y+Math.imul(Mn,_h)|0,Y=Y+Math.imul(Bn,qh)|0,Xr=Xr+Math.imul(Bn,_h)|0;var oc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(oc>>>26)|0,oc&=67108863,ei=Math.imul(Rh,Sh),Y=Math.imul(Rh,ph),Y=Y+Math.imul(vh,Sh)|0,Xr=Math.imul(vh,ph),ei=ei+Math.imul(Vo,Th)|0,Y=Y+Math.imul(Vo,$h)|0,Y=Y+Math.imul(tf,Th)|0,Xr=Xr+Math.imul(tf,$h)|0,ei=ei+Math.imul(ko,Nh)|0,Y=Y+Math.imul(ko,Ih)|0,Y=Y+Math.imul(Uo,Nh)|0,Xr=Xr+Math.imul(Uo,Ih)|0,ei=ei+Math.imul(An,Lh)|0,Y=Y+Math.imul(An,wh)|0,Y=Y+Math.imul(an,Lh)|0,Xr=Xr+Math.imul(an,wh)|0,ei=ei+Math.imul(uo,qh)|0,Y=Y+Math.imul(uo,_h)|0,Y=Y+Math.imul(un,qh)|0,Xr=Xr+Math.imul(un,_h)|0,ei=ei+Math.imul(Mn,Dh)|0,Y=Y+Math.imul(Mn,xh)|0,Y=Y+Math.imul(Bn,Dh)|0,Xr=Xr+Math.imul(Bn,xh)|0;var fc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(fc>>>26)|0,fc&=67108863,ei=Math.imul(Vf,Sh),Y=Math.imul(Vf,ph),Y=Y+Math.imul(Zo,Sh)|0,Xr=Math.imul(Zo,ph),ei=ei+Math.imul(Rh,Th)|0,Y=Y+Math.imul(Rh,$h)|0,Y=Y+Math.imul(vh,Th)|0,Xr=Xr+Math.imul(vh,$h)|0,ei=ei+Math.imul(Vo,Nh)|0,Y=Y+Math.imul(Vo,Ih)|0,Y=Y+Math.imul(tf,Nh)|0,Xr=Xr+Math.imul(tf,Ih)|0,ei=ei+Math.imul(ko,Lh)|0,Y=Y+Math.imul(ko,wh)|0,Y=Y+Math.imul(Uo,Lh)|0,Xr=Xr+Math.imul(Uo,wh)|0,ei=ei+Math.imul(An,qh)|0,Y=Y+Math.imul(An,_h)|0,Y=Y+Math.imul(an,qh)|0,Xr=Xr+Math.imul(an,_h)|0,ei=ei+Math.imul(uo,Dh)|0,Y=Y+Math.imul(uo,xh)|0,Y=Y+Math.imul(un,Dh)|0,Xr=Xr+Math.imul(un,xh)|0,ei=ei+Math.imul(Mn,Bh)|0,Y=Y+Math.imul(Mn,Eh)|0,Y=Y+Math.imul(Bn,Bh)|0,Xr=Xr+Math.imul(Bn,Eh)|0;var $0=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+($0>>>26)|0,$0&=67108863,ei=Math.imul(Qf,Sh),Y=Math.imul(Qf,ph),Y=Y+Math.imul(Ko,Sh)|0,Xr=Math.imul(Ko,ph),ei=ei+Math.imul(Vf,Th)|0,Y=Y+Math.imul(Vf,$h)|0,Y=Y+Math.imul(Zo,Th)|0,Xr=Xr+Math.imul(Zo,$h)|0,ei=ei+Math.imul(Rh,Nh)|0,Y=Y+Math.imul(Rh,Ih)|0,Y=Y+Math.imul(vh,Nh)|0,Xr=Xr+Math.imul(vh,Ih)|0,ei=ei+Math.imul(Vo,Lh)|0,Y=Y+Math.imul(Vo,wh)|0,Y=Y+Math.imul(tf,Lh)|0,Xr=Xr+Math.imul(tf,wh)|0,ei=ei+Math.imul(ko,qh)|0,Y=Y+Math.imul(ko,_h)|0,Y=Y+Math.imul(Uo,qh)|0,Xr=Xr+Math.imul(Uo,_h)|0,ei=ei+Math.imul(An,Dh)|0,Y=Y+Math.imul(An,xh)|0,Y=Y+Math.imul(an,Dh)|0,Xr=Xr+Math.imul(an,xh)|0,ei=ei+Math.imul(uo,Bh)|0,Y=Y+Math.imul(uo,Eh)|0,Y=Y+Math.imul(un,Bh)|0,Xr=Xr+Math.imul(un,Eh)|0,ei=ei+Math.imul(Mn,Ch)|0,Y=Y+Math.imul(Mn,Mh)|0,Y=Y+Math.imul(Bn,Ch)|0,Xr=Xr+Math.imul(Bn,Mh)|0;var lc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(lc>>>26)|0,lc&=67108863,ei=Math.imul(Xf,Sh),Y=Math.imul(Xf,ph),Y=Y+Math.imul(Lf,Sh)|0,Xr=Math.imul(Lf,ph),ei=ei+Math.imul(Qf,Th)|0,Y=Y+Math.imul(Qf,$h)|0,Y=Y+Math.imul(Ko,Th)|0,Xr=Xr+Math.imul(Ko,$h)|0,ei=ei+Math.imul(Vf,Nh)|0,Y=Y+Math.imul(Vf,Ih)|0,Y=Y+Math.imul(Zo,Nh)|0,Xr=Xr+Math.imul(Zo,Ih)|0,ei=ei+Math.imul(Rh,Lh)|0,Y=Y+Math.imul(Rh,wh)|0,Y=Y+Math.imul(vh,Lh)|0,Xr=Xr+Math.imul(vh,wh)|0,ei=ei+Math.imul(Vo,qh)|0,Y=Y+Math.imul(Vo,_h)|0,Y=Y+Math.imul(tf,qh)|0,Xr=Xr+Math.imul(tf,_h)|0,ei=ei+Math.imul(ko,Dh)|0,Y=Y+Math.imul(ko,xh)|0,Y=Y+Math.imul(Uo,Dh)|0,Xr=Xr+Math.imul(Uo,xh)|0,ei=ei+Math.imul(An,Bh)|0,Y=Y+Math.imul(An,Eh)|0,Y=Y+Math.imul(an,Bh)|0,Xr=Xr+Math.imul(an,Eh)|0,ei=ei+Math.imul(uo,Ch)|0,Y=Y+Math.imul(uo,Mh)|0,Y=Y+Math.imul(un,Ch)|0,Xr=Xr+Math.imul(un,Mh)|0,ei=ei+Math.imul(Mn,Oh)|0,Y=Y+Math.imul(Mn,Ah)|0,Y=Y+Math.imul(Bn,Oh)|0,Xr=Xr+Math.imul(Bn,Ah)|0;var gc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(gc>>>26)|0,gc&=67108863,ei=Math.imul(bh,Sh),Y=Math.imul(bh,ph),Y=Y+Math.imul(jf,Sh)|0,Xr=Math.imul(jf,ph),ei=ei+Math.imul(Xf,Th)|0,Y=Y+Math.imul(Xf,$h)|0,Y=Y+Math.imul(Lf,Th)|0,Xr=Xr+Math.imul(Lf,$h)|0,ei=ei+Math.imul(Qf,Nh)|0,Y=Y+Math.imul(Qf,Ih)|0,Y=Y+Math.imul(Ko,Nh)|0,Xr=Xr+Math.imul(Ko,Ih)|0,ei=ei+Math.imul(Vf,Lh)|0,Y=Y+Math.imul(Vf,wh)|0,Y=Y+Math.imul(Zo,Lh)|0,Xr=Xr+Math.imul(Zo,wh)|0,ei=ei+Math.imul(Rh,qh)|0,Y=Y+Math.imul(Rh,_h)|0,Y=Y+Math.imul(vh,qh)|0,Xr=Xr+Math.imul(vh,_h)|0,ei=ei+Math.imul(Vo,Dh)|0,Y=Y+Math.imul(Vo,xh)|0,Y=Y+Math.imul(tf,Dh)|0,Xr=Xr+Math.imul(tf,xh)|0,ei=ei+Math.imul(ko,Bh)|0,Y=Y+Math.imul(ko,Eh)|0,Y=Y+Math.imul(Uo,Bh)|0,Xr=Xr+Math.imul(Uo,Eh)|0,ei=ei+Math.imul(An,Ch)|0,Y=Y+Math.imul(An,Mh)|0,Y=Y+Math.imul(an,Ch)|0,Xr=Xr+Math.imul(an,Mh)|0,ei=ei+Math.imul(uo,Oh)|0,Y=Y+Math.imul(uo,Ah)|0,Y=Y+Math.imul(un,Oh)|0,Xr=Xr+Math.imul(un,Ah)|0,ei=ei+Math.imul(Mn,jh)|0,Y=Y+Math.imul(Mn,Ph)|0,Y=Y+Math.imul(Bn,jh)|0,Xr=Xr+Math.imul(Bn,Ph)|0;var dc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(dc>>>26)|0,dc&=67108863,ei=Math.imul(bh,Th),Y=Math.imul(bh,$h),Y=Y+Math.imul(jf,Th)|0,Xr=Math.imul(jf,$h),ei=ei+Math.imul(Xf,Nh)|0,Y=Y+Math.imul(Xf,Ih)|0,Y=Y+Math.imul(Lf,Nh)|0,Xr=Xr+Math.imul(Lf,Ih)|0,ei=ei+Math.imul(Qf,Lh)|0,Y=Y+Math.imul(Qf,wh)|0,Y=Y+Math.imul(Ko,Lh)|0,Xr=Xr+Math.imul(Ko,wh)|0,ei=ei+Math.imul(Vf,qh)|0,Y=Y+Math.imul(Vf,_h)|0,Y=Y+Math.imul(Zo,qh)|0,Xr=Xr+Math.imul(Zo,_h)|0,ei=ei+Math.imul(Rh,Dh)|0,Y=Y+Math.imul(Rh,xh)|0,Y=Y+Math.imul(vh,Dh)|0,Xr=Xr+Math.imul(vh,xh)|0,ei=ei+Math.imul(Vo,Bh)|0,Y=Y+Math.imul(Vo,Eh)|0,Y=Y+Math.imul(tf,Bh)|0,Xr=Xr+Math.imul(tf,Eh)|0,ei=ei+Math.imul(ko,Ch)|0,Y=Y+Math.imul(ko,Mh)|0,Y=Y+Math.imul(Uo,Ch)|0,Xr=Xr+Math.imul(Uo,Mh)|0,ei=ei+Math.imul(An,Oh)|0,Y=Y+Math.imul(An,Ah)|0,Y=Y+Math.imul(an,Oh)|0,Xr=Xr+Math.imul(an,Ah)|0,ei=ei+Math.imul(uo,jh)|0,Y=Y+Math.imul(uo,Ph)|0,Y=Y+Math.imul(un,jh)|0,Xr=Xr+Math.imul(un,Ph)|0;var bc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(bc>>>26)|0,bc&=67108863,ei=Math.imul(bh,Nh),Y=Math.imul(bh,Ih),Y=Y+Math.imul(jf,Nh)|0,Xr=Math.imul(jf,Ih),ei=ei+Math.imul(Xf,Lh)|0,Y=Y+Math.imul(Xf,wh)|0,Y=Y+Math.imul(Lf,Lh)|0,Xr=Xr+Math.imul(Lf,wh)|0,ei=ei+Math.imul(Qf,qh)|0,Y=Y+Math.imul(Qf,_h)|0,Y=Y+Math.imul(Ko,qh)|0,Xr=Xr+Math.imul(Ko,_h)|0,ei=ei+Math.imul(Vf,Dh)|0,Y=Y+Math.imul(Vf,xh)|0,Y=Y+Math.imul(Zo,Dh)|0,Xr=Xr+Math.imul(Zo,xh)|0,ei=ei+Math.imul(Rh,Bh)|0,Y=Y+Math.imul(Rh,Eh)|0,Y=Y+Math.imul(vh,Bh)|0,Xr=Xr+Math.imul(vh,Eh)|0,ei=ei+Math.imul(Vo,Ch)|0,Y=Y+Math.imul(Vo,Mh)|0,Y=Y+Math.imul(tf,Ch)|0,Xr=Xr+Math.imul(tf,Mh)|0,ei=ei+Math.imul(ko,Oh)|0,Y=Y+Math.imul(ko,Ah)|0,Y=Y+Math.imul(Uo,Oh)|0,Xr=Xr+Math.imul(Uo,Ah)|0,ei=ei+Math.imul(An,jh)|0,Y=Y+Math.imul(An,Ph)|0,Y=Y+Math.imul(an,jh)|0,Xr=Xr+Math.imul(an,Ph)|0;var yc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(yc>>>26)|0,yc&=67108863,ei=Math.imul(bh,Lh),Y=Math.imul(bh,wh),Y=Y+Math.imul(jf,Lh)|0,Xr=Math.imul(jf,wh),ei=ei+Math.imul(Xf,qh)|0,Y=Y+Math.imul(Xf,_h)|0,Y=Y+Math.imul(Lf,qh)|0,Xr=Xr+Math.imul(Lf,_h)|0,ei=ei+Math.imul(Qf,Dh)|0,Y=Y+Math.imul(Qf,xh)|0,Y=Y+Math.imul(Ko,Dh)|0,Xr=Xr+Math.imul(Ko,xh)|0,ei=ei+Math.imul(Vf,Bh)|0,Y=Y+Math.imul(Vf,Eh)|0,Y=Y+Math.imul(Zo,Bh)|0,Xr=Xr+Math.imul(Zo,Eh)|0,ei=ei+Math.imul(Rh,Ch)|0,Y=Y+Math.imul(Rh,Mh)|0,Y=Y+Math.imul(vh,Ch)|0,Xr=Xr+Math.imul(vh,Mh)|0,ei=ei+Math.imul(Vo,Oh)|0,Y=Y+Math.imul(Vo,Ah)|0,Y=Y+Math.imul(tf,Oh)|0,Xr=Xr+Math.imul(tf,Ah)|0,ei=ei+Math.imul(ko,jh)|0,Y=Y+Math.imul(ko,Ph)|0,Y=Y+Math.imul(Uo,jh)|0,Xr=Xr+Math.imul(Uo,Ph)|0;var pc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(pc>>>26)|0,pc&=67108863,ei=Math.imul(bh,qh),Y=Math.imul(bh,_h),Y=Y+Math.imul(jf,qh)|0,Xr=Math.imul(jf,_h),ei=ei+Math.imul(Xf,Dh)|0,Y=Y+Math.imul(Xf,xh)|0,Y=Y+Math.imul(Lf,Dh)|0,Xr=Xr+Math.imul(Lf,xh)|0,ei=ei+Math.imul(Qf,Bh)|0,Y=Y+Math.imul(Qf,Eh)|0,Y=Y+Math.imul(Ko,Bh)|0,Xr=Xr+Math.imul(Ko,Eh)|0,ei=ei+Math.imul(Vf,Ch)|0,Y=Y+Math.imul(Vf,Mh)|0,Y=Y+Math.imul(Zo,Ch)|0,Xr=Xr+Math.imul(Zo,Mh)|0,ei=ei+Math.imul(Rh,Oh)|0,Y=Y+Math.imul(Rh,Ah)|0,Y=Y+Math.imul(vh,Oh)|0,Xr=Xr+Math.imul(vh,Ah)|0,ei=ei+Math.imul(Vo,jh)|0,Y=Y+Math.imul(Vo,Ph)|0,Y=Y+Math.imul(tf,jh)|0,Xr=Xr+Math.imul(tf,Ph)|0;var vc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(vc>>>26)|0,vc&=67108863,ei=Math.imul(bh,Dh),Y=Math.imul(bh,xh),Y=Y+Math.imul(jf,Dh)|0,Xr=Math.imul(jf,xh),ei=ei+Math.imul(Xf,Bh)|0,Y=Y+Math.imul(Xf,Eh)|0,Y=Y+Math.imul(Lf,Bh)|0,Xr=Xr+Math.imul(Lf,Eh)|0,ei=ei+Math.imul(Qf,Ch)|0,Y=Y+Math.imul(Qf,Mh)|0,Y=Y+Math.imul(Ko,Ch)|0,Xr=Xr+Math.imul(Ko,Mh)|0,ei=ei+Math.imul(Vf,Oh)|0,Y=Y+Math.imul(Vf,Ah)|0,Y=Y+Math.imul(Zo,Oh)|0,Xr=Xr+Math.imul(Zo,Ah)|0,ei=ei+Math.imul(Rh,jh)|0,Y=Y+Math.imul(Rh,Ph)|0,Y=Y+Math.imul(vh,jh)|0,Xr=Xr+Math.imul(vh,Ph)|0;var mc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(mc>>>26)|0,mc&=67108863,ei=Math.imul(bh,Bh),Y=Math.imul(bh,Eh),Y=Y+Math.imul(jf,Bh)|0,Xr=Math.imul(jf,Eh),ei=ei+Math.imul(Xf,Ch)|0,Y=Y+Math.imul(Xf,Mh)|0,Y=Y+Math.imul(Lf,Ch)|0,Xr=Xr+Math.imul(Lf,Mh)|0,ei=ei+Math.imul(Qf,Oh)|0,Y=Y+Math.imul(Qf,Ah)|0,Y=Y+Math.imul(Ko,Oh)|0,Xr=Xr+Math.imul(Ko,Ah)|0,ei=ei+Math.imul(Vf,jh)|0,Y=Y+Math.imul(Vf,Ph)|0,Y=Y+Math.imul(Zo,jh)|0,Xr=Xr+Math.imul(Zo,Ph)|0;var tc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(tc>>>26)|0,tc&=67108863,ei=Math.imul(bh,Ch),Y=Math.imul(bh,Mh),Y=Y+Math.imul(jf,Ch)|0,Xr=Math.imul(jf,Mh),ei=ei+Math.imul(Xf,Oh)|0,Y=Y+Math.imul(Xf,Ah)|0,Y=Y+Math.imul(Lf,Oh)|0,Xr=Xr+Math.imul(Lf,Ah)|0,ei=ei+Math.imul(Qf,jh)|0,Y=Y+Math.imul(Qf,Ph)|0,Y=Y+Math.imul(Ko,jh)|0,Xr=Xr+Math.imul(Ko,Ph)|0;var wc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(wc>>>26)|0,wc&=67108863,ei=Math.imul(bh,Oh),Y=Math.imul(bh,Ah),Y=Y+Math.imul(jf,Oh)|0,Xr=Math.imul(jf,Ah),ei=ei+Math.imul(Xf,jh)|0,Y=Y+Math.imul(Xf,Ph)|0,Y=Y+Math.imul(Lf,jh)|0,Xr=Xr+Math.imul(Lf,Ph)|0;var _c=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(_c>>>26)|0,_c&=67108863,ei=Math.imul(bh,jh),Y=Math.imul(bh,Ph),Y=Y+Math.imul(jf,jh)|0,Xr=Math.imul(jf,Ph);var Mc=(oi+ei|0)+((Y&8191)<<13)|0;return oi=(Xr+(Y>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,ii[0]=Uu,ii[1]=nc,ii[2]=sc,ii[3]=ac,ii[4]=oc,ii[5]=fc,ii[6]=$0,ii[7]=lc,ii[8]=gc,ii[9]=dc,ii[10]=bc,ii[11]=yc,ii[12]=pc,ii[13]=vc,ii[14]=mc,ii[15]=tc,ii[16]=wc,ii[17]=_c,ii[18]=Mc,oi!==0&&(ii[19]=oi,Br.length++),Br};Math.imul||(sn=$i);function ln(ui,H,X){X.negative=H.negative^ui.negative,X.length=ui.length+H.length;for(var Br=0,Wr=0,ri=0;ri<X.length-1;ri++){var ii=Wr;Wr=0;for(var oi=Br&67108863,ei=Math.min(ri,H.length-1),Y=Math.max(0,ri-ui.length+1);Y<=ei;Y++){var Xr=ri-Y,on=ui.words[Xr]|0,Mn=H.words[Y]|0,Bn=on*Mn,fn=Bn&67108863;ii=ii+(Bn/67108864|0)|0,fn=fn+oi|0,oi=fn&67108863,ii=ii+(fn>>>26)|0,Wr+=ii>>>26,ii&=67108863}X.words[ri]=oi,Br=ii,ii=Wr}return Br!==0?X.words[ri]=Br:X.length--,X.strip()}function mn(ui,H,X){var Br=new cn;return Br.mulp(ui,H,X)}Ie.prototype.mulTo=function(H,X){var Br,Wr=this.length+H.length;return this.length===10&&H.length===10?Br=sn(this,H,X):Wr<63?Br=$i(this,H,X):Wr<1024?Br=ln(this,H,X):Br=mn(this,H,X),Br};function cn(ui,H){this.x=ui,this.y=H}cn.prototype.makeRBT=function(H){for(var X=new Array(H),Br=Ie.prototype._countBits(H)-1,Wr=0;Wr<H;Wr++)X[Wr]=this.revBin(Wr,Br,H);return X},cn.prototype.revBin=function(H,X,Br){if(H===0||H===Br-1)return H;for(var Wr=0,ri=0;ri<X;ri++)Wr|=(H&1)<<X-ri-1,H>>=1;return Wr},cn.prototype.permute=function(H,X,Br,Wr,ri,ii){for(var oi=0;oi<ii;oi++)Wr[oi]=X[H[oi]],ri[oi]=Br[H[oi]]},cn.prototype.transform=function(H,X,Br,Wr,ri,ii){this.permute(ii,H,X,Br,Wr,ri);for(var oi=1;oi<ri;oi<<=1)for(var ei=oi<<1,Y=Math.cos(2*Math.PI/ei),Xr=Math.sin(2*Math.PI/ei),on=0;on<ri;on+=ei)for(var Mn=Y,Bn=Xr,fn=0;fn<oi;fn++){var uo=Br[on+fn],un=Wr[on+fn],gn=Br[on+fn+oi],An=Wr[on+fn+oi],an=Mn*gn-Bn*An;An=Mn*An+Bn*gn,gn=an,Br[on+fn]=uo+gn,Wr[on+fn]=un+An,Br[on+fn+oi]=uo-gn,Wr[on+fn+oi]=un-An,fn!==ei&&(an=Y*Mn-Xr*Bn,Bn=Y*Bn+Xr*Mn,Mn=an)}},cn.prototype.guessLen13b=function(H,X){var Br=Math.max(X,H)|1,Wr=Br&1,ri=0;for(Br=Br/2|0;Br;Br=Br>>>1)ri++;return 1<<ri+1+Wr},cn.prototype.conjugate=function(H,X,Br){if(!(Br<=1))for(var Wr=0;Wr<Br/2;Wr++){var ri=H[Wr];H[Wr]=H[Br-Wr-1],H[Br-Wr-1]=ri,ri=X[Wr],X[Wr]=-X[Br-Wr-1],X[Br-Wr-1]=-ri}},cn.prototype.normalize13b=function(H,X){for(var Br=0,Wr=0;Wr<X/2;Wr++){var ri=Math.round(H[2*Wr+1]/X)*8192+Math.round(H[2*Wr]/X)+Br;H[Wr]=ri&67108863,ri<67108864?Br=0:Br=ri/67108864|0}return H},cn.prototype.convert13b=function(H,X,Br,Wr){for(var ri=0,ii=0;ii<X;ii++)ri=ri+(H[ii]|0),Br[2*ii]=ri&8191,ri=ri>>>13,Br[2*ii+1]=ri&8191,ri=ri>>>13;for(ii=2*X;ii<Wr;++ii)Br[ii]=0;Te(ri===0),Te((ri&-8192)===0)},cn.prototype.stub=function(H){for(var X=new Array(H),Br=0;Br<H;Br++)X[Br]=0;return X},cn.prototype.mulp=function(H,X,Br){var Wr=2*this.guessLen13b(H.length,X.length),ri=this.makeRBT(Wr),ii=this.stub(Wr),oi=new Array(Wr),ei=new Array(Wr),Y=new Array(Wr),Xr=new Array(Wr),on=new Array(Wr),Mn=new Array(Wr),Bn=Br.words;Bn.length=Wr,this.convert13b(H.words,H.length,oi,Wr),this.convert13b(X.words,X.length,Xr,Wr),this.transform(oi,ii,ei,Y,Wr,ri),this.transform(Xr,ii,on,Mn,Wr,ri);for(var fn=0;fn<Wr;fn++){var uo=ei[fn]*on[fn]-Y[fn]*Mn[fn];Y[fn]=ei[fn]*Mn[fn]+Y[fn]*on[fn],ei[fn]=uo}return this.conjugate(ei,Y,Wr),this.transform(ei,Y,Bn,ii,Wr,ri),this.conjugate(Bn,ii,Wr),this.normalize13b(Bn,Wr),Br.negative=H.negative^X.negative,Br.length=H.length+X.length,Br.strip()},Ie.prototype.mul=function(H){var X=new Ie(null);return X.words=new Array(this.length+H.length),this.mulTo(H,X)},Ie.prototype.mulf=function(H){var X=new Ie(null);return X.words=new Array(this.length+H.length),mn(this,H,X)},Ie.prototype.imul=function(H){return this.clone().mulTo(H,this)},Ie.prototype.imuln=function(H){Te(typeof H=="number"),Te(H<67108864);for(var X=0,Br=0;Br<this.length;Br++){var Wr=(this.words[Br]|0)*H,ri=(Wr&67108863)+(X&67108863);X>>=26,X+=Wr/67108864|0,X+=ri>>>26,this.words[Br]=ri&67108863}return X!==0&&(this.words[Br]=X,this.length++),this},Ie.prototype.muln=function(H){return this.clone().imuln(H)},Ie.prototype.sqr=function(){return this.mul(this)},Ie.prototype.isqr=function(){return this.imul(this.clone())},Ie.prototype.pow=function(H){var X=di(H);if(X.length===0)return new Ie(1);for(var Br=this,Wr=0;Wr<X.length&&X[Wr]===0;Wr++,Br=Br.sqr());if(++Wr<X.length)for(var ri=Br.sqr();Wr<X.length;Wr++,ri=ri.sqr())X[Wr]!==0&&(Br=Br.mul(ri));return Br},Ie.prototype.iushln=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26,Wr=67108863>>>26-X<<26-X,ri;if(X!==0){var ii=0;for(ri=0;ri<this.length;ri++){var oi=this.words[ri]&Wr,ei=(this.words[ri]|0)-oi<<X;this.words[ri]=ei|ii,ii=oi>>>26-X}ii&&(this.words[ri]=ii,this.length++)}if(Br!==0){for(ri=this.length-1;ri>=0;ri--)this.words[ri+Br]=this.words[ri];for(ri=0;ri<Br;ri++)this.words[ri]=0;this.length+=Br}return this.strip()},Ie.prototype.ishln=function(H){return Te(this.negative===0),this.iushln(H)},Ie.prototype.iushrn=function(H,X,Br){Te(typeof H=="number"&&H>=0);var Wr;X?Wr=(X-X%26)/26:Wr=0;var ri=H%26,ii=Math.min((H-ri)/26,this.length),oi=67108863^67108863>>>ri<<ri,ei=Br;if(Wr-=ii,Wr=Math.max(0,Wr),ei){for(var Y=0;Y<ii;Y++)ei.words[Y]=this.words[Y];ei.length=ii}if(ii!==0)if(this.length>ii)for(this.length-=ii,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+ii];else this.words[0]=0,this.length=1;var Xr=0;for(Y=this.length-1;Y>=0&&(Xr!==0||Y>=Wr);Y--){var on=this.words[Y]|0;this.words[Y]=Xr<<26-ri|on>>>ri,Xr=on&oi}return ei&&Xr!==0&&(ei.words[ei.length++]=Xr),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ie.prototype.ishrn=function(H,X,Br){return Te(this.negative===0),this.iushrn(H,X,Br)},Ie.prototype.shln=function(H){return this.clone().ishln(H)},Ie.prototype.ushln=function(H){return this.clone().iushln(H)},Ie.prototype.shrn=function(H){return this.clone().ishrn(H)},Ie.prototype.ushrn=function(H){return this.clone().iushrn(H)},Ie.prototype.testn=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26,Wr=1<<X;if(this.length<=Br)return!1;var ri=this.words[Br];return!!(ri&Wr)},Ie.prototype.imaskn=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26;if(Te(this.negative===0,"imaskn works only with positive numbers"),this.length<=Br)return this;if(X!==0&&Br++,this.length=Math.min(Br,this.length),X!==0){var Wr=67108863^67108863>>>X<<X;this.words[this.length-1]&=Wr}return this.strip()},Ie.prototype.maskn=function(H){return this.clone().imaskn(H)},Ie.prototype.iaddn=function(H){return Te(typeof H=="number"),Te(H<67108864),H<0?this.isubn(-H):this.negative!==0?this.length===1&&(this.words[0]|0)<H?(this.words[0]=H-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(H),this.negative=1,this):this._iaddn(H)},Ie.prototype._iaddn=function(H){this.words[0]+=H;for(var X=0;X<this.length&&this.words[X]>=67108864;X++)this.words[X]-=67108864,X===this.length-1?this.words[X+1]=1:this.words[X+1]++;return this.length=Math.max(this.length,X+1),this},Ie.prototype.isubn=function(H){if(Te(typeof H=="number"),Te(H<67108864),H<0)return this.iaddn(-H);if(this.negative!==0)return this.negative=0,this.iaddn(H),this.negative=1,this;if(this.words[0]-=H,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var X=0;X<this.length&&this.words[X]<0;X++)this.words[X]+=67108864,this.words[X+1]-=1;return this.strip()},Ie.prototype.addn=function(H){return this.clone().iaddn(H)},Ie.prototype.subn=function(H){return this.clone().isubn(H)},Ie.prototype.iabs=function(){return this.negative=0,this},Ie.prototype.abs=function(){return this.clone().iabs()},Ie.prototype._ishlnsubmul=function(H,X,Br){var Wr=H.length+Br,ri;this._expand(Wr);var ii,oi=0;for(ri=0;ri<H.length;ri++){ii=(this.words[ri+Br]|0)+oi;var ei=(H.words[ri]|0)*X;ii-=ei&67108863,oi=(ii>>26)-(ei/67108864|0),this.words[ri+Br]=ii&67108863}for(;ri<this.length-Br;ri++)ii=(this.words[ri+Br]|0)+oi,oi=ii>>26,this.words[ri+Br]=ii&67108863;if(oi===0)return this.strip();for(Te(oi===-1),oi=0,ri=0;ri<this.length;ri++)ii=-(this.words[ri]|0)+oi,oi=ii>>26,this.words[ri]=ii&67108863;return this.negative=1,this.strip()},Ie.prototype._wordDiv=function(H,X){var Br=this.length-H.length,Wr=this.clone(),ri=H,ii=ri.words[ri.length-1]|0,oi=this._countBits(ii);Br=26-oi,Br!==0&&(ri=ri.ushln(Br),Wr.iushln(Br),ii=ri.words[ri.length-1]|0);var ei=Wr.length-ri.length,Y;if(X!=="mod"){Y=new Ie(null),Y.length=ei+1,Y.words=new Array(Y.length);for(var Xr=0;Xr<Y.length;Xr++)Y.words[Xr]=0}var on=Wr.clone()._ishlnsubmul(ri,1,ei);on.negative===0&&(Wr=on,Y&&(Y.words[ei]=1));for(var Mn=ei-1;Mn>=0;Mn--){var Bn=(Wr.words[ri.length+Mn]|0)*67108864+(Wr.words[ri.length+Mn-1]|0);for(Bn=Math.min(Bn/ii|0,67108863),Wr._ishlnsubmul(ri,Bn,Mn);Wr.negative!==0;)Bn--,Wr.negative=0,Wr._ishlnsubmul(ri,1,Mn),Wr.isZero()||(Wr.negative^=1);Y&&(Y.words[Mn]=Bn)}return Y&&Y.strip(),Wr.strip(),X!=="div"&&Br!==0&&Wr.iushrn(Br),{div:Y||null,mod:Wr}},Ie.prototype.divmod=function(H,X,Br){if(Te(!H.isZero()),this.isZero())return{div:new Ie(0),mod:new Ie(0)};var Wr,ri,ii;return this.negative!==0&&H.negative===0?(ii=this.neg().divmod(H,X),X!=="mod"&&(Wr=ii.div.neg()),X!=="div"&&(ri=ii.mod.neg(),Br&&ri.negative!==0&&ri.iadd(H)),{div:Wr,mod:ri}):this.negative===0&&H.negative!==0?(ii=this.divmod(H.neg(),X),X!=="mod"&&(Wr=ii.div.neg()),{div:Wr,mod:ii.mod}):this.negative&H.negative?(ii=this.neg().divmod(H.neg(),X),X!=="div"&&(ri=ii.mod.neg(),Br&&ri.negative!==0&&ri.isub(H)),{div:ii.div,mod:ri}):H.length>this.length||this.cmp(H)<0?{div:new Ie(0),mod:this}:H.length===1?X==="div"?{div:this.divn(H.words[0]),mod:null}:X==="mod"?{div:null,mod:new Ie(this.modn(H.words[0]))}:{div:this.divn(H.words[0]),mod:new Ie(this.modn(H.words[0]))}:this._wordDiv(H,X)},Ie.prototype.div=function(H){return this.divmod(H,"div",!1).div},Ie.prototype.mod=function(H){return this.divmod(H,"mod",!1).mod},Ie.prototype.umod=function(H){return this.divmod(H,"mod",!0).mod},Ie.prototype.divRound=function(H){var X=this.divmod(H);if(X.mod.isZero())return X.div;var Br=X.div.negative!==0?X.mod.isub(H):X.mod,Wr=H.ushrn(1),ri=H.andln(1),ii=Br.cmp(Wr);return ii<0||ri===1&&ii===0?X.div:X.div.negative!==0?X.div.isubn(1):X.div.iaddn(1)},Ie.prototype.modn=function(H){Te(H<=67108863);for(var X=(1<<26)%H,Br=0,Wr=this.length-1;Wr>=0;Wr--)Br=(X*Br+(this.words[Wr]|0))%H;return Br},Ie.prototype.idivn=function(H){Te(H<=67108863);for(var X=0,Br=this.length-1;Br>=0;Br--){var Wr=(this.words[Br]|0)+X*67108864;this.words[Br]=Wr/H|0,X=Wr%H}return this.strip()},Ie.prototype.divn=function(H){return this.clone().idivn(H)},Ie.prototype.egcd=function(H){Te(H.negative===0),Te(!H.isZero());var X=this,Br=H.clone();X.negative!==0?X=X.umod(H):X=X.clone();for(var Wr=new Ie(1),ri=new Ie(0),ii=new Ie(0),oi=new Ie(1),ei=0;X.isEven()&&Br.isEven();)X.iushrn(1),Br.iushrn(1),++ei;for(var Y=Br.clone(),Xr=X.clone();!X.isZero();){for(var on=0,Mn=1;!(X.words[0]&Mn)&&on<26;++on,Mn<<=1);if(on>0)for(X.iushrn(on);on-- >0;)(Wr.isOdd()||ri.isOdd())&&(Wr.iadd(Y),ri.isub(Xr)),Wr.iushrn(1),ri.iushrn(1);for(var Bn=0,fn=1;!(Br.words[0]&fn)&&Bn<26;++Bn,fn<<=1);if(Bn>0)for(Br.iushrn(Bn);Bn-- >0;)(ii.isOdd()||oi.isOdd())&&(ii.iadd(Y),oi.isub(Xr)),ii.iushrn(1),oi.iushrn(1);X.cmp(Br)>=0?(X.isub(Br),Wr.isub(ii),ri.isub(oi)):(Br.isub(X),ii.isub(Wr),oi.isub(ri))}return{a:ii,b:oi,gcd:Br.iushln(ei)}},Ie.prototype._invmp=function(H){Te(H.negative===0),Te(!H.isZero());var X=this,Br=H.clone();X.negative!==0?X=X.umod(H):X=X.clone();for(var Wr=new Ie(1),ri=new Ie(0),ii=Br.clone();X.cmpn(1)>0&&Br.cmpn(1)>0;){for(var oi=0,ei=1;!(X.words[0]&ei)&&oi<26;++oi,ei<<=1);if(oi>0)for(X.iushrn(oi);oi-- >0;)Wr.isOdd()&&Wr.iadd(ii),Wr.iushrn(1);for(var Y=0,Xr=1;!(Br.words[0]&Xr)&&Y<26;++Y,Xr<<=1);if(Y>0)for(Br.iushrn(Y);Y-- >0;)ri.isOdd()&&ri.iadd(ii),ri.iushrn(1);X.cmp(Br)>=0?(X.isub(Br),Wr.isub(ri)):(Br.isub(X),ri.isub(Wr))}var on;return X.cmpn(1)===0?on=Wr:on=ri,on.cmpn(0)<0&&on.iadd(H),on},Ie.prototype.gcd=function(H){if(this.isZero())return H.abs();if(H.isZero())return this.abs();var X=this.clone(),Br=H.clone();X.negative=0,Br.negative=0;for(var Wr=0;X.isEven()&&Br.isEven();Wr++)X.iushrn(1),Br.iushrn(1);do{for(;X.isEven();)X.iushrn(1);for(;Br.isEven();)Br.iushrn(1);var ri=X.cmp(Br);if(ri<0){var ii=X;X=Br,Br=ii}else if(ri===0||Br.cmpn(1)===0)break;X.isub(Br)}while(!0);return Br.iushln(Wr)},Ie.prototype.invm=function(H){return this.egcd(H).a.umod(H)},Ie.prototype.isEven=function(){return(this.words[0]&1)===0},Ie.prototype.isOdd=function(){return(this.words[0]&1)===1},Ie.prototype.andln=function(H){return this.words[0]&H},Ie.prototype.bincn=function(H){Te(typeof H=="number");var X=H%26,Br=(H-X)/26,Wr=1<<X;if(this.length<=Br)return this._expand(Br+1),this.words[Br]|=Wr,this;for(var ri=Wr,ii=Br;ri!==0&&ii<this.length;ii++){var oi=this.words[ii]|0;oi+=ri,ri=oi>>>26,oi&=67108863,this.words[ii]=oi}return ri!==0&&(this.words[ii]=ri,this.length++),this},Ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ie.prototype.cmpn=function(H){var X=H<0;if(this.negative!==0&&!X)return-1;if(this.negative===0&&X)return 1;this.strip();var Br;if(this.length>1)Br=1;else{X&&(H=-H),Te(H<=67108863,"Number is too big");var Wr=this.words[0]|0;Br=Wr===H?0:Wr<H?-1:1}return this.negative!==0?-Br|0:Br},Ie.prototype.cmp=function(H){if(this.negative!==0&&H.negative===0)return-1;if(this.negative===0&&H.negative!==0)return 1;var X=this.ucmp(H);return this.negative!==0?-X|0:X},Ie.prototype.ucmp=function(H){if(this.length>H.length)return 1;if(this.length<H.length)return-1;for(var X=0,Br=this.length-1;Br>=0;Br--){var Wr=this.words[Br]|0,ri=H.words[Br]|0;if(Wr!==ri){Wr<ri?X=-1:Wr>ri&&(X=1);break}}return X},Ie.prototype.gtn=function(H){return this.cmpn(H)===1},Ie.prototype.gt=function(H){return this.cmp(H)===1},Ie.prototype.gten=function(H){return this.cmpn(H)>=0},Ie.prototype.gte=function(H){return this.cmp(H)>=0},Ie.prototype.ltn=function(H){return this.cmpn(H)===-1},Ie.prototype.lt=function(H){return this.cmp(H)===-1},Ie.prototype.lten=function(H){return this.cmpn(H)<=0},Ie.prototype.lte=function(H){return this.cmp(H)<=0},Ie.prototype.eqn=function(H){return this.cmpn(H)===0},Ie.prototype.eq=function(H){return this.cmp(H)===0},Ie.red=function(H){return new Do(H)},Ie.prototype.toRed=function(H){return Te(!this.red,"Already a number in reduction context"),Te(this.negative===0,"red works only with positives"),H.convertTo(this)._forceRed(H)},Ie.prototype.fromRed=function(){return Te(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ie.prototype._forceRed=function(H){return this.red=H,this},Ie.prototype.forceRed=function(H){return Te(!this.red,"Already a number in reduction context"),this._forceRed(H)},Ie.prototype.redAdd=function(H){return Te(this.red,"redAdd works only with red numbers"),this.red.add(this,H)},Ie.prototype.redIAdd=function(H){return Te(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,H)},Ie.prototype.redSub=function(H){return Te(this.red,"redSub works only with red numbers"),this.red.sub(this,H)},Ie.prototype.redISub=function(H){return Te(this.red,"redISub works only with red numbers"),this.red.isub(this,H)},Ie.prototype.redShl=function(H){return Te(this.red,"redShl works only with red numbers"),this.red.shl(this,H)},Ie.prototype.redMul=function(H){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.mul(this,H)},Ie.prototype.redIMul=function(H){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.imul(this,H)},Ie.prototype.redSqr=function(){return Te(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ie.prototype.redISqr=function(){return Te(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ie.prototype.redSqrt=function(){return Te(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ie.prototype.redInvm=function(){return Te(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ie.prototype.redNeg=function(){return Te(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ie.prototype.redPow=function(H){return Te(this.red&&!H.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,H)};var Rn={k256:null,p224:null,p192:null,p25519:null};function vn(ui,H){this.name=ui,this.p=new Ie(H,16),this.n=this.p.bitLength(),this.k=new Ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}vn.prototype._tmp=function(){var H=new Ie(null);return H.words=new Array(Math.ceil(this.n/13)),H},vn.prototype.ireduce=function(H){var X=H,Br;do this.split(X,this.tmp),X=this.imulK(X),X=X.iadd(this.tmp),Br=X.bitLength();while(Br>this.n);var Wr=Br<this.n?-1:X.ucmp(this.p);return Wr===0?(X.words[0]=0,X.length=1):Wr>0?X.isub(this.p):X.strip!==void 0?X.strip():X._strip(),X},vn.prototype.split=function(H,X){H.iushrn(this.n,0,X)},vn.prototype.imulK=function(H){return H.imul(this.k)};function Cn(){vn.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Zr(Cn,vn),Cn.prototype.split=function(H,X){for(var Br=4194303,Wr=Math.min(H.length,9),ri=0;ri<Wr;ri++)X.words[ri]=H.words[ri];if(X.length=Wr,H.length<=9){H.words[0]=0,H.length=1;return}var ii=H.words[9];for(X.words[X.length++]=ii&Br,ri=10;ri<H.length;ri++){var oi=H.words[ri]|0;H.words[ri-10]=(oi&Br)<<4|ii>>>22,ii=oi}ii>>>=22,H.words[ri-10]=ii,ii===0&&H.length>10?H.length-=10:H.length-=9},Cn.prototype.imulK=function(H){H.words[H.length]=0,H.words[H.length+1]=0,H.length+=2;for(var X=0,Br=0;Br<H.length;Br++){var Wr=H.words[Br]|0;X+=Wr*977,H.words[Br]=X&67108863,X=Wr*64+(X/67108864|0)}return H.words[H.length-1]===0&&(H.length--,H.words[H.length-1]===0&&H.length--),H};function ho(){vn.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Zr(ho,vn);function hn(){vn.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Zr(hn,vn);function Zn(){vn.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Zr(Zn,vn),Zn.prototype.imulK=function(H){for(var X=0,Br=0;Br<H.length;Br++){var Wr=(H.words[Br]|0)*19+X,ri=Wr&67108863;Wr>>>=26,H.words[Br]=ri,X=Wr}return X!==0&&(H.words[H.length++]=X),H},Ie._prime=function(H){if(Rn[H])return Rn[H];var X;if(H==="k256")X=new Cn;else if(H==="p224")X=new ho;else if(H==="p192")X=new hn;else if(H==="p25519")X=new Zn;else throw new Error("Unknown prime "+H);return Rn[H]=X,X};function Do(ui){if(typeof ui=="string"){var H=Ie._prime(ui);this.m=H.p,this.prime=H}else Te(ui.gtn(1),"modulus must be greater than 1"),this.m=ui,this.prime=null}Do.prototype._verify1=function(H){Te(H.negative===0,"red works only with positives"),Te(H.red,"red works only with red numbers")},Do.prototype._verify2=function(H,X){Te((H.negative|X.negative)===0,"red works only with positives"),Te(H.red&&H.red===X.red,"red works only with red numbers")},Do.prototype.imod=function(H){return this.prime?this.prime.ireduce(H)._forceRed(this):H.umod(this.m)._forceRed(this)},Do.prototype.neg=function(H){return H.isZero()?H.clone():this.m.sub(H)._forceRed(this)},Do.prototype.add=function(H,X){this._verify2(H,X);var Br=H.add(X);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br._forceRed(this)},Do.prototype.iadd=function(H,X){this._verify2(H,X);var Br=H.iadd(X);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br},Do.prototype.sub=function(H,X){this._verify2(H,X);var Br=H.sub(X);return Br.cmpn(0)<0&&Br.iadd(this.m),Br._forceRed(this)},Do.prototype.isub=function(H,X){this._verify2(H,X);var Br=H.isub(X);return Br.cmpn(0)<0&&Br.iadd(this.m),Br},Do.prototype.shl=function(H,X){return this._verify1(H),this.imod(H.ushln(X))},Do.prototype.imul=function(H,X){return this._verify2(H,X),this.imod(H.imul(X))},Do.prototype.mul=function(H,X){return this._verify2(H,X),this.imod(H.mul(X))},Do.prototype.isqr=function(H){return this.imul(H,H.clone())},Do.prototype.sqr=function(H){return this.mul(H,H)},Do.prototype.sqrt=function(H){if(H.isZero())return H.clone();var X=this.m.andln(3);if(Te(X%2===1),X===3){var Br=this.m.add(new Ie(1)).iushrn(2);return this.pow(H,Br)}for(var Wr=this.m.subn(1),ri=0;!Wr.isZero()&&Wr.andln(1)===0;)ri++,Wr.iushrn(1);Te(!Wr.isZero());var ii=new Ie(1).toRed(this),oi=ii.redNeg(),ei=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new Ie(2*Y*Y).toRed(this);this.pow(Y,ei).cmp(oi)!==0;)Y.redIAdd(oi);for(var Xr=this.pow(Y,Wr),on=this.pow(H,Wr.addn(1).iushrn(1)),Mn=this.pow(H,Wr),Bn=ri;Mn.cmp(ii)!==0;){for(var fn=Mn,uo=0;fn.cmp(ii)!==0;uo++)fn=fn.redSqr();Te(uo<Bn);var un=this.pow(Xr,new Ie(1).iushln(Bn-uo-1));on=on.redMul(un),Xr=un.redSqr(),Mn=Mn.redMul(Xr),Bn=uo}return on},Do.prototype.invm=function(H){var X=H._invmp(this.m);return X.negative!==0?(X.negative=0,this.imod(X).redNeg()):this.imod(X)},Do.prototype.pow=function(H,X){if(X.isZero())return new Ie(1).toRed(this);if(X.cmpn(1)===0)return H.clone();var Br=4,Wr=new Array(1<<Br);Wr[0]=new Ie(1).toRed(this),Wr[1]=H;for(var ri=2;ri<Wr.length;ri++)Wr[ri]=this.mul(Wr[ri-1],H);var ii=Wr[0],oi=0,ei=0,Y=X.bitLength()%26;for(Y===0&&(Y=26),ri=X.length-1;ri>=0;ri--){for(var Xr=X.words[ri],on=Y-1;on>=0;on--){var Mn=Xr>>on&1;if(ii!==Wr[0]&&(ii=this.sqr(ii)),Mn===0&&oi===0){ei=0;continue}oi<<=1,oi|=Mn,ei++,!(ei!==Br&&(ri!==0||on!==0))&&(ii=this.mul(ii,Wr[oi]),ei=0,oi=0)}Y=26}return ii},Do.prototype.convertTo=function(H){var X=H.umod(this.m);return X===H?X.clone():X},Do.prototype.convertFrom=function(H){var X=H.clone();return X.red=null,X},Ie.mont=function(H){return new Yo(H)};function Yo(ui){Do.call(this,ui),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Zr(Yo,Do),Yo.prototype.convertTo=function(H){return this.imod(H.ushln(this.shift))},Yo.prototype.convertFrom=function(H){var X=this.imod(H.mul(this.rinv));return X.red=null,X},Yo.prototype.imul=function(H,X){if(H.isZero()||X.isZero())return H.words[0]=0,H.length=1,H;var Br=H.imul(X),Wr=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ri=Br.isub(Wr).iushrn(this.shift),ii=ri;return ri.cmp(this.m)>=0?ii=ri.isub(this.m):ri.cmpn(0)<0&&(ii=ri.iadd(this.m)),ii._forceRed(this)},Yo.prototype.mul=function(H,X){if(H.isZero()||X.isZero())return new Ie(0)._forceRed(this);var Br=H.mul(X),Wr=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ri=Br.isub(Wr).iushrn(this.shift),ii=ri;return ri.cmp(this.m)>=0?ii=ri.isub(this.m):ri.cmpn(0)<0&&(ii=ri.iadd(this.m)),ii._forceRed(this)},Yo.prototype.invm=function(H){var X=this.imod(H._invmp(this.m).mul(this.r2));return X._forceRed(this)}})(te,commonjsGlobal)}(bn$6)),bn$6.exports}var bn$5={exports:{}};bn$5.exports;var hasRequiredBn$4;function requireBn$4(){return hasRequiredBn$4||(hasRequiredBn$4=1,function(te){(function(t,G){function Te(ui,H){if(!ui)throw new Error(H||"Assertion failed")}function Zr(ui,H){ui.super_=H;var X=function(){};X.prototype=H.prototype,ui.prototype=new X,ui.prototype.constructor=ui}function Ie(ui,H,X){if(Ie.isBN(ui))return ui;this.negative=0,this.words=null,this.length=0,this.red=null,ui!==null&&((H==="le"||H==="be")&&(X=H,H=10),this._init(ui||0,H||10,X||"be"))}typeof t=="object"?t.exports=Ie:G.BN=Ie,Ie.BN=Ie,Ie.wordSize=26;var ni;try{typeof window<"u"&&typeof window.Buffer<"u"?ni=window.Buffer:ni=require$$0$3.Buffer}catch{}Ie.isBN=function(H){return H instanceof Ie?!0:H!==null&&typeof H=="object"&&H.constructor.wordSize===Ie.wordSize&&Array.isArray(H.words)},Ie.max=function(H,X){return H.cmp(X)>0?H:X},Ie.min=function(H,X){return H.cmp(X)<0?H:X},Ie.prototype._init=function(H,X,Br){if(typeof H=="number")return this._initNumber(H,X,Br);if(typeof H=="object")return this._initArray(H,X,Br);X==="hex"&&(X=16),Te(X===(X|0)&&X>=2&&X<=36),H=H.toString().replace(/\s+/g,"");var Wr=0;H[0]==="-"&&(Wr++,this.negative=1),Wr<H.length&&(X===16?this._parseHex(H,Wr,Br):(this._parseBase(H,X,Wr),Br==="le"&&this._initArray(this.toArray(),X,Br)))},Ie.prototype._initNumber=function(H,X,Br){H<0&&(this.negative=1,H=-H),H<67108864?(this.words=[H&67108863],this.length=1):H<4503599627370496?(this.words=[H&67108863,H/67108864&67108863],this.length=2):(Te(H<9007199254740992),this.words=[H&67108863,H/67108864&67108863,1],this.length=3),Br==="le"&&this._initArray(this.toArray(),X,Br)},Ie.prototype._initArray=function(H,X,Br){if(Te(typeof H.length=="number"),H.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(H.length/3),this.words=new Array(this.length);for(var Wr=0;Wr<this.length;Wr++)this.words[Wr]=0;var ri,ii,oi=0;if(Br==="be")for(Wr=H.length-1,ri=0;Wr>=0;Wr-=3)ii=H[Wr]|H[Wr-1]<<8|H[Wr-2]<<16,this.words[ri]|=ii<<oi&67108863,this.words[ri+1]=ii>>>26-oi&67108863,oi+=24,oi>=26&&(oi-=26,ri++);else if(Br==="le")for(Wr=0,ri=0;Wr<H.length;Wr+=3)ii=H[Wr]|H[Wr+1]<<8|H[Wr+2]<<16,this.words[ri]|=ii<<oi&67108863,this.words[ri+1]=ii>>>26-oi&67108863,oi+=24,oi>=26&&(oi-=26,ri++);return this.strip()};function fi(ui,H){var X=ui.charCodeAt(H);return X>=65&&X<=70?X-55:X>=97&&X<=102?X-87:X-48&15}function ci(ui,H,X){var Br=fi(ui,X);return X-1>=H&&(Br|=fi(ui,X-1)<<4),Br}Ie.prototype._parseHex=function(H,X,Br){this.length=Math.ceil((H.length-X)/6),this.words=new Array(this.length);for(var Wr=0;Wr<this.length;Wr++)this.words[Wr]=0;var ri=0,ii=0,oi;if(Br==="be")for(Wr=H.length-1;Wr>=X;Wr-=2)oi=ci(H,X,Wr)<<ri,this.words[ii]|=oi&67108863,ri>=18?(ri-=18,ii+=1,this.words[ii]|=oi>>>26):ri+=8;else{var ei=H.length-X;for(Wr=ei%2===0?X+1:X;Wr<H.length;Wr+=2)oi=ci(H,X,Wr)<<ri,this.words[ii]|=oi&67108863,ri>=18?(ri-=18,ii+=1,this.words[ii]|=oi>>>26):ri+=8}this.strip()};function ai(ui,H,X,Br){for(var Wr=0,ri=Math.min(ui.length,X),ii=H;ii<ri;ii++){var oi=ui.charCodeAt(ii)-48;Wr*=Br,oi>=49?Wr+=oi-49+10:oi>=17?Wr+=oi-17+10:Wr+=oi}return Wr}Ie.prototype._parseBase=function(H,X,Br){this.words=[0],this.length=1;for(var Wr=0,ri=1;ri<=67108863;ri*=X)Wr++;Wr--,ri=ri/X|0;for(var ii=H.length-Br,oi=ii%Wr,ei=Math.min(ii,ii-oi)+Br,Y=0,Xr=Br;Xr<ei;Xr+=Wr)Y=ai(H,Xr,Xr+Wr,X),this.imuln(ri),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(oi!==0){var on=1;for(Y=ai(H,Xr,H.length,X),Xr=0;Xr<oi;Xr++)on*=X;this.imuln(on),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this.strip()},Ie.prototype.copy=function(H){H.words=new Array(this.length);for(var X=0;X<this.length;X++)H.words[X]=this.words[X];H.length=this.length,H.negative=this.negative,H.red=this.red},Ie.prototype.clone=function(){var H=new Ie(null);return this.copy(H),H},Ie.prototype._expand=function(H){for(;this.length<H;)this.words[this.length++]=0;return this},Ie.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ie.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var si=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],li=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],mi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ie.prototype.toString=function(H,X){H=H||10,X=X|0||1;var Br;if(H===16||H==="hex"){Br="";for(var Wr=0,ri=0,ii=0;ii<this.length;ii++){var oi=this.words[ii],ei=((oi<<Wr|ri)&16777215).toString(16);ri=oi>>>24-Wr&16777215,ri!==0||ii!==this.length-1?Br=si[6-ei.length]+ei+Br:Br=ei+Br,Wr+=2,Wr>=26&&(Wr-=26,ii--)}for(ri!==0&&(Br=ri.toString(16)+Br);Br.length%X!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}if(H===(H|0)&&H>=2&&H<=36){var Y=li[H],Xr=mi[H];Br="";var on=this.clone();for(on.negative=0;!on.isZero();){var Mn=on.modn(Xr).toString(H);on=on.idivn(Xr),on.isZero()?Br=Mn+Br:Br=si[Y-Mn.length]+Mn+Br}for(this.isZero()&&(Br="0"+Br);Br.length%X!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}Te(!1,"Base should be between 2 and 36")},Ie.prototype.toNumber=function(){var H=this.words[0];return this.length===2?H+=this.words[1]*67108864:this.length===3&&this.words[2]===1?H+=4503599627370496+this.words[1]*67108864:this.length>2&&Te(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-H:H},Ie.prototype.toJSON=function(){return this.toString(16)},Ie.prototype.toBuffer=function(H,X){return Te(typeof ni<"u"),this.toArrayLike(ni,H,X)},Ie.prototype.toArray=function(H,X){return this.toArrayLike(Array,H,X)},Ie.prototype.toArrayLike=function(H,X,Br){var Wr=this.byteLength(),ri=Br||Math.max(1,Wr);Te(Wr<=ri,"byte array longer than desired length"),Te(ri>0,"Requested array length <= 0"),this.strip();var ii=X==="le",oi=new H(ri),ei,Y,Xr=this.clone();if(ii){for(Y=0;!Xr.isZero();Y++)ei=Xr.andln(255),Xr.iushrn(8),oi[Y]=ei;for(;Y<ri;Y++)oi[Y]=0}else{for(Y=0;Y<ri-Wr;Y++)oi[Y]=0;for(Y=0;!Xr.isZero();Y++)ei=Xr.andln(255),Xr.iushrn(8),oi[ri-Y-1]=ei}return oi},Math.clz32?Ie.prototype._countBits=function(H){return 32-Math.clz32(H)}:Ie.prototype._countBits=function(H){var X=H,Br=0;return X>=4096&&(Br+=13,X>>>=13),X>=64&&(Br+=7,X>>>=7),X>=8&&(Br+=4,X>>>=4),X>=2&&(Br+=2,X>>>=2),Br+X},Ie.prototype._zeroBits=function(H){if(H===0)return 26;var X=H,Br=0;return X&8191||(Br+=13,X>>>=13),X&127||(Br+=7,X>>>=7),X&15||(Br+=4,X>>>=4),X&3||(Br+=2,X>>>=2),X&1||Br++,Br},Ie.prototype.bitLength=function(){var H=this.words[this.length-1],X=this._countBits(H);return(this.length-1)*26+X};function di(ui){for(var H=new Array(ui.bitLength()),X=0;X<H.length;X++){var Br=X/26|0,Wr=X%26;H[X]=(ui.words[Br]&1<<Wr)>>>Wr}return H}Ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var H=0,X=0;X<this.length;X++){var Br=this._zeroBits(this.words[X]);if(H+=Br,Br!==26)break}return H},Ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ie.prototype.toTwos=function(H){return this.negative!==0?this.abs().inotn(H).iaddn(1):this.clone()},Ie.prototype.fromTwos=function(H){return this.testn(H-1)?this.notn(H).iaddn(1).ineg():this.clone()},Ie.prototype.isNeg=function(){return this.negative!==0},Ie.prototype.neg=function(){return this.clone().ineg()},Ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ie.prototype.iuor=function(H){for(;this.length<H.length;)this.words[this.length++]=0;for(var X=0;X<H.length;X++)this.words[X]=this.words[X]|H.words[X];return this.strip()},Ie.prototype.ior=function(H){return Te((this.negative|H.negative)===0),this.iuor(H)},Ie.prototype.or=function(H){return this.length>H.length?this.clone().ior(H):H.clone().ior(this)},Ie.prototype.uor=function(H){return this.length>H.length?this.clone().iuor(H):H.clone().iuor(this)},Ie.prototype.iuand=function(H){var X;this.length>H.length?X=H:X=this;for(var Br=0;Br<X.length;Br++)this.words[Br]=this.words[Br]&H.words[Br];return this.length=X.length,this.strip()},Ie.prototype.iand=function(H){return Te((this.negative|H.negative)===0),this.iuand(H)},Ie.prototype.and=function(H){return this.length>H.length?this.clone().iand(H):H.clone().iand(this)},Ie.prototype.uand=function(H){return this.length>H.length?this.clone().iuand(H):H.clone().iuand(this)},Ie.prototype.iuxor=function(H){var X,Br;this.length>H.length?(X=this,Br=H):(X=H,Br=this);for(var Wr=0;Wr<Br.length;Wr++)this.words[Wr]=X.words[Wr]^Br.words[Wr];if(this!==X)for(;Wr<X.length;Wr++)this.words[Wr]=X.words[Wr];return this.length=X.length,this.strip()},Ie.prototype.ixor=function(H){return Te((this.negative|H.negative)===0),this.iuxor(H)},Ie.prototype.xor=function(H){return this.length>H.length?this.clone().ixor(H):H.clone().ixor(this)},Ie.prototype.uxor=function(H){return this.length>H.length?this.clone().iuxor(H):H.clone().iuxor(this)},Ie.prototype.inotn=function(H){Te(typeof H=="number"&&H>=0);var X=Math.ceil(H/26)|0,Br=H%26;this._expand(X),Br>0&&X--;for(var Wr=0;Wr<X;Wr++)this.words[Wr]=~this.words[Wr]&67108863;return Br>0&&(this.words[Wr]=~this.words[Wr]&67108863>>26-Br),this.strip()},Ie.prototype.notn=function(H){return this.clone().inotn(H)},Ie.prototype.setn=function(H,X){Te(typeof H=="number"&&H>=0);var Br=H/26|0,Wr=H%26;return this._expand(Br+1),X?this.words[Br]=this.words[Br]|1<<Wr:this.words[Br]=this.words[Br]&~(1<<Wr),this.strip()},Ie.prototype.iadd=function(H){var X;if(this.negative!==0&&H.negative===0)return this.negative=0,X=this.isub(H),this.negative^=1,this._normSign();if(this.negative===0&&H.negative!==0)return H.negative=0,X=this.isub(H),H.negative=1,X._normSign();var Br,Wr;this.length>H.length?(Br=this,Wr=H):(Br=H,Wr=this);for(var ri=0,ii=0;ii<Wr.length;ii++)X=(Br.words[ii]|0)+(Wr.words[ii]|0)+ri,this.words[ii]=X&67108863,ri=X>>>26;for(;ri!==0&&ii<Br.length;ii++)X=(Br.words[ii]|0)+ri,this.words[ii]=X&67108863,ri=X>>>26;if(this.length=Br.length,ri!==0)this.words[this.length]=ri,this.length++;else if(Br!==this)for(;ii<Br.length;ii++)this.words[ii]=Br.words[ii];return this},Ie.prototype.add=function(H){var X;return H.negative!==0&&this.negative===0?(H.negative=0,X=this.sub(H),H.negative^=1,X):H.negative===0&&this.negative!==0?(this.negative=0,X=H.sub(this),this.negative=1,X):this.length>H.length?this.clone().iadd(H):H.clone().iadd(this)},Ie.prototype.isub=function(H){if(H.negative!==0){H.negative=0;var X=this.iadd(H);return H.negative=1,X._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(H),this.negative=1,this._normSign();var Br=this.cmp(H);if(Br===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Wr,ri;Br>0?(Wr=this,ri=H):(Wr=H,ri=this);for(var ii=0,oi=0;oi<ri.length;oi++)X=(Wr.words[oi]|0)-(ri.words[oi]|0)+ii,ii=X>>26,this.words[oi]=X&67108863;for(;ii!==0&&oi<Wr.length;oi++)X=(Wr.words[oi]|0)+ii,ii=X>>26,this.words[oi]=X&67108863;if(ii===0&&oi<Wr.length&&Wr!==this)for(;oi<Wr.length;oi++)this.words[oi]=Wr.words[oi];return this.length=Math.max(this.length,oi),Wr!==this&&(this.negative=1),this.strip()},Ie.prototype.sub=function(H){return this.clone().isub(H)};function $i(ui,H,X){X.negative=H.negative^ui.negative;var Br=ui.length+H.length|0;X.length=Br,Br=Br-1|0;var Wr=ui.words[0]|0,ri=H.words[0]|0,ii=Wr*ri,oi=ii&67108863,ei=ii/67108864|0;X.words[0]=oi;for(var Y=1;Y<Br;Y++){for(var Xr=ei>>>26,on=ei&67108863,Mn=Math.min(Y,H.length-1),Bn=Math.max(0,Y-ui.length+1);Bn<=Mn;Bn++){var fn=Y-Bn|0;Wr=ui.words[fn]|0,ri=H.words[Bn]|0,ii=Wr*ri+on,Xr+=ii/67108864|0,on=ii&67108863}X.words[Y]=on|0,ei=Xr|0}return ei!==0?X.words[Y]=ei|0:X.length--,X.strip()}var sn=function(H,X,Br){var Wr=H.words,ri=X.words,ii=Br.words,oi=0,ei,Y,Xr,on=Wr[0]|0,Mn=on&8191,Bn=on>>>13,fn=Wr[1]|0,uo=fn&8191,un=fn>>>13,gn=Wr[2]|0,An=gn&8191,an=gn>>>13,qo=Wr[3]|0,ko=qo&8191,Uo=qo>>>13,kh=Wr[4]|0,Vo=kh&8191,tf=kh>>>13,Wh=Wr[5]|0,Rh=Wh&8191,vh=Wh>>>13,Jh=Wr[6]|0,Vf=Jh&8191,Zo=Jh>>>13,Vh=Wr[7]|0,Qf=Vh&8191,Ko=Vh>>>13,Zh=Wr[8]|0,Xf=Zh&8191,Lf=Zh>>>13,Qh=Wr[9]|0,bh=Qh&8191,jf=Qh>>>13,Yh=ri[0]|0,Sh=Yh&8191,ph=Yh>>>13,Xh=ri[1]|0,Th=Xh&8191,$h=Xh>>>13,zu=ri[2]|0,Nh=zu&8191,Ih=zu>>>13,Ku=ri[3]|0,Lh=Ku&8191,wh=Ku>>>13,hu=ri[4]|0,qh=hu&8191,_h=hu>>>13,qu=ri[5]|0,Dh=qu&8191,xh=qu>>>13,Lu=ri[6]|0,Bh=Lu&8191,Eh=Lu>>>13,ku=ri[7]|0,Ch=ku&8191,Mh=ku>>>13,au=ri[8]|0,Oh=au&8191,Ah=au>>>13,r0=ri[9]|0,jh=r0&8191,Ph=r0>>>13;Br.negative=H.negative^X.negative,Br.length=19,ei=Math.imul(Mn,Sh),Y=Math.imul(Mn,ph),Y=Y+Math.imul(Bn,Sh)|0,Xr=Math.imul(Bn,ph);var Uu=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,ei=Math.imul(uo,Sh),Y=Math.imul(uo,ph),Y=Y+Math.imul(un,Sh)|0,Xr=Math.imul(un,ph),ei=ei+Math.imul(Mn,Th)|0,Y=Y+Math.imul(Mn,$h)|0,Y=Y+Math.imul(Bn,Th)|0,Xr=Xr+Math.imul(Bn,$h)|0;var nc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(nc>>>26)|0,nc&=67108863,ei=Math.imul(An,Sh),Y=Math.imul(An,ph),Y=Y+Math.imul(an,Sh)|0,Xr=Math.imul(an,ph),ei=ei+Math.imul(uo,Th)|0,Y=Y+Math.imul(uo,$h)|0,Y=Y+Math.imul(un,Th)|0,Xr=Xr+Math.imul(un,$h)|0,ei=ei+Math.imul(Mn,Nh)|0,Y=Y+Math.imul(Mn,Ih)|0,Y=Y+Math.imul(Bn,Nh)|0,Xr=Xr+Math.imul(Bn,Ih)|0;var sc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(sc>>>26)|0,sc&=67108863,ei=Math.imul(ko,Sh),Y=Math.imul(ko,ph),Y=Y+Math.imul(Uo,Sh)|0,Xr=Math.imul(Uo,ph),ei=ei+Math.imul(An,Th)|0,Y=Y+Math.imul(An,$h)|0,Y=Y+Math.imul(an,Th)|0,Xr=Xr+Math.imul(an,$h)|0,ei=ei+Math.imul(uo,Nh)|0,Y=Y+Math.imul(uo,Ih)|0,Y=Y+Math.imul(un,Nh)|0,Xr=Xr+Math.imul(un,Ih)|0,ei=ei+Math.imul(Mn,Lh)|0,Y=Y+Math.imul(Mn,wh)|0,Y=Y+Math.imul(Bn,Lh)|0,Xr=Xr+Math.imul(Bn,wh)|0;var ac=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(ac>>>26)|0,ac&=67108863,ei=Math.imul(Vo,Sh),Y=Math.imul(Vo,ph),Y=Y+Math.imul(tf,Sh)|0,Xr=Math.imul(tf,ph),ei=ei+Math.imul(ko,Th)|0,Y=Y+Math.imul(ko,$h)|0,Y=Y+Math.imul(Uo,Th)|0,Xr=Xr+Math.imul(Uo,$h)|0,ei=ei+Math.imul(An,Nh)|0,Y=Y+Math.imul(An,Ih)|0,Y=Y+Math.imul(an,Nh)|0,Xr=Xr+Math.imul(an,Ih)|0,ei=ei+Math.imul(uo,Lh)|0,Y=Y+Math.imul(uo,wh)|0,Y=Y+Math.imul(un,Lh)|0,Xr=Xr+Math.imul(un,wh)|0,ei=ei+Math.imul(Mn,qh)|0,Y=Y+Math.imul(Mn,_h)|0,Y=Y+Math.imul(Bn,qh)|0,Xr=Xr+Math.imul(Bn,_h)|0;var oc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(oc>>>26)|0,oc&=67108863,ei=Math.imul(Rh,Sh),Y=Math.imul(Rh,ph),Y=Y+Math.imul(vh,Sh)|0,Xr=Math.imul(vh,ph),ei=ei+Math.imul(Vo,Th)|0,Y=Y+Math.imul(Vo,$h)|0,Y=Y+Math.imul(tf,Th)|0,Xr=Xr+Math.imul(tf,$h)|0,ei=ei+Math.imul(ko,Nh)|0,Y=Y+Math.imul(ko,Ih)|0,Y=Y+Math.imul(Uo,Nh)|0,Xr=Xr+Math.imul(Uo,Ih)|0,ei=ei+Math.imul(An,Lh)|0,Y=Y+Math.imul(An,wh)|0,Y=Y+Math.imul(an,Lh)|0,Xr=Xr+Math.imul(an,wh)|0,ei=ei+Math.imul(uo,qh)|0,Y=Y+Math.imul(uo,_h)|0,Y=Y+Math.imul(un,qh)|0,Xr=Xr+Math.imul(un,_h)|0,ei=ei+Math.imul(Mn,Dh)|0,Y=Y+Math.imul(Mn,xh)|0,Y=Y+Math.imul(Bn,Dh)|0,Xr=Xr+Math.imul(Bn,xh)|0;var fc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(fc>>>26)|0,fc&=67108863,ei=Math.imul(Vf,Sh),Y=Math.imul(Vf,ph),Y=Y+Math.imul(Zo,Sh)|0,Xr=Math.imul(Zo,ph),ei=ei+Math.imul(Rh,Th)|0,Y=Y+Math.imul(Rh,$h)|0,Y=Y+Math.imul(vh,Th)|0,Xr=Xr+Math.imul(vh,$h)|0,ei=ei+Math.imul(Vo,Nh)|0,Y=Y+Math.imul(Vo,Ih)|0,Y=Y+Math.imul(tf,Nh)|0,Xr=Xr+Math.imul(tf,Ih)|0,ei=ei+Math.imul(ko,Lh)|0,Y=Y+Math.imul(ko,wh)|0,Y=Y+Math.imul(Uo,Lh)|0,Xr=Xr+Math.imul(Uo,wh)|0,ei=ei+Math.imul(An,qh)|0,Y=Y+Math.imul(An,_h)|0,Y=Y+Math.imul(an,qh)|0,Xr=Xr+Math.imul(an,_h)|0,ei=ei+Math.imul(uo,Dh)|0,Y=Y+Math.imul(uo,xh)|0,Y=Y+Math.imul(un,Dh)|0,Xr=Xr+Math.imul(un,xh)|0,ei=ei+Math.imul(Mn,Bh)|0,Y=Y+Math.imul(Mn,Eh)|0,Y=Y+Math.imul(Bn,Bh)|0,Xr=Xr+Math.imul(Bn,Eh)|0;var $0=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+($0>>>26)|0,$0&=67108863,ei=Math.imul(Qf,Sh),Y=Math.imul(Qf,ph),Y=Y+Math.imul(Ko,Sh)|0,Xr=Math.imul(Ko,ph),ei=ei+Math.imul(Vf,Th)|0,Y=Y+Math.imul(Vf,$h)|0,Y=Y+Math.imul(Zo,Th)|0,Xr=Xr+Math.imul(Zo,$h)|0,ei=ei+Math.imul(Rh,Nh)|0,Y=Y+Math.imul(Rh,Ih)|0,Y=Y+Math.imul(vh,Nh)|0,Xr=Xr+Math.imul(vh,Ih)|0,ei=ei+Math.imul(Vo,Lh)|0,Y=Y+Math.imul(Vo,wh)|0,Y=Y+Math.imul(tf,Lh)|0,Xr=Xr+Math.imul(tf,wh)|0,ei=ei+Math.imul(ko,qh)|0,Y=Y+Math.imul(ko,_h)|0,Y=Y+Math.imul(Uo,qh)|0,Xr=Xr+Math.imul(Uo,_h)|0,ei=ei+Math.imul(An,Dh)|0,Y=Y+Math.imul(An,xh)|0,Y=Y+Math.imul(an,Dh)|0,Xr=Xr+Math.imul(an,xh)|0,ei=ei+Math.imul(uo,Bh)|0,Y=Y+Math.imul(uo,Eh)|0,Y=Y+Math.imul(un,Bh)|0,Xr=Xr+Math.imul(un,Eh)|0,ei=ei+Math.imul(Mn,Ch)|0,Y=Y+Math.imul(Mn,Mh)|0,Y=Y+Math.imul(Bn,Ch)|0,Xr=Xr+Math.imul(Bn,Mh)|0;var lc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(lc>>>26)|0,lc&=67108863,ei=Math.imul(Xf,Sh),Y=Math.imul(Xf,ph),Y=Y+Math.imul(Lf,Sh)|0,Xr=Math.imul(Lf,ph),ei=ei+Math.imul(Qf,Th)|0,Y=Y+Math.imul(Qf,$h)|0,Y=Y+Math.imul(Ko,Th)|0,Xr=Xr+Math.imul(Ko,$h)|0,ei=ei+Math.imul(Vf,Nh)|0,Y=Y+Math.imul(Vf,Ih)|0,Y=Y+Math.imul(Zo,Nh)|0,Xr=Xr+Math.imul(Zo,Ih)|0,ei=ei+Math.imul(Rh,Lh)|0,Y=Y+Math.imul(Rh,wh)|0,Y=Y+Math.imul(vh,Lh)|0,Xr=Xr+Math.imul(vh,wh)|0,ei=ei+Math.imul(Vo,qh)|0,Y=Y+Math.imul(Vo,_h)|0,Y=Y+Math.imul(tf,qh)|0,Xr=Xr+Math.imul(tf,_h)|0,ei=ei+Math.imul(ko,Dh)|0,Y=Y+Math.imul(ko,xh)|0,Y=Y+Math.imul(Uo,Dh)|0,Xr=Xr+Math.imul(Uo,xh)|0,ei=ei+Math.imul(An,Bh)|0,Y=Y+Math.imul(An,Eh)|0,Y=Y+Math.imul(an,Bh)|0,Xr=Xr+Math.imul(an,Eh)|0,ei=ei+Math.imul(uo,Ch)|0,Y=Y+Math.imul(uo,Mh)|0,Y=Y+Math.imul(un,Ch)|0,Xr=Xr+Math.imul(un,Mh)|0,ei=ei+Math.imul(Mn,Oh)|0,Y=Y+Math.imul(Mn,Ah)|0,Y=Y+Math.imul(Bn,Oh)|0,Xr=Xr+Math.imul(Bn,Ah)|0;var gc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(gc>>>26)|0,gc&=67108863,ei=Math.imul(bh,Sh),Y=Math.imul(bh,ph),Y=Y+Math.imul(jf,Sh)|0,Xr=Math.imul(jf,ph),ei=ei+Math.imul(Xf,Th)|0,Y=Y+Math.imul(Xf,$h)|0,Y=Y+Math.imul(Lf,Th)|0,Xr=Xr+Math.imul(Lf,$h)|0,ei=ei+Math.imul(Qf,Nh)|0,Y=Y+Math.imul(Qf,Ih)|0,Y=Y+Math.imul(Ko,Nh)|0,Xr=Xr+Math.imul(Ko,Ih)|0,ei=ei+Math.imul(Vf,Lh)|0,Y=Y+Math.imul(Vf,wh)|0,Y=Y+Math.imul(Zo,Lh)|0,Xr=Xr+Math.imul(Zo,wh)|0,ei=ei+Math.imul(Rh,qh)|0,Y=Y+Math.imul(Rh,_h)|0,Y=Y+Math.imul(vh,qh)|0,Xr=Xr+Math.imul(vh,_h)|0,ei=ei+Math.imul(Vo,Dh)|0,Y=Y+Math.imul(Vo,xh)|0,Y=Y+Math.imul(tf,Dh)|0,Xr=Xr+Math.imul(tf,xh)|0,ei=ei+Math.imul(ko,Bh)|0,Y=Y+Math.imul(ko,Eh)|0,Y=Y+Math.imul(Uo,Bh)|0,Xr=Xr+Math.imul(Uo,Eh)|0,ei=ei+Math.imul(An,Ch)|0,Y=Y+Math.imul(An,Mh)|0,Y=Y+Math.imul(an,Ch)|0,Xr=Xr+Math.imul(an,Mh)|0,ei=ei+Math.imul(uo,Oh)|0,Y=Y+Math.imul(uo,Ah)|0,Y=Y+Math.imul(un,Oh)|0,Xr=Xr+Math.imul(un,Ah)|0,ei=ei+Math.imul(Mn,jh)|0,Y=Y+Math.imul(Mn,Ph)|0,Y=Y+Math.imul(Bn,jh)|0,Xr=Xr+Math.imul(Bn,Ph)|0;var dc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(dc>>>26)|0,dc&=67108863,ei=Math.imul(bh,Th),Y=Math.imul(bh,$h),Y=Y+Math.imul(jf,Th)|0,Xr=Math.imul(jf,$h),ei=ei+Math.imul(Xf,Nh)|0,Y=Y+Math.imul(Xf,Ih)|0,Y=Y+Math.imul(Lf,Nh)|0,Xr=Xr+Math.imul(Lf,Ih)|0,ei=ei+Math.imul(Qf,Lh)|0,Y=Y+Math.imul(Qf,wh)|0,Y=Y+Math.imul(Ko,Lh)|0,Xr=Xr+Math.imul(Ko,wh)|0,ei=ei+Math.imul(Vf,qh)|0,Y=Y+Math.imul(Vf,_h)|0,Y=Y+Math.imul(Zo,qh)|0,Xr=Xr+Math.imul(Zo,_h)|0,ei=ei+Math.imul(Rh,Dh)|0,Y=Y+Math.imul(Rh,xh)|0,Y=Y+Math.imul(vh,Dh)|0,Xr=Xr+Math.imul(vh,xh)|0,ei=ei+Math.imul(Vo,Bh)|0,Y=Y+Math.imul(Vo,Eh)|0,Y=Y+Math.imul(tf,Bh)|0,Xr=Xr+Math.imul(tf,Eh)|0,ei=ei+Math.imul(ko,Ch)|0,Y=Y+Math.imul(ko,Mh)|0,Y=Y+Math.imul(Uo,Ch)|0,Xr=Xr+Math.imul(Uo,Mh)|0,ei=ei+Math.imul(An,Oh)|0,Y=Y+Math.imul(An,Ah)|0,Y=Y+Math.imul(an,Oh)|0,Xr=Xr+Math.imul(an,Ah)|0,ei=ei+Math.imul(uo,jh)|0,Y=Y+Math.imul(uo,Ph)|0,Y=Y+Math.imul(un,jh)|0,Xr=Xr+Math.imul(un,Ph)|0;var bc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(bc>>>26)|0,bc&=67108863,ei=Math.imul(bh,Nh),Y=Math.imul(bh,Ih),Y=Y+Math.imul(jf,Nh)|0,Xr=Math.imul(jf,Ih),ei=ei+Math.imul(Xf,Lh)|0,Y=Y+Math.imul(Xf,wh)|0,Y=Y+Math.imul(Lf,Lh)|0,Xr=Xr+Math.imul(Lf,wh)|0,ei=ei+Math.imul(Qf,qh)|0,Y=Y+Math.imul(Qf,_h)|0,Y=Y+Math.imul(Ko,qh)|0,Xr=Xr+Math.imul(Ko,_h)|0,ei=ei+Math.imul(Vf,Dh)|0,Y=Y+Math.imul(Vf,xh)|0,Y=Y+Math.imul(Zo,Dh)|0,Xr=Xr+Math.imul(Zo,xh)|0,ei=ei+Math.imul(Rh,Bh)|0,Y=Y+Math.imul(Rh,Eh)|0,Y=Y+Math.imul(vh,Bh)|0,Xr=Xr+Math.imul(vh,Eh)|0,ei=ei+Math.imul(Vo,Ch)|0,Y=Y+Math.imul(Vo,Mh)|0,Y=Y+Math.imul(tf,Ch)|0,Xr=Xr+Math.imul(tf,Mh)|0,ei=ei+Math.imul(ko,Oh)|0,Y=Y+Math.imul(ko,Ah)|0,Y=Y+Math.imul(Uo,Oh)|0,Xr=Xr+Math.imul(Uo,Ah)|0,ei=ei+Math.imul(An,jh)|0,Y=Y+Math.imul(An,Ph)|0,Y=Y+Math.imul(an,jh)|0,Xr=Xr+Math.imul(an,Ph)|0;var yc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(yc>>>26)|0,yc&=67108863,ei=Math.imul(bh,Lh),Y=Math.imul(bh,wh),Y=Y+Math.imul(jf,Lh)|0,Xr=Math.imul(jf,wh),ei=ei+Math.imul(Xf,qh)|0,Y=Y+Math.imul(Xf,_h)|0,Y=Y+Math.imul(Lf,qh)|0,Xr=Xr+Math.imul(Lf,_h)|0,ei=ei+Math.imul(Qf,Dh)|0,Y=Y+Math.imul(Qf,xh)|0,Y=Y+Math.imul(Ko,Dh)|0,Xr=Xr+Math.imul(Ko,xh)|0,ei=ei+Math.imul(Vf,Bh)|0,Y=Y+Math.imul(Vf,Eh)|0,Y=Y+Math.imul(Zo,Bh)|0,Xr=Xr+Math.imul(Zo,Eh)|0,ei=ei+Math.imul(Rh,Ch)|0,Y=Y+Math.imul(Rh,Mh)|0,Y=Y+Math.imul(vh,Ch)|0,Xr=Xr+Math.imul(vh,Mh)|0,ei=ei+Math.imul(Vo,Oh)|0,Y=Y+Math.imul(Vo,Ah)|0,Y=Y+Math.imul(tf,Oh)|0,Xr=Xr+Math.imul(tf,Ah)|0,ei=ei+Math.imul(ko,jh)|0,Y=Y+Math.imul(ko,Ph)|0,Y=Y+Math.imul(Uo,jh)|0,Xr=Xr+Math.imul(Uo,Ph)|0;var pc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(pc>>>26)|0,pc&=67108863,ei=Math.imul(bh,qh),Y=Math.imul(bh,_h),Y=Y+Math.imul(jf,qh)|0,Xr=Math.imul(jf,_h),ei=ei+Math.imul(Xf,Dh)|0,Y=Y+Math.imul(Xf,xh)|0,Y=Y+Math.imul(Lf,Dh)|0,Xr=Xr+Math.imul(Lf,xh)|0,ei=ei+Math.imul(Qf,Bh)|0,Y=Y+Math.imul(Qf,Eh)|0,Y=Y+Math.imul(Ko,Bh)|0,Xr=Xr+Math.imul(Ko,Eh)|0,ei=ei+Math.imul(Vf,Ch)|0,Y=Y+Math.imul(Vf,Mh)|0,Y=Y+Math.imul(Zo,Ch)|0,Xr=Xr+Math.imul(Zo,Mh)|0,ei=ei+Math.imul(Rh,Oh)|0,Y=Y+Math.imul(Rh,Ah)|0,Y=Y+Math.imul(vh,Oh)|0,Xr=Xr+Math.imul(vh,Ah)|0,ei=ei+Math.imul(Vo,jh)|0,Y=Y+Math.imul(Vo,Ph)|0,Y=Y+Math.imul(tf,jh)|0,Xr=Xr+Math.imul(tf,Ph)|0;var vc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(vc>>>26)|0,vc&=67108863,ei=Math.imul(bh,Dh),Y=Math.imul(bh,xh),Y=Y+Math.imul(jf,Dh)|0,Xr=Math.imul(jf,xh),ei=ei+Math.imul(Xf,Bh)|0,Y=Y+Math.imul(Xf,Eh)|0,Y=Y+Math.imul(Lf,Bh)|0,Xr=Xr+Math.imul(Lf,Eh)|0,ei=ei+Math.imul(Qf,Ch)|0,Y=Y+Math.imul(Qf,Mh)|0,Y=Y+Math.imul(Ko,Ch)|0,Xr=Xr+Math.imul(Ko,Mh)|0,ei=ei+Math.imul(Vf,Oh)|0,Y=Y+Math.imul(Vf,Ah)|0,Y=Y+Math.imul(Zo,Oh)|0,Xr=Xr+Math.imul(Zo,Ah)|0,ei=ei+Math.imul(Rh,jh)|0,Y=Y+Math.imul(Rh,Ph)|0,Y=Y+Math.imul(vh,jh)|0,Xr=Xr+Math.imul(vh,Ph)|0;var mc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(mc>>>26)|0,mc&=67108863,ei=Math.imul(bh,Bh),Y=Math.imul(bh,Eh),Y=Y+Math.imul(jf,Bh)|0,Xr=Math.imul(jf,Eh),ei=ei+Math.imul(Xf,Ch)|0,Y=Y+Math.imul(Xf,Mh)|0,Y=Y+Math.imul(Lf,Ch)|0,Xr=Xr+Math.imul(Lf,Mh)|0,ei=ei+Math.imul(Qf,Oh)|0,Y=Y+Math.imul(Qf,Ah)|0,Y=Y+Math.imul(Ko,Oh)|0,Xr=Xr+Math.imul(Ko,Ah)|0,ei=ei+Math.imul(Vf,jh)|0,Y=Y+Math.imul(Vf,Ph)|0,Y=Y+Math.imul(Zo,jh)|0,Xr=Xr+Math.imul(Zo,Ph)|0;var tc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(tc>>>26)|0,tc&=67108863,ei=Math.imul(bh,Ch),Y=Math.imul(bh,Mh),Y=Y+Math.imul(jf,Ch)|0,Xr=Math.imul(jf,Mh),ei=ei+Math.imul(Xf,Oh)|0,Y=Y+Math.imul(Xf,Ah)|0,Y=Y+Math.imul(Lf,Oh)|0,Xr=Xr+Math.imul(Lf,Ah)|0,ei=ei+Math.imul(Qf,jh)|0,Y=Y+Math.imul(Qf,Ph)|0,Y=Y+Math.imul(Ko,jh)|0,Xr=Xr+Math.imul(Ko,Ph)|0;var wc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(wc>>>26)|0,wc&=67108863,ei=Math.imul(bh,Oh),Y=Math.imul(bh,Ah),Y=Y+Math.imul(jf,Oh)|0,Xr=Math.imul(jf,Ah),ei=ei+Math.imul(Xf,jh)|0,Y=Y+Math.imul(Xf,Ph)|0,Y=Y+Math.imul(Lf,jh)|0,Xr=Xr+Math.imul(Lf,Ph)|0;var _c=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(_c>>>26)|0,_c&=67108863,ei=Math.imul(bh,jh),Y=Math.imul(bh,Ph),Y=Y+Math.imul(jf,jh)|0,Xr=Math.imul(jf,Ph);var Mc=(oi+ei|0)+((Y&8191)<<13)|0;return oi=(Xr+(Y>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,ii[0]=Uu,ii[1]=nc,ii[2]=sc,ii[3]=ac,ii[4]=oc,ii[5]=fc,ii[6]=$0,ii[7]=lc,ii[8]=gc,ii[9]=dc,ii[10]=bc,ii[11]=yc,ii[12]=pc,ii[13]=vc,ii[14]=mc,ii[15]=tc,ii[16]=wc,ii[17]=_c,ii[18]=Mc,oi!==0&&(ii[19]=oi,Br.length++),Br};Math.imul||(sn=$i);function ln(ui,H,X){X.negative=H.negative^ui.negative,X.length=ui.length+H.length;for(var Br=0,Wr=0,ri=0;ri<X.length-1;ri++){var ii=Wr;Wr=0;for(var oi=Br&67108863,ei=Math.min(ri,H.length-1),Y=Math.max(0,ri-ui.length+1);Y<=ei;Y++){var Xr=ri-Y,on=ui.words[Xr]|0,Mn=H.words[Y]|0,Bn=on*Mn,fn=Bn&67108863;ii=ii+(Bn/67108864|0)|0,fn=fn+oi|0,oi=fn&67108863,ii=ii+(fn>>>26)|0,Wr+=ii>>>26,ii&=67108863}X.words[ri]=oi,Br=ii,ii=Wr}return Br!==0?X.words[ri]=Br:X.length--,X.strip()}function mn(ui,H,X){var Br=new cn;return Br.mulp(ui,H,X)}Ie.prototype.mulTo=function(H,X){var Br,Wr=this.length+H.length;return this.length===10&&H.length===10?Br=sn(this,H,X):Wr<63?Br=$i(this,H,X):Wr<1024?Br=ln(this,H,X):Br=mn(this,H,X),Br};function cn(ui,H){this.x=ui,this.y=H}cn.prototype.makeRBT=function(H){for(var X=new Array(H),Br=Ie.prototype._countBits(H)-1,Wr=0;Wr<H;Wr++)X[Wr]=this.revBin(Wr,Br,H);return X},cn.prototype.revBin=function(H,X,Br){if(H===0||H===Br-1)return H;for(var Wr=0,ri=0;ri<X;ri++)Wr|=(H&1)<<X-ri-1,H>>=1;return Wr},cn.prototype.permute=function(H,X,Br,Wr,ri,ii){for(var oi=0;oi<ii;oi++)Wr[oi]=X[H[oi]],ri[oi]=Br[H[oi]]},cn.prototype.transform=function(H,X,Br,Wr,ri,ii){this.permute(ii,H,X,Br,Wr,ri);for(var oi=1;oi<ri;oi<<=1)for(var ei=oi<<1,Y=Math.cos(2*Math.PI/ei),Xr=Math.sin(2*Math.PI/ei),on=0;on<ri;on+=ei)for(var Mn=Y,Bn=Xr,fn=0;fn<oi;fn++){var uo=Br[on+fn],un=Wr[on+fn],gn=Br[on+fn+oi],An=Wr[on+fn+oi],an=Mn*gn-Bn*An;An=Mn*An+Bn*gn,gn=an,Br[on+fn]=uo+gn,Wr[on+fn]=un+An,Br[on+fn+oi]=uo-gn,Wr[on+fn+oi]=un-An,fn!==ei&&(an=Y*Mn-Xr*Bn,Bn=Y*Bn+Xr*Mn,Mn=an)}},cn.prototype.guessLen13b=function(H,X){var Br=Math.max(X,H)|1,Wr=Br&1,ri=0;for(Br=Br/2|0;Br;Br=Br>>>1)ri++;return 1<<ri+1+Wr},cn.prototype.conjugate=function(H,X,Br){if(!(Br<=1))for(var Wr=0;Wr<Br/2;Wr++){var ri=H[Wr];H[Wr]=H[Br-Wr-1],H[Br-Wr-1]=ri,ri=X[Wr],X[Wr]=-X[Br-Wr-1],X[Br-Wr-1]=-ri}},cn.prototype.normalize13b=function(H,X){for(var Br=0,Wr=0;Wr<X/2;Wr++){var ri=Math.round(H[2*Wr+1]/X)*8192+Math.round(H[2*Wr]/X)+Br;H[Wr]=ri&67108863,ri<67108864?Br=0:Br=ri/67108864|0}return H},cn.prototype.convert13b=function(H,X,Br,Wr){for(var ri=0,ii=0;ii<X;ii++)ri=ri+(H[ii]|0),Br[2*ii]=ri&8191,ri=ri>>>13,Br[2*ii+1]=ri&8191,ri=ri>>>13;for(ii=2*X;ii<Wr;++ii)Br[ii]=0;Te(ri===0),Te((ri&-8192)===0)},cn.prototype.stub=function(H){for(var X=new Array(H),Br=0;Br<H;Br++)X[Br]=0;return X},cn.prototype.mulp=function(H,X,Br){var Wr=2*this.guessLen13b(H.length,X.length),ri=this.makeRBT(Wr),ii=this.stub(Wr),oi=new Array(Wr),ei=new Array(Wr),Y=new Array(Wr),Xr=new Array(Wr),on=new Array(Wr),Mn=new Array(Wr),Bn=Br.words;Bn.length=Wr,this.convert13b(H.words,H.length,oi,Wr),this.convert13b(X.words,X.length,Xr,Wr),this.transform(oi,ii,ei,Y,Wr,ri),this.transform(Xr,ii,on,Mn,Wr,ri);for(var fn=0;fn<Wr;fn++){var uo=ei[fn]*on[fn]-Y[fn]*Mn[fn];Y[fn]=ei[fn]*Mn[fn]+Y[fn]*on[fn],ei[fn]=uo}return this.conjugate(ei,Y,Wr),this.transform(ei,Y,Bn,ii,Wr,ri),this.conjugate(Bn,ii,Wr),this.normalize13b(Bn,Wr),Br.negative=H.negative^X.negative,Br.length=H.length+X.length,Br.strip()},Ie.prototype.mul=function(H){var X=new Ie(null);return X.words=new Array(this.length+H.length),this.mulTo(H,X)},Ie.prototype.mulf=function(H){var X=new Ie(null);return X.words=new Array(this.length+H.length),mn(this,H,X)},Ie.prototype.imul=function(H){return this.clone().mulTo(H,this)},Ie.prototype.imuln=function(H){Te(typeof H=="number"),Te(H<67108864);for(var X=0,Br=0;Br<this.length;Br++){var Wr=(this.words[Br]|0)*H,ri=(Wr&67108863)+(X&67108863);X>>=26,X+=Wr/67108864|0,X+=ri>>>26,this.words[Br]=ri&67108863}return X!==0&&(this.words[Br]=X,this.length++),this},Ie.prototype.muln=function(H){return this.clone().imuln(H)},Ie.prototype.sqr=function(){return this.mul(this)},Ie.prototype.isqr=function(){return this.imul(this.clone())},Ie.prototype.pow=function(H){var X=di(H);if(X.length===0)return new Ie(1);for(var Br=this,Wr=0;Wr<X.length&&X[Wr]===0;Wr++,Br=Br.sqr());if(++Wr<X.length)for(var ri=Br.sqr();Wr<X.length;Wr++,ri=ri.sqr())X[Wr]!==0&&(Br=Br.mul(ri));return Br},Ie.prototype.iushln=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26,Wr=67108863>>>26-X<<26-X,ri;if(X!==0){var ii=0;for(ri=0;ri<this.length;ri++){var oi=this.words[ri]&Wr,ei=(this.words[ri]|0)-oi<<X;this.words[ri]=ei|ii,ii=oi>>>26-X}ii&&(this.words[ri]=ii,this.length++)}if(Br!==0){for(ri=this.length-1;ri>=0;ri--)this.words[ri+Br]=this.words[ri];for(ri=0;ri<Br;ri++)this.words[ri]=0;this.length+=Br}return this.strip()},Ie.prototype.ishln=function(H){return Te(this.negative===0),this.iushln(H)},Ie.prototype.iushrn=function(H,X,Br){Te(typeof H=="number"&&H>=0);var Wr;X?Wr=(X-X%26)/26:Wr=0;var ri=H%26,ii=Math.min((H-ri)/26,this.length),oi=67108863^67108863>>>ri<<ri,ei=Br;if(Wr-=ii,Wr=Math.max(0,Wr),ei){for(var Y=0;Y<ii;Y++)ei.words[Y]=this.words[Y];ei.length=ii}if(ii!==0)if(this.length>ii)for(this.length-=ii,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+ii];else this.words[0]=0,this.length=1;var Xr=0;for(Y=this.length-1;Y>=0&&(Xr!==0||Y>=Wr);Y--){var on=this.words[Y]|0;this.words[Y]=Xr<<26-ri|on>>>ri,Xr=on&oi}return ei&&Xr!==0&&(ei.words[ei.length++]=Xr),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ie.prototype.ishrn=function(H,X,Br){return Te(this.negative===0),this.iushrn(H,X,Br)},Ie.prototype.shln=function(H){return this.clone().ishln(H)},Ie.prototype.ushln=function(H){return this.clone().iushln(H)},Ie.prototype.shrn=function(H){return this.clone().ishrn(H)},Ie.prototype.ushrn=function(H){return this.clone().iushrn(H)},Ie.prototype.testn=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26,Wr=1<<X;if(this.length<=Br)return!1;var ri=this.words[Br];return!!(ri&Wr)},Ie.prototype.imaskn=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26;if(Te(this.negative===0,"imaskn works only with positive numbers"),this.length<=Br)return this;if(X!==0&&Br++,this.length=Math.min(Br,this.length),X!==0){var Wr=67108863^67108863>>>X<<X;this.words[this.length-1]&=Wr}return this.strip()},Ie.prototype.maskn=function(H){return this.clone().imaskn(H)},Ie.prototype.iaddn=function(H){return Te(typeof H=="number"),Te(H<67108864),H<0?this.isubn(-H):this.negative!==0?this.length===1&&(this.words[0]|0)<H?(this.words[0]=H-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(H),this.negative=1,this):this._iaddn(H)},Ie.prototype._iaddn=function(H){this.words[0]+=H;for(var X=0;X<this.length&&this.words[X]>=67108864;X++)this.words[X]-=67108864,X===this.length-1?this.words[X+1]=1:this.words[X+1]++;return this.length=Math.max(this.length,X+1),this},Ie.prototype.isubn=function(H){if(Te(typeof H=="number"),Te(H<67108864),H<0)return this.iaddn(-H);if(this.negative!==0)return this.negative=0,this.iaddn(H),this.negative=1,this;if(this.words[0]-=H,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var X=0;X<this.length&&this.words[X]<0;X++)this.words[X]+=67108864,this.words[X+1]-=1;return this.strip()},Ie.prototype.addn=function(H){return this.clone().iaddn(H)},Ie.prototype.subn=function(H){return this.clone().isubn(H)},Ie.prototype.iabs=function(){return this.negative=0,this},Ie.prototype.abs=function(){return this.clone().iabs()},Ie.prototype._ishlnsubmul=function(H,X,Br){var Wr=H.length+Br,ri;this._expand(Wr);var ii,oi=0;for(ri=0;ri<H.length;ri++){ii=(this.words[ri+Br]|0)+oi;var ei=(H.words[ri]|0)*X;ii-=ei&67108863,oi=(ii>>26)-(ei/67108864|0),this.words[ri+Br]=ii&67108863}for(;ri<this.length-Br;ri++)ii=(this.words[ri+Br]|0)+oi,oi=ii>>26,this.words[ri+Br]=ii&67108863;if(oi===0)return this.strip();for(Te(oi===-1),oi=0,ri=0;ri<this.length;ri++)ii=-(this.words[ri]|0)+oi,oi=ii>>26,this.words[ri]=ii&67108863;return this.negative=1,this.strip()},Ie.prototype._wordDiv=function(H,X){var Br=this.length-H.length,Wr=this.clone(),ri=H,ii=ri.words[ri.length-1]|0,oi=this._countBits(ii);Br=26-oi,Br!==0&&(ri=ri.ushln(Br),Wr.iushln(Br),ii=ri.words[ri.length-1]|0);var ei=Wr.length-ri.length,Y;if(X!=="mod"){Y=new Ie(null),Y.length=ei+1,Y.words=new Array(Y.length);for(var Xr=0;Xr<Y.length;Xr++)Y.words[Xr]=0}var on=Wr.clone()._ishlnsubmul(ri,1,ei);on.negative===0&&(Wr=on,Y&&(Y.words[ei]=1));for(var Mn=ei-1;Mn>=0;Mn--){var Bn=(Wr.words[ri.length+Mn]|0)*67108864+(Wr.words[ri.length+Mn-1]|0);for(Bn=Math.min(Bn/ii|0,67108863),Wr._ishlnsubmul(ri,Bn,Mn);Wr.negative!==0;)Bn--,Wr.negative=0,Wr._ishlnsubmul(ri,1,Mn),Wr.isZero()||(Wr.negative^=1);Y&&(Y.words[Mn]=Bn)}return Y&&Y.strip(),Wr.strip(),X!=="div"&&Br!==0&&Wr.iushrn(Br),{div:Y||null,mod:Wr}},Ie.prototype.divmod=function(H,X,Br){if(Te(!H.isZero()),this.isZero())return{div:new Ie(0),mod:new Ie(0)};var Wr,ri,ii;return this.negative!==0&&H.negative===0?(ii=this.neg().divmod(H,X),X!=="mod"&&(Wr=ii.div.neg()),X!=="div"&&(ri=ii.mod.neg(),Br&&ri.negative!==0&&ri.iadd(H)),{div:Wr,mod:ri}):this.negative===0&&H.negative!==0?(ii=this.divmod(H.neg(),X),X!=="mod"&&(Wr=ii.div.neg()),{div:Wr,mod:ii.mod}):this.negative&H.negative?(ii=this.neg().divmod(H.neg(),X),X!=="div"&&(ri=ii.mod.neg(),Br&&ri.negative!==0&&ri.isub(H)),{div:ii.div,mod:ri}):H.length>this.length||this.cmp(H)<0?{div:new Ie(0),mod:this}:H.length===1?X==="div"?{div:this.divn(H.words[0]),mod:null}:X==="mod"?{div:null,mod:new Ie(this.modn(H.words[0]))}:{div:this.divn(H.words[0]),mod:new Ie(this.modn(H.words[0]))}:this._wordDiv(H,X)},Ie.prototype.div=function(H){return this.divmod(H,"div",!1).div},Ie.prototype.mod=function(H){return this.divmod(H,"mod",!1).mod},Ie.prototype.umod=function(H){return this.divmod(H,"mod",!0).mod},Ie.prototype.divRound=function(H){var X=this.divmod(H);if(X.mod.isZero())return X.div;var Br=X.div.negative!==0?X.mod.isub(H):X.mod,Wr=H.ushrn(1),ri=H.andln(1),ii=Br.cmp(Wr);return ii<0||ri===1&&ii===0?X.div:X.div.negative!==0?X.div.isubn(1):X.div.iaddn(1)},Ie.prototype.modn=function(H){Te(H<=67108863);for(var X=(1<<26)%H,Br=0,Wr=this.length-1;Wr>=0;Wr--)Br=(X*Br+(this.words[Wr]|0))%H;return Br},Ie.prototype.idivn=function(H){Te(H<=67108863);for(var X=0,Br=this.length-1;Br>=0;Br--){var Wr=(this.words[Br]|0)+X*67108864;this.words[Br]=Wr/H|0,X=Wr%H}return this.strip()},Ie.prototype.divn=function(H){return this.clone().idivn(H)},Ie.prototype.egcd=function(H){Te(H.negative===0),Te(!H.isZero());var X=this,Br=H.clone();X.negative!==0?X=X.umod(H):X=X.clone();for(var Wr=new Ie(1),ri=new Ie(0),ii=new Ie(0),oi=new Ie(1),ei=0;X.isEven()&&Br.isEven();)X.iushrn(1),Br.iushrn(1),++ei;for(var Y=Br.clone(),Xr=X.clone();!X.isZero();){for(var on=0,Mn=1;!(X.words[0]&Mn)&&on<26;++on,Mn<<=1);if(on>0)for(X.iushrn(on);on-- >0;)(Wr.isOdd()||ri.isOdd())&&(Wr.iadd(Y),ri.isub(Xr)),Wr.iushrn(1),ri.iushrn(1);for(var Bn=0,fn=1;!(Br.words[0]&fn)&&Bn<26;++Bn,fn<<=1);if(Bn>0)for(Br.iushrn(Bn);Bn-- >0;)(ii.isOdd()||oi.isOdd())&&(ii.iadd(Y),oi.isub(Xr)),ii.iushrn(1),oi.iushrn(1);X.cmp(Br)>=0?(X.isub(Br),Wr.isub(ii),ri.isub(oi)):(Br.isub(X),ii.isub(Wr),oi.isub(ri))}return{a:ii,b:oi,gcd:Br.iushln(ei)}},Ie.prototype._invmp=function(H){Te(H.negative===0),Te(!H.isZero());var X=this,Br=H.clone();X.negative!==0?X=X.umod(H):X=X.clone();for(var Wr=new Ie(1),ri=new Ie(0),ii=Br.clone();X.cmpn(1)>0&&Br.cmpn(1)>0;){for(var oi=0,ei=1;!(X.words[0]&ei)&&oi<26;++oi,ei<<=1);if(oi>0)for(X.iushrn(oi);oi-- >0;)Wr.isOdd()&&Wr.iadd(ii),Wr.iushrn(1);for(var Y=0,Xr=1;!(Br.words[0]&Xr)&&Y<26;++Y,Xr<<=1);if(Y>0)for(Br.iushrn(Y);Y-- >0;)ri.isOdd()&&ri.iadd(ii),ri.iushrn(1);X.cmp(Br)>=0?(X.isub(Br),Wr.isub(ri)):(Br.isub(X),ri.isub(Wr))}var on;return X.cmpn(1)===0?on=Wr:on=ri,on.cmpn(0)<0&&on.iadd(H),on},Ie.prototype.gcd=function(H){if(this.isZero())return H.abs();if(H.isZero())return this.abs();var X=this.clone(),Br=H.clone();X.negative=0,Br.negative=0;for(var Wr=0;X.isEven()&&Br.isEven();Wr++)X.iushrn(1),Br.iushrn(1);do{for(;X.isEven();)X.iushrn(1);for(;Br.isEven();)Br.iushrn(1);var ri=X.cmp(Br);if(ri<0){var ii=X;X=Br,Br=ii}else if(ri===0||Br.cmpn(1)===0)break;X.isub(Br)}while(!0);return Br.iushln(Wr)},Ie.prototype.invm=function(H){return this.egcd(H).a.umod(H)},Ie.prototype.isEven=function(){return(this.words[0]&1)===0},Ie.prototype.isOdd=function(){return(this.words[0]&1)===1},Ie.prototype.andln=function(H){return this.words[0]&H},Ie.prototype.bincn=function(H){Te(typeof H=="number");var X=H%26,Br=(H-X)/26,Wr=1<<X;if(this.length<=Br)return this._expand(Br+1),this.words[Br]|=Wr,this;for(var ri=Wr,ii=Br;ri!==0&&ii<this.length;ii++){var oi=this.words[ii]|0;oi+=ri,ri=oi>>>26,oi&=67108863,this.words[ii]=oi}return ri!==0&&(this.words[ii]=ri,this.length++),this},Ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ie.prototype.cmpn=function(H){var X=H<0;if(this.negative!==0&&!X)return-1;if(this.negative===0&&X)return 1;this.strip();var Br;if(this.length>1)Br=1;else{X&&(H=-H),Te(H<=67108863,"Number is too big");var Wr=this.words[0]|0;Br=Wr===H?0:Wr<H?-1:1}return this.negative!==0?-Br|0:Br},Ie.prototype.cmp=function(H){if(this.negative!==0&&H.negative===0)return-1;if(this.negative===0&&H.negative!==0)return 1;var X=this.ucmp(H);return this.negative!==0?-X|0:X},Ie.prototype.ucmp=function(H){if(this.length>H.length)return 1;if(this.length<H.length)return-1;for(var X=0,Br=this.length-1;Br>=0;Br--){var Wr=this.words[Br]|0,ri=H.words[Br]|0;if(Wr!==ri){Wr<ri?X=-1:Wr>ri&&(X=1);break}}return X},Ie.prototype.gtn=function(H){return this.cmpn(H)===1},Ie.prototype.gt=function(H){return this.cmp(H)===1},Ie.prototype.gten=function(H){return this.cmpn(H)>=0},Ie.prototype.gte=function(H){return this.cmp(H)>=0},Ie.prototype.ltn=function(H){return this.cmpn(H)===-1},Ie.prototype.lt=function(H){return this.cmp(H)===-1},Ie.prototype.lten=function(H){return this.cmpn(H)<=0},Ie.prototype.lte=function(H){return this.cmp(H)<=0},Ie.prototype.eqn=function(H){return this.cmpn(H)===0},Ie.prototype.eq=function(H){return this.cmp(H)===0},Ie.red=function(H){return new Do(H)},Ie.prototype.toRed=function(H){return Te(!this.red,"Already a number in reduction context"),Te(this.negative===0,"red works only with positives"),H.convertTo(this)._forceRed(H)},Ie.prototype.fromRed=function(){return Te(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ie.prototype._forceRed=function(H){return this.red=H,this},Ie.prototype.forceRed=function(H){return Te(!this.red,"Already a number in reduction context"),this._forceRed(H)},Ie.prototype.redAdd=function(H){return Te(this.red,"redAdd works only with red numbers"),this.red.add(this,H)},Ie.prototype.redIAdd=function(H){return Te(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,H)},Ie.prototype.redSub=function(H){return Te(this.red,"redSub works only with red numbers"),this.red.sub(this,H)},Ie.prototype.redISub=function(H){return Te(this.red,"redISub works only with red numbers"),this.red.isub(this,H)},Ie.prototype.redShl=function(H){return Te(this.red,"redShl works only with red numbers"),this.red.shl(this,H)},Ie.prototype.redMul=function(H){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.mul(this,H)},Ie.prototype.redIMul=function(H){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.imul(this,H)},Ie.prototype.redSqr=function(){return Te(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ie.prototype.redISqr=function(){return Te(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ie.prototype.redSqrt=function(){return Te(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ie.prototype.redInvm=function(){return Te(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ie.prototype.redNeg=function(){return Te(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ie.prototype.redPow=function(H){return Te(this.red&&!H.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,H)};var Rn={k256:null,p224:null,p192:null,p25519:null};function vn(ui,H){this.name=ui,this.p=new Ie(H,16),this.n=this.p.bitLength(),this.k=new Ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}vn.prototype._tmp=function(){var H=new Ie(null);return H.words=new Array(Math.ceil(this.n/13)),H},vn.prototype.ireduce=function(H){var X=H,Br;do this.split(X,this.tmp),X=this.imulK(X),X=X.iadd(this.tmp),Br=X.bitLength();while(Br>this.n);var Wr=Br<this.n?-1:X.ucmp(this.p);return Wr===0?(X.words[0]=0,X.length=1):Wr>0?X.isub(this.p):X.strip!==void 0?X.strip():X._strip(),X},vn.prototype.split=function(H,X){H.iushrn(this.n,0,X)},vn.prototype.imulK=function(H){return H.imul(this.k)};function Cn(){vn.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Zr(Cn,vn),Cn.prototype.split=function(H,X){for(var Br=4194303,Wr=Math.min(H.length,9),ri=0;ri<Wr;ri++)X.words[ri]=H.words[ri];if(X.length=Wr,H.length<=9){H.words[0]=0,H.length=1;return}var ii=H.words[9];for(X.words[X.length++]=ii&Br,ri=10;ri<H.length;ri++){var oi=H.words[ri]|0;H.words[ri-10]=(oi&Br)<<4|ii>>>22,ii=oi}ii>>>=22,H.words[ri-10]=ii,ii===0&&H.length>10?H.length-=10:H.length-=9},Cn.prototype.imulK=function(H){H.words[H.length]=0,H.words[H.length+1]=0,H.length+=2;for(var X=0,Br=0;Br<H.length;Br++){var Wr=H.words[Br]|0;X+=Wr*977,H.words[Br]=X&67108863,X=Wr*64+(X/67108864|0)}return H.words[H.length-1]===0&&(H.length--,H.words[H.length-1]===0&&H.length--),H};function ho(){vn.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Zr(ho,vn);function hn(){vn.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Zr(hn,vn);function Zn(){vn.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Zr(Zn,vn),Zn.prototype.imulK=function(H){for(var X=0,Br=0;Br<H.length;Br++){var Wr=(H.words[Br]|0)*19+X,ri=Wr&67108863;Wr>>>=26,H.words[Br]=ri,X=Wr}return X!==0&&(H.words[H.length++]=X),H},Ie._prime=function(H){if(Rn[H])return Rn[H];var X;if(H==="k256")X=new Cn;else if(H==="p224")X=new ho;else if(H==="p192")X=new hn;else if(H==="p25519")X=new Zn;else throw new Error("Unknown prime "+H);return Rn[H]=X,X};function Do(ui){if(typeof ui=="string"){var H=Ie._prime(ui);this.m=H.p,this.prime=H}else Te(ui.gtn(1),"modulus must be greater than 1"),this.m=ui,this.prime=null}Do.prototype._verify1=function(H){Te(H.negative===0,"red works only with positives"),Te(H.red,"red works only with red numbers")},Do.prototype._verify2=function(H,X){Te((H.negative|X.negative)===0,"red works only with positives"),Te(H.red&&H.red===X.red,"red works only with red numbers")},Do.prototype.imod=function(H){return this.prime?this.prime.ireduce(H)._forceRed(this):H.umod(this.m)._forceRed(this)},Do.prototype.neg=function(H){return H.isZero()?H.clone():this.m.sub(H)._forceRed(this)},Do.prototype.add=function(H,X){this._verify2(H,X);var Br=H.add(X);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br._forceRed(this)},Do.prototype.iadd=function(H,X){this._verify2(H,X);var Br=H.iadd(X);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br},Do.prototype.sub=function(H,X){this._verify2(H,X);var Br=H.sub(X);return Br.cmpn(0)<0&&Br.iadd(this.m),Br._forceRed(this)},Do.prototype.isub=function(H,X){this._verify2(H,X);var Br=H.isub(X);return Br.cmpn(0)<0&&Br.iadd(this.m),Br},Do.prototype.shl=function(H,X){return this._verify1(H),this.imod(H.ushln(X))},Do.prototype.imul=function(H,X){return this._verify2(H,X),this.imod(H.imul(X))},Do.prototype.mul=function(H,X){return this._verify2(H,X),this.imod(H.mul(X))},Do.prototype.isqr=function(H){return this.imul(H,H.clone())},Do.prototype.sqr=function(H){return this.mul(H,H)},Do.prototype.sqrt=function(H){if(H.isZero())return H.clone();var X=this.m.andln(3);if(Te(X%2===1),X===3){var Br=this.m.add(new Ie(1)).iushrn(2);return this.pow(H,Br)}for(var Wr=this.m.subn(1),ri=0;!Wr.isZero()&&Wr.andln(1)===0;)ri++,Wr.iushrn(1);Te(!Wr.isZero());var ii=new Ie(1).toRed(this),oi=ii.redNeg(),ei=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new Ie(2*Y*Y).toRed(this);this.pow(Y,ei).cmp(oi)!==0;)Y.redIAdd(oi);for(var Xr=this.pow(Y,Wr),on=this.pow(H,Wr.addn(1).iushrn(1)),Mn=this.pow(H,Wr),Bn=ri;Mn.cmp(ii)!==0;){for(var fn=Mn,uo=0;fn.cmp(ii)!==0;uo++)fn=fn.redSqr();Te(uo<Bn);var un=this.pow(Xr,new Ie(1).iushln(Bn-uo-1));on=on.redMul(un),Xr=un.redSqr(),Mn=Mn.redMul(Xr),Bn=uo}return on},Do.prototype.invm=function(H){var X=H._invmp(this.m);return X.negative!==0?(X.negative=0,this.imod(X).redNeg()):this.imod(X)},Do.prototype.pow=function(H,X){if(X.isZero())return new Ie(1).toRed(this);if(X.cmpn(1)===0)return H.clone();var Br=4,Wr=new Array(1<<Br);Wr[0]=new Ie(1).toRed(this),Wr[1]=H;for(var ri=2;ri<Wr.length;ri++)Wr[ri]=this.mul(Wr[ri-1],H);var ii=Wr[0],oi=0,ei=0,Y=X.bitLength()%26;for(Y===0&&(Y=26),ri=X.length-1;ri>=0;ri--){for(var Xr=X.words[ri],on=Y-1;on>=0;on--){var Mn=Xr>>on&1;if(ii!==Wr[0]&&(ii=this.sqr(ii)),Mn===0&&oi===0){ei=0;continue}oi<<=1,oi|=Mn,ei++,!(ei!==Br&&(ri!==0||on!==0))&&(ii=this.mul(ii,Wr[oi]),ei=0,oi=0)}Y=26}return ii},Do.prototype.convertTo=function(H){var X=H.umod(this.m);return X===H?X.clone():X},Do.prototype.convertFrom=function(H){var X=H.clone();return X.red=null,X},Ie.mont=function(H){return new Yo(H)};function Yo(ui){Do.call(this,ui),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Zr(Yo,Do),Yo.prototype.convertTo=function(H){return this.imod(H.ushln(this.shift))},Yo.prototype.convertFrom=function(H){var X=this.imod(H.mul(this.rinv));return X.red=null,X},Yo.prototype.imul=function(H,X){if(H.isZero()||X.isZero())return H.words[0]=0,H.length=1,H;var Br=H.imul(X),Wr=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ri=Br.isub(Wr).iushrn(this.shift),ii=ri;return ri.cmp(this.m)>=0?ii=ri.isub(this.m):ri.cmpn(0)<0&&(ii=ri.iadd(this.m)),ii._forceRed(this)},Yo.prototype.mul=function(H,X){if(H.isZero()||X.isZero())return new Ie(0)._forceRed(this);var Br=H.mul(X),Wr=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ri=Br.isub(Wr).iushrn(this.shift),ii=ri;return ri.cmp(this.m)>=0?ii=ri.isub(this.m):ri.cmpn(0)<0&&(ii=ri.iadd(this.m)),ii._forceRed(this)},Yo.prototype.invm=function(H){var X=this.imod(H._invmp(this.m).mul(this.r2));return X._forceRed(this)}})(te,commonjsGlobal)}(bn$5)),bn$5.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var te;brorand.exports=function(Zr){return te||(te=new t(null)),te.generate(Zr)};function t(Te){this.rand=Te}if(brorand.exports.Rand=t,t.prototype.generate=function(Zr){return this._rand(Zr)},t.prototype._rand=function(Zr){if(this.rand.getBytes)return this.rand.getBytes(Zr);for(var Ie=new Uint8Array(Zr),ni=0;ni<Ie.length;ni++)Ie[ni]=this.rand.getByte();return Ie},typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(Zr){var Ie=new Uint8Array(Zr);return self.crypto.getRandomValues(Ie),Ie}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(Zr){var Ie=new Uint8Array(Zr);return self.msCrypto.getRandomValues(Ie),Ie}:typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var G=requireCryptoBrowserify();if(typeof G.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=function(Zr){return G.randomBytes(Zr)}}catch{}return brorand.exports}var mr$1,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr$1;hasRequiredMr=1;var te=requireBn$4(),t=requireBrorand();function G(Te){this.rand=Te||new t.Rand}return mr$1=G,G.create=function(Zr){return new G(Zr)},G.prototype._randbelow=function(Zr){var Ie=Zr.bitLength(),ni=Math.ceil(Ie/8);do var fi=new te(this.rand.generate(ni));while(fi.cmp(Zr)>=0);return fi},G.prototype._randrange=function(Zr,Ie){var ni=Ie.sub(Zr);return Zr.add(this._randbelow(ni))},G.prototype.test=function(Zr,Ie,ni){var fi=Zr.bitLength(),ci=te.mont(Zr),ai=new te(1).toRed(ci);Ie||(Ie=Math.max(1,fi/48|0));for(var si=Zr.subn(1),li=0;!si.testn(li);li++);for(var mi=Zr.shrn(li),di=si.toRed(ci),$i=!0;Ie>0;Ie--){var sn=this._randrange(new te(2),si);ni&&ni(sn);var ln=sn.toRed(ci).redPow(mi);if(!(ln.cmp(ai)===0||ln.cmp(di)===0)){for(var mn=1;mn<li;mn++){if(ln=ln.redSqr(),ln.cmp(ai)===0)return!1;if(ln.cmp(di)===0)break}if(mn===li)return!1}}return $i},G.prototype.getDivisor=function(Zr,Ie){var ni=Zr.bitLength(),fi=te.mont(Zr),ci=new te(1).toRed(fi);Ie||(Ie=Math.max(1,ni/48|0));for(var ai=Zr.subn(1),si=0;!ai.testn(si);si++);for(var li=Zr.shrn(si),mi=ai.toRed(fi);Ie>0;Ie--){var di=this._randrange(new te(2),ai),$i=Zr.gcd(di);if($i.cmpn(1)!==0)return $i;var sn=di.toRed(fi).redPow(li);if(!(sn.cmp(ci)===0||sn.cmp(mi)===0)){for(var ln=1;ln<si;ln++){if(sn=sn.redSqr(),sn.cmp(ci)===0)return sn.fromRed().subn(1).gcd(Zr);if(sn.cmp(mi)===0)break}if(ln===si)return sn=sn.redSqr(),sn.fromRed().subn(1).gcd(Zr)}}return!1},mr$1}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var te=requireBrowser$a();generatePrime=ln,ln.simpleSieve=$i,ln.fermatTest=sn;var t=requireBn$5(),G=new t(24),Te=requireMr(),Zr=new Te,Ie=new t(1),ni=new t(2),fi=new t(5);new t(16),new t(8);var ci=new t(10),ai=new t(3);new t(7);var si=new t(11),li=new t(4);new t(12);var mi=null;function di(){if(mi!==null)return mi;var mn=1048576,cn=[];cn[0]=2;for(var Rn=1,vn=3;vn<mn;vn+=2){for(var Cn=Math.ceil(Math.sqrt(vn)),ho=0;ho<Rn&&cn[ho]<=Cn&&vn%cn[ho]!==0;ho++);Rn!==ho&&cn[ho]<=Cn||(cn[Rn++]=vn)}return mi=cn,cn}function $i(mn){for(var cn=di(),Rn=0;Rn<cn.length;Rn++)if(mn.modn(cn[Rn])===0)return mn.cmpn(cn[Rn])===0;return!0}function sn(mn){var cn=t.mont(mn);return ni.toRed(cn).redPow(mn.subn(1)).fromRed().cmpn(1)===0}function ln(mn,cn){if(mn<16)return cn===2||cn===5?new t([140,123]):new t([140,39]);cn=new t(cn);for(var Rn,vn;;){for(Rn=new t(te(Math.ceil(mn/8)));Rn.bitLength()>mn;)Rn.ishrn(1);if(Rn.isEven()&&Rn.iadd(Ie),Rn.testn(1)||Rn.iadd(ni),cn.cmp(ni)){if(!cn.cmp(fi))for(;Rn.mod(ci).cmp(ai);)Rn.iadd(li)}else for(;Rn.mod(G).cmp(si);)Rn.iadd(li);if(vn=Rn.shrn(1),$i(vn)&&$i(Rn)&&sn(vn)&&sn(Rn)&&Zr.test(vn)&&Zr.test(Rn))return Rn}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var te=requireBn$5(),t=requireMr(),G=new t,Te=new te(24),Zr=new te(11),Ie=new te(10),ni=new te(3),fi=new te(7),ci=requireGeneratePrime(),ai=requireBrowser$a();dh=$i;function si(ln,mn){return mn=mn||"utf8",Buffer.isBuffer(ln)||(ln=new Buffer(ln,mn)),this._pub=new te(ln),this}function li(ln,mn){return mn=mn||"utf8",Buffer.isBuffer(ln)||(ln=new Buffer(ln,mn)),this._priv=new te(ln),this}var mi={};function di(ln,mn){var cn=mn.toString("hex"),Rn=[cn,ln.toString(16)].join("_");if(Rn in mi)return mi[Rn];var vn=0;if(ln.isEven()||!ci.simpleSieve||!ci.fermatTest(ln)||!G.test(ln))return vn+=1,cn==="02"||cn==="05"?vn+=8:vn+=4,mi[Rn]=vn,vn;G.test(ln.shrn(1))||(vn+=2);var Cn;switch(cn){case"02":ln.mod(Te).cmp(Zr)&&(vn+=8);break;case"05":Cn=ln.mod(Ie),Cn.cmp(ni)&&Cn.cmp(fi)&&(vn+=8);break;default:vn+=4}return mi[Rn]=vn,vn}function $i(ln,mn,cn){this.setGenerator(mn),this.__prime=new te(ln),this._prime=te.mont(this.__prime),this._primeLen=ln.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,cn?(this.setPublicKey=si,this.setPrivateKey=li):this._primeCode=8}Object.defineProperty($i.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=di(this.__prime,this.__gen)),this._primeCode}}),$i.prototype.generateKeys=function(){return this._priv||(this._priv=new te(ai(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},$i.prototype.computeSecret=function(ln){ln=new te(ln),ln=ln.toRed(this._prime);var mn=ln.redPow(this._priv).fromRed(),cn=new Buffer(mn.toArray()),Rn=this.getPrime();if(cn.length<Rn.length){var vn=new Buffer(Rn.length-cn.length);vn.fill(0),cn=Buffer.concat([vn,cn])}return cn},$i.prototype.getPublicKey=function(mn){return sn(this._pub,mn)},$i.prototype.getPrivateKey=function(mn){return sn(this._priv,mn)},$i.prototype.getPrime=function(ln){return sn(this.__prime,ln)},$i.prototype.getGenerator=function(ln){return sn(this._gen,ln)},$i.prototype.setGenerator=function(ln,mn){return mn=mn||"utf8",Buffer.isBuffer(ln)||(ln=new Buffer(ln,mn)),this.__gen=ln,this._gen=new te(ln),this};function sn(ln,mn){var cn=new Buffer(ln.toArray());return mn?cn.toString(mn):cn}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$5;hasRequiredBrowser$4=1;var te=requireGeneratePrime(),t=require$$1$1,G=requireDh();function Te(ni){var fi=new Buffer(t[ni].prime,"hex"),ci=new Buffer(t[ni].gen,"hex");return new G(fi,ci)}var Zr={binary:!0,hex:!0,base64:!0};function Ie(ni,fi,ci,ai){return Buffer.isBuffer(fi)||Zr[fi]===void 0?Ie(ni,"binary",fi,ci):(fi=fi||"binary",ai=ai||"binary",ci=ci||new Buffer([2]),Buffer.isBuffer(ci)||(ci=new Buffer(ci,ai)),typeof ni=="number"?new G(te(ni,ci),ci,!0):(Buffer.isBuffer(ni)||(ni=new Buffer(ni,fi)),new G(ni,ci,!0)))}return browser$5.DiffieHellmanGroup=browser$5.createDiffieHellmanGroup=browser$5.getDiffieHellman=Te,browser$5.createDiffieHellman=browser$5.DiffieHellman=Ie,browser$5}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:te}:processNextickArgs.exports=process$1;function te(t,G,Te,Zr){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var Ie=arguments.length,ni,fi;switch(Ie){case 0:case 1:return process$1.nextTick(t);case 2:return process$1.nextTick(function(){t.call(null,G)});case 3:return process$1.nextTick(function(){t.call(null,G,Te)});case 4:return process$1.nextTick(function(){t.call(null,G,Te,Zr)});default:for(ni=new Array(Ie-1),fi=0;fi<ni.length;)ni[fi++]=arguments[fi];return process$1.nextTick(function(){t.apply(null,ni)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var te={}.toString;return isarray=Array.isArray||function(t){return te.call(t)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=eventsExports.EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(te,t){var G=require$$0$3,Te=G.Buffer;function Zr(ni,fi){for(var ci in ni)fi[ci]=ni[ci]}Te.from&&Te.alloc&&Te.allocUnsafe&&Te.allocUnsafeSlow?te.exports=G:(Zr(G,t),t.Buffer=Ie);function Ie(ni,fi,ci){return Te(ni,fi,ci)}Zr(Te,Ie),Ie.from=function(ni,fi,ci){if(typeof ni=="number")throw new TypeError("Argument must not be a number");return Te(ni,fi,ci)},Ie.alloc=function(ni,fi,ci){if(typeof ni!="number")throw new TypeError("Argument must be a number");var ai=Te(ni);return fi!==void 0?typeof ci=="string"?ai.fill(fi,ci):ai.fill(fi):ai.fill(0),ai},Ie.allocUnsafe=function(ni){if(typeof ni!="number")throw new TypeError("Argument must be a number");return Te(ni)},Ie.allocUnsafeSlow=function(ni){if(typeof ni!="number")throw new TypeError("Argument must be a number");return G.SlowBuffer(ni)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function te(sn){return Array.isArray?Array.isArray(sn):$i(sn)==="[object Array]"}util.isArray=te;function t(sn){return typeof sn=="boolean"}util.isBoolean=t;function G(sn){return sn===null}util.isNull=G;function Te(sn){return sn==null}util.isNullOrUndefined=Te;function Zr(sn){return typeof sn=="number"}util.isNumber=Zr;function Ie(sn){return typeof sn=="string"}util.isString=Ie;function ni(sn){return typeof sn=="symbol"}util.isSymbol=ni;function fi(sn){return sn===void 0}util.isUndefined=fi;function ci(sn){return $i(sn)==="[object RegExp]"}util.isRegExp=ci;function ai(sn){return typeof sn=="object"&&sn!==null}util.isObject=ai;function si(sn){return $i(sn)==="[object Date]"}util.isDate=si;function li(sn){return $i(sn)==="[object Error]"||sn instanceof Error}util.isError=li;function mi(sn){return typeof sn=="function"}util.isFunction=mi;function di(sn){return sn===null||typeof sn=="boolean"||typeof sn=="number"||typeof sn=="string"||typeof sn=="symbol"||typeof sn>"u"}util.isPrimitive=di,util.isBuffer=require$$0$3.Buffer.isBuffer;function $i(sn){return Object.prototype.toString.call(sn)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(te){function t(Ie,ni){if(!(Ie instanceof ni))throw new TypeError("Cannot call a class as a function")}var G=requireSafeBuffer().Buffer,Te=util$1;function Zr(Ie,ni,fi){Ie.copy(ni,fi)}te.exports=function(){function Ie(){t(this,Ie),this.head=null,this.tail=null,this.length=0}return Ie.prototype.push=function(fi){var ci={data:fi,next:null};this.length>0?this.tail.next=ci:this.head=ci,this.tail=ci,++this.length},Ie.prototype.unshift=function(fi){var ci={data:fi,next:this.head};this.length===0&&(this.tail=ci),this.head=ci,++this.length},Ie.prototype.shift=function(){if(this.length!==0){var fi=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,fi}},Ie.prototype.clear=function(){this.head=this.tail=null,this.length=0},Ie.prototype.join=function(fi){if(this.length===0)return"";for(var ci=this.head,ai=""+ci.data;ci=ci.next;)ai+=fi+ci.data;return ai},Ie.prototype.concat=function(fi){if(this.length===0)return G.alloc(0);for(var ci=G.allocUnsafe(fi>>>0),ai=this.head,si=0;ai;)Zr(ai.data,ci,si),si+=ai.data.length,ai=ai.next;return ci},Ie}(),Te&&Te.inspect&&Te.inspect.custom&&(te.exports.prototype[Te.inspect.custom]=function(){var Ie=Te.inspect({length:this.length});return this.constructor.name+" "+Ie})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var te=requireProcessNextickArgs();function t(Zr,Ie){var ni=this,fi=this._readableState&&this._readableState.destroyed,ci=this._writableState&&this._writableState.destroyed;return fi||ci?(Ie?Ie(Zr):Zr&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,te.nextTick(Te,this,Zr)):te.nextTick(Te,this,Zr)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(Zr||null,function(ai){!Ie&&ai?ni._writableState?ni._writableState.errorEmitted||(ni._writableState.errorEmitted=!0,te.nextTick(Te,ni,ai)):te.nextTick(Te,ni,ai):Ie&&Ie(ai)}),this)}function G(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Te(Zr,Ie){Zr.emit("error",Ie)}return destroy_1={destroy:t,undestroy:G},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var te=requireProcessNextickArgs();_stream_writable=sn;function t(ii){var oi=this;this.next=null,this.entry=null,this.finish=function(){ri(oi,ii)}}var G=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:te.nextTick,Te;sn.WritableState=di;var Zr=Object.create(requireUtil());Zr.inherits=inherits_browserExports;var Ie={deprecate:browser$d},ni=requireStreamBrowser(),fi=requireSafeBuffer().Buffer,ci=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ai(ii){return fi.from(ii)}function si(ii){return fi.isBuffer(ii)||ii instanceof ci}var li=requireDestroy();Zr.inherits(sn,ni);function mi(){}function di(ii,oi){Te=Te||require_stream_duplex(),ii=ii||{};var ei=oi instanceof Te;this.objectMode=!!ii.objectMode,ei&&(this.objectMode=this.objectMode||!!ii.writableObjectMode);var Y=ii.highWaterMark,Xr=ii.writableHighWaterMark,on=this.objectMode?16:16*1024;Y||Y===0?this.highWaterMark=Y:ei&&(Xr||Xr===0)?this.highWaterMark=Xr:this.highWaterMark=on,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Mn=ii.decodeStrings===!1;this.decodeStrings=!Mn,this.defaultEncoding=ii.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Bn){hn(oi,Bn)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}di.prototype.getBuffer=function(){for(var oi=this.bufferedRequest,ei=[];oi;)ei.push(oi),oi=oi.next;return ei},function(){try{Object.defineProperty(di.prototype,"buffer",{get:Ie.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var $i;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($i=Function.prototype[Symbol.hasInstance],Object.defineProperty(sn,Symbol.hasInstance,{value:function(ii){return $i.call(this,ii)?!0:this!==sn?!1:ii&&ii._writableState instanceof di}})):$i=function(ii){return ii instanceof this};function sn(ii){if(Te=Te||require_stream_duplex(),!$i.call(sn,this)&&!(this instanceof Te))return new sn(ii);this._writableState=new di(ii,this),this.writable=!0,ii&&(typeof ii.write=="function"&&(this._write=ii.write),typeof ii.writev=="function"&&(this._writev=ii.writev),typeof ii.destroy=="function"&&(this._destroy=ii.destroy),typeof ii.final=="function"&&(this._final=ii.final)),ni.call(this)}sn.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function ln(ii,oi){var ei=new Error("write after end");ii.emit("error",ei),te.nextTick(oi,ei)}function mn(ii,oi,ei,Y){var Xr=!0,on=!1;return ei===null?on=new TypeError("May not write null values to stream"):typeof ei!="string"&&ei!==void 0&&!oi.objectMode&&(on=new TypeError("Invalid non-string/buffer chunk")),on&&(ii.emit("error",on),te.nextTick(Y,on),Xr=!1),Xr}sn.prototype.write=function(ii,oi,ei){var Y=this._writableState,Xr=!1,on=!Y.objectMode&&si(ii);return on&&!fi.isBuffer(ii)&&(ii=ai(ii)),typeof oi=="function"&&(ei=oi,oi=null),on?oi="buffer":oi||(oi=Y.defaultEncoding),typeof ei!="function"&&(ei=mi),Y.ended?ln(this,ei):(on||mn(this,Y,ii,ei))&&(Y.pendingcb++,Xr=Rn(this,Y,on,ii,oi,ei)),Xr},sn.prototype.cork=function(){var ii=this._writableState;ii.corked++},sn.prototype.uncork=function(){var ii=this._writableState;ii.corked&&(ii.corked--,!ii.writing&&!ii.corked&&!ii.bufferProcessing&&ii.bufferedRequest&&Yo(this,ii))},sn.prototype.setDefaultEncoding=function(oi){if(typeof oi=="string"&&(oi=oi.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((oi+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+oi);return this._writableState.defaultEncoding=oi,this};function cn(ii,oi,ei){return!ii.objectMode&&ii.decodeStrings!==!1&&typeof oi=="string"&&(oi=fi.from(oi,ei)),oi}Object.defineProperty(sn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Rn(ii,oi,ei,Y,Xr,on){if(!ei){var Mn=cn(oi,Y,Xr);Y!==Mn&&(ei=!0,Xr="buffer",Y=Mn)}var Bn=oi.objectMode?1:Y.length;oi.length+=Bn;var fn=oi.length<oi.highWaterMark;if(fn||(oi.needDrain=!0),oi.writing||oi.corked){var uo=oi.lastBufferedRequest;oi.lastBufferedRequest={chunk:Y,encoding:Xr,isBuf:ei,callback:on,next:null},uo?uo.next=oi.lastBufferedRequest:oi.bufferedRequest=oi.lastBufferedRequest,oi.bufferedRequestCount+=1}else vn(ii,oi,!1,Bn,Y,Xr,on);return fn}function vn(ii,oi,ei,Y,Xr,on,Mn){oi.writelen=Y,oi.writecb=Mn,oi.writing=!0,oi.sync=!0,ei?ii._writev(Xr,oi.onwrite):ii._write(Xr,on,oi.onwrite),oi.sync=!1}function Cn(ii,oi,ei,Y,Xr){--oi.pendingcb,ei?(te.nextTick(Xr,Y),te.nextTick(Br,ii,oi),ii._writableState.errorEmitted=!0,ii.emit("error",Y)):(Xr(Y),ii._writableState.errorEmitted=!0,ii.emit("error",Y),Br(ii,oi))}function ho(ii){ii.writing=!1,ii.writecb=null,ii.length-=ii.writelen,ii.writelen=0}function hn(ii,oi){var ei=ii._writableState,Y=ei.sync,Xr=ei.writecb;if(ho(ei),oi)Cn(ii,ei,Y,oi,Xr);else{var on=ui(ei);!on&&!ei.corked&&!ei.bufferProcessing&&ei.bufferedRequest&&Yo(ii,ei),Y?G(Zn,ii,ei,on,Xr):Zn(ii,ei,on,Xr)}}function Zn(ii,oi,ei,Y){ei||Do(ii,oi),oi.pendingcb--,Y(),Br(ii,oi)}function Do(ii,oi){oi.length===0&&oi.needDrain&&(oi.needDrain=!1,ii.emit("drain"))}function Yo(ii,oi){oi.bufferProcessing=!0;var ei=oi.bufferedRequest;if(ii._writev&&ei&&ei.next){var Y=oi.bufferedRequestCount,Xr=new Array(Y),on=oi.corkedRequestsFree;on.entry=ei;for(var Mn=0,Bn=!0;ei;)Xr[Mn]=ei,ei.isBuf||(Bn=!1),ei=ei.next,Mn+=1;Xr.allBuffers=Bn,vn(ii,oi,!0,oi.length,Xr,"",on.finish),oi.pendingcb++,oi.lastBufferedRequest=null,on.next?(oi.corkedRequestsFree=on.next,on.next=null):oi.corkedRequestsFree=new t(oi),oi.bufferedRequestCount=0}else{for(;ei;){var fn=ei.chunk,uo=ei.encoding,un=ei.callback,gn=oi.objectMode?1:fn.length;if(vn(ii,oi,!1,gn,fn,uo,un),ei=ei.next,oi.bufferedRequestCount--,oi.writing)break}ei===null&&(oi.lastBufferedRequest=null)}oi.bufferedRequest=ei,oi.bufferProcessing=!1}sn.prototype._write=function(ii,oi,ei){ei(new Error("_write() is not implemented"))},sn.prototype._writev=null,sn.prototype.end=function(ii,oi,ei){var Y=this._writableState;typeof ii=="function"?(ei=ii,ii=null,oi=null):typeof oi=="function"&&(ei=oi,oi=null),ii!=null&&this.write(ii,oi),Y.corked&&(Y.corked=1,this.uncork()),Y.ending||Wr(this,Y,ei)};function ui(ii){return ii.ending&&ii.length===0&&ii.bufferedRequest===null&&!ii.finished&&!ii.writing}function H(ii,oi){ii._final(function(ei){oi.pendingcb--,ei&&ii.emit("error",ei),oi.prefinished=!0,ii.emit("prefinish"),Br(ii,oi)})}function X(ii,oi){!oi.prefinished&&!oi.finalCalled&&(typeof ii._final=="function"?(oi.pendingcb++,oi.finalCalled=!0,te.nextTick(H,ii,oi)):(oi.prefinished=!0,ii.emit("prefinish")))}function Br(ii,oi){var ei=ui(oi);return ei&&(X(ii,oi),oi.pendingcb===0&&(oi.finished=!0,ii.emit("finish"))),ei}function Wr(ii,oi,ei){oi.ending=!0,Br(ii,oi),ei&&(oi.finished?te.nextTick(ei):ii.once("finish",ei)),oi.ended=!0,ii.writable=!1}function ri(ii,oi,ei){var Y=ii.entry;for(ii.entry=null;Y;){var Xr=Y.callback;oi.pendingcb--,Xr(ei),Y=Y.next}oi.corkedRequestsFree.next=ii}return Object.defineProperty(sn.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ii){this._writableState&&(this._writableState.destroyed=ii)}}),sn.prototype.destroy=li.destroy,sn.prototype._undestroy=li.undestroy,sn.prototype._destroy=function(ii,oi){this.end(),oi(ii)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var te=requireProcessNextickArgs(),t=Object.keys||function(li){var mi=[];for(var di in li)mi.push(di);return mi};_stream_duplex=ci;var G=Object.create(requireUtil());G.inherits=inherits_browserExports;var Te=require_stream_readable(),Zr=require_stream_writable();G.inherits(ci,Te);for(var Ie=t(Zr.prototype),ni=0;ni<Ie.length;ni++){var fi=Ie[ni];ci.prototype[fi]||(ci.prototype[fi]=Zr.prototype[fi])}function ci(li){if(!(this instanceof ci))return new ci(li);Te.call(this,li),Zr.call(this,li),li&&li.readable===!1&&(this.readable=!1),li&&li.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,li&&li.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",ai)}Object.defineProperty(ci.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ai(){this.allowHalfOpen||this._writableState.ended||te.nextTick(si,this)}function si(li){li.end()}return Object.defineProperty(ci.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(li){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=li,this._writableState.destroyed=li)}}),ci.prototype._destroy=function(li,mi){this.push(null),this.end(),te.nextTick(mi,li)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var te=requireProcessNextickArgs();_stream_readable=cn;var t=requireIsarray(),G;cn.ReadableState=mn,eventsExports.EventEmitter;var Te=function(un,gn){return un.listeners(gn).length},Zr=requireStreamBrowser(),Ie=requireSafeBuffer().Buffer,ni=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function fi(un){return Ie.from(un)}function ci(un){return Ie.isBuffer(un)||un instanceof ni}var ai=Object.create(requireUtil());ai.inherits=inherits_browserExports;var si=util$1,li=void 0;si&&si.debuglog?li=si.debuglog("stream"):li=function(){};var mi=requireBufferList(),di=requireDestroy(),$i;ai.inherits(cn,Zr);var sn=["error","close","destroy","pause","resume"];function ln(un,gn,An){if(typeof un.prependListener=="function")return un.prependListener(gn,An);!un._events||!un._events[gn]?un.on(gn,An):t(un._events[gn])?un._events[gn].unshift(An):un._events[gn]=[An,un._events[gn]]}function mn(un,gn){G=G||require_stream_duplex(),un=un||{};var An=gn instanceof G;this.objectMode=!!un.objectMode,An&&(this.objectMode=this.objectMode||!!un.readableObjectMode);var an=un.highWaterMark,qo=un.readableHighWaterMark,ko=this.objectMode?16:16*1024;an||an===0?this.highWaterMark=an:An&&(qo||qo===0)?this.highWaterMark=qo:this.highWaterMark=ko,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new mi,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=un.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,un.encoding&&($i||($i=requireString_decoder().StringDecoder),this.decoder=new $i(un.encoding),this.encoding=un.encoding)}function cn(un){if(G=G||require_stream_duplex(),!(this instanceof cn))return new cn(un);this._readableState=new mn(un,this),this.readable=!0,un&&(typeof un.read=="function"&&(this._read=un.read),typeof un.destroy=="function"&&(this._destroy=un.destroy)),Zr.call(this)}Object.defineProperty(cn.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(un){this._readableState&&(this._readableState.destroyed=un)}}),cn.prototype.destroy=di.destroy,cn.prototype._undestroy=di.undestroy,cn.prototype._destroy=function(un,gn){this.push(null),gn(un)},cn.prototype.push=function(un,gn){var An=this._readableState,an;return An.objectMode?an=!0:typeof un=="string"&&(gn=gn||An.defaultEncoding,gn!==An.encoding&&(un=Ie.from(un,gn),gn=""),an=!0),Rn(this,un,gn,!1,an)},cn.prototype.unshift=function(un){return Rn(this,un,null,!0,!1)};function Rn(un,gn,An,an,qo){var ko=un._readableState;if(gn===null)ko.reading=!1,Yo(un,ko);else{var Uo;qo||(Uo=Cn(ko,gn)),Uo?un.emit("error",Uo):ko.objectMode||gn&&gn.length>0?(typeof gn!="string"&&!ko.objectMode&&Object.getPrototypeOf(gn)!==Ie.prototype&&(gn=fi(gn)),an?ko.endEmitted?un.emit("error",new Error("stream.unshift() after end event")):vn(un,ko,gn,!0):ko.ended?un.emit("error",new Error("stream.push() after EOF")):(ko.reading=!1,ko.decoder&&!An?(gn=ko.decoder.write(gn),ko.objectMode||gn.length!==0?vn(un,ko,gn,!1):X(un,ko)):vn(un,ko,gn,!1))):an||(ko.reading=!1)}return ho(ko)}function vn(un,gn,An,an){gn.flowing&&gn.length===0&&!gn.sync?(un.emit("data",An),un.read(0)):(gn.length+=gn.objectMode?1:An.length,an?gn.buffer.unshift(An):gn.buffer.push(An),gn.needReadable&&ui(un)),X(un,gn)}function Cn(un,gn){var An;return!ci(gn)&&typeof gn!="string"&&gn!==void 0&&!un.objectMode&&(An=new TypeError("Invalid non-string/buffer chunk")),An}function ho(un){return!un.ended&&(un.needReadable||un.length<un.highWaterMark||un.length===0)}cn.prototype.isPaused=function(){return this._readableState.flowing===!1},cn.prototype.setEncoding=function(un){return $i||($i=requireString_decoder().StringDecoder),this._readableState.decoder=new $i(un),this._readableState.encoding=un,this};var hn=8388608;function Zn(un){return un>=hn?un=hn:(un--,un|=un>>>1,un|=un>>>2,un|=un>>>4,un|=un>>>8,un|=un>>>16,un++),un}function Do(un,gn){return un<=0||gn.length===0&&gn.ended?0:gn.objectMode?1:un!==un?gn.flowing&&gn.length?gn.buffer.head.data.length:gn.length:(un>gn.highWaterMark&&(gn.highWaterMark=Zn(un)),un<=gn.length?un:gn.ended?gn.length:(gn.needReadable=!0,0))}cn.prototype.read=function(un){li("read",un),un=parseInt(un,10);var gn=this._readableState,An=un;if(un!==0&&(gn.emittedReadable=!1),un===0&&gn.needReadable&&(gn.length>=gn.highWaterMark||gn.ended))return li("read: emitReadable",gn.length,gn.ended),gn.length===0&&gn.ended?Bn(this):ui(this),null;if(un=Do(un,gn),un===0&&gn.ended)return gn.length===0&&Bn(this),null;var an=gn.needReadable;li("need readable",an),(gn.length===0||gn.length-un<gn.highWaterMark)&&(an=!0,li("length less than watermark",an)),gn.ended||gn.reading?(an=!1,li("reading or ended",an)):an&&(li("do read"),gn.reading=!0,gn.sync=!0,gn.length===0&&(gn.needReadable=!0),this._read(gn.highWaterMark),gn.sync=!1,gn.reading||(un=Do(An,gn)));var qo;return un>0?qo=Y(un,gn):qo=null,qo===null?(gn.needReadable=!0,un=0):gn.length-=un,gn.length===0&&(gn.ended||(gn.needReadable=!0),An!==un&&gn.ended&&Bn(this)),qo!==null&&this.emit("data",qo),qo};function Yo(un,gn){if(!gn.ended){if(gn.decoder){var An=gn.decoder.end();An&&An.length&&(gn.buffer.push(An),gn.length+=gn.objectMode?1:An.length)}gn.ended=!0,ui(un)}}function ui(un){var gn=un._readableState;gn.needReadable=!1,gn.emittedReadable||(li("emitReadable",gn.flowing),gn.emittedReadable=!0,gn.sync?te.nextTick(H,un):H(un))}function H(un){li("emit readable"),un.emit("readable"),ei(un)}function X(un,gn){gn.readingMore||(gn.readingMore=!0,te.nextTick(Br,un,gn))}function Br(un,gn){for(var An=gn.length;!gn.reading&&!gn.flowing&&!gn.ended&&gn.length<gn.highWaterMark&&(li("maybeReadMore read 0"),un.read(0),An!==gn.length);)An=gn.length;gn.readingMore=!1}cn.prototype._read=function(un){this.emit("error",new Error("_read() is not implemented"))},cn.prototype.pipe=function(un,gn){var An=this,an=this._readableState;switch(an.pipesCount){case 0:an.pipes=un;break;case 1:an.pipes=[an.pipes,un];break;default:an.pipes.push(un);break}an.pipesCount+=1,li("pipe count=%d opts=%j",an.pipesCount,gn);var qo=(!gn||gn.end!==!1)&&un!==process$1.stdout&&un!==process$1.stderr,ko=qo?kh:Vh;an.endEmitted?te.nextTick(ko):An.once("end",ko),un.on("unpipe",Uo);function Uo(Qf,Ko){li("onunpipe"),Qf===An&&Ko&&Ko.hasUnpiped===!1&&(Ko.hasUnpiped=!0,Wh())}function kh(){li("onend"),un.end()}var Vo=Wr(An);un.on("drain",Vo);var tf=!1;function Wh(){li("cleanup"),un.removeListener("close",Vf),un.removeListener("finish",Zo),un.removeListener("drain",Vo),un.removeListener("error",Jh),un.removeListener("unpipe",Uo),An.removeListener("end",kh),An.removeListener("end",Vh),An.removeListener("data",vh),tf=!0,an.awaitDrain&&(!un._writableState||un._writableState.needDrain)&&Vo()}var Rh=!1;An.on("data",vh);function vh(Qf){li("ondata"),Rh=!1;var Ko=un.write(Qf);Ko===!1&&!Rh&&((an.pipesCount===1&&an.pipes===un||an.pipesCount>1&&uo(an.pipes,un)!==-1)&&!tf&&(li("false write response, pause",an.awaitDrain),an.awaitDrain++,Rh=!0),An.pause())}function Jh(Qf){li("onerror",Qf),Vh(),un.removeListener("error",Jh),Te(un,"error")===0&&un.emit("error",Qf)}ln(un,"error",Jh);function Vf(){un.removeListener("finish",Zo),Vh()}un.once("close",Vf);function Zo(){li("onfinish"),un.removeListener("close",Vf),Vh()}un.once("finish",Zo);function Vh(){li("unpipe"),An.unpipe(un)}return un.emit("pipe",An),an.flowing||(li("pipe resume"),An.resume()),un};function Wr(un){return function(){var gn=un._readableState;li("pipeOnDrain",gn.awaitDrain),gn.awaitDrain&&gn.awaitDrain--,gn.awaitDrain===0&&Te(un,"data")&&(gn.flowing=!0,ei(un))}}cn.prototype.unpipe=function(un){var gn=this._readableState,An={hasUnpiped:!1};if(gn.pipesCount===0)return this;if(gn.pipesCount===1)return un&&un!==gn.pipes?this:(un||(un=gn.pipes),gn.pipes=null,gn.pipesCount=0,gn.flowing=!1,un&&un.emit("unpipe",this,An),this);if(!un){var an=gn.pipes,qo=gn.pipesCount;gn.pipes=null,gn.pipesCount=0,gn.flowing=!1;for(var ko=0;ko<qo;ko++)an[ko].emit("unpipe",this,{hasUnpiped:!1});return this}var Uo=uo(gn.pipes,un);return Uo===-1?this:(gn.pipes.splice(Uo,1),gn.pipesCount-=1,gn.pipesCount===1&&(gn.pipes=gn.pipes[0]),un.emit("unpipe",this,An),this)},cn.prototype.on=function(un,gn){var An=Zr.prototype.on.call(this,un,gn);if(un==="data")this._readableState.flowing!==!1&&this.resume();else if(un==="readable"){var an=this._readableState;!an.endEmitted&&!an.readableListening&&(an.readableListening=an.needReadable=!0,an.emittedReadable=!1,an.reading?an.length&&ui(this):te.nextTick(ri,this))}return An},cn.prototype.addListener=cn.prototype.on;function ri(un){li("readable nexttick read 0"),un.read(0)}cn.prototype.resume=function(){var un=this._readableState;return un.flowing||(li("resume"),un.flowing=!0,ii(this,un)),this};function ii(un,gn){gn.resumeScheduled||(gn.resumeScheduled=!0,te.nextTick(oi,un,gn))}function oi(un,gn){gn.reading||(li("resume read 0"),un.read(0)),gn.resumeScheduled=!1,gn.awaitDrain=0,un.emit("resume"),ei(un),gn.flowing&&!gn.reading&&un.read(0)}cn.prototype.pause=function(){return li("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(li("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function ei(un){var gn=un._readableState;for(li("flow",gn.flowing);gn.flowing&&un.read()!==null;);}cn.prototype.wrap=function(un){var gn=this,An=this._readableState,an=!1;un.on("end",function(){if(li("wrapped end"),An.decoder&&!An.ended){var Uo=An.decoder.end();Uo&&Uo.length&&gn.push(Uo)}gn.push(null)}),un.on("data",function(Uo){if(li("wrapped data"),An.decoder&&(Uo=An.decoder.write(Uo)),!(An.objectMode&&Uo==null)&&!(!An.objectMode&&(!Uo||!Uo.length))){var kh=gn.push(Uo);kh||(an=!0,un.pause())}});for(var qo in un)this[qo]===void 0&&typeof un[qo]=="function"&&(this[qo]=function(Uo){return function(){return un[Uo].apply(un,arguments)}}(qo));for(var ko=0;ko<sn.length;ko++)un.on(sn[ko],this.emit.bind(this,sn[ko]));return this._read=function(Uo){li("wrapped _read",Uo),an&&(an=!1,un.resume())},this},Object.defineProperty(cn.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),cn._fromList=Y;function Y(un,gn){if(gn.length===0)return null;var An;return gn.objectMode?An=gn.buffer.shift():!un||un>=gn.length?(gn.decoder?An=gn.buffer.join(""):gn.buffer.length===1?An=gn.buffer.head.data:An=gn.buffer.concat(gn.length),gn.buffer.clear()):An=Xr(un,gn.buffer,gn.decoder),An}function Xr(un,gn,An){var an;return un<gn.head.data.length?(an=gn.head.data.slice(0,un),gn.head.data=gn.head.data.slice(un)):un===gn.head.data.length?an=gn.shift():an=An?on(un,gn):Mn(un,gn),an}function on(un,gn){var An=gn.head,an=1,qo=An.data;for(un-=qo.length;An=An.next;){var ko=An.data,Uo=un>ko.length?ko.length:un;if(Uo===ko.length?qo+=ko:qo+=ko.slice(0,un),un-=Uo,un===0){Uo===ko.length?(++an,An.next?gn.head=An.next:gn.head=gn.tail=null):(gn.head=An,An.data=ko.slice(Uo));break}++an}return gn.length-=an,qo}function Mn(un,gn){var An=Ie.allocUnsafe(un),an=gn.head,qo=1;for(an.data.copy(An),un-=an.data.length;an=an.next;){var ko=an.data,Uo=un>ko.length?ko.length:un;if(ko.copy(An,An.length-un,0,Uo),un-=Uo,un===0){Uo===ko.length?(++qo,an.next?gn.head=an.next:gn.head=gn.tail=null):(gn.head=an,an.data=ko.slice(Uo));break}++qo}return gn.length-=qo,An}function Bn(un){var gn=un._readableState;if(gn.length>0)throw new Error('"endReadable()" called on non-empty stream');gn.endEmitted||(gn.ended=!0,te.nextTick(fn,gn,un))}function fn(un,gn){!un.endEmitted&&un.length===0&&(un.endEmitted=!0,gn.readable=!1,gn.emit("end"))}function uo(un,gn){for(var An=0,an=un.length;An<an;An++)if(un[An]===gn)return An;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=Te;var te=require_stream_duplex(),t=Object.create(requireUtil());t.inherits=inherits_browserExports,t.inherits(Te,te);function G(ni,fi){var ci=this._transformState;ci.transforming=!1;var ai=ci.writecb;if(!ai)return this.emit("error",new Error("write callback called multiple times"));ci.writechunk=null,ci.writecb=null,fi!=null&&this.push(fi),ai(ni);var si=this._readableState;si.reading=!1,(si.needReadable||si.length<si.highWaterMark)&&this._read(si.highWaterMark)}function Te(ni){if(!(this instanceof Te))return new Te(ni);te.call(this,ni),this._transformState={afterTransform:G.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ni&&(typeof ni.transform=="function"&&(this._transform=ni.transform),typeof ni.flush=="function"&&(this._flush=ni.flush)),this.on("prefinish",Zr)}function Zr(){var ni=this;typeof this._flush=="function"?this._flush(function(fi,ci){Ie(ni,fi,ci)}):Ie(this,null,null)}Te.prototype.push=function(ni,fi){return this._transformState.needTransform=!1,te.prototype.push.call(this,ni,fi)},Te.prototype._transform=function(ni,fi,ci){throw new Error("_transform() is not implemented")},Te.prototype._write=function(ni,fi,ci){var ai=this._transformState;if(ai.writecb=ci,ai.writechunk=ni,ai.writeencoding=fi,!ai.transforming){var si=this._readableState;(ai.needTransform||si.needReadable||si.length<si.highWaterMark)&&this._read(si.highWaterMark)}},Te.prototype._read=function(ni){var fi=this._transformState;fi.writechunk!==null&&fi.writecb&&!fi.transforming?(fi.transforming=!0,this._transform(fi.writechunk,fi.writeencoding,fi.afterTransform)):fi.needTransform=!0},Te.prototype._destroy=function(ni,fi){var ci=this;te.prototype._destroy.call(this,ni,function(ai){fi(ai),ci.emit("close")})};function Ie(ni,fi,ci){if(fi)return ni.emit("error",fi);if(ci!=null&&ni.push(ci),ni._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(ni._transformState.transforming)throw new Error("Calling transform done when still transforming");return ni.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=G;var te=require_stream_transform(),t=Object.create(requireUtil());t.inherits=inherits_browserExports,t.inherits(G,te);function G(Te){if(!(this instanceof G))return new G(Te);te.call(this,Te)}return G.prototype._transform=function(Te,Zr,Ie){Ie(null,Te)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(te,t){t=te.exports=require_stream_readable(),t.Stream=t,t.Readable=t,t.Writable=require_stream_writable(),t.Duplex=require_stream_duplex(),t.Transform=require_stream_transform(),t.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var te=bnExports,t=requireBrowser$a();function G(Ie){var ni=Te(Ie),fi=ni.toRed(te.mont(Ie.modulus)).redPow(new te(Ie.publicExponent)).fromRed();return{blinder:fi,unblinder:ni.invm(Ie.modulus)}}function Te(Ie){var ni=Ie.modulus.byteLength(),fi;do fi=new te(t(ni));while(fi.cmp(Ie.modulus)>=0||!fi.umod(Ie.prime1)||!fi.umod(Ie.prime2));return fi}function Zr(Ie,ni){var fi=G(ni),ci=ni.modulus.byteLength(),ai=new te(Ie).mul(fi.blinder).umod(ni.modulus),si=ai.toRed(te.mont(ni.prime1)),li=ai.toRed(te.mont(ni.prime2)),mi=ni.coefficient,di=ni.prime1,$i=ni.prime2,sn=si.redPow(ni.exponent1).fromRed(),ln=li.redPow(ni.exponent2).fromRed(),mn=sn.isub(ln).imul(mi).umod(di).imul($i);return ln.iadd(mn).imul(fi.unblinder).umod(ni.modulus).toArrayLike(Buffer,"be",ci)}return Zr.getr=Te,browserifyRsa=Zr,browserifyRsa}var elliptic={};const name="elliptic",version="6.5.7",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$1={name,version,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$2={},bn$4={exports:{}};bn$4.exports;var hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(te){(function(t,G){function Te(ui,H){if(!ui)throw new Error(H||"Assertion failed")}function Zr(ui,H){ui.super_=H;var X=function(){};X.prototype=H.prototype,ui.prototype=new X,ui.prototype.constructor=ui}function Ie(ui,H,X){if(Ie.isBN(ui))return ui;this.negative=0,this.words=null,this.length=0,this.red=null,ui!==null&&((H==="le"||H==="be")&&(X=H,H=10),this._init(ui||0,H||10,X||"be"))}typeof t=="object"?t.exports=Ie:G.BN=Ie,Ie.BN=Ie,Ie.wordSize=26;var ni;try{typeof window<"u"&&typeof window.Buffer<"u"?ni=window.Buffer:ni=require$$0$3.Buffer}catch{}Ie.isBN=function(H){return H instanceof Ie?!0:H!==null&&typeof H=="object"&&H.constructor.wordSize===Ie.wordSize&&Array.isArray(H.words)},Ie.max=function(H,X){return H.cmp(X)>0?H:X},Ie.min=function(H,X){return H.cmp(X)<0?H:X},Ie.prototype._init=function(H,X,Br){if(typeof H=="number")return this._initNumber(H,X,Br);if(typeof H=="object")return this._initArray(H,X,Br);X==="hex"&&(X=16),Te(X===(X|0)&&X>=2&&X<=36),H=H.toString().replace(/\s+/g,"");var Wr=0;H[0]==="-"&&(Wr++,this.negative=1),Wr<H.length&&(X===16?this._parseHex(H,Wr,Br):(this._parseBase(H,X,Wr),Br==="le"&&this._initArray(this.toArray(),X,Br)))},Ie.prototype._initNumber=function(H,X,Br){H<0&&(this.negative=1,H=-H),H<67108864?(this.words=[H&67108863],this.length=1):H<4503599627370496?(this.words=[H&67108863,H/67108864&67108863],this.length=2):(Te(H<9007199254740992),this.words=[H&67108863,H/67108864&67108863,1],this.length=3),Br==="le"&&this._initArray(this.toArray(),X,Br)},Ie.prototype._initArray=function(H,X,Br){if(Te(typeof H.length=="number"),H.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(H.length/3),this.words=new Array(this.length);for(var Wr=0;Wr<this.length;Wr++)this.words[Wr]=0;var ri,ii,oi=0;if(Br==="be")for(Wr=H.length-1,ri=0;Wr>=0;Wr-=3)ii=H[Wr]|H[Wr-1]<<8|H[Wr-2]<<16,this.words[ri]|=ii<<oi&67108863,this.words[ri+1]=ii>>>26-oi&67108863,oi+=24,oi>=26&&(oi-=26,ri++);else if(Br==="le")for(Wr=0,ri=0;Wr<H.length;Wr+=3)ii=H[Wr]|H[Wr+1]<<8|H[Wr+2]<<16,this.words[ri]|=ii<<oi&67108863,this.words[ri+1]=ii>>>26-oi&67108863,oi+=24,oi>=26&&(oi-=26,ri++);return this.strip()};function fi(ui,H){var X=ui.charCodeAt(H);return X>=65&&X<=70?X-55:X>=97&&X<=102?X-87:X-48&15}function ci(ui,H,X){var Br=fi(ui,X);return X-1>=H&&(Br|=fi(ui,X-1)<<4),Br}Ie.prototype._parseHex=function(H,X,Br){this.length=Math.ceil((H.length-X)/6),this.words=new Array(this.length);for(var Wr=0;Wr<this.length;Wr++)this.words[Wr]=0;var ri=0,ii=0,oi;if(Br==="be")for(Wr=H.length-1;Wr>=X;Wr-=2)oi=ci(H,X,Wr)<<ri,this.words[ii]|=oi&67108863,ri>=18?(ri-=18,ii+=1,this.words[ii]|=oi>>>26):ri+=8;else{var ei=H.length-X;for(Wr=ei%2===0?X+1:X;Wr<H.length;Wr+=2)oi=ci(H,X,Wr)<<ri,this.words[ii]|=oi&67108863,ri>=18?(ri-=18,ii+=1,this.words[ii]|=oi>>>26):ri+=8}this.strip()};function ai(ui,H,X,Br){for(var Wr=0,ri=Math.min(ui.length,X),ii=H;ii<ri;ii++){var oi=ui.charCodeAt(ii)-48;Wr*=Br,oi>=49?Wr+=oi-49+10:oi>=17?Wr+=oi-17+10:Wr+=oi}return Wr}Ie.prototype._parseBase=function(H,X,Br){this.words=[0],this.length=1;for(var Wr=0,ri=1;ri<=67108863;ri*=X)Wr++;Wr--,ri=ri/X|0;for(var ii=H.length-Br,oi=ii%Wr,ei=Math.min(ii,ii-oi)+Br,Y=0,Xr=Br;Xr<ei;Xr+=Wr)Y=ai(H,Xr,Xr+Wr,X),this.imuln(ri),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(oi!==0){var on=1;for(Y=ai(H,Xr,H.length,X),Xr=0;Xr<oi;Xr++)on*=X;this.imuln(on),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this.strip()},Ie.prototype.copy=function(H){H.words=new Array(this.length);for(var X=0;X<this.length;X++)H.words[X]=this.words[X];H.length=this.length,H.negative=this.negative,H.red=this.red},Ie.prototype.clone=function(){var H=new Ie(null);return this.copy(H),H},Ie.prototype._expand=function(H){for(;this.length<H;)this.words[this.length++]=0;return this},Ie.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ie.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var si=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],li=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],mi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ie.prototype.toString=function(H,X){H=H||10,X=X|0||1;var Br;if(H===16||H==="hex"){Br="";for(var Wr=0,ri=0,ii=0;ii<this.length;ii++){var oi=this.words[ii],ei=((oi<<Wr|ri)&16777215).toString(16);ri=oi>>>24-Wr&16777215,ri!==0||ii!==this.length-1?Br=si[6-ei.length]+ei+Br:Br=ei+Br,Wr+=2,Wr>=26&&(Wr-=26,ii--)}for(ri!==0&&(Br=ri.toString(16)+Br);Br.length%X!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}if(H===(H|0)&&H>=2&&H<=36){var Y=li[H],Xr=mi[H];Br="";var on=this.clone();for(on.negative=0;!on.isZero();){var Mn=on.modn(Xr).toString(H);on=on.idivn(Xr),on.isZero()?Br=Mn+Br:Br=si[Y-Mn.length]+Mn+Br}for(this.isZero()&&(Br="0"+Br);Br.length%X!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}Te(!1,"Base should be between 2 and 36")},Ie.prototype.toNumber=function(){var H=this.words[0];return this.length===2?H+=this.words[1]*67108864:this.length===3&&this.words[2]===1?H+=4503599627370496+this.words[1]*67108864:this.length>2&&Te(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-H:H},Ie.prototype.toJSON=function(){return this.toString(16)},Ie.prototype.toBuffer=function(H,X){return Te(typeof ni<"u"),this.toArrayLike(ni,H,X)},Ie.prototype.toArray=function(H,X){return this.toArrayLike(Array,H,X)},Ie.prototype.toArrayLike=function(H,X,Br){var Wr=this.byteLength(),ri=Br||Math.max(1,Wr);Te(Wr<=ri,"byte array longer than desired length"),Te(ri>0,"Requested array length <= 0"),this.strip();var ii=X==="le",oi=new H(ri),ei,Y,Xr=this.clone();if(ii){for(Y=0;!Xr.isZero();Y++)ei=Xr.andln(255),Xr.iushrn(8),oi[Y]=ei;for(;Y<ri;Y++)oi[Y]=0}else{for(Y=0;Y<ri-Wr;Y++)oi[Y]=0;for(Y=0;!Xr.isZero();Y++)ei=Xr.andln(255),Xr.iushrn(8),oi[ri-Y-1]=ei}return oi},Math.clz32?Ie.prototype._countBits=function(H){return 32-Math.clz32(H)}:Ie.prototype._countBits=function(H){var X=H,Br=0;return X>=4096&&(Br+=13,X>>>=13),X>=64&&(Br+=7,X>>>=7),X>=8&&(Br+=4,X>>>=4),X>=2&&(Br+=2,X>>>=2),Br+X},Ie.prototype._zeroBits=function(H){if(H===0)return 26;var X=H,Br=0;return X&8191||(Br+=13,X>>>=13),X&127||(Br+=7,X>>>=7),X&15||(Br+=4,X>>>=4),X&3||(Br+=2,X>>>=2),X&1||Br++,Br},Ie.prototype.bitLength=function(){var H=this.words[this.length-1],X=this._countBits(H);return(this.length-1)*26+X};function di(ui){for(var H=new Array(ui.bitLength()),X=0;X<H.length;X++){var Br=X/26|0,Wr=X%26;H[X]=(ui.words[Br]&1<<Wr)>>>Wr}return H}Ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var H=0,X=0;X<this.length;X++){var Br=this._zeroBits(this.words[X]);if(H+=Br,Br!==26)break}return H},Ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ie.prototype.toTwos=function(H){return this.negative!==0?this.abs().inotn(H).iaddn(1):this.clone()},Ie.prototype.fromTwos=function(H){return this.testn(H-1)?this.notn(H).iaddn(1).ineg():this.clone()},Ie.prototype.isNeg=function(){return this.negative!==0},Ie.prototype.neg=function(){return this.clone().ineg()},Ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ie.prototype.iuor=function(H){for(;this.length<H.length;)this.words[this.length++]=0;for(var X=0;X<H.length;X++)this.words[X]=this.words[X]|H.words[X];return this.strip()},Ie.prototype.ior=function(H){return Te((this.negative|H.negative)===0),this.iuor(H)},Ie.prototype.or=function(H){return this.length>H.length?this.clone().ior(H):H.clone().ior(this)},Ie.prototype.uor=function(H){return this.length>H.length?this.clone().iuor(H):H.clone().iuor(this)},Ie.prototype.iuand=function(H){var X;this.length>H.length?X=H:X=this;for(var Br=0;Br<X.length;Br++)this.words[Br]=this.words[Br]&H.words[Br];return this.length=X.length,this.strip()},Ie.prototype.iand=function(H){return Te((this.negative|H.negative)===0),this.iuand(H)},Ie.prototype.and=function(H){return this.length>H.length?this.clone().iand(H):H.clone().iand(this)},Ie.prototype.uand=function(H){return this.length>H.length?this.clone().iuand(H):H.clone().iuand(this)},Ie.prototype.iuxor=function(H){var X,Br;this.length>H.length?(X=this,Br=H):(X=H,Br=this);for(var Wr=0;Wr<Br.length;Wr++)this.words[Wr]=X.words[Wr]^Br.words[Wr];if(this!==X)for(;Wr<X.length;Wr++)this.words[Wr]=X.words[Wr];return this.length=X.length,this.strip()},Ie.prototype.ixor=function(H){return Te((this.negative|H.negative)===0),this.iuxor(H)},Ie.prototype.xor=function(H){return this.length>H.length?this.clone().ixor(H):H.clone().ixor(this)},Ie.prototype.uxor=function(H){return this.length>H.length?this.clone().iuxor(H):H.clone().iuxor(this)},Ie.prototype.inotn=function(H){Te(typeof H=="number"&&H>=0);var X=Math.ceil(H/26)|0,Br=H%26;this._expand(X),Br>0&&X--;for(var Wr=0;Wr<X;Wr++)this.words[Wr]=~this.words[Wr]&67108863;return Br>0&&(this.words[Wr]=~this.words[Wr]&67108863>>26-Br),this.strip()},Ie.prototype.notn=function(H){return this.clone().inotn(H)},Ie.prototype.setn=function(H,X){Te(typeof H=="number"&&H>=0);var Br=H/26|0,Wr=H%26;return this._expand(Br+1),X?this.words[Br]=this.words[Br]|1<<Wr:this.words[Br]=this.words[Br]&~(1<<Wr),this.strip()},Ie.prototype.iadd=function(H){var X;if(this.negative!==0&&H.negative===0)return this.negative=0,X=this.isub(H),this.negative^=1,this._normSign();if(this.negative===0&&H.negative!==0)return H.negative=0,X=this.isub(H),H.negative=1,X._normSign();var Br,Wr;this.length>H.length?(Br=this,Wr=H):(Br=H,Wr=this);for(var ri=0,ii=0;ii<Wr.length;ii++)X=(Br.words[ii]|0)+(Wr.words[ii]|0)+ri,this.words[ii]=X&67108863,ri=X>>>26;for(;ri!==0&&ii<Br.length;ii++)X=(Br.words[ii]|0)+ri,this.words[ii]=X&67108863,ri=X>>>26;if(this.length=Br.length,ri!==0)this.words[this.length]=ri,this.length++;else if(Br!==this)for(;ii<Br.length;ii++)this.words[ii]=Br.words[ii];return this},Ie.prototype.add=function(H){var X;return H.negative!==0&&this.negative===0?(H.negative=0,X=this.sub(H),H.negative^=1,X):H.negative===0&&this.negative!==0?(this.negative=0,X=H.sub(this),this.negative=1,X):this.length>H.length?this.clone().iadd(H):H.clone().iadd(this)},Ie.prototype.isub=function(H){if(H.negative!==0){H.negative=0;var X=this.iadd(H);return H.negative=1,X._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(H),this.negative=1,this._normSign();var Br=this.cmp(H);if(Br===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Wr,ri;Br>0?(Wr=this,ri=H):(Wr=H,ri=this);for(var ii=0,oi=0;oi<ri.length;oi++)X=(Wr.words[oi]|0)-(ri.words[oi]|0)+ii,ii=X>>26,this.words[oi]=X&67108863;for(;ii!==0&&oi<Wr.length;oi++)X=(Wr.words[oi]|0)+ii,ii=X>>26,this.words[oi]=X&67108863;if(ii===0&&oi<Wr.length&&Wr!==this)for(;oi<Wr.length;oi++)this.words[oi]=Wr.words[oi];return this.length=Math.max(this.length,oi),Wr!==this&&(this.negative=1),this.strip()},Ie.prototype.sub=function(H){return this.clone().isub(H)};function $i(ui,H,X){X.negative=H.negative^ui.negative;var Br=ui.length+H.length|0;X.length=Br,Br=Br-1|0;var Wr=ui.words[0]|0,ri=H.words[0]|0,ii=Wr*ri,oi=ii&67108863,ei=ii/67108864|0;X.words[0]=oi;for(var Y=1;Y<Br;Y++){for(var Xr=ei>>>26,on=ei&67108863,Mn=Math.min(Y,H.length-1),Bn=Math.max(0,Y-ui.length+1);Bn<=Mn;Bn++){var fn=Y-Bn|0;Wr=ui.words[fn]|0,ri=H.words[Bn]|0,ii=Wr*ri+on,Xr+=ii/67108864|0,on=ii&67108863}X.words[Y]=on|0,ei=Xr|0}return ei!==0?X.words[Y]=ei|0:X.length--,X.strip()}var sn=function(H,X,Br){var Wr=H.words,ri=X.words,ii=Br.words,oi=0,ei,Y,Xr,on=Wr[0]|0,Mn=on&8191,Bn=on>>>13,fn=Wr[1]|0,uo=fn&8191,un=fn>>>13,gn=Wr[2]|0,An=gn&8191,an=gn>>>13,qo=Wr[3]|0,ko=qo&8191,Uo=qo>>>13,kh=Wr[4]|0,Vo=kh&8191,tf=kh>>>13,Wh=Wr[5]|0,Rh=Wh&8191,vh=Wh>>>13,Jh=Wr[6]|0,Vf=Jh&8191,Zo=Jh>>>13,Vh=Wr[7]|0,Qf=Vh&8191,Ko=Vh>>>13,Zh=Wr[8]|0,Xf=Zh&8191,Lf=Zh>>>13,Qh=Wr[9]|0,bh=Qh&8191,jf=Qh>>>13,Yh=ri[0]|0,Sh=Yh&8191,ph=Yh>>>13,Xh=ri[1]|0,Th=Xh&8191,$h=Xh>>>13,zu=ri[2]|0,Nh=zu&8191,Ih=zu>>>13,Ku=ri[3]|0,Lh=Ku&8191,wh=Ku>>>13,hu=ri[4]|0,qh=hu&8191,_h=hu>>>13,qu=ri[5]|0,Dh=qu&8191,xh=qu>>>13,Lu=ri[6]|0,Bh=Lu&8191,Eh=Lu>>>13,ku=ri[7]|0,Ch=ku&8191,Mh=ku>>>13,au=ri[8]|0,Oh=au&8191,Ah=au>>>13,r0=ri[9]|0,jh=r0&8191,Ph=r0>>>13;Br.negative=H.negative^X.negative,Br.length=19,ei=Math.imul(Mn,Sh),Y=Math.imul(Mn,ph),Y=Y+Math.imul(Bn,Sh)|0,Xr=Math.imul(Bn,ph);var Uu=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,ei=Math.imul(uo,Sh),Y=Math.imul(uo,ph),Y=Y+Math.imul(un,Sh)|0,Xr=Math.imul(un,ph),ei=ei+Math.imul(Mn,Th)|0,Y=Y+Math.imul(Mn,$h)|0,Y=Y+Math.imul(Bn,Th)|0,Xr=Xr+Math.imul(Bn,$h)|0;var nc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(nc>>>26)|0,nc&=67108863,ei=Math.imul(An,Sh),Y=Math.imul(An,ph),Y=Y+Math.imul(an,Sh)|0,Xr=Math.imul(an,ph),ei=ei+Math.imul(uo,Th)|0,Y=Y+Math.imul(uo,$h)|0,Y=Y+Math.imul(un,Th)|0,Xr=Xr+Math.imul(un,$h)|0,ei=ei+Math.imul(Mn,Nh)|0,Y=Y+Math.imul(Mn,Ih)|0,Y=Y+Math.imul(Bn,Nh)|0,Xr=Xr+Math.imul(Bn,Ih)|0;var sc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(sc>>>26)|0,sc&=67108863,ei=Math.imul(ko,Sh),Y=Math.imul(ko,ph),Y=Y+Math.imul(Uo,Sh)|0,Xr=Math.imul(Uo,ph),ei=ei+Math.imul(An,Th)|0,Y=Y+Math.imul(An,$h)|0,Y=Y+Math.imul(an,Th)|0,Xr=Xr+Math.imul(an,$h)|0,ei=ei+Math.imul(uo,Nh)|0,Y=Y+Math.imul(uo,Ih)|0,Y=Y+Math.imul(un,Nh)|0,Xr=Xr+Math.imul(un,Ih)|0,ei=ei+Math.imul(Mn,Lh)|0,Y=Y+Math.imul(Mn,wh)|0,Y=Y+Math.imul(Bn,Lh)|0,Xr=Xr+Math.imul(Bn,wh)|0;var ac=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(ac>>>26)|0,ac&=67108863,ei=Math.imul(Vo,Sh),Y=Math.imul(Vo,ph),Y=Y+Math.imul(tf,Sh)|0,Xr=Math.imul(tf,ph),ei=ei+Math.imul(ko,Th)|0,Y=Y+Math.imul(ko,$h)|0,Y=Y+Math.imul(Uo,Th)|0,Xr=Xr+Math.imul(Uo,$h)|0,ei=ei+Math.imul(An,Nh)|0,Y=Y+Math.imul(An,Ih)|0,Y=Y+Math.imul(an,Nh)|0,Xr=Xr+Math.imul(an,Ih)|0,ei=ei+Math.imul(uo,Lh)|0,Y=Y+Math.imul(uo,wh)|0,Y=Y+Math.imul(un,Lh)|0,Xr=Xr+Math.imul(un,wh)|0,ei=ei+Math.imul(Mn,qh)|0,Y=Y+Math.imul(Mn,_h)|0,Y=Y+Math.imul(Bn,qh)|0,Xr=Xr+Math.imul(Bn,_h)|0;var oc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(oc>>>26)|0,oc&=67108863,ei=Math.imul(Rh,Sh),Y=Math.imul(Rh,ph),Y=Y+Math.imul(vh,Sh)|0,Xr=Math.imul(vh,ph),ei=ei+Math.imul(Vo,Th)|0,Y=Y+Math.imul(Vo,$h)|0,Y=Y+Math.imul(tf,Th)|0,Xr=Xr+Math.imul(tf,$h)|0,ei=ei+Math.imul(ko,Nh)|0,Y=Y+Math.imul(ko,Ih)|0,Y=Y+Math.imul(Uo,Nh)|0,Xr=Xr+Math.imul(Uo,Ih)|0,ei=ei+Math.imul(An,Lh)|0,Y=Y+Math.imul(An,wh)|0,Y=Y+Math.imul(an,Lh)|0,Xr=Xr+Math.imul(an,wh)|0,ei=ei+Math.imul(uo,qh)|0,Y=Y+Math.imul(uo,_h)|0,Y=Y+Math.imul(un,qh)|0,Xr=Xr+Math.imul(un,_h)|0,ei=ei+Math.imul(Mn,Dh)|0,Y=Y+Math.imul(Mn,xh)|0,Y=Y+Math.imul(Bn,Dh)|0,Xr=Xr+Math.imul(Bn,xh)|0;var fc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(fc>>>26)|0,fc&=67108863,ei=Math.imul(Vf,Sh),Y=Math.imul(Vf,ph),Y=Y+Math.imul(Zo,Sh)|0,Xr=Math.imul(Zo,ph),ei=ei+Math.imul(Rh,Th)|0,Y=Y+Math.imul(Rh,$h)|0,Y=Y+Math.imul(vh,Th)|0,Xr=Xr+Math.imul(vh,$h)|0,ei=ei+Math.imul(Vo,Nh)|0,Y=Y+Math.imul(Vo,Ih)|0,Y=Y+Math.imul(tf,Nh)|0,Xr=Xr+Math.imul(tf,Ih)|0,ei=ei+Math.imul(ko,Lh)|0,Y=Y+Math.imul(ko,wh)|0,Y=Y+Math.imul(Uo,Lh)|0,Xr=Xr+Math.imul(Uo,wh)|0,ei=ei+Math.imul(An,qh)|0,Y=Y+Math.imul(An,_h)|0,Y=Y+Math.imul(an,qh)|0,Xr=Xr+Math.imul(an,_h)|0,ei=ei+Math.imul(uo,Dh)|0,Y=Y+Math.imul(uo,xh)|0,Y=Y+Math.imul(un,Dh)|0,Xr=Xr+Math.imul(un,xh)|0,ei=ei+Math.imul(Mn,Bh)|0,Y=Y+Math.imul(Mn,Eh)|0,Y=Y+Math.imul(Bn,Bh)|0,Xr=Xr+Math.imul(Bn,Eh)|0;var $0=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+($0>>>26)|0,$0&=67108863,ei=Math.imul(Qf,Sh),Y=Math.imul(Qf,ph),Y=Y+Math.imul(Ko,Sh)|0,Xr=Math.imul(Ko,ph),ei=ei+Math.imul(Vf,Th)|0,Y=Y+Math.imul(Vf,$h)|0,Y=Y+Math.imul(Zo,Th)|0,Xr=Xr+Math.imul(Zo,$h)|0,ei=ei+Math.imul(Rh,Nh)|0,Y=Y+Math.imul(Rh,Ih)|0,Y=Y+Math.imul(vh,Nh)|0,Xr=Xr+Math.imul(vh,Ih)|0,ei=ei+Math.imul(Vo,Lh)|0,Y=Y+Math.imul(Vo,wh)|0,Y=Y+Math.imul(tf,Lh)|0,Xr=Xr+Math.imul(tf,wh)|0,ei=ei+Math.imul(ko,qh)|0,Y=Y+Math.imul(ko,_h)|0,Y=Y+Math.imul(Uo,qh)|0,Xr=Xr+Math.imul(Uo,_h)|0,ei=ei+Math.imul(An,Dh)|0,Y=Y+Math.imul(An,xh)|0,Y=Y+Math.imul(an,Dh)|0,Xr=Xr+Math.imul(an,xh)|0,ei=ei+Math.imul(uo,Bh)|0,Y=Y+Math.imul(uo,Eh)|0,Y=Y+Math.imul(un,Bh)|0,Xr=Xr+Math.imul(un,Eh)|0,ei=ei+Math.imul(Mn,Ch)|0,Y=Y+Math.imul(Mn,Mh)|0,Y=Y+Math.imul(Bn,Ch)|0,Xr=Xr+Math.imul(Bn,Mh)|0;var lc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(lc>>>26)|0,lc&=67108863,ei=Math.imul(Xf,Sh),Y=Math.imul(Xf,ph),Y=Y+Math.imul(Lf,Sh)|0,Xr=Math.imul(Lf,ph),ei=ei+Math.imul(Qf,Th)|0,Y=Y+Math.imul(Qf,$h)|0,Y=Y+Math.imul(Ko,Th)|0,Xr=Xr+Math.imul(Ko,$h)|0,ei=ei+Math.imul(Vf,Nh)|0,Y=Y+Math.imul(Vf,Ih)|0,Y=Y+Math.imul(Zo,Nh)|0,Xr=Xr+Math.imul(Zo,Ih)|0,ei=ei+Math.imul(Rh,Lh)|0,Y=Y+Math.imul(Rh,wh)|0,Y=Y+Math.imul(vh,Lh)|0,Xr=Xr+Math.imul(vh,wh)|0,ei=ei+Math.imul(Vo,qh)|0,Y=Y+Math.imul(Vo,_h)|0,Y=Y+Math.imul(tf,qh)|0,Xr=Xr+Math.imul(tf,_h)|0,ei=ei+Math.imul(ko,Dh)|0,Y=Y+Math.imul(ko,xh)|0,Y=Y+Math.imul(Uo,Dh)|0,Xr=Xr+Math.imul(Uo,xh)|0,ei=ei+Math.imul(An,Bh)|0,Y=Y+Math.imul(An,Eh)|0,Y=Y+Math.imul(an,Bh)|0,Xr=Xr+Math.imul(an,Eh)|0,ei=ei+Math.imul(uo,Ch)|0,Y=Y+Math.imul(uo,Mh)|0,Y=Y+Math.imul(un,Ch)|0,Xr=Xr+Math.imul(un,Mh)|0,ei=ei+Math.imul(Mn,Oh)|0,Y=Y+Math.imul(Mn,Ah)|0,Y=Y+Math.imul(Bn,Oh)|0,Xr=Xr+Math.imul(Bn,Ah)|0;var gc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(gc>>>26)|0,gc&=67108863,ei=Math.imul(bh,Sh),Y=Math.imul(bh,ph),Y=Y+Math.imul(jf,Sh)|0,Xr=Math.imul(jf,ph),ei=ei+Math.imul(Xf,Th)|0,Y=Y+Math.imul(Xf,$h)|0,Y=Y+Math.imul(Lf,Th)|0,Xr=Xr+Math.imul(Lf,$h)|0,ei=ei+Math.imul(Qf,Nh)|0,Y=Y+Math.imul(Qf,Ih)|0,Y=Y+Math.imul(Ko,Nh)|0,Xr=Xr+Math.imul(Ko,Ih)|0,ei=ei+Math.imul(Vf,Lh)|0,Y=Y+Math.imul(Vf,wh)|0,Y=Y+Math.imul(Zo,Lh)|0,Xr=Xr+Math.imul(Zo,wh)|0,ei=ei+Math.imul(Rh,qh)|0,Y=Y+Math.imul(Rh,_h)|0,Y=Y+Math.imul(vh,qh)|0,Xr=Xr+Math.imul(vh,_h)|0,ei=ei+Math.imul(Vo,Dh)|0,Y=Y+Math.imul(Vo,xh)|0,Y=Y+Math.imul(tf,Dh)|0,Xr=Xr+Math.imul(tf,xh)|0,ei=ei+Math.imul(ko,Bh)|0,Y=Y+Math.imul(ko,Eh)|0,Y=Y+Math.imul(Uo,Bh)|0,Xr=Xr+Math.imul(Uo,Eh)|0,ei=ei+Math.imul(An,Ch)|0,Y=Y+Math.imul(An,Mh)|0,Y=Y+Math.imul(an,Ch)|0,Xr=Xr+Math.imul(an,Mh)|0,ei=ei+Math.imul(uo,Oh)|0,Y=Y+Math.imul(uo,Ah)|0,Y=Y+Math.imul(un,Oh)|0,Xr=Xr+Math.imul(un,Ah)|0,ei=ei+Math.imul(Mn,jh)|0,Y=Y+Math.imul(Mn,Ph)|0,Y=Y+Math.imul(Bn,jh)|0,Xr=Xr+Math.imul(Bn,Ph)|0;var dc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(dc>>>26)|0,dc&=67108863,ei=Math.imul(bh,Th),Y=Math.imul(bh,$h),Y=Y+Math.imul(jf,Th)|0,Xr=Math.imul(jf,$h),ei=ei+Math.imul(Xf,Nh)|0,Y=Y+Math.imul(Xf,Ih)|0,Y=Y+Math.imul(Lf,Nh)|0,Xr=Xr+Math.imul(Lf,Ih)|0,ei=ei+Math.imul(Qf,Lh)|0,Y=Y+Math.imul(Qf,wh)|0,Y=Y+Math.imul(Ko,Lh)|0,Xr=Xr+Math.imul(Ko,wh)|0,ei=ei+Math.imul(Vf,qh)|0,Y=Y+Math.imul(Vf,_h)|0,Y=Y+Math.imul(Zo,qh)|0,Xr=Xr+Math.imul(Zo,_h)|0,ei=ei+Math.imul(Rh,Dh)|0,Y=Y+Math.imul(Rh,xh)|0,Y=Y+Math.imul(vh,Dh)|0,Xr=Xr+Math.imul(vh,xh)|0,ei=ei+Math.imul(Vo,Bh)|0,Y=Y+Math.imul(Vo,Eh)|0,Y=Y+Math.imul(tf,Bh)|0,Xr=Xr+Math.imul(tf,Eh)|0,ei=ei+Math.imul(ko,Ch)|0,Y=Y+Math.imul(ko,Mh)|0,Y=Y+Math.imul(Uo,Ch)|0,Xr=Xr+Math.imul(Uo,Mh)|0,ei=ei+Math.imul(An,Oh)|0,Y=Y+Math.imul(An,Ah)|0,Y=Y+Math.imul(an,Oh)|0,Xr=Xr+Math.imul(an,Ah)|0,ei=ei+Math.imul(uo,jh)|0,Y=Y+Math.imul(uo,Ph)|0,Y=Y+Math.imul(un,jh)|0,Xr=Xr+Math.imul(un,Ph)|0;var bc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(bc>>>26)|0,bc&=67108863,ei=Math.imul(bh,Nh),Y=Math.imul(bh,Ih),Y=Y+Math.imul(jf,Nh)|0,Xr=Math.imul(jf,Ih),ei=ei+Math.imul(Xf,Lh)|0,Y=Y+Math.imul(Xf,wh)|0,Y=Y+Math.imul(Lf,Lh)|0,Xr=Xr+Math.imul(Lf,wh)|0,ei=ei+Math.imul(Qf,qh)|0,Y=Y+Math.imul(Qf,_h)|0,Y=Y+Math.imul(Ko,qh)|0,Xr=Xr+Math.imul(Ko,_h)|0,ei=ei+Math.imul(Vf,Dh)|0,Y=Y+Math.imul(Vf,xh)|0,Y=Y+Math.imul(Zo,Dh)|0,Xr=Xr+Math.imul(Zo,xh)|0,ei=ei+Math.imul(Rh,Bh)|0,Y=Y+Math.imul(Rh,Eh)|0,Y=Y+Math.imul(vh,Bh)|0,Xr=Xr+Math.imul(vh,Eh)|0,ei=ei+Math.imul(Vo,Ch)|0,Y=Y+Math.imul(Vo,Mh)|0,Y=Y+Math.imul(tf,Ch)|0,Xr=Xr+Math.imul(tf,Mh)|0,ei=ei+Math.imul(ko,Oh)|0,Y=Y+Math.imul(ko,Ah)|0,Y=Y+Math.imul(Uo,Oh)|0,Xr=Xr+Math.imul(Uo,Ah)|0,ei=ei+Math.imul(An,jh)|0,Y=Y+Math.imul(An,Ph)|0,Y=Y+Math.imul(an,jh)|0,Xr=Xr+Math.imul(an,Ph)|0;var yc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(yc>>>26)|0,yc&=67108863,ei=Math.imul(bh,Lh),Y=Math.imul(bh,wh),Y=Y+Math.imul(jf,Lh)|0,Xr=Math.imul(jf,wh),ei=ei+Math.imul(Xf,qh)|0,Y=Y+Math.imul(Xf,_h)|0,Y=Y+Math.imul(Lf,qh)|0,Xr=Xr+Math.imul(Lf,_h)|0,ei=ei+Math.imul(Qf,Dh)|0,Y=Y+Math.imul(Qf,xh)|0,Y=Y+Math.imul(Ko,Dh)|0,Xr=Xr+Math.imul(Ko,xh)|0,ei=ei+Math.imul(Vf,Bh)|0,Y=Y+Math.imul(Vf,Eh)|0,Y=Y+Math.imul(Zo,Bh)|0,Xr=Xr+Math.imul(Zo,Eh)|0,ei=ei+Math.imul(Rh,Ch)|0,Y=Y+Math.imul(Rh,Mh)|0,Y=Y+Math.imul(vh,Ch)|0,Xr=Xr+Math.imul(vh,Mh)|0,ei=ei+Math.imul(Vo,Oh)|0,Y=Y+Math.imul(Vo,Ah)|0,Y=Y+Math.imul(tf,Oh)|0,Xr=Xr+Math.imul(tf,Ah)|0,ei=ei+Math.imul(ko,jh)|0,Y=Y+Math.imul(ko,Ph)|0,Y=Y+Math.imul(Uo,jh)|0,Xr=Xr+Math.imul(Uo,Ph)|0;var pc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(pc>>>26)|0,pc&=67108863,ei=Math.imul(bh,qh),Y=Math.imul(bh,_h),Y=Y+Math.imul(jf,qh)|0,Xr=Math.imul(jf,_h),ei=ei+Math.imul(Xf,Dh)|0,Y=Y+Math.imul(Xf,xh)|0,Y=Y+Math.imul(Lf,Dh)|0,Xr=Xr+Math.imul(Lf,xh)|0,ei=ei+Math.imul(Qf,Bh)|0,Y=Y+Math.imul(Qf,Eh)|0,Y=Y+Math.imul(Ko,Bh)|0,Xr=Xr+Math.imul(Ko,Eh)|0,ei=ei+Math.imul(Vf,Ch)|0,Y=Y+Math.imul(Vf,Mh)|0,Y=Y+Math.imul(Zo,Ch)|0,Xr=Xr+Math.imul(Zo,Mh)|0,ei=ei+Math.imul(Rh,Oh)|0,Y=Y+Math.imul(Rh,Ah)|0,Y=Y+Math.imul(vh,Oh)|0,Xr=Xr+Math.imul(vh,Ah)|0,ei=ei+Math.imul(Vo,jh)|0,Y=Y+Math.imul(Vo,Ph)|0,Y=Y+Math.imul(tf,jh)|0,Xr=Xr+Math.imul(tf,Ph)|0;var vc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(vc>>>26)|0,vc&=67108863,ei=Math.imul(bh,Dh),Y=Math.imul(bh,xh),Y=Y+Math.imul(jf,Dh)|0,Xr=Math.imul(jf,xh),ei=ei+Math.imul(Xf,Bh)|0,Y=Y+Math.imul(Xf,Eh)|0,Y=Y+Math.imul(Lf,Bh)|0,Xr=Xr+Math.imul(Lf,Eh)|0,ei=ei+Math.imul(Qf,Ch)|0,Y=Y+Math.imul(Qf,Mh)|0,Y=Y+Math.imul(Ko,Ch)|0,Xr=Xr+Math.imul(Ko,Mh)|0,ei=ei+Math.imul(Vf,Oh)|0,Y=Y+Math.imul(Vf,Ah)|0,Y=Y+Math.imul(Zo,Oh)|0,Xr=Xr+Math.imul(Zo,Ah)|0,ei=ei+Math.imul(Rh,jh)|0,Y=Y+Math.imul(Rh,Ph)|0,Y=Y+Math.imul(vh,jh)|0,Xr=Xr+Math.imul(vh,Ph)|0;var mc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(mc>>>26)|0,mc&=67108863,ei=Math.imul(bh,Bh),Y=Math.imul(bh,Eh),Y=Y+Math.imul(jf,Bh)|0,Xr=Math.imul(jf,Eh),ei=ei+Math.imul(Xf,Ch)|0,Y=Y+Math.imul(Xf,Mh)|0,Y=Y+Math.imul(Lf,Ch)|0,Xr=Xr+Math.imul(Lf,Mh)|0,ei=ei+Math.imul(Qf,Oh)|0,Y=Y+Math.imul(Qf,Ah)|0,Y=Y+Math.imul(Ko,Oh)|0,Xr=Xr+Math.imul(Ko,Ah)|0,ei=ei+Math.imul(Vf,jh)|0,Y=Y+Math.imul(Vf,Ph)|0,Y=Y+Math.imul(Zo,jh)|0,Xr=Xr+Math.imul(Zo,Ph)|0;var tc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(tc>>>26)|0,tc&=67108863,ei=Math.imul(bh,Ch),Y=Math.imul(bh,Mh),Y=Y+Math.imul(jf,Ch)|0,Xr=Math.imul(jf,Mh),ei=ei+Math.imul(Xf,Oh)|0,Y=Y+Math.imul(Xf,Ah)|0,Y=Y+Math.imul(Lf,Oh)|0,Xr=Xr+Math.imul(Lf,Ah)|0,ei=ei+Math.imul(Qf,jh)|0,Y=Y+Math.imul(Qf,Ph)|0,Y=Y+Math.imul(Ko,jh)|0,Xr=Xr+Math.imul(Ko,Ph)|0;var wc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(wc>>>26)|0,wc&=67108863,ei=Math.imul(bh,Oh),Y=Math.imul(bh,Ah),Y=Y+Math.imul(jf,Oh)|0,Xr=Math.imul(jf,Ah),ei=ei+Math.imul(Xf,jh)|0,Y=Y+Math.imul(Xf,Ph)|0,Y=Y+Math.imul(Lf,jh)|0,Xr=Xr+Math.imul(Lf,Ph)|0;var _c=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(_c>>>26)|0,_c&=67108863,ei=Math.imul(bh,jh),Y=Math.imul(bh,Ph),Y=Y+Math.imul(jf,jh)|0,Xr=Math.imul(jf,Ph);var Mc=(oi+ei|0)+((Y&8191)<<13)|0;return oi=(Xr+(Y>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,ii[0]=Uu,ii[1]=nc,ii[2]=sc,ii[3]=ac,ii[4]=oc,ii[5]=fc,ii[6]=$0,ii[7]=lc,ii[8]=gc,ii[9]=dc,ii[10]=bc,ii[11]=yc,ii[12]=pc,ii[13]=vc,ii[14]=mc,ii[15]=tc,ii[16]=wc,ii[17]=_c,ii[18]=Mc,oi!==0&&(ii[19]=oi,Br.length++),Br};Math.imul||(sn=$i);function ln(ui,H,X){X.negative=H.negative^ui.negative,X.length=ui.length+H.length;for(var Br=0,Wr=0,ri=0;ri<X.length-1;ri++){var ii=Wr;Wr=0;for(var oi=Br&67108863,ei=Math.min(ri,H.length-1),Y=Math.max(0,ri-ui.length+1);Y<=ei;Y++){var Xr=ri-Y,on=ui.words[Xr]|0,Mn=H.words[Y]|0,Bn=on*Mn,fn=Bn&67108863;ii=ii+(Bn/67108864|0)|0,fn=fn+oi|0,oi=fn&67108863,ii=ii+(fn>>>26)|0,Wr+=ii>>>26,ii&=67108863}X.words[ri]=oi,Br=ii,ii=Wr}return Br!==0?X.words[ri]=Br:X.length--,X.strip()}function mn(ui,H,X){var Br=new cn;return Br.mulp(ui,H,X)}Ie.prototype.mulTo=function(H,X){var Br,Wr=this.length+H.length;return this.length===10&&H.length===10?Br=sn(this,H,X):Wr<63?Br=$i(this,H,X):Wr<1024?Br=ln(this,H,X):Br=mn(this,H,X),Br};function cn(ui,H){this.x=ui,this.y=H}cn.prototype.makeRBT=function(H){for(var X=new Array(H),Br=Ie.prototype._countBits(H)-1,Wr=0;Wr<H;Wr++)X[Wr]=this.revBin(Wr,Br,H);return X},cn.prototype.revBin=function(H,X,Br){if(H===0||H===Br-1)return H;for(var Wr=0,ri=0;ri<X;ri++)Wr|=(H&1)<<X-ri-1,H>>=1;return Wr},cn.prototype.permute=function(H,X,Br,Wr,ri,ii){for(var oi=0;oi<ii;oi++)Wr[oi]=X[H[oi]],ri[oi]=Br[H[oi]]},cn.prototype.transform=function(H,X,Br,Wr,ri,ii){this.permute(ii,H,X,Br,Wr,ri);for(var oi=1;oi<ri;oi<<=1)for(var ei=oi<<1,Y=Math.cos(2*Math.PI/ei),Xr=Math.sin(2*Math.PI/ei),on=0;on<ri;on+=ei)for(var Mn=Y,Bn=Xr,fn=0;fn<oi;fn++){var uo=Br[on+fn],un=Wr[on+fn],gn=Br[on+fn+oi],An=Wr[on+fn+oi],an=Mn*gn-Bn*An;An=Mn*An+Bn*gn,gn=an,Br[on+fn]=uo+gn,Wr[on+fn]=un+An,Br[on+fn+oi]=uo-gn,Wr[on+fn+oi]=un-An,fn!==ei&&(an=Y*Mn-Xr*Bn,Bn=Y*Bn+Xr*Mn,Mn=an)}},cn.prototype.guessLen13b=function(H,X){var Br=Math.max(X,H)|1,Wr=Br&1,ri=0;for(Br=Br/2|0;Br;Br=Br>>>1)ri++;return 1<<ri+1+Wr},cn.prototype.conjugate=function(H,X,Br){if(!(Br<=1))for(var Wr=0;Wr<Br/2;Wr++){var ri=H[Wr];H[Wr]=H[Br-Wr-1],H[Br-Wr-1]=ri,ri=X[Wr],X[Wr]=-X[Br-Wr-1],X[Br-Wr-1]=-ri}},cn.prototype.normalize13b=function(H,X){for(var Br=0,Wr=0;Wr<X/2;Wr++){var ri=Math.round(H[2*Wr+1]/X)*8192+Math.round(H[2*Wr]/X)+Br;H[Wr]=ri&67108863,ri<67108864?Br=0:Br=ri/67108864|0}return H},cn.prototype.convert13b=function(H,X,Br,Wr){for(var ri=0,ii=0;ii<X;ii++)ri=ri+(H[ii]|0),Br[2*ii]=ri&8191,ri=ri>>>13,Br[2*ii+1]=ri&8191,ri=ri>>>13;for(ii=2*X;ii<Wr;++ii)Br[ii]=0;Te(ri===0),Te((ri&-8192)===0)},cn.prototype.stub=function(H){for(var X=new Array(H),Br=0;Br<H;Br++)X[Br]=0;return X},cn.prototype.mulp=function(H,X,Br){var Wr=2*this.guessLen13b(H.length,X.length),ri=this.makeRBT(Wr),ii=this.stub(Wr),oi=new Array(Wr),ei=new Array(Wr),Y=new Array(Wr),Xr=new Array(Wr),on=new Array(Wr),Mn=new Array(Wr),Bn=Br.words;Bn.length=Wr,this.convert13b(H.words,H.length,oi,Wr),this.convert13b(X.words,X.length,Xr,Wr),this.transform(oi,ii,ei,Y,Wr,ri),this.transform(Xr,ii,on,Mn,Wr,ri);for(var fn=0;fn<Wr;fn++){var uo=ei[fn]*on[fn]-Y[fn]*Mn[fn];Y[fn]=ei[fn]*Mn[fn]+Y[fn]*on[fn],ei[fn]=uo}return this.conjugate(ei,Y,Wr),this.transform(ei,Y,Bn,ii,Wr,ri),this.conjugate(Bn,ii,Wr),this.normalize13b(Bn,Wr),Br.negative=H.negative^X.negative,Br.length=H.length+X.length,Br.strip()},Ie.prototype.mul=function(H){var X=new Ie(null);return X.words=new Array(this.length+H.length),this.mulTo(H,X)},Ie.prototype.mulf=function(H){var X=new Ie(null);return X.words=new Array(this.length+H.length),mn(this,H,X)},Ie.prototype.imul=function(H){return this.clone().mulTo(H,this)},Ie.prototype.imuln=function(H){Te(typeof H=="number"),Te(H<67108864);for(var X=0,Br=0;Br<this.length;Br++){var Wr=(this.words[Br]|0)*H,ri=(Wr&67108863)+(X&67108863);X>>=26,X+=Wr/67108864|0,X+=ri>>>26,this.words[Br]=ri&67108863}return X!==0&&(this.words[Br]=X,this.length++),this},Ie.prototype.muln=function(H){return this.clone().imuln(H)},Ie.prototype.sqr=function(){return this.mul(this)},Ie.prototype.isqr=function(){return this.imul(this.clone())},Ie.prototype.pow=function(H){var X=di(H);if(X.length===0)return new Ie(1);for(var Br=this,Wr=0;Wr<X.length&&X[Wr]===0;Wr++,Br=Br.sqr());if(++Wr<X.length)for(var ri=Br.sqr();Wr<X.length;Wr++,ri=ri.sqr())X[Wr]!==0&&(Br=Br.mul(ri));return Br},Ie.prototype.iushln=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26,Wr=67108863>>>26-X<<26-X,ri;if(X!==0){var ii=0;for(ri=0;ri<this.length;ri++){var oi=this.words[ri]&Wr,ei=(this.words[ri]|0)-oi<<X;this.words[ri]=ei|ii,ii=oi>>>26-X}ii&&(this.words[ri]=ii,this.length++)}if(Br!==0){for(ri=this.length-1;ri>=0;ri--)this.words[ri+Br]=this.words[ri];for(ri=0;ri<Br;ri++)this.words[ri]=0;this.length+=Br}return this.strip()},Ie.prototype.ishln=function(H){return Te(this.negative===0),this.iushln(H)},Ie.prototype.iushrn=function(H,X,Br){Te(typeof H=="number"&&H>=0);var Wr;X?Wr=(X-X%26)/26:Wr=0;var ri=H%26,ii=Math.min((H-ri)/26,this.length),oi=67108863^67108863>>>ri<<ri,ei=Br;if(Wr-=ii,Wr=Math.max(0,Wr),ei){for(var Y=0;Y<ii;Y++)ei.words[Y]=this.words[Y];ei.length=ii}if(ii!==0)if(this.length>ii)for(this.length-=ii,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+ii];else this.words[0]=0,this.length=1;var Xr=0;for(Y=this.length-1;Y>=0&&(Xr!==0||Y>=Wr);Y--){var on=this.words[Y]|0;this.words[Y]=Xr<<26-ri|on>>>ri,Xr=on&oi}return ei&&Xr!==0&&(ei.words[ei.length++]=Xr),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ie.prototype.ishrn=function(H,X,Br){return Te(this.negative===0),this.iushrn(H,X,Br)},Ie.prototype.shln=function(H){return this.clone().ishln(H)},Ie.prototype.ushln=function(H){return this.clone().iushln(H)},Ie.prototype.shrn=function(H){return this.clone().ishrn(H)},Ie.prototype.ushrn=function(H){return this.clone().iushrn(H)},Ie.prototype.testn=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26,Wr=1<<X;if(this.length<=Br)return!1;var ri=this.words[Br];return!!(ri&Wr)},Ie.prototype.imaskn=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26;if(Te(this.negative===0,"imaskn works only with positive numbers"),this.length<=Br)return this;if(X!==0&&Br++,this.length=Math.min(Br,this.length),X!==0){var Wr=67108863^67108863>>>X<<X;this.words[this.length-1]&=Wr}return this.strip()},Ie.prototype.maskn=function(H){return this.clone().imaskn(H)},Ie.prototype.iaddn=function(H){return Te(typeof H=="number"),Te(H<67108864),H<0?this.isubn(-H):this.negative!==0?this.length===1&&(this.words[0]|0)<H?(this.words[0]=H-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(H),this.negative=1,this):this._iaddn(H)},Ie.prototype._iaddn=function(H){this.words[0]+=H;for(var X=0;X<this.length&&this.words[X]>=67108864;X++)this.words[X]-=67108864,X===this.length-1?this.words[X+1]=1:this.words[X+1]++;return this.length=Math.max(this.length,X+1),this},Ie.prototype.isubn=function(H){if(Te(typeof H=="number"),Te(H<67108864),H<0)return this.iaddn(-H);if(this.negative!==0)return this.negative=0,this.iaddn(H),this.negative=1,this;if(this.words[0]-=H,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var X=0;X<this.length&&this.words[X]<0;X++)this.words[X]+=67108864,this.words[X+1]-=1;return this.strip()},Ie.prototype.addn=function(H){return this.clone().iaddn(H)},Ie.prototype.subn=function(H){return this.clone().isubn(H)},Ie.prototype.iabs=function(){return this.negative=0,this},Ie.prototype.abs=function(){return this.clone().iabs()},Ie.prototype._ishlnsubmul=function(H,X,Br){var Wr=H.length+Br,ri;this._expand(Wr);var ii,oi=0;for(ri=0;ri<H.length;ri++){ii=(this.words[ri+Br]|0)+oi;var ei=(H.words[ri]|0)*X;ii-=ei&67108863,oi=(ii>>26)-(ei/67108864|0),this.words[ri+Br]=ii&67108863}for(;ri<this.length-Br;ri++)ii=(this.words[ri+Br]|0)+oi,oi=ii>>26,this.words[ri+Br]=ii&67108863;if(oi===0)return this.strip();for(Te(oi===-1),oi=0,ri=0;ri<this.length;ri++)ii=-(this.words[ri]|0)+oi,oi=ii>>26,this.words[ri]=ii&67108863;return this.negative=1,this.strip()},Ie.prototype._wordDiv=function(H,X){var Br=this.length-H.length,Wr=this.clone(),ri=H,ii=ri.words[ri.length-1]|0,oi=this._countBits(ii);Br=26-oi,Br!==0&&(ri=ri.ushln(Br),Wr.iushln(Br),ii=ri.words[ri.length-1]|0);var ei=Wr.length-ri.length,Y;if(X!=="mod"){Y=new Ie(null),Y.length=ei+1,Y.words=new Array(Y.length);for(var Xr=0;Xr<Y.length;Xr++)Y.words[Xr]=0}var on=Wr.clone()._ishlnsubmul(ri,1,ei);on.negative===0&&(Wr=on,Y&&(Y.words[ei]=1));for(var Mn=ei-1;Mn>=0;Mn--){var Bn=(Wr.words[ri.length+Mn]|0)*67108864+(Wr.words[ri.length+Mn-1]|0);for(Bn=Math.min(Bn/ii|0,67108863),Wr._ishlnsubmul(ri,Bn,Mn);Wr.negative!==0;)Bn--,Wr.negative=0,Wr._ishlnsubmul(ri,1,Mn),Wr.isZero()||(Wr.negative^=1);Y&&(Y.words[Mn]=Bn)}return Y&&Y.strip(),Wr.strip(),X!=="div"&&Br!==0&&Wr.iushrn(Br),{div:Y||null,mod:Wr}},Ie.prototype.divmod=function(H,X,Br){if(Te(!H.isZero()),this.isZero())return{div:new Ie(0),mod:new Ie(0)};var Wr,ri,ii;return this.negative!==0&&H.negative===0?(ii=this.neg().divmod(H,X),X!=="mod"&&(Wr=ii.div.neg()),X!=="div"&&(ri=ii.mod.neg(),Br&&ri.negative!==0&&ri.iadd(H)),{div:Wr,mod:ri}):this.negative===0&&H.negative!==0?(ii=this.divmod(H.neg(),X),X!=="mod"&&(Wr=ii.div.neg()),{div:Wr,mod:ii.mod}):this.negative&H.negative?(ii=this.neg().divmod(H.neg(),X),X!=="div"&&(ri=ii.mod.neg(),Br&&ri.negative!==0&&ri.isub(H)),{div:ii.div,mod:ri}):H.length>this.length||this.cmp(H)<0?{div:new Ie(0),mod:this}:H.length===1?X==="div"?{div:this.divn(H.words[0]),mod:null}:X==="mod"?{div:null,mod:new Ie(this.modn(H.words[0]))}:{div:this.divn(H.words[0]),mod:new Ie(this.modn(H.words[0]))}:this._wordDiv(H,X)},Ie.prototype.div=function(H){return this.divmod(H,"div",!1).div},Ie.prototype.mod=function(H){return this.divmod(H,"mod",!1).mod},Ie.prototype.umod=function(H){return this.divmod(H,"mod",!0).mod},Ie.prototype.divRound=function(H){var X=this.divmod(H);if(X.mod.isZero())return X.div;var Br=X.div.negative!==0?X.mod.isub(H):X.mod,Wr=H.ushrn(1),ri=H.andln(1),ii=Br.cmp(Wr);return ii<0||ri===1&&ii===0?X.div:X.div.negative!==0?X.div.isubn(1):X.div.iaddn(1)},Ie.prototype.modn=function(H){Te(H<=67108863);for(var X=(1<<26)%H,Br=0,Wr=this.length-1;Wr>=0;Wr--)Br=(X*Br+(this.words[Wr]|0))%H;return Br},Ie.prototype.idivn=function(H){Te(H<=67108863);for(var X=0,Br=this.length-1;Br>=0;Br--){var Wr=(this.words[Br]|0)+X*67108864;this.words[Br]=Wr/H|0,X=Wr%H}return this.strip()},Ie.prototype.divn=function(H){return this.clone().idivn(H)},Ie.prototype.egcd=function(H){Te(H.negative===0),Te(!H.isZero());var X=this,Br=H.clone();X.negative!==0?X=X.umod(H):X=X.clone();for(var Wr=new Ie(1),ri=new Ie(0),ii=new Ie(0),oi=new Ie(1),ei=0;X.isEven()&&Br.isEven();)X.iushrn(1),Br.iushrn(1),++ei;for(var Y=Br.clone(),Xr=X.clone();!X.isZero();){for(var on=0,Mn=1;!(X.words[0]&Mn)&&on<26;++on,Mn<<=1);if(on>0)for(X.iushrn(on);on-- >0;)(Wr.isOdd()||ri.isOdd())&&(Wr.iadd(Y),ri.isub(Xr)),Wr.iushrn(1),ri.iushrn(1);for(var Bn=0,fn=1;!(Br.words[0]&fn)&&Bn<26;++Bn,fn<<=1);if(Bn>0)for(Br.iushrn(Bn);Bn-- >0;)(ii.isOdd()||oi.isOdd())&&(ii.iadd(Y),oi.isub(Xr)),ii.iushrn(1),oi.iushrn(1);X.cmp(Br)>=0?(X.isub(Br),Wr.isub(ii),ri.isub(oi)):(Br.isub(X),ii.isub(Wr),oi.isub(ri))}return{a:ii,b:oi,gcd:Br.iushln(ei)}},Ie.prototype._invmp=function(H){Te(H.negative===0),Te(!H.isZero());var X=this,Br=H.clone();X.negative!==0?X=X.umod(H):X=X.clone();for(var Wr=new Ie(1),ri=new Ie(0),ii=Br.clone();X.cmpn(1)>0&&Br.cmpn(1)>0;){for(var oi=0,ei=1;!(X.words[0]&ei)&&oi<26;++oi,ei<<=1);if(oi>0)for(X.iushrn(oi);oi-- >0;)Wr.isOdd()&&Wr.iadd(ii),Wr.iushrn(1);for(var Y=0,Xr=1;!(Br.words[0]&Xr)&&Y<26;++Y,Xr<<=1);if(Y>0)for(Br.iushrn(Y);Y-- >0;)ri.isOdd()&&ri.iadd(ii),ri.iushrn(1);X.cmp(Br)>=0?(X.isub(Br),Wr.isub(ri)):(Br.isub(X),ri.isub(Wr))}var on;return X.cmpn(1)===0?on=Wr:on=ri,on.cmpn(0)<0&&on.iadd(H),on},Ie.prototype.gcd=function(H){if(this.isZero())return H.abs();if(H.isZero())return this.abs();var X=this.clone(),Br=H.clone();X.negative=0,Br.negative=0;for(var Wr=0;X.isEven()&&Br.isEven();Wr++)X.iushrn(1),Br.iushrn(1);do{for(;X.isEven();)X.iushrn(1);for(;Br.isEven();)Br.iushrn(1);var ri=X.cmp(Br);if(ri<0){var ii=X;X=Br,Br=ii}else if(ri===0||Br.cmpn(1)===0)break;X.isub(Br)}while(!0);return Br.iushln(Wr)},Ie.prototype.invm=function(H){return this.egcd(H).a.umod(H)},Ie.prototype.isEven=function(){return(this.words[0]&1)===0},Ie.prototype.isOdd=function(){return(this.words[0]&1)===1},Ie.prototype.andln=function(H){return this.words[0]&H},Ie.prototype.bincn=function(H){Te(typeof H=="number");var X=H%26,Br=(H-X)/26,Wr=1<<X;if(this.length<=Br)return this._expand(Br+1),this.words[Br]|=Wr,this;for(var ri=Wr,ii=Br;ri!==0&&ii<this.length;ii++){var oi=this.words[ii]|0;oi+=ri,ri=oi>>>26,oi&=67108863,this.words[ii]=oi}return ri!==0&&(this.words[ii]=ri,this.length++),this},Ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ie.prototype.cmpn=function(H){var X=H<0;if(this.negative!==0&&!X)return-1;if(this.negative===0&&X)return 1;this.strip();var Br;if(this.length>1)Br=1;else{X&&(H=-H),Te(H<=67108863,"Number is too big");var Wr=this.words[0]|0;Br=Wr===H?0:Wr<H?-1:1}return this.negative!==0?-Br|0:Br},Ie.prototype.cmp=function(H){if(this.negative!==0&&H.negative===0)return-1;if(this.negative===0&&H.negative!==0)return 1;var X=this.ucmp(H);return this.negative!==0?-X|0:X},Ie.prototype.ucmp=function(H){if(this.length>H.length)return 1;if(this.length<H.length)return-1;for(var X=0,Br=this.length-1;Br>=0;Br--){var Wr=this.words[Br]|0,ri=H.words[Br]|0;if(Wr!==ri){Wr<ri?X=-1:Wr>ri&&(X=1);break}}return X},Ie.prototype.gtn=function(H){return this.cmpn(H)===1},Ie.prototype.gt=function(H){return this.cmp(H)===1},Ie.prototype.gten=function(H){return this.cmpn(H)>=0},Ie.prototype.gte=function(H){return this.cmp(H)>=0},Ie.prototype.ltn=function(H){return this.cmpn(H)===-1},Ie.prototype.lt=function(H){return this.cmp(H)===-1},Ie.prototype.lten=function(H){return this.cmpn(H)<=0},Ie.prototype.lte=function(H){return this.cmp(H)<=0},Ie.prototype.eqn=function(H){return this.cmpn(H)===0},Ie.prototype.eq=function(H){return this.cmp(H)===0},Ie.red=function(H){return new Do(H)},Ie.prototype.toRed=function(H){return Te(!this.red,"Already a number in reduction context"),Te(this.negative===0,"red works only with positives"),H.convertTo(this)._forceRed(H)},Ie.prototype.fromRed=function(){return Te(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ie.prototype._forceRed=function(H){return this.red=H,this},Ie.prototype.forceRed=function(H){return Te(!this.red,"Already a number in reduction context"),this._forceRed(H)},Ie.prototype.redAdd=function(H){return Te(this.red,"redAdd works only with red numbers"),this.red.add(this,H)},Ie.prototype.redIAdd=function(H){return Te(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,H)},Ie.prototype.redSub=function(H){return Te(this.red,"redSub works only with red numbers"),this.red.sub(this,H)},Ie.prototype.redISub=function(H){return Te(this.red,"redISub works only with red numbers"),this.red.isub(this,H)},Ie.prototype.redShl=function(H){return Te(this.red,"redShl works only with red numbers"),this.red.shl(this,H)},Ie.prototype.redMul=function(H){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.mul(this,H)},Ie.prototype.redIMul=function(H){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.imul(this,H)},Ie.prototype.redSqr=function(){return Te(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ie.prototype.redISqr=function(){return Te(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ie.prototype.redSqrt=function(){return Te(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ie.prototype.redInvm=function(){return Te(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ie.prototype.redNeg=function(){return Te(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ie.prototype.redPow=function(H){return Te(this.red&&!H.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,H)};var Rn={k256:null,p224:null,p192:null,p25519:null};function vn(ui,H){this.name=ui,this.p=new Ie(H,16),this.n=this.p.bitLength(),this.k=new Ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}vn.prototype._tmp=function(){var H=new Ie(null);return H.words=new Array(Math.ceil(this.n/13)),H},vn.prototype.ireduce=function(H){var X=H,Br;do this.split(X,this.tmp),X=this.imulK(X),X=X.iadd(this.tmp),Br=X.bitLength();while(Br>this.n);var Wr=Br<this.n?-1:X.ucmp(this.p);return Wr===0?(X.words[0]=0,X.length=1):Wr>0?X.isub(this.p):X.strip!==void 0?X.strip():X._strip(),X},vn.prototype.split=function(H,X){H.iushrn(this.n,0,X)},vn.prototype.imulK=function(H){return H.imul(this.k)};function Cn(){vn.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Zr(Cn,vn),Cn.prototype.split=function(H,X){for(var Br=4194303,Wr=Math.min(H.length,9),ri=0;ri<Wr;ri++)X.words[ri]=H.words[ri];if(X.length=Wr,H.length<=9){H.words[0]=0,H.length=1;return}var ii=H.words[9];for(X.words[X.length++]=ii&Br,ri=10;ri<H.length;ri++){var oi=H.words[ri]|0;H.words[ri-10]=(oi&Br)<<4|ii>>>22,ii=oi}ii>>>=22,H.words[ri-10]=ii,ii===0&&H.length>10?H.length-=10:H.length-=9},Cn.prototype.imulK=function(H){H.words[H.length]=0,H.words[H.length+1]=0,H.length+=2;for(var X=0,Br=0;Br<H.length;Br++){var Wr=H.words[Br]|0;X+=Wr*977,H.words[Br]=X&67108863,X=Wr*64+(X/67108864|0)}return H.words[H.length-1]===0&&(H.length--,H.words[H.length-1]===0&&H.length--),H};function ho(){vn.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Zr(ho,vn);function hn(){vn.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Zr(hn,vn);function Zn(){vn.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Zr(Zn,vn),Zn.prototype.imulK=function(H){for(var X=0,Br=0;Br<H.length;Br++){var Wr=(H.words[Br]|0)*19+X,ri=Wr&67108863;Wr>>>=26,H.words[Br]=ri,X=Wr}return X!==0&&(H.words[H.length++]=X),H},Ie._prime=function(H){if(Rn[H])return Rn[H];var X;if(H==="k256")X=new Cn;else if(H==="p224")X=new ho;else if(H==="p192")X=new hn;else if(H==="p25519")X=new Zn;else throw new Error("Unknown prime "+H);return Rn[H]=X,X};function Do(ui){if(typeof ui=="string"){var H=Ie._prime(ui);this.m=H.p,this.prime=H}else Te(ui.gtn(1),"modulus must be greater than 1"),this.m=ui,this.prime=null}Do.prototype._verify1=function(H){Te(H.negative===0,"red works only with positives"),Te(H.red,"red works only with red numbers")},Do.prototype._verify2=function(H,X){Te((H.negative|X.negative)===0,"red works only with positives"),Te(H.red&&H.red===X.red,"red works only with red numbers")},Do.prototype.imod=function(H){return this.prime?this.prime.ireduce(H)._forceRed(this):H.umod(this.m)._forceRed(this)},Do.prototype.neg=function(H){return H.isZero()?H.clone():this.m.sub(H)._forceRed(this)},Do.prototype.add=function(H,X){this._verify2(H,X);var Br=H.add(X);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br._forceRed(this)},Do.prototype.iadd=function(H,X){this._verify2(H,X);var Br=H.iadd(X);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br},Do.prototype.sub=function(H,X){this._verify2(H,X);var Br=H.sub(X);return Br.cmpn(0)<0&&Br.iadd(this.m),Br._forceRed(this)},Do.prototype.isub=function(H,X){this._verify2(H,X);var Br=H.isub(X);return Br.cmpn(0)<0&&Br.iadd(this.m),Br},Do.prototype.shl=function(H,X){return this._verify1(H),this.imod(H.ushln(X))},Do.prototype.imul=function(H,X){return this._verify2(H,X),this.imod(H.imul(X))},Do.prototype.mul=function(H,X){return this._verify2(H,X),this.imod(H.mul(X))},Do.prototype.isqr=function(H){return this.imul(H,H.clone())},Do.prototype.sqr=function(H){return this.mul(H,H)},Do.prototype.sqrt=function(H){if(H.isZero())return H.clone();var X=this.m.andln(3);if(Te(X%2===1),X===3){var Br=this.m.add(new Ie(1)).iushrn(2);return this.pow(H,Br)}for(var Wr=this.m.subn(1),ri=0;!Wr.isZero()&&Wr.andln(1)===0;)ri++,Wr.iushrn(1);Te(!Wr.isZero());var ii=new Ie(1).toRed(this),oi=ii.redNeg(),ei=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new Ie(2*Y*Y).toRed(this);this.pow(Y,ei).cmp(oi)!==0;)Y.redIAdd(oi);for(var Xr=this.pow(Y,Wr),on=this.pow(H,Wr.addn(1).iushrn(1)),Mn=this.pow(H,Wr),Bn=ri;Mn.cmp(ii)!==0;){for(var fn=Mn,uo=0;fn.cmp(ii)!==0;uo++)fn=fn.redSqr();Te(uo<Bn);var un=this.pow(Xr,new Ie(1).iushln(Bn-uo-1));on=on.redMul(un),Xr=un.redSqr(),Mn=Mn.redMul(Xr),Bn=uo}return on},Do.prototype.invm=function(H){var X=H._invmp(this.m);return X.negative!==0?(X.negative=0,this.imod(X).redNeg()):this.imod(X)},Do.prototype.pow=function(H,X){if(X.isZero())return new Ie(1).toRed(this);if(X.cmpn(1)===0)return H.clone();var Br=4,Wr=new Array(1<<Br);Wr[0]=new Ie(1).toRed(this),Wr[1]=H;for(var ri=2;ri<Wr.length;ri++)Wr[ri]=this.mul(Wr[ri-1],H);var ii=Wr[0],oi=0,ei=0,Y=X.bitLength()%26;for(Y===0&&(Y=26),ri=X.length-1;ri>=0;ri--){for(var Xr=X.words[ri],on=Y-1;on>=0;on--){var Mn=Xr>>on&1;if(ii!==Wr[0]&&(ii=this.sqr(ii)),Mn===0&&oi===0){ei=0;continue}oi<<=1,oi|=Mn,ei++,!(ei!==Br&&(ri!==0||on!==0))&&(ii=this.mul(ii,Wr[oi]),ei=0,oi=0)}Y=26}return ii},Do.prototype.convertTo=function(H){var X=H.umod(this.m);return X===H?X.clone():X},Do.prototype.convertFrom=function(H){var X=H.clone();return X.red=null,X},Ie.mont=function(H){return new Yo(H)};function Yo(ui){Do.call(this,ui),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Zr(Yo,Do),Yo.prototype.convertTo=function(H){return this.imod(H.ushln(this.shift))},Yo.prototype.convertFrom=function(H){var X=this.imod(H.mul(this.rinv));return X.red=null,X},Yo.prototype.imul=function(H,X){if(H.isZero()||X.isZero())return H.words[0]=0,H.length=1,H;var Br=H.imul(X),Wr=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ri=Br.isub(Wr).iushrn(this.shift),ii=ri;return ri.cmp(this.m)>=0?ii=ri.isub(this.m):ri.cmpn(0)<0&&(ii=ri.iadd(this.m)),ii._forceRed(this)},Yo.prototype.mul=function(H,X){if(H.isZero()||X.isZero())return new Ie(0)._forceRed(this);var Br=H.mul(X),Wr=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ri=Br.isub(Wr).iushrn(this.shift),ii=ri;return ri.cmp(this.m)>=0?ii=ri.isub(this.m):ri.cmpn(0)<0&&(ii=ri.iadd(this.m)),ii._forceRed(this)},Yo.prototype.invm=function(H){var X=this.imod(H._invmp(this.m).mul(this.r2));return X._forceRed(this)}})(te,commonjsGlobal)}(bn$4)),bn$4.exports}var utils$1={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(te){var t=te;function G(Ie,ni){if(Array.isArray(Ie))return Ie.slice();if(!Ie)return[];var fi=[];if(typeof Ie!="string"){for(var ci=0;ci<Ie.length;ci++)fi[ci]=Ie[ci]|0;return fi}if(ni==="hex"){Ie=Ie.replace(/[^a-z0-9]+/ig,""),Ie.length%2!==0&&(Ie="0"+Ie);for(var ci=0;ci<Ie.length;ci+=2)fi.push(parseInt(Ie[ci]+Ie[ci+1],16))}else for(var ci=0;ci<Ie.length;ci++){var ai=Ie.charCodeAt(ci),si=ai>>8,li=ai&255;si?fi.push(si,li):fi.push(li)}return fi}t.toArray=G;function Te(Ie){return Ie.length===1?"0"+Ie:Ie}t.zero2=Te;function Zr(Ie){for(var ni="",fi=0;fi<Ie.length;fi++)ni+=Te(Ie[fi].toString(16));return ni}t.toHex=Zr,t.encode=function(ni,fi){return fi==="hex"?Zr(ni):ni}}(utils$1)),utils$1}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(te){var t=te,G=requireBn$3(),Te=requireMinimalisticAssert(),Zr=requireUtils$2();t.assert=Te,t.toArray=Zr.toArray,t.zero2=Zr.zero2,t.toHex=Zr.toHex,t.encode=Zr.encode;function Ie(si,li,mi){var di=new Array(Math.max(si.bitLength(),mi)+1),$i;for($i=0;$i<di.length;$i+=1)di[$i]=0;var sn=1<<li+1,ln=si.clone();for($i=0;$i<di.length;$i++){var mn,cn=ln.andln(sn-1);ln.isOdd()?(cn>(sn>>1)-1?mn=(sn>>1)-cn:mn=cn,ln.isubn(mn)):mn=0,di[$i]=mn,ln.iushrn(1)}return di}t.getNAF=Ie;function ni(si,li){var mi=[[],[]];si=si.clone(),li=li.clone();for(var di=0,$i=0,sn;si.cmpn(-di)>0||li.cmpn(-$i)>0;){var ln=si.andln(3)+di&3,mn=li.andln(3)+$i&3;ln===3&&(ln=-1),mn===3&&(mn=-1);var cn;ln&1?(sn=si.andln(7)+di&7,(sn===3||sn===5)&&mn===2?cn=-ln:cn=ln):cn=0,mi[0].push(cn);var Rn;mn&1?(sn=li.andln(7)+$i&7,(sn===3||sn===5)&&ln===2?Rn=-mn:Rn=mn):Rn=0,mi[1].push(Rn),2*di===cn+1&&(di=1-di),2*$i===Rn+1&&($i=1-$i),si.iushrn(1),li.iushrn(1)}return mi}t.getJSF=ni;function fi(si,li,mi){var di="_"+li;si.prototype[li]=function(){return this[di]!==void 0?this[di]:this[di]=mi.call(this)}}t.cachedProperty=fi;function ci(si){return typeof si=="string"?t.toArray(si,"hex"):si}t.parseBytes=ci;function ai(si){return new G(si,"hex","le")}t.intFromLE=ai}(utils$2)),utils$2}var curve={},base$2,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$2;hasRequiredBase$1=1;var te=requireBn$3(),t=requireUtils$1(),G=t.getNAF,Te=t.getJSF,Zr=t.assert;function Ie(fi,ci){this.type=fi,this.p=new te(ci.p,16),this.red=ci.prime?te.red(ci.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=ci.n&&new te(ci.n,16),this.g=ci.g&&this.pointFromJSON(ci.g,ci.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var ai=this.n&&this.p.div(this.n);!ai||ai.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$2=Ie,Ie.prototype.point=function(){throw new Error("Not implemented")},Ie.prototype.validate=function(){throw new Error("Not implemented")},Ie.prototype._fixedNafMul=function(ci,ai){Zr(ci.precomputed);var si=ci._getDoubles(),li=G(ai,1,this._bitLength),mi=(1<<si.step+1)-(si.step%2===0?2:1);mi/=3;var di=[],$i,sn;for($i=0;$i<li.length;$i+=si.step){sn=0;for(var ln=$i+si.step-1;ln>=$i;ln--)sn=(sn<<1)+li[ln];di.push(sn)}for(var mn=this.jpoint(null,null,null),cn=this.jpoint(null,null,null),Rn=mi;Rn>0;Rn--){for($i=0;$i<di.length;$i++)sn=di[$i],sn===Rn?cn=cn.mixedAdd(si.points[$i]):sn===-Rn&&(cn=cn.mixedAdd(si.points[$i].neg()));mn=mn.add(cn)}return mn.toP()},Ie.prototype._wnafMul=function(ci,ai){var si=4,li=ci._getNAFPoints(si);si=li.wnd;for(var mi=li.points,di=G(ai,si,this._bitLength),$i=this.jpoint(null,null,null),sn=di.length-1;sn>=0;sn--){for(var ln=0;sn>=0&&di[sn]===0;sn--)ln++;if(sn>=0&&ln++,$i=$i.dblp(ln),sn<0)break;var mn=di[sn];Zr(mn!==0),ci.type==="affine"?mn>0?$i=$i.mixedAdd(mi[mn-1>>1]):$i=$i.mixedAdd(mi[-mn-1>>1].neg()):mn>0?$i=$i.add(mi[mn-1>>1]):$i=$i.add(mi[-mn-1>>1].neg())}return ci.type==="affine"?$i.toP():$i},Ie.prototype._wnafMulAdd=function(ci,ai,si,li,mi){var di=this._wnafT1,$i=this._wnafT2,sn=this._wnafT3,ln=0,mn,cn,Rn;for(mn=0;mn<li;mn++){Rn=ai[mn];var vn=Rn._getNAFPoints(ci);di[mn]=vn.wnd,$i[mn]=vn.points}for(mn=li-1;mn>=1;mn-=2){var Cn=mn-1,ho=mn;if(di[Cn]!==1||di[ho]!==1){sn[Cn]=G(si[Cn],di[Cn],this._bitLength),sn[ho]=G(si[ho],di[ho],this._bitLength),ln=Math.max(sn[Cn].length,ln),ln=Math.max(sn[ho].length,ln);continue}var hn=[ai[Cn],null,null,ai[ho]];ai[Cn].y.cmp(ai[ho].y)===0?(hn[1]=ai[Cn].add(ai[ho]),hn[2]=ai[Cn].toJ().mixedAdd(ai[ho].neg())):ai[Cn].y.cmp(ai[ho].y.redNeg())===0?(hn[1]=ai[Cn].toJ().mixedAdd(ai[ho]),hn[2]=ai[Cn].add(ai[ho].neg())):(hn[1]=ai[Cn].toJ().mixedAdd(ai[ho]),hn[2]=ai[Cn].toJ().mixedAdd(ai[ho].neg()));var Zn=[-3,-1,-5,-7,0,7,5,1,3],Do=Te(si[Cn],si[ho]);for(ln=Math.max(Do[0].length,ln),sn[Cn]=new Array(ln),sn[ho]=new Array(ln),cn=0;cn<ln;cn++){var Yo=Do[0][cn]|0,ui=Do[1][cn]|0;sn[Cn][cn]=Zn[(Yo+1)*3+(ui+1)],sn[ho][cn]=0,$i[Cn]=hn}}var H=this.jpoint(null,null,null),X=this._wnafT4;for(mn=ln;mn>=0;mn--){for(var Br=0;mn>=0;){var Wr=!0;for(cn=0;cn<li;cn++)X[cn]=sn[cn][mn]|0,X[cn]!==0&&(Wr=!1);if(!Wr)break;Br++,mn--}if(mn>=0&&Br++,H=H.dblp(Br),mn<0)break;for(cn=0;cn<li;cn++){var ri=X[cn];ri!==0&&(ri>0?Rn=$i[cn][ri-1>>1]:ri<0&&(Rn=$i[cn][-ri-1>>1].neg()),Rn.type==="affine"?H=H.mixedAdd(Rn):H=H.add(Rn))}}for(mn=0;mn<li;mn++)$i[mn]=null;return mi?H:H.toP()};function ni(fi,ci){this.curve=fi,this.type=ci,this.precomputed=null}return Ie.BasePoint=ni,ni.prototype.eq=function(){throw new Error("Not implemented")},ni.prototype.validate=function(){return this.curve.validate(this)},Ie.prototype.decodePoint=function(ci,ai){ci=t.toArray(ci,ai);var si=this.p.byteLength();if((ci[0]===4||ci[0]===6||ci[0]===7)&&ci.length-1===2*si){ci[0]===6?Zr(ci[ci.length-1]%2===0):ci[0]===7&&Zr(ci[ci.length-1]%2===1);var li=this.point(ci.slice(1,1+si),ci.slice(1+si,1+2*si));return li}else if((ci[0]===2||ci[0]===3)&&ci.length-1===si)return this.pointFromX(ci.slice(1,1+si),ci[0]===3);throw new Error("Unknown point format")},ni.prototype.encodeCompressed=function(ci){return this.encode(ci,!0)},ni.prototype._encode=function(ci){var ai=this.curve.p.byteLength(),si=this.getX().toArray("be",ai);return ci?[this.getY().isEven()?2:3].concat(si):[4].concat(si,this.getY().toArray("be",ai))},ni.prototype.encode=function(ci,ai){return t.encode(this._encode(ai),ci)},ni.prototype.precompute=function(ci){if(this.precomputed)return this;var ai={doubles:null,naf:null,beta:null};return ai.naf=this._getNAFPoints(8),ai.doubles=this._getDoubles(4,ci),ai.beta=this._getBeta(),this.precomputed=ai,this},ni.prototype._hasDoubles=function(ci){if(!this.precomputed)return!1;var ai=this.precomputed.doubles;return ai?ai.points.length>=Math.ceil((ci.bitLength()+1)/ai.step):!1},ni.prototype._getDoubles=function(ci,ai){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var si=[this],li=this,mi=0;mi<ai;mi+=ci){for(var di=0;di<ci;di++)li=li.dbl();si.push(li)}return{step:ci,points:si}},ni.prototype._getNAFPoints=function(ci){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var ai=[this],si=(1<<ci)-1,li=si===1?null:this.dbl(),mi=1;mi<si;mi++)ai[mi]=ai[mi-1].add(li);return{wnd:ci,points:ai}},ni.prototype._getBeta=function(){return null},ni.prototype.dblp=function(ci){for(var ai=this,si=0;si<ci;si++)ai=ai.dbl();return ai},base$2}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var te=requireUtils$1(),t=requireBn$3(),G=inherits_browserExports,Te=requireBase$1(),Zr=te.assert;function Ie(ci){Te.call(this,"short",ci),this.a=new t(ci.a,16).toRed(this.red),this.b=new t(ci.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(ci),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}G(Ie,Te),short=Ie,Ie.prototype._getEndomorphism=function(ai){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var si,li;if(ai.beta)si=new t(ai.beta,16).toRed(this.red);else{var mi=this._getEndoRoots(this.p);si=mi[0].cmp(mi[1])<0?mi[0]:mi[1],si=si.toRed(this.red)}if(ai.lambda)li=new t(ai.lambda,16);else{var di=this._getEndoRoots(this.n);this.g.mul(di[0]).x.cmp(this.g.x.redMul(si))===0?li=di[0]:(li=di[1],Zr(this.g.mul(li).x.cmp(this.g.x.redMul(si))===0))}var $i;return ai.basis?$i=ai.basis.map(function(sn){return{a:new t(sn.a,16),b:new t(sn.b,16)}}):$i=this._getEndoBasis(li),{beta:si,lambda:li,basis:$i}}},Ie.prototype._getEndoRoots=function(ai){var si=ai===this.p?this.red:t.mont(ai),li=new t(2).toRed(si).redInvm(),mi=li.redNeg(),di=new t(3).toRed(si).redNeg().redSqrt().redMul(li),$i=mi.redAdd(di).fromRed(),sn=mi.redSub(di).fromRed();return[$i,sn]},Ie.prototype._getEndoBasis=function(ai){for(var si=this.n.ushrn(Math.floor(this.n.bitLength()/2)),li=ai,mi=this.n.clone(),di=new t(1),$i=new t(0),sn=new t(0),ln=new t(1),mn,cn,Rn,vn,Cn,ho,hn,Zn=0,Do,Yo;li.cmpn(0)!==0;){var ui=mi.div(li);Do=mi.sub(ui.mul(li)),Yo=sn.sub(ui.mul(di));var H=ln.sub(ui.mul($i));if(!Rn&&Do.cmp(si)<0)mn=hn.neg(),cn=di,Rn=Do.neg(),vn=Yo;else if(Rn&&++Zn===2)break;hn=Do,mi=li,li=Do,sn=di,di=Yo,ln=$i,$i=H}Cn=Do.neg(),ho=Yo;var X=Rn.sqr().add(vn.sqr()),Br=Cn.sqr().add(ho.sqr());return Br.cmp(X)>=0&&(Cn=mn,ho=cn),Rn.negative&&(Rn=Rn.neg(),vn=vn.neg()),Cn.negative&&(Cn=Cn.neg(),ho=ho.neg()),[{a:Rn,b:vn},{a:Cn,b:ho}]},Ie.prototype._endoSplit=function(ai){var si=this.endo.basis,li=si[0],mi=si[1],di=mi.b.mul(ai).divRound(this.n),$i=li.b.neg().mul(ai).divRound(this.n),sn=di.mul(li.a),ln=$i.mul(mi.a),mn=di.mul(li.b),cn=$i.mul(mi.b),Rn=ai.sub(sn).sub(ln),vn=mn.add(cn).neg();return{k1:Rn,k2:vn}},Ie.prototype.pointFromX=function(ai,si){ai=new t(ai,16),ai.red||(ai=ai.toRed(this.red));var li=ai.redSqr().redMul(ai).redIAdd(ai.redMul(this.a)).redIAdd(this.b),mi=li.redSqrt();if(mi.redSqr().redSub(li).cmp(this.zero)!==0)throw new Error("invalid point");var di=mi.fromRed().isOdd();return(si&&!di||!si&&di)&&(mi=mi.redNeg()),this.point(ai,mi)},Ie.prototype.validate=function(ai){if(ai.inf)return!0;var si=ai.x,li=ai.y,mi=this.a.redMul(si),di=si.redSqr().redMul(si).redIAdd(mi).redIAdd(this.b);return li.redSqr().redISub(di).cmpn(0)===0},Ie.prototype._endoWnafMulAdd=function(ai,si,li){for(var mi=this._endoWnafT1,di=this._endoWnafT2,$i=0;$i<ai.length;$i++){var sn=this._endoSplit(si[$i]),ln=ai[$i],mn=ln._getBeta();sn.k1.negative&&(sn.k1.ineg(),ln=ln.neg(!0)),sn.k2.negative&&(sn.k2.ineg(),mn=mn.neg(!0)),mi[$i*2]=ln,mi[$i*2+1]=mn,di[$i*2]=sn.k1,di[$i*2+1]=sn.k2}for(var cn=this._wnafMulAdd(1,mi,di,$i*2,li),Rn=0;Rn<$i*2;Rn++)mi[Rn]=null,di[Rn]=null;return cn};function ni(ci,ai,si,li){Te.BasePoint.call(this,ci,"affine"),ai===null&&si===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new t(ai,16),this.y=new t(si,16),li&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}G(ni,Te.BasePoint),Ie.prototype.point=function(ai,si,li){return new ni(this,ai,si,li)},Ie.prototype.pointFromJSON=function(ai,si){return ni.fromJSON(this,ai,si)},ni.prototype._getBeta=function(){if(this.curve.endo){var ai=this.precomputed;if(ai&&ai.beta)return ai.beta;var si=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(ai){var li=this.curve,mi=function(di){return li.point(di.x.redMul(li.endo.beta),di.y)};ai.beta=si,si.precomputed={beta:null,naf:ai.naf&&{wnd:ai.naf.wnd,points:ai.naf.points.map(mi)},doubles:ai.doubles&&{step:ai.doubles.step,points:ai.doubles.points.map(mi)}}}return si}},ni.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ni.fromJSON=function(ai,si,li){typeof si=="string"&&(si=JSON.parse(si));var mi=ai.point(si[0],si[1],li);if(!si[2])return mi;function di(sn){return ai.point(sn[0],sn[1],li)}var $i=si[2];return mi.precomputed={beta:null,doubles:$i.doubles&&{step:$i.doubles.step,points:[mi].concat($i.doubles.points.map(di))},naf:$i.naf&&{wnd:$i.naf.wnd,points:[mi].concat($i.naf.points.map(di))}},mi},ni.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ni.prototype.isInfinity=function(){return this.inf},ni.prototype.add=function(ai){if(this.inf)return ai;if(ai.inf)return this;if(this.eq(ai))return this.dbl();if(this.neg().eq(ai))return this.curve.point(null,null);if(this.x.cmp(ai.x)===0)return this.curve.point(null,null);var si=this.y.redSub(ai.y);si.cmpn(0)!==0&&(si=si.redMul(this.x.redSub(ai.x).redInvm()));var li=si.redSqr().redISub(this.x).redISub(ai.x),mi=si.redMul(this.x.redSub(li)).redISub(this.y);return this.curve.point(li,mi)},ni.prototype.dbl=function(){if(this.inf)return this;var ai=this.y.redAdd(this.y);if(ai.cmpn(0)===0)return this.curve.point(null,null);var si=this.curve.a,li=this.x.redSqr(),mi=ai.redInvm(),di=li.redAdd(li).redIAdd(li).redIAdd(si).redMul(mi),$i=di.redSqr().redISub(this.x.redAdd(this.x)),sn=di.redMul(this.x.redSub($i)).redISub(this.y);return this.curve.point($i,sn)},ni.prototype.getX=function(){return this.x.fromRed()},ni.prototype.getY=function(){return this.y.fromRed()},ni.prototype.mul=function(ai){return ai=new t(ai,16),this.isInfinity()?this:this._hasDoubles(ai)?this.curve._fixedNafMul(this,ai):this.curve.endo?this.curve._endoWnafMulAdd([this],[ai]):this.curve._wnafMul(this,ai)},ni.prototype.mulAdd=function(ai,si,li){var mi=[this,si],di=[ai,li];return this.curve.endo?this.curve._endoWnafMulAdd(mi,di):this.curve._wnafMulAdd(1,mi,di,2)},ni.prototype.jmulAdd=function(ai,si,li){var mi=[this,si],di=[ai,li];return this.curve.endo?this.curve._endoWnafMulAdd(mi,di,!0):this.curve._wnafMulAdd(1,mi,di,2,!0)},ni.prototype.eq=function(ai){return this===ai||this.inf===ai.inf&&(this.inf||this.x.cmp(ai.x)===0&&this.y.cmp(ai.y)===0)},ni.prototype.neg=function(ai){if(this.inf)return this;var si=this.curve.point(this.x,this.y.redNeg());if(ai&&this.precomputed){var li=this.precomputed,mi=function(di){return di.neg()};si.precomputed={naf:li.naf&&{wnd:li.naf.wnd,points:li.naf.points.map(mi)},doubles:li.doubles&&{step:li.doubles.step,points:li.doubles.points.map(mi)}}}return si},ni.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var ai=this.curve.jpoint(this.x,this.y,this.curve.one);return ai};function fi(ci,ai,si,li){Te.BasePoint.call(this,ci,"jacobian"),ai===null&&si===null&&li===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t(0)):(this.x=new t(ai,16),this.y=new t(si,16),this.z=new t(li,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return G(fi,Te.BasePoint),Ie.prototype.jpoint=function(ai,si,li){return new fi(this,ai,si,li)},fi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var ai=this.z.redInvm(),si=ai.redSqr(),li=this.x.redMul(si),mi=this.y.redMul(si).redMul(ai);return this.curve.point(li,mi)},fi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},fi.prototype.add=function(ai){if(this.isInfinity())return ai;if(ai.isInfinity())return this;var si=ai.z.redSqr(),li=this.z.redSqr(),mi=this.x.redMul(si),di=ai.x.redMul(li),$i=this.y.redMul(si.redMul(ai.z)),sn=ai.y.redMul(li.redMul(this.z)),ln=mi.redSub(di),mn=$i.redSub(sn);if(ln.cmpn(0)===0)return mn.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var cn=ln.redSqr(),Rn=cn.redMul(ln),vn=mi.redMul(cn),Cn=mn.redSqr().redIAdd(Rn).redISub(vn).redISub(vn),ho=mn.redMul(vn.redISub(Cn)).redISub($i.redMul(Rn)),hn=this.z.redMul(ai.z).redMul(ln);return this.curve.jpoint(Cn,ho,hn)},fi.prototype.mixedAdd=function(ai){if(this.isInfinity())return ai.toJ();if(ai.isInfinity())return this;var si=this.z.redSqr(),li=this.x,mi=ai.x.redMul(si),di=this.y,$i=ai.y.redMul(si).redMul(this.z),sn=li.redSub(mi),ln=di.redSub($i);if(sn.cmpn(0)===0)return ln.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var mn=sn.redSqr(),cn=mn.redMul(sn),Rn=li.redMul(mn),vn=ln.redSqr().redIAdd(cn).redISub(Rn).redISub(Rn),Cn=ln.redMul(Rn.redISub(vn)).redISub(di.redMul(cn)),ho=this.z.redMul(sn);return this.curve.jpoint(vn,Cn,ho)},fi.prototype.dblp=function(ai){if(ai===0)return this;if(this.isInfinity())return this;if(!ai)return this.dbl();var si;if(this.curve.zeroA||this.curve.threeA){var li=this;for(si=0;si<ai;si++)li=li.dbl();return li}var mi=this.curve.a,di=this.curve.tinv,$i=this.x,sn=this.y,ln=this.z,mn=ln.redSqr().redSqr(),cn=sn.redAdd(sn);for(si=0;si<ai;si++){var Rn=$i.redSqr(),vn=cn.redSqr(),Cn=vn.redSqr(),ho=Rn.redAdd(Rn).redIAdd(Rn).redIAdd(mi.redMul(mn)),hn=$i.redMul(vn),Zn=ho.redSqr().redISub(hn.redAdd(hn)),Do=hn.redISub(Zn),Yo=ho.redMul(Do);Yo=Yo.redIAdd(Yo).redISub(Cn);var ui=cn.redMul(ln);si+1<ai&&(mn=mn.redMul(Cn)),$i=Zn,ln=ui,cn=Yo}return this.curve.jpoint($i,cn.redMul(di),ln)},fi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},fi.prototype._zeroDbl=function(){var ai,si,li;if(this.zOne){var mi=this.x.redSqr(),di=this.y.redSqr(),$i=di.redSqr(),sn=this.x.redAdd(di).redSqr().redISub(mi).redISub($i);sn=sn.redIAdd(sn);var ln=mi.redAdd(mi).redIAdd(mi),mn=ln.redSqr().redISub(sn).redISub(sn),cn=$i.redIAdd($i);cn=cn.redIAdd(cn),cn=cn.redIAdd(cn),ai=mn,si=ln.redMul(sn.redISub(mn)).redISub(cn),li=this.y.redAdd(this.y)}else{var Rn=this.x.redSqr(),vn=this.y.redSqr(),Cn=vn.redSqr(),ho=this.x.redAdd(vn).redSqr().redISub(Rn).redISub(Cn);ho=ho.redIAdd(ho);var hn=Rn.redAdd(Rn).redIAdd(Rn),Zn=hn.redSqr(),Do=Cn.redIAdd(Cn);Do=Do.redIAdd(Do),Do=Do.redIAdd(Do),ai=Zn.redISub(ho).redISub(ho),si=hn.redMul(ho.redISub(ai)).redISub(Do),li=this.y.redMul(this.z),li=li.redIAdd(li)}return this.curve.jpoint(ai,si,li)},fi.prototype._threeDbl=function(){var ai,si,li;if(this.zOne){var mi=this.x.redSqr(),di=this.y.redSqr(),$i=di.redSqr(),sn=this.x.redAdd(di).redSqr().redISub(mi).redISub($i);sn=sn.redIAdd(sn);var ln=mi.redAdd(mi).redIAdd(mi).redIAdd(this.curve.a),mn=ln.redSqr().redISub(sn).redISub(sn);ai=mn;var cn=$i.redIAdd($i);cn=cn.redIAdd(cn),cn=cn.redIAdd(cn),si=ln.redMul(sn.redISub(mn)).redISub(cn),li=this.y.redAdd(this.y)}else{var Rn=this.z.redSqr(),vn=this.y.redSqr(),Cn=this.x.redMul(vn),ho=this.x.redSub(Rn).redMul(this.x.redAdd(Rn));ho=ho.redAdd(ho).redIAdd(ho);var hn=Cn.redIAdd(Cn);hn=hn.redIAdd(hn);var Zn=hn.redAdd(hn);ai=ho.redSqr().redISub(Zn),li=this.y.redAdd(this.z).redSqr().redISub(vn).redISub(Rn);var Do=vn.redSqr();Do=Do.redIAdd(Do),Do=Do.redIAdd(Do),Do=Do.redIAdd(Do),si=ho.redMul(hn.redISub(ai)).redISub(Do)}return this.curve.jpoint(ai,si,li)},fi.prototype._dbl=function(){var ai=this.curve.a,si=this.x,li=this.y,mi=this.z,di=mi.redSqr().redSqr(),$i=si.redSqr(),sn=li.redSqr(),ln=$i.redAdd($i).redIAdd($i).redIAdd(ai.redMul(di)),mn=si.redAdd(si);mn=mn.redIAdd(mn);var cn=mn.redMul(sn),Rn=ln.redSqr().redISub(cn.redAdd(cn)),vn=cn.redISub(Rn),Cn=sn.redSqr();Cn=Cn.redIAdd(Cn),Cn=Cn.redIAdd(Cn),Cn=Cn.redIAdd(Cn);var ho=ln.redMul(vn).redISub(Cn),hn=li.redAdd(li).redMul(mi);return this.curve.jpoint(Rn,ho,hn)},fi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var ai=this.x.redSqr(),si=this.y.redSqr(),li=this.z.redSqr(),mi=si.redSqr(),di=ai.redAdd(ai).redIAdd(ai),$i=di.redSqr(),sn=this.x.redAdd(si).redSqr().redISub(ai).redISub(mi);sn=sn.redIAdd(sn),sn=sn.redAdd(sn).redIAdd(sn),sn=sn.redISub($i);var ln=sn.redSqr(),mn=mi.redIAdd(mi);mn=mn.redIAdd(mn),mn=mn.redIAdd(mn),mn=mn.redIAdd(mn);var cn=di.redIAdd(sn).redSqr().redISub($i).redISub(ln).redISub(mn),Rn=si.redMul(cn);Rn=Rn.redIAdd(Rn),Rn=Rn.redIAdd(Rn);var vn=this.x.redMul(ln).redISub(Rn);vn=vn.redIAdd(vn),vn=vn.redIAdd(vn);var Cn=this.y.redMul(cn.redMul(mn.redISub(cn)).redISub(sn.redMul(ln)));Cn=Cn.redIAdd(Cn),Cn=Cn.redIAdd(Cn),Cn=Cn.redIAdd(Cn);var ho=this.z.redAdd(sn).redSqr().redISub(li).redISub(ln);return this.curve.jpoint(vn,Cn,ho)},fi.prototype.mul=function(ai,si){return ai=new t(ai,si),this.curve._wnafMul(this,ai)},fi.prototype.eq=function(ai){if(ai.type==="affine")return this.eq(ai.toJ());if(this===ai)return!0;var si=this.z.redSqr(),li=ai.z.redSqr();if(this.x.redMul(li).redISub(ai.x.redMul(si)).cmpn(0)!==0)return!1;var mi=si.redMul(this.z),di=li.redMul(ai.z);return this.y.redMul(di).redISub(ai.y.redMul(mi)).cmpn(0)===0},fi.prototype.eqXToP=function(ai){var si=this.z.redSqr(),li=ai.toRed(this.curve.red).redMul(si);if(this.x.cmp(li)===0)return!0;for(var mi=ai.clone(),di=this.curve.redN.redMul(si);;){if(mi.iadd(this.curve.n),mi.cmp(this.curve.p)>=0)return!1;if(li.redIAdd(di),this.x.cmp(li)===0)return!0}},fi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},fi.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var te=requireBn$3(),t=inherits_browserExports,G=requireBase$1(),Te=requireUtils$1();function Zr(ni){G.call(this,"mont",ni),this.a=new te(ni.a,16).toRed(this.red),this.b=new te(ni.b,16).toRed(this.red),this.i4=new te(4).toRed(this.red).redInvm(),this.two=new te(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}t(Zr,G),mont=Zr,Zr.prototype.validate=function(fi){var ci=fi.normalize().x,ai=ci.redSqr(),si=ai.redMul(ci).redAdd(ai.redMul(this.a)).redAdd(ci),li=si.redSqrt();return li.redSqr().cmp(si)===0};function Ie(ni,fi,ci){G.BasePoint.call(this,ni,"projective"),fi===null&&ci===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new te(fi,16),this.z=new te(ci,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return t(Ie,G.BasePoint),Zr.prototype.decodePoint=function(fi,ci){return this.point(Te.toArray(fi,ci),1)},Zr.prototype.point=function(fi,ci){return new Ie(this,fi,ci)},Zr.prototype.pointFromJSON=function(fi){return Ie.fromJSON(this,fi)},Ie.prototype.precompute=function(){},Ie.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Ie.fromJSON=function(fi,ci){return new Ie(fi,ci[0],ci[1]||fi.one)},Ie.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Ie.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Ie.prototype.dbl=function(){var fi=this.x.redAdd(this.z),ci=fi.redSqr(),ai=this.x.redSub(this.z),si=ai.redSqr(),li=ci.redSub(si),mi=ci.redMul(si),di=li.redMul(si.redAdd(this.curve.a24.redMul(li)));return this.curve.point(mi,di)},Ie.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Ie.prototype.diffAdd=function(fi,ci){var ai=this.x.redAdd(this.z),si=this.x.redSub(this.z),li=fi.x.redAdd(fi.z),mi=fi.x.redSub(fi.z),di=mi.redMul(ai),$i=li.redMul(si),sn=ci.z.redMul(di.redAdd($i).redSqr()),ln=ci.x.redMul(di.redISub($i).redSqr());return this.curve.point(sn,ln)},Ie.prototype.mul=function(fi){for(var ci=fi.clone(),ai=this,si=this.curve.point(null,null),li=this,mi=[];ci.cmpn(0)!==0;ci.iushrn(1))mi.push(ci.andln(1));for(var di=mi.length-1;di>=0;di--)mi[di]===0?(ai=ai.diffAdd(si,li),si=si.dbl()):(si=ai.diffAdd(si,li),ai=ai.dbl());return si},Ie.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Ie.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Ie.prototype.eq=function(fi){return this.getX().cmp(fi.getX())===0},Ie.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Ie.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var te=requireUtils$1(),t=requireBn$3(),G=inherits_browserExports,Te=requireBase$1(),Zr=te.assert;function Ie(fi){this.twisted=(fi.a|0)!==1,this.mOneA=this.twisted&&(fi.a|0)===-1,this.extended=this.mOneA,Te.call(this,"edwards",fi),this.a=new t(fi.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new t(fi.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new t(fi.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Zr(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(fi.c|0)===1}G(Ie,Te),edwards=Ie,Ie.prototype._mulA=function(ci){return this.mOneA?ci.redNeg():this.a.redMul(ci)},Ie.prototype._mulC=function(ci){return this.oneC?ci:this.c.redMul(ci)},Ie.prototype.jpoint=function(ci,ai,si,li){return this.point(ci,ai,si,li)},Ie.prototype.pointFromX=function(ci,ai){ci=new t(ci,16),ci.red||(ci=ci.toRed(this.red));var si=ci.redSqr(),li=this.c2.redSub(this.a.redMul(si)),mi=this.one.redSub(this.c2.redMul(this.d).redMul(si)),di=li.redMul(mi.redInvm()),$i=di.redSqrt();if($i.redSqr().redSub(di).cmp(this.zero)!==0)throw new Error("invalid point");var sn=$i.fromRed().isOdd();return(ai&&!sn||!ai&&sn)&&($i=$i.redNeg()),this.point(ci,$i)},Ie.prototype.pointFromY=function(ci,ai){ci=new t(ci,16),ci.red||(ci=ci.toRed(this.red));var si=ci.redSqr(),li=si.redSub(this.c2),mi=si.redMul(this.d).redMul(this.c2).redSub(this.a),di=li.redMul(mi.redInvm());if(di.cmp(this.zero)===0){if(ai)throw new Error("invalid point");return this.point(this.zero,ci)}var $i=di.redSqrt();if($i.redSqr().redSub(di).cmp(this.zero)!==0)throw new Error("invalid point");return $i.fromRed().isOdd()!==ai&&($i=$i.redNeg()),this.point($i,ci)},Ie.prototype.validate=function(ci){if(ci.isInfinity())return!0;ci.normalize();var ai=ci.x.redSqr(),si=ci.y.redSqr(),li=ai.redMul(this.a).redAdd(si),mi=this.c2.redMul(this.one.redAdd(this.d.redMul(ai).redMul(si)));return li.cmp(mi)===0};function ni(fi,ci,ai,si,li){Te.BasePoint.call(this,fi,"projective"),ci===null&&ai===null&&si===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new t(ci,16),this.y=new t(ai,16),this.z=si?new t(si,16):this.curve.one,this.t=li&&new t(li,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return G(ni,Te.BasePoint),Ie.prototype.pointFromJSON=function(ci){return ni.fromJSON(this,ci)},Ie.prototype.point=function(ci,ai,si,li){return new ni(this,ci,ai,si,li)},ni.fromJSON=function(ci,ai){return new ni(ci,ai[0],ai[1],ai[2])},ni.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},ni.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},ni.prototype._extDbl=function(){var ci=this.x.redSqr(),ai=this.y.redSqr(),si=this.z.redSqr();si=si.redIAdd(si);var li=this.curve._mulA(ci),mi=this.x.redAdd(this.y).redSqr().redISub(ci).redISub(ai),di=li.redAdd(ai),$i=di.redSub(si),sn=li.redSub(ai),ln=mi.redMul($i),mn=di.redMul(sn),cn=mi.redMul(sn),Rn=$i.redMul(di);return this.curve.point(ln,mn,Rn,cn)},ni.prototype._projDbl=function(){var ci=this.x.redAdd(this.y).redSqr(),ai=this.x.redSqr(),si=this.y.redSqr(),li,mi,di,$i,sn,ln;if(this.curve.twisted){$i=this.curve._mulA(ai);var mn=$i.redAdd(si);this.zOne?(li=ci.redSub(ai).redSub(si).redMul(mn.redSub(this.curve.two)),mi=mn.redMul($i.redSub(si)),di=mn.redSqr().redSub(mn).redSub(mn)):(sn=this.z.redSqr(),ln=mn.redSub(sn).redISub(sn),li=ci.redSub(ai).redISub(si).redMul(ln),mi=mn.redMul($i.redSub(si)),di=mn.redMul(ln))}else $i=ai.redAdd(si),sn=this.curve._mulC(this.z).redSqr(),ln=$i.redSub(sn).redSub(sn),li=this.curve._mulC(ci.redISub($i)).redMul(ln),mi=this.curve._mulC($i).redMul(ai.redISub(si)),di=$i.redMul(ln);return this.curve.point(li,mi,di)},ni.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},ni.prototype._extAdd=function(ci){var ai=this.y.redSub(this.x).redMul(ci.y.redSub(ci.x)),si=this.y.redAdd(this.x).redMul(ci.y.redAdd(ci.x)),li=this.t.redMul(this.curve.dd).redMul(ci.t),mi=this.z.redMul(ci.z.redAdd(ci.z)),di=si.redSub(ai),$i=mi.redSub(li),sn=mi.redAdd(li),ln=si.redAdd(ai),mn=di.redMul($i),cn=sn.redMul(ln),Rn=di.redMul(ln),vn=$i.redMul(sn);return this.curve.point(mn,cn,vn,Rn)},ni.prototype._projAdd=function(ci){var ai=this.z.redMul(ci.z),si=ai.redSqr(),li=this.x.redMul(ci.x),mi=this.y.redMul(ci.y),di=this.curve.d.redMul(li).redMul(mi),$i=si.redSub(di),sn=si.redAdd(di),ln=this.x.redAdd(this.y).redMul(ci.x.redAdd(ci.y)).redISub(li).redISub(mi),mn=ai.redMul($i).redMul(ln),cn,Rn;return this.curve.twisted?(cn=ai.redMul(sn).redMul(mi.redSub(this.curve._mulA(li))),Rn=$i.redMul(sn)):(cn=ai.redMul(sn).redMul(mi.redSub(li)),Rn=this.curve._mulC($i).redMul(sn)),this.curve.point(mn,cn,Rn)},ni.prototype.add=function(ci){return this.isInfinity()?ci:ci.isInfinity()?this:this.curve.extended?this._extAdd(ci):this._projAdd(ci)},ni.prototype.mul=function(ci){return this._hasDoubles(ci)?this.curve._fixedNafMul(this,ci):this.curve._wnafMul(this,ci)},ni.prototype.mulAdd=function(ci,ai,si){return this.curve._wnafMulAdd(1,[this,ai],[ci,si],2,!1)},ni.prototype.jmulAdd=function(ci,ai,si){return this.curve._wnafMulAdd(1,[this,ai],[ci,si],2,!0)},ni.prototype.normalize=function(){if(this.zOne)return this;var ci=this.z.redInvm();return this.x=this.x.redMul(ci),this.y=this.y.redMul(ci),this.t&&(this.t=this.t.redMul(ci)),this.z=this.curve.one,this.zOne=!0,this},ni.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},ni.prototype.getX=function(){return this.normalize(),this.x.fromRed()},ni.prototype.getY=function(){return this.normalize(),this.y.fromRed()},ni.prototype.eq=function(ci){return this===ci||this.getX().cmp(ci.getX())===0&&this.getY().cmp(ci.getY())===0},ni.prototype.eqXToP=function(ci){var ai=ci.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(ai)===0)return!0;for(var si=ci.clone(),li=this.curve.redN.redMul(this.z);;){if(si.iadd(this.curve.n),si.cmp(this.curve.p)>=0)return!1;if(ai.redIAdd(li),this.x.cmp(ai)===0)return!0}},ni.prototype.toP=ni.prototype.normalize,ni.prototype.mixedAdd=ni.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(te){var t=te;t.base=requireBase$1(),t.short=requireShort(),t.mont=requireMont(),t.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var te=requireMinimalisticAssert(),t=inherits_browserExports;utils.inherits=t;function G(H,X){return(H.charCodeAt(X)&64512)!==55296||X<0||X+1>=H.length?!1:(H.charCodeAt(X+1)&64512)===56320}function Te(H,X){if(Array.isArray(H))return H.slice();if(!H)return[];var Br=[];if(typeof H=="string")if(X){if(X==="hex")for(H=H.replace(/[^a-z0-9]+/ig,""),H.length%2!==0&&(H="0"+H),ri=0;ri<H.length;ri+=2)Br.push(parseInt(H[ri]+H[ri+1],16))}else for(var Wr=0,ri=0;ri<H.length;ri++){var ii=H.charCodeAt(ri);ii<128?Br[Wr++]=ii:ii<2048?(Br[Wr++]=ii>>6|192,Br[Wr++]=ii&63|128):G(H,ri)?(ii=65536+((ii&1023)<<10)+(H.charCodeAt(++ri)&1023),Br[Wr++]=ii>>18|240,Br[Wr++]=ii>>12&63|128,Br[Wr++]=ii>>6&63|128,Br[Wr++]=ii&63|128):(Br[Wr++]=ii>>12|224,Br[Wr++]=ii>>6&63|128,Br[Wr++]=ii&63|128)}else for(ri=0;ri<H.length;ri++)Br[ri]=H[ri]|0;return Br}utils.toArray=Te;function Zr(H){for(var X="",Br=0;Br<H.length;Br++)X+=fi(H[Br].toString(16));return X}utils.toHex=Zr;function Ie(H){var X=H>>>24|H>>>8&65280|H<<8&16711680|(H&255)<<24;return X>>>0}utils.htonl=Ie;function ni(H,X){for(var Br="",Wr=0;Wr<H.length;Wr++){var ri=H[Wr];X==="little"&&(ri=Ie(ri)),Br+=ci(ri.toString(16))}return Br}utils.toHex32=ni;function fi(H){return H.length===1?"0"+H:H}utils.zero2=fi;function ci(H){return H.length===7?"0"+H:H.length===6?"00"+H:H.length===5?"000"+H:H.length===4?"0000"+H:H.length===3?"00000"+H:H.length===2?"000000"+H:H.length===1?"0000000"+H:H}utils.zero8=ci;function ai(H,X,Br,Wr){var ri=Br-X;te(ri%4===0);for(var ii=new Array(ri/4),oi=0,ei=X;oi<ii.length;oi++,ei+=4){var Y;Wr==="big"?Y=H[ei]<<24|H[ei+1]<<16|H[ei+2]<<8|H[ei+3]:Y=H[ei+3]<<24|H[ei+2]<<16|H[ei+1]<<8|H[ei],ii[oi]=Y>>>0}return ii}utils.join32=ai;function si(H,X){for(var Br=new Array(H.length*4),Wr=0,ri=0;Wr<H.length;Wr++,ri+=4){var ii=H[Wr];X==="big"?(Br[ri]=ii>>>24,Br[ri+1]=ii>>>16&255,Br[ri+2]=ii>>>8&255,Br[ri+3]=ii&255):(Br[ri+3]=ii>>>24,Br[ri+2]=ii>>>16&255,Br[ri+1]=ii>>>8&255,Br[ri]=ii&255)}return Br}utils.split32=si;function li(H,X){return H>>>X|H<<32-X}utils.rotr32=li;function mi(H,X){return H<<X|H>>>32-X}utils.rotl32=mi;function di(H,X){return H+X>>>0}utils.sum32=di;function $i(H,X,Br){return H+X+Br>>>0}utils.sum32_3=$i;function sn(H,X,Br,Wr){return H+X+Br+Wr>>>0}utils.sum32_4=sn;function ln(H,X,Br,Wr,ri){return H+X+Br+Wr+ri>>>0}utils.sum32_5=ln;function mn(H,X,Br,Wr){var ri=H[X],ii=H[X+1],oi=Wr+ii>>>0,ei=(oi<Wr?1:0)+Br+ri;H[X]=ei>>>0,H[X+1]=oi}utils.sum64=mn;function cn(H,X,Br,Wr){var ri=X+Wr>>>0,ii=(ri<X?1:0)+H+Br;return ii>>>0}utils.sum64_hi=cn;function Rn(H,X,Br,Wr){var ri=X+Wr;return ri>>>0}utils.sum64_lo=Rn;function vn(H,X,Br,Wr,ri,ii,oi,ei){var Y=0,Xr=X;Xr=Xr+Wr>>>0,Y+=Xr<X?1:0,Xr=Xr+ii>>>0,Y+=Xr<ii?1:0,Xr=Xr+ei>>>0,Y+=Xr<ei?1:0;var on=H+Br+ri+oi+Y;return on>>>0}utils.sum64_4_hi=vn;function Cn(H,X,Br,Wr,ri,ii,oi,ei){var Y=X+Wr+ii+ei;return Y>>>0}utils.sum64_4_lo=Cn;function ho(H,X,Br,Wr,ri,ii,oi,ei,Y,Xr){var on=0,Mn=X;Mn=Mn+Wr>>>0,on+=Mn<X?1:0,Mn=Mn+ii>>>0,on+=Mn<ii?1:0,Mn=Mn+ei>>>0,on+=Mn<ei?1:0,Mn=Mn+Xr>>>0,on+=Mn<Xr?1:0;var Bn=H+Br+ri+oi+Y+on;return Bn>>>0}utils.sum64_5_hi=ho;function hn(H,X,Br,Wr,ri,ii,oi,ei,Y,Xr){var on=X+Wr+ii+ei+Xr;return on>>>0}utils.sum64_5_lo=hn;function Zn(H,X,Br){var Wr=X<<32-Br|H>>>Br;return Wr>>>0}utils.rotr64_hi=Zn;function Do(H,X,Br){var Wr=H<<32-Br|X>>>Br;return Wr>>>0}utils.rotr64_lo=Do;function Yo(H,X,Br){return H>>>Br}utils.shr64_hi=Yo;function ui(H,X,Br){var Wr=H<<32-Br|X>>>Br;return Wr>>>0}return utils.shr64_lo=ui,utils}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var te=requireUtils(),t=requireMinimalisticAssert();function G(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=G,G.prototype.update=function(Zr,Ie){if(Zr=te.toArray(Zr,Ie),this.pending?this.pending=this.pending.concat(Zr):this.pending=Zr,this.pendingTotal+=Zr.length,this.pending.length>=this._delta8){Zr=this.pending;var ni=Zr.length%this._delta8;this.pending=Zr.slice(Zr.length-ni,Zr.length),this.pending.length===0&&(this.pending=null),Zr=te.join32(Zr,0,Zr.length-ni,this.endian);for(var fi=0;fi<Zr.length;fi+=this._delta32)this._update(Zr,fi,fi+this._delta32)}return this},G.prototype.digest=function(Zr){return this.update(this._pad()),t(this.pending===null),this._digest(Zr)},G.prototype._pad=function(){var Zr=this.pendingTotal,Ie=this._delta8,ni=Ie-(Zr+this.padLength)%Ie,fi=new Array(ni+this.padLength);fi[0]=128;for(var ci=1;ci<ni;ci++)fi[ci]=0;if(Zr<<=3,this.endian==="big"){for(var ai=8;ai<this.padLength;ai++)fi[ci++]=0;fi[ci++]=0,fi[ci++]=0,fi[ci++]=0,fi[ci++]=0,fi[ci++]=Zr>>>24&255,fi[ci++]=Zr>>>16&255,fi[ci++]=Zr>>>8&255,fi[ci++]=Zr&255}else for(fi[ci++]=Zr&255,fi[ci++]=Zr>>>8&255,fi[ci++]=Zr>>>16&255,fi[ci++]=Zr>>>24&255,fi[ci++]=0,fi[ci++]=0,fi[ci++]=0,fi[ci++]=0,ai=8;ai<this.padLength;ai++)fi[ci++]=0;return fi},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var te=requireUtils(),t=te.rotr32;function G(si,li,mi,di){if(si===0)return Te(li,mi,di);if(si===1||si===3)return Ie(li,mi,di);if(si===2)return Zr(li,mi,di)}common.ft_1=G;function Te(si,li,mi){return si&li^~si&mi}common.ch32=Te;function Zr(si,li,mi){return si&li^si&mi^li&mi}common.maj32=Zr;function Ie(si,li,mi){return si^li^mi}common.p32=Ie;function ni(si){return t(si,2)^t(si,13)^t(si,22)}common.s0_256=ni;function fi(si){return t(si,6)^t(si,11)^t(si,25)}common.s1_256=fi;function ci(si){return t(si,7)^t(si,18)^si>>>3}common.g0_256=ci;function ai(si){return t(si,17)^t(si,19)^si>>>10}return common.g1_256=ai,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var te=requireUtils(),t=requireCommon$1(),G=requireCommon(),Te=te.rotl32,Zr=te.sum32,Ie=te.sum32_5,ni=G.ft_1,fi=t.BlockHash,ci=[1518500249,1859775393,2400959708,3395469782];function ai(){if(!(this instanceof ai))return new ai;fi.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return te.inherits(ai,fi),_1=ai,ai.blockSize=512,ai.outSize=160,ai.hmacStrength=80,ai.padLength=64,ai.prototype._update=function(li,mi){for(var di=this.W,$i=0;$i<16;$i++)di[$i]=li[mi+$i];for(;$i<di.length;$i++)di[$i]=Te(di[$i-3]^di[$i-8]^di[$i-14]^di[$i-16],1);var sn=this.h[0],ln=this.h[1],mn=this.h[2],cn=this.h[3],Rn=this.h[4];for($i=0;$i<di.length;$i++){var vn=~~($i/20),Cn=Ie(Te(sn,5),ni(vn,ln,mn,cn),Rn,di[$i],ci[vn]);Rn=cn,cn=mn,mn=Te(ln,30),ln=sn,sn=Cn}this.h[0]=Zr(this.h[0],sn),this.h[1]=Zr(this.h[1],ln),this.h[2]=Zr(this.h[2],mn),this.h[3]=Zr(this.h[3],cn),this.h[4]=Zr(this.h[4],Rn)},ai.prototype._digest=function(li){return li==="hex"?te.toHex32(this.h,"big"):te.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var te=requireUtils(),t=requireCommon$1(),G=requireCommon(),Te=requireMinimalisticAssert(),Zr=te.sum32,Ie=te.sum32_4,ni=te.sum32_5,fi=G.ch32,ci=G.maj32,ai=G.s0_256,si=G.s1_256,li=G.g0_256,mi=G.g1_256,di=t.BlockHash,$i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function sn(){if(!(this instanceof sn))return new sn;di.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=$i,this.W=new Array(64)}return te.inherits(sn,di),_256=sn,sn.blockSize=512,sn.outSize=256,sn.hmacStrength=192,sn.padLength=64,sn.prototype._update=function(mn,cn){for(var Rn=this.W,vn=0;vn<16;vn++)Rn[vn]=mn[cn+vn];for(;vn<Rn.length;vn++)Rn[vn]=Ie(mi(Rn[vn-2]),Rn[vn-7],li(Rn[vn-15]),Rn[vn-16]);var Cn=this.h[0],ho=this.h[1],hn=this.h[2],Zn=this.h[3],Do=this.h[4],Yo=this.h[5],ui=this.h[6],H=this.h[7];for(Te(this.k.length===Rn.length),vn=0;vn<Rn.length;vn++){var X=ni(H,si(Do),fi(Do,Yo,ui),this.k[vn],Rn[vn]),Br=Zr(ai(Cn),ci(Cn,ho,hn));H=ui,ui=Yo,Yo=Do,Do=Zr(Zn,X),Zn=hn,hn=ho,ho=Cn,Cn=Zr(X,Br)}this.h[0]=Zr(this.h[0],Cn),this.h[1]=Zr(this.h[1],ho),this.h[2]=Zr(this.h[2],hn),this.h[3]=Zr(this.h[3],Zn),this.h[4]=Zr(this.h[4],Do),this.h[5]=Zr(this.h[5],Yo),this.h[6]=Zr(this.h[6],ui),this.h[7]=Zr(this.h[7],H)},sn.prototype._digest=function(mn){return mn==="hex"?te.toHex32(this.h,"big"):te.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var te=requireUtils(),t=require_256();function G(){if(!(this instanceof G))return new G;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return te.inherits(G,t),_224=G,G.blockSize=512,G.outSize=224,G.hmacStrength=192,G.padLength=64,G.prototype._digest=function(Zr){return Zr==="hex"?te.toHex32(this.h.slice(0,7),"big"):te.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var te=requireUtils(),t=requireCommon$1(),G=requireMinimalisticAssert(),Te=te.rotr64_hi,Zr=te.rotr64_lo,Ie=te.shr64_hi,ni=te.shr64_lo,fi=te.sum64,ci=te.sum64_hi,ai=te.sum64_lo,si=te.sum64_4_hi,li=te.sum64_4_lo,mi=te.sum64_5_hi,di=te.sum64_5_lo,$i=t.BlockHash,sn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ln(){if(!(this instanceof ln))return new ln;$i.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sn,this.W=new Array(160)}te.inherits(ln,$i),_512=ln,ln.blockSize=1024,ln.outSize=512,ln.hmacStrength=192,ln.padLength=128,ln.prototype._prepareBlock=function(Br,Wr){for(var ri=this.W,ii=0;ii<32;ii++)ri[ii]=Br[Wr+ii];for(;ii<ri.length;ii+=2){var oi=ui(ri[ii-4],ri[ii-3]),ei=H(ri[ii-4],ri[ii-3]),Y=ri[ii-14],Xr=ri[ii-13],on=Do(ri[ii-30],ri[ii-29]),Mn=Yo(ri[ii-30],ri[ii-29]),Bn=ri[ii-32],fn=ri[ii-31];ri[ii]=si(oi,ei,Y,Xr,on,Mn,Bn,fn),ri[ii+1]=li(oi,ei,Y,Xr,on,Mn,Bn,fn)}},ln.prototype._update=function(Br,Wr){this._prepareBlock(Br,Wr);var ri=this.W,ii=this.h[0],oi=this.h[1],ei=this.h[2],Y=this.h[3],Xr=this.h[4],on=this.h[5],Mn=this.h[6],Bn=this.h[7],fn=this.h[8],uo=this.h[9],un=this.h[10],gn=this.h[11],An=this.h[12],an=this.h[13],qo=this.h[14],ko=this.h[15];G(this.k.length===ri.length);for(var Uo=0;Uo<ri.length;Uo+=2){var kh=qo,Vo=ko,tf=hn(fn,uo),Wh=Zn(fn,uo),Rh=mn(fn,uo,un,gn,An),vh=cn(fn,uo,un,gn,An,an),Jh=this.k[Uo],Vf=this.k[Uo+1],Zo=ri[Uo],Vh=ri[Uo+1],Qf=mi(kh,Vo,tf,Wh,Rh,vh,Jh,Vf,Zo,Vh),Ko=di(kh,Vo,tf,Wh,Rh,vh,Jh,Vf,Zo,Vh);kh=Cn(ii,oi),Vo=ho(ii,oi),tf=Rn(ii,oi,ei,Y,Xr),Wh=vn(ii,oi,ei,Y,Xr,on);var Zh=ci(kh,Vo,tf,Wh),Xf=ai(kh,Vo,tf,Wh);qo=An,ko=an,An=un,an=gn,un=fn,gn=uo,fn=ci(Mn,Bn,Qf,Ko),uo=ai(Bn,Bn,Qf,Ko),Mn=Xr,Bn=on,Xr=ei,on=Y,ei=ii,Y=oi,ii=ci(Qf,Ko,Zh,Xf),oi=ai(Qf,Ko,Zh,Xf)}fi(this.h,0,ii,oi),fi(this.h,2,ei,Y),fi(this.h,4,Xr,on),fi(this.h,6,Mn,Bn),fi(this.h,8,fn,uo),fi(this.h,10,un,gn),fi(this.h,12,An,an),fi(this.h,14,qo,ko)},ln.prototype._digest=function(Br){return Br==="hex"?te.toHex32(this.h,"big"):te.split32(this.h,"big")};function mn(X,Br,Wr,ri,ii){var oi=X&Wr^~X&ii;return oi<0&&(oi+=4294967296),oi}function cn(X,Br,Wr,ri,ii,oi){var ei=Br&ri^~Br&oi;return ei<0&&(ei+=4294967296),ei}function Rn(X,Br,Wr,ri,ii){var oi=X&Wr^X&ii^Wr&ii;return oi<0&&(oi+=4294967296),oi}function vn(X,Br,Wr,ri,ii,oi){var ei=Br&ri^Br&oi^ri&oi;return ei<0&&(ei+=4294967296),ei}function Cn(X,Br){var Wr=Te(X,Br,28),ri=Te(Br,X,2),ii=Te(Br,X,7),oi=Wr^ri^ii;return oi<0&&(oi+=4294967296),oi}function ho(X,Br){var Wr=Zr(X,Br,28),ri=Zr(Br,X,2),ii=Zr(Br,X,7),oi=Wr^ri^ii;return oi<0&&(oi+=4294967296),oi}function hn(X,Br){var Wr=Te(X,Br,14),ri=Te(X,Br,18),ii=Te(Br,X,9),oi=Wr^ri^ii;return oi<0&&(oi+=4294967296),oi}function Zn(X,Br){var Wr=Zr(X,Br,14),ri=Zr(X,Br,18),ii=Zr(Br,X,9),oi=Wr^ri^ii;return oi<0&&(oi+=4294967296),oi}function Do(X,Br){var Wr=Te(X,Br,1),ri=Te(X,Br,8),ii=Ie(X,Br,7),oi=Wr^ri^ii;return oi<0&&(oi+=4294967296),oi}function Yo(X,Br){var Wr=Zr(X,Br,1),ri=Zr(X,Br,8),ii=ni(X,Br,7),oi=Wr^ri^ii;return oi<0&&(oi+=4294967296),oi}function ui(X,Br){var Wr=Te(X,Br,19),ri=Te(Br,X,29),ii=Ie(X,Br,6),oi=Wr^ri^ii;return oi<0&&(oi+=4294967296),oi}function H(X,Br){var Wr=Zr(X,Br,19),ri=Zr(Br,X,29),ii=ni(X,Br,6),oi=Wr^ri^ii;return oi<0&&(oi+=4294967296),oi}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var te=requireUtils(),t=require_512();function G(){if(!(this instanceof G))return new G;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return te.inherits(G,t),_384=G,G.blockSize=1024,G.outSize=384,G.hmacStrength=192,G.padLength=128,G.prototype._digest=function(Zr){return Zr==="hex"?te.toHex32(this.h.slice(0,12),"big"):te.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var te=requireUtils(),t=requireCommon$1(),G=te.rotl32,Te=te.sum32,Zr=te.sum32_3,Ie=te.sum32_4,ni=t.BlockHash;function fi(){if(!(this instanceof fi))return new fi;ni.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}te.inherits(fi,ni),ripemd.ripemd160=fi,fi.blockSize=512,fi.outSize=160,fi.hmacStrength=192,fi.padLength=64,fi.prototype._update=function(ln,mn){for(var cn=this.h[0],Rn=this.h[1],vn=this.h[2],Cn=this.h[3],ho=this.h[4],hn=cn,Zn=Rn,Do=vn,Yo=Cn,ui=ho,H=0;H<80;H++){var X=Te(G(Ie(cn,ci(H,Rn,vn,Cn),ln[li[H]+mn],ai(H)),di[H]),ho);cn=ho,ho=Cn,Cn=G(vn,10),vn=Rn,Rn=X,X=Te(G(Ie(hn,ci(79-H,Zn,Do,Yo),ln[mi[H]+mn],si(H)),$i[H]),ui),hn=ui,ui=Yo,Yo=G(Do,10),Do=Zn,Zn=X}X=Zr(this.h[1],vn,Yo),this.h[1]=Zr(this.h[2],Cn,ui),this.h[2]=Zr(this.h[3],ho,hn),this.h[3]=Zr(this.h[4],cn,Zn),this.h[4]=Zr(this.h[0],Rn,Do),this.h[0]=X},fi.prototype._digest=function(ln){return ln==="hex"?te.toHex32(this.h,"little"):te.split32(this.h,"little")};function ci(sn,ln,mn,cn){return sn<=15?ln^mn^cn:sn<=31?ln&mn|~ln&cn:sn<=47?(ln|~mn)^cn:sn<=63?ln&cn|mn&~cn:ln^(mn|~cn)}function ai(sn){return sn<=15?0:sn<=31?1518500249:sn<=47?1859775393:sn<=63?2400959708:2840853838}function si(sn){return sn<=15?1352829926:sn<=31?1548603684:sn<=47?1836072691:sn<=63?2053994217:0}var li=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],mi=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],di=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],$i=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var te=requireUtils(),t=requireMinimalisticAssert();function G(Te,Zr,Ie){if(!(this instanceof G))return new G(Te,Zr,Ie);this.Hash=Te,this.blockSize=Te.blockSize/8,this.outSize=Te.outSize/8,this.inner=null,this.outer=null,this._init(te.toArray(Zr,Ie))}return hmac=G,G.prototype._init=function(Zr){Zr.length>this.blockSize&&(Zr=new this.Hash().update(Zr).digest()),t(Zr.length<=this.blockSize);for(var Ie=Zr.length;Ie<this.blockSize;Ie++)Zr.push(0);for(Ie=0;Ie<Zr.length;Ie++)Zr[Ie]^=54;for(this.inner=new this.Hash().update(Zr),Ie=0;Ie<Zr.length;Ie++)Zr[Ie]^=106;this.outer=new this.Hash().update(Zr)},G.prototype.update=function(Zr,Ie){return this.inner.update(Zr,Ie),this},G.prototype.digest=function(Zr){return this.outer.update(this.inner.digest()),this.outer.digest(Zr)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(te){var t=te;t.utils=requireUtils(),t.common=requireCommon$1(),t.sha=requireSha(),t.ripemd=requireRipemd(),t.hmac=requireHmac(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(te){var t=te,G=requireHash(),Te=requireCurve(),Zr=requireUtils$1(),Ie=Zr.assert;function ni(ai){ai.type==="short"?this.curve=new Te.short(ai):ai.type==="edwards"?this.curve=new Te.edwards(ai):this.curve=new Te.mont(ai),this.g=this.curve.g,this.n=this.curve.n,this.hash=ai.hash,Ie(this.g.validate(),"Invalid curve"),Ie(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=ni;function fi(ai,si){Object.defineProperty(t,ai,{configurable:!0,enumerable:!0,get:function(){var li=new ni(si);return Object.defineProperty(t,ai,{configurable:!0,enumerable:!0,value:li}),li}})}fi("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:G.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),fi("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:G.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),fi("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:G.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),fi("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:G.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),fi("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:G.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),fi("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:G.sha256,gRed:!1,g:["9"]}),fi("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:G.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var ci;try{ci=requireSecp256k1()}catch{ci=void 0}fi("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:G.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",ci]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var te=requireHash(),t=requireUtils$2(),G=requireMinimalisticAssert();function Te(Zr){if(!(this instanceof Te))return new Te(Zr);this.hash=Zr.hash,this.predResist=!!Zr.predResist,this.outLen=this.hash.outSize,this.minEntropy=Zr.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var Ie=t.toArray(Zr.entropy,Zr.entropyEnc||"hex"),ni=t.toArray(Zr.nonce,Zr.nonceEnc||"hex"),fi=t.toArray(Zr.pers,Zr.persEnc||"hex");G(Ie.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(Ie,ni,fi)}return hmacDrbg=Te,Te.prototype._init=function(Ie,ni,fi){var ci=Ie.concat(ni).concat(fi);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var ai=0;ai<this.V.length;ai++)this.K[ai]=0,this.V[ai]=1;this._update(ci),this._reseed=1,this.reseedInterval=281474976710656},Te.prototype._hmac=function(){return new te.hmac(this.hash,this.K)},Te.prototype._update=function(Ie){var ni=this._hmac().update(this.V).update([0]);Ie&&(ni=ni.update(Ie)),this.K=ni.digest(),this.V=this._hmac().update(this.V).digest(),Ie&&(this.K=this._hmac().update(this.V).update([1]).update(Ie).digest(),this.V=this._hmac().update(this.V).digest())},Te.prototype.reseed=function(Ie,ni,fi,ci){typeof ni!="string"&&(ci=fi,fi=ni,ni=null),Ie=t.toArray(Ie,ni),fi=t.toArray(fi,ci),G(Ie.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(Ie.concat(fi||[])),this._reseed=1},Te.prototype.generate=function(Ie,ni,fi,ci){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof ni!="string"&&(ci=fi,fi=ni,ni=null),fi&&(fi=t.toArray(fi,ci||"hex"),this._update(fi));for(var ai=[];ai.length<Ie;)this.V=this._hmac().update(this.V).digest(),ai=ai.concat(this.V);var si=ai.slice(0,Ie);return this._update(fi),this._reseed++,t.encode(si,ni)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var te=requireBn$3(),t=requireUtils$1(),G=t.assert;function Te(Zr,Ie){this.ec=Zr,this.priv=null,this.pub=null,Ie.priv&&this._importPrivate(Ie.priv,Ie.privEnc),Ie.pub&&this._importPublic(Ie.pub,Ie.pubEnc)}return key$1=Te,Te.fromPublic=function(Ie,ni,fi){return ni instanceof Te?ni:new Te(Ie,{pub:ni,pubEnc:fi})},Te.fromPrivate=function(Ie,ni,fi){return ni instanceof Te?ni:new Te(Ie,{priv:ni,privEnc:fi})},Te.prototype.validate=function(){var Ie=this.getPublic();return Ie.isInfinity()?{result:!1,reason:"Invalid public key"}:Ie.validate()?Ie.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Te.prototype.getPublic=function(Ie,ni){return typeof Ie=="string"&&(ni=Ie,Ie=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),ni?this.pub.encode(ni,Ie):this.pub},Te.prototype.getPrivate=function(Ie){return Ie==="hex"?this.priv.toString(16,2):this.priv},Te.prototype._importPrivate=function(Ie,ni){this.priv=new te(Ie,ni||16),this.priv=this.priv.umod(this.ec.curve.n)},Te.prototype._importPublic=function(Ie,ni){if(Ie.x||Ie.y){this.ec.curve.type==="mont"?G(Ie.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&G(Ie.x&&Ie.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(Ie.x,Ie.y);return}this.pub=this.ec.curve.decodePoint(Ie,ni)},Te.prototype.derive=function(Ie){return Ie.validate()||G(Ie.validate(),"public point not validated"),Ie.mul(this.priv).getX()},Te.prototype.sign=function(Ie,ni,fi){return this.ec.sign(Ie,this,ni,fi)},Te.prototype.verify=function(Ie,ni){return this.ec.verify(Ie,ni,this)},Te.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var te=requireBn$3(),t=requireUtils$1(),G=t.assert;function Te(ci,ai){if(ci instanceof Te)return ci;this._importDER(ci,ai)||(G(ci.r&&ci.s,"Signature without r or s"),this.r=new te(ci.r,16),this.s=new te(ci.s,16),ci.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=ci.recoveryParam)}signature$1=Te;function Zr(){this.place=0}function Ie(ci,ai){var si=ci[ai.place++];if(!(si&128))return si;var li=si&15;if(li===0||li>4||ci[ai.place]===0)return!1;for(var mi=0,di=0,$i=ai.place;di<li;di++,$i++)mi<<=8,mi|=ci[$i],mi>>>=0;return mi<=127?!1:(ai.place=$i,mi)}function ni(ci){for(var ai=0,si=ci.length-1;!ci[ai]&&!(ci[ai+1]&128)&&ai<si;)ai++;return ai===0?ci:ci.slice(ai)}Te.prototype._importDER=function(ai,si){ai=t.toArray(ai,si);var li=new Zr;if(ai[li.place++]!==48)return!1;var mi=Ie(ai,li);if(mi===!1||mi+li.place!==ai.length||ai[li.place++]!==2)return!1;var di=Ie(ai,li);if(di===!1||ai[li.place]&128)return!1;var $i=ai.slice(li.place,di+li.place);if(li.place+=di,ai[li.place++]!==2)return!1;var sn=Ie(ai,li);if(sn===!1||ai.length!==sn+li.place||ai[li.place]&128)return!1;var ln=ai.slice(li.place,sn+li.place);if($i[0]===0)if($i[1]&128)$i=$i.slice(1);else return!1;if(ln[0]===0)if(ln[1]&128)ln=ln.slice(1);else return!1;return this.r=new te($i),this.s=new te(ln),this.recoveryParam=null,!0};function fi(ci,ai){if(ai<128){ci.push(ai);return}var si=1+(Math.log(ai)/Math.LN2>>>3);for(ci.push(si|128);--si;)ci.push(ai>>>(si<<3)&255);ci.push(ai)}return Te.prototype.toDER=function(ai){var si=this.r.toArray(),li=this.s.toArray();for(si[0]&128&&(si=[0].concat(si)),li[0]&128&&(li=[0].concat(li)),si=ni(si),li=ni(li);!li[0]&&!(li[1]&128);)li=li.slice(1);var mi=[2];fi(mi,si.length),mi=mi.concat(si),mi.push(2),fi(mi,li.length);var di=mi.concat(li),$i=[48];return fi($i,di.length),$i=$i.concat(di),t.encode($i,ai)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var te=requireBn$3(),t=requireHmacDrbg(),G=requireUtils$1(),Te=requireCurves(),Zr=requireBrorand(),Ie=G.assert,ni=requireKey$1(),fi=requireSignature$1();function ci(ai){if(!(this instanceof ci))return new ci(ai);typeof ai=="string"&&(Ie(Object.prototype.hasOwnProperty.call(Te,ai),"Unknown curve "+ai),ai=Te[ai]),ai instanceof Te.PresetCurve&&(ai={curve:ai}),this.curve=ai.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=ai.curve.g,this.g.precompute(ai.curve.n.bitLength()+1),this.hash=ai.hash||ai.curve.hash}return ec=ci,ci.prototype.keyPair=function(si){return new ni(this,si)},ci.prototype.keyFromPrivate=function(si,li){return ni.fromPrivate(this,si,li)},ci.prototype.keyFromPublic=function(si,li){return ni.fromPublic(this,si,li)},ci.prototype.genKeyPair=function(si){si||(si={});for(var li=new t({hash:this.hash,pers:si.pers,persEnc:si.persEnc||"utf8",entropy:si.entropy||Zr(this.hash.hmacStrength),entropyEnc:si.entropy&&si.entropyEnc||"utf8",nonce:this.n.toArray()}),mi=this.n.byteLength(),di=this.n.sub(new te(2));;){var $i=new te(li.generate(mi));if(!($i.cmp(di)>0))return $i.iaddn(1),this.keyFromPrivate($i)}},ci.prototype._truncateToN=function(si,li){var mi=si.byteLength()*8-this.n.bitLength();return mi>0&&(si=si.ushrn(mi)),!li&&si.cmp(this.n)>=0?si.sub(this.n):si},ci.prototype.sign=function(si,li,mi,di){typeof mi=="object"&&(di=mi,mi=null),di||(di={}),li=this.keyFromPrivate(li,mi),si=this._truncateToN(new te(si,16));for(var $i=this.n.byteLength(),sn=li.getPrivate().toArray("be",$i),ln=si.toArray("be",$i),mn=new t({hash:this.hash,entropy:sn,nonce:ln,pers:di.pers,persEnc:di.persEnc||"utf8"}),cn=this.n.sub(new te(1)),Rn=0;;Rn++){var vn=di.k?di.k(Rn):new te(mn.generate(this.n.byteLength()));if(vn=this._truncateToN(vn,!0),!(vn.cmpn(1)<=0||vn.cmp(cn)>=0)){var Cn=this.g.mul(vn);if(!Cn.isInfinity()){var ho=Cn.getX(),hn=ho.umod(this.n);if(hn.cmpn(0)!==0){var Zn=vn.invm(this.n).mul(hn.mul(li.getPrivate()).iadd(si));if(Zn=Zn.umod(this.n),Zn.cmpn(0)!==0){var Do=(Cn.getY().isOdd()?1:0)|(ho.cmp(hn)!==0?2:0);return di.canonical&&Zn.cmp(this.nh)>0&&(Zn=this.n.sub(Zn),Do^=1),new fi({r:hn,s:Zn,recoveryParam:Do})}}}}}},ci.prototype.verify=function(si,li,mi,di){si=this._truncateToN(new te(si,16)),mi=this.keyFromPublic(mi,di),li=new fi(li,"hex");var $i=li.r,sn=li.s;if($i.cmpn(1)<0||$i.cmp(this.n)>=0||sn.cmpn(1)<0||sn.cmp(this.n)>=0)return!1;var ln=sn.invm(this.n),mn=ln.mul(si).umod(this.n),cn=ln.mul($i).umod(this.n),Rn;return this.curve._maxwellTrick?(Rn=this.g.jmulAdd(mn,mi.getPublic(),cn),Rn.isInfinity()?!1:Rn.eqXToP($i)):(Rn=this.g.mulAdd(mn,mi.getPublic(),cn),Rn.isInfinity()?!1:Rn.getX().umod(this.n).cmp($i)===0)},ci.prototype.recoverPubKey=function(ai,si,li,mi){Ie((3&li)===li,"The recovery param is more than two bits"),si=new fi(si,mi);var di=this.n,$i=new te(ai),sn=si.r,ln=si.s,mn=li&1,cn=li>>1;if(sn.cmp(this.curve.p.umod(this.curve.n))>=0&&cn)throw new Error("Unable to find sencond key candinate");cn?sn=this.curve.pointFromX(sn.add(this.curve.n),mn):sn=this.curve.pointFromX(sn,mn);var Rn=si.r.invm(di),vn=di.sub($i).mul(Rn).umod(di),Cn=ln.mul(Rn).umod(di);return this.g.mulAdd(vn,sn,Cn)},ci.prototype.getKeyRecoveryParam=function(ai,si,li,mi){if(si=new fi(si,mi),si.recoveryParam!==null)return si.recoveryParam;for(var di=0;di<4;di++){var $i;try{$i=this.recoverPubKey(ai,si,di)}catch{continue}if($i.eq(li))return di}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var te=requireUtils$1(),t=te.assert,G=te.parseBytes,Te=te.cachedProperty;function Zr(Ie,ni){this.eddsa=Ie,this._secret=G(ni.secret),Ie.isPoint(ni.pub)?this._pub=ni.pub:this._pubBytes=G(ni.pub)}return Zr.fromPublic=function(ni,fi){return fi instanceof Zr?fi:new Zr(ni,{pub:fi})},Zr.fromSecret=function(ni,fi){return fi instanceof Zr?fi:new Zr(ni,{secret:fi})},Zr.prototype.secret=function(){return this._secret},Te(Zr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),Te(Zr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),Te(Zr,"privBytes",function(){var ni=this.eddsa,fi=this.hash(),ci=ni.encodingLength-1,ai=fi.slice(0,ni.encodingLength);return ai[0]&=248,ai[ci]&=127,ai[ci]|=64,ai}),Te(Zr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),Te(Zr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),Te(Zr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),Zr.prototype.sign=function(ni){return t(this._secret,"KeyPair can only verify"),this.eddsa.sign(ni,this)},Zr.prototype.verify=function(ni,fi){return this.eddsa.verify(ni,fi,this)},Zr.prototype.getSecret=function(ni){return t(this._secret,"KeyPair is public only"),te.encode(this.secret(),ni)},Zr.prototype.getPublic=function(ni){return te.encode(this.pubBytes(),ni)},key=Zr,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var te=requireBn$3(),t=requireUtils$1(),G=t.assert,Te=t.cachedProperty,Zr=t.parseBytes;function Ie(ni,fi){this.eddsa=ni,typeof fi!="object"&&(fi=Zr(fi)),Array.isArray(fi)&&(G(fi.length===ni.encodingLength*2,"Signature has invalid size"),fi={R:fi.slice(0,ni.encodingLength),S:fi.slice(ni.encodingLength)}),G(fi.R&&fi.S,"Signature without R or S"),ni.isPoint(fi.R)&&(this._R=fi.R),fi.S instanceof te&&(this._S=fi.S),this._Rencoded=Array.isArray(fi.R)?fi.R:fi.Rencoded,this._Sencoded=Array.isArray(fi.S)?fi.S:fi.Sencoded}return Te(Ie,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),Te(Ie,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),Te(Ie,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),Te(Ie,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Ie.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Ie.prototype.toHex=function(){return t.encode(this.toBytes(),"hex").toUpperCase()},signature=Ie,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var te=requireHash(),t=requireCurves(),G=requireUtils$1(),Te=G.assert,Zr=G.parseBytes,Ie=requireKey(),ni=requireSignature();function fi(ci){if(Te(ci==="ed25519","only tested with ed25519 so far"),!(this instanceof fi))return new fi(ci);ci=t[ci].curve,this.curve=ci,this.g=ci.g,this.g.precompute(ci.n.bitLength()+1),this.pointClass=ci.point().constructor,this.encodingLength=Math.ceil(ci.n.bitLength()/8),this.hash=te.sha512}return eddsa=fi,fi.prototype.sign=function(ai,si){ai=Zr(ai);var li=this.keyFromSecret(si),mi=this.hashInt(li.messagePrefix(),ai),di=this.g.mul(mi),$i=this.encodePoint(di),sn=this.hashInt($i,li.pubBytes(),ai).mul(li.priv()),ln=mi.add(sn).umod(this.curve.n);return this.makeSignature({R:di,S:ln,Rencoded:$i})},fi.prototype.verify=function(ai,si,li){if(ai=Zr(ai),si=this.makeSignature(si),si.S().gte(si.eddsa.curve.n)||si.S().isNeg())return!1;var mi=this.keyFromPublic(li),di=this.hashInt(si.Rencoded(),mi.pubBytes(),ai),$i=this.g.mul(si.S()),sn=si.R().add(mi.pub().mul(di));return sn.eq($i)},fi.prototype.hashInt=function(){for(var ai=this.hash(),si=0;si<arguments.length;si++)ai.update(arguments[si]);return G.intFromLE(ai.digest()).umod(this.curve.n)},fi.prototype.keyFromPublic=function(ai){return Ie.fromPublic(this,ai)},fi.prototype.keyFromSecret=function(ai){return Ie.fromSecret(this,ai)},fi.prototype.makeSignature=function(ai){return ai instanceof ni?ai:new ni(this,ai)},fi.prototype.encodePoint=function(ai){var si=ai.getY().toArray("le",this.encodingLength);return si[this.encodingLength-1]|=ai.getX().isOdd()?128:0,si},fi.prototype.decodePoint=function(ai){ai=G.parseBytes(ai);var si=ai.length-1,li=ai.slice(0,si).concat(ai[si]&-129),mi=(ai[si]&128)!==0,di=G.intFromLE(li);return this.curve.pointFromY(di,mi)},fi.prototype.encodeInt=function(ai){return ai.toArray("le",this.encodingLength)},fi.prototype.decodeInt=function(ai){return G.intFromLE(ai)},fi.prototype.isPoint=function(ai){return ai instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(te){var t=te;t.version=require$$0$1.version,t.utils=requireUtils$1(),t.rand=requireBrorand(),t.curve=requireCurve(),t.curves=requireCurves(),t.ec=requireEc(),t.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},bn$3={exports:{}};bn$3.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(te){(function(t,G){function Te(ui,H){if(!ui)throw new Error(H||"Assertion failed")}function Zr(ui,H){ui.super_=H;var X=function(){};X.prototype=H.prototype,ui.prototype=new X,ui.prototype.constructor=ui}function Ie(ui,H,X){if(Ie.isBN(ui))return ui;this.negative=0,this.words=null,this.length=0,this.red=null,ui!==null&&((H==="le"||H==="be")&&(X=H,H=10),this._init(ui||0,H||10,X||"be"))}typeof t=="object"?t.exports=Ie:G.BN=Ie,Ie.BN=Ie,Ie.wordSize=26;var ni;try{typeof window<"u"&&typeof window.Buffer<"u"?ni=window.Buffer:ni=require$$0$3.Buffer}catch{}Ie.isBN=function(H){return H instanceof Ie?!0:H!==null&&typeof H=="object"&&H.constructor.wordSize===Ie.wordSize&&Array.isArray(H.words)},Ie.max=function(H,X){return H.cmp(X)>0?H:X},Ie.min=function(H,X){return H.cmp(X)<0?H:X},Ie.prototype._init=function(H,X,Br){if(typeof H=="number")return this._initNumber(H,X,Br);if(typeof H=="object")return this._initArray(H,X,Br);X==="hex"&&(X=16),Te(X===(X|0)&&X>=2&&X<=36),H=H.toString().replace(/\s+/g,"");var Wr=0;H[0]==="-"&&(Wr++,this.negative=1),Wr<H.length&&(X===16?this._parseHex(H,Wr,Br):(this._parseBase(H,X,Wr),Br==="le"&&this._initArray(this.toArray(),X,Br)))},Ie.prototype._initNumber=function(H,X,Br){H<0&&(this.negative=1,H=-H),H<67108864?(this.words=[H&67108863],this.length=1):H<4503599627370496?(this.words=[H&67108863,H/67108864&67108863],this.length=2):(Te(H<9007199254740992),this.words=[H&67108863,H/67108864&67108863,1],this.length=3),Br==="le"&&this._initArray(this.toArray(),X,Br)},Ie.prototype._initArray=function(H,X,Br){if(Te(typeof H.length=="number"),H.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(H.length/3),this.words=new Array(this.length);for(var Wr=0;Wr<this.length;Wr++)this.words[Wr]=0;var ri,ii,oi=0;if(Br==="be")for(Wr=H.length-1,ri=0;Wr>=0;Wr-=3)ii=H[Wr]|H[Wr-1]<<8|H[Wr-2]<<16,this.words[ri]|=ii<<oi&67108863,this.words[ri+1]=ii>>>26-oi&67108863,oi+=24,oi>=26&&(oi-=26,ri++);else if(Br==="le")for(Wr=0,ri=0;Wr<H.length;Wr+=3)ii=H[Wr]|H[Wr+1]<<8|H[Wr+2]<<16,this.words[ri]|=ii<<oi&67108863,this.words[ri+1]=ii>>>26-oi&67108863,oi+=24,oi>=26&&(oi-=26,ri++);return this.strip()};function fi(ui,H){var X=ui.charCodeAt(H);return X>=65&&X<=70?X-55:X>=97&&X<=102?X-87:X-48&15}function ci(ui,H,X){var Br=fi(ui,X);return X-1>=H&&(Br|=fi(ui,X-1)<<4),Br}Ie.prototype._parseHex=function(H,X,Br){this.length=Math.ceil((H.length-X)/6),this.words=new Array(this.length);for(var Wr=0;Wr<this.length;Wr++)this.words[Wr]=0;var ri=0,ii=0,oi;if(Br==="be")for(Wr=H.length-1;Wr>=X;Wr-=2)oi=ci(H,X,Wr)<<ri,this.words[ii]|=oi&67108863,ri>=18?(ri-=18,ii+=1,this.words[ii]|=oi>>>26):ri+=8;else{var ei=H.length-X;for(Wr=ei%2===0?X+1:X;Wr<H.length;Wr+=2)oi=ci(H,X,Wr)<<ri,this.words[ii]|=oi&67108863,ri>=18?(ri-=18,ii+=1,this.words[ii]|=oi>>>26):ri+=8}this.strip()};function ai(ui,H,X,Br){for(var Wr=0,ri=Math.min(ui.length,X),ii=H;ii<ri;ii++){var oi=ui.charCodeAt(ii)-48;Wr*=Br,oi>=49?Wr+=oi-49+10:oi>=17?Wr+=oi-17+10:Wr+=oi}return Wr}Ie.prototype._parseBase=function(H,X,Br){this.words=[0],this.length=1;for(var Wr=0,ri=1;ri<=67108863;ri*=X)Wr++;Wr--,ri=ri/X|0;for(var ii=H.length-Br,oi=ii%Wr,ei=Math.min(ii,ii-oi)+Br,Y=0,Xr=Br;Xr<ei;Xr+=Wr)Y=ai(H,Xr,Xr+Wr,X),this.imuln(ri),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(oi!==0){var on=1;for(Y=ai(H,Xr,H.length,X),Xr=0;Xr<oi;Xr++)on*=X;this.imuln(on),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this.strip()},Ie.prototype.copy=function(H){H.words=new Array(this.length);for(var X=0;X<this.length;X++)H.words[X]=this.words[X];H.length=this.length,H.negative=this.negative,H.red=this.red},Ie.prototype.clone=function(){var H=new Ie(null);return this.copy(H),H},Ie.prototype._expand=function(H){for(;this.length<H;)this.words[this.length++]=0;return this},Ie.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ie.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var si=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],li=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],mi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ie.prototype.toString=function(H,X){H=H||10,X=X|0||1;var Br;if(H===16||H==="hex"){Br="";for(var Wr=0,ri=0,ii=0;ii<this.length;ii++){var oi=this.words[ii],ei=((oi<<Wr|ri)&16777215).toString(16);ri=oi>>>24-Wr&16777215,ri!==0||ii!==this.length-1?Br=si[6-ei.length]+ei+Br:Br=ei+Br,Wr+=2,Wr>=26&&(Wr-=26,ii--)}for(ri!==0&&(Br=ri.toString(16)+Br);Br.length%X!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}if(H===(H|0)&&H>=2&&H<=36){var Y=li[H],Xr=mi[H];Br="";var on=this.clone();for(on.negative=0;!on.isZero();){var Mn=on.modn(Xr).toString(H);on=on.idivn(Xr),on.isZero()?Br=Mn+Br:Br=si[Y-Mn.length]+Mn+Br}for(this.isZero()&&(Br="0"+Br);Br.length%X!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}Te(!1,"Base should be between 2 and 36")},Ie.prototype.toNumber=function(){var H=this.words[0];return this.length===2?H+=this.words[1]*67108864:this.length===3&&this.words[2]===1?H+=4503599627370496+this.words[1]*67108864:this.length>2&&Te(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-H:H},Ie.prototype.toJSON=function(){return this.toString(16)},Ie.prototype.toBuffer=function(H,X){return Te(typeof ni<"u"),this.toArrayLike(ni,H,X)},Ie.prototype.toArray=function(H,X){return this.toArrayLike(Array,H,X)},Ie.prototype.toArrayLike=function(H,X,Br){var Wr=this.byteLength(),ri=Br||Math.max(1,Wr);Te(Wr<=ri,"byte array longer than desired length"),Te(ri>0,"Requested array length <= 0"),this.strip();var ii=X==="le",oi=new H(ri),ei,Y,Xr=this.clone();if(ii){for(Y=0;!Xr.isZero();Y++)ei=Xr.andln(255),Xr.iushrn(8),oi[Y]=ei;for(;Y<ri;Y++)oi[Y]=0}else{for(Y=0;Y<ri-Wr;Y++)oi[Y]=0;for(Y=0;!Xr.isZero();Y++)ei=Xr.andln(255),Xr.iushrn(8),oi[ri-Y-1]=ei}return oi},Math.clz32?Ie.prototype._countBits=function(H){return 32-Math.clz32(H)}:Ie.prototype._countBits=function(H){var X=H,Br=0;return X>=4096&&(Br+=13,X>>>=13),X>=64&&(Br+=7,X>>>=7),X>=8&&(Br+=4,X>>>=4),X>=2&&(Br+=2,X>>>=2),Br+X},Ie.prototype._zeroBits=function(H){if(H===0)return 26;var X=H,Br=0;return X&8191||(Br+=13,X>>>=13),X&127||(Br+=7,X>>>=7),X&15||(Br+=4,X>>>=4),X&3||(Br+=2,X>>>=2),X&1||Br++,Br},Ie.prototype.bitLength=function(){var H=this.words[this.length-1],X=this._countBits(H);return(this.length-1)*26+X};function di(ui){for(var H=new Array(ui.bitLength()),X=0;X<H.length;X++){var Br=X/26|0,Wr=X%26;H[X]=(ui.words[Br]&1<<Wr)>>>Wr}return H}Ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var H=0,X=0;X<this.length;X++){var Br=this._zeroBits(this.words[X]);if(H+=Br,Br!==26)break}return H},Ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ie.prototype.toTwos=function(H){return this.negative!==0?this.abs().inotn(H).iaddn(1):this.clone()},Ie.prototype.fromTwos=function(H){return this.testn(H-1)?this.notn(H).iaddn(1).ineg():this.clone()},Ie.prototype.isNeg=function(){return this.negative!==0},Ie.prototype.neg=function(){return this.clone().ineg()},Ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ie.prototype.iuor=function(H){for(;this.length<H.length;)this.words[this.length++]=0;for(var X=0;X<H.length;X++)this.words[X]=this.words[X]|H.words[X];return this.strip()},Ie.prototype.ior=function(H){return Te((this.negative|H.negative)===0),this.iuor(H)},Ie.prototype.or=function(H){return this.length>H.length?this.clone().ior(H):H.clone().ior(this)},Ie.prototype.uor=function(H){return this.length>H.length?this.clone().iuor(H):H.clone().iuor(this)},Ie.prototype.iuand=function(H){var X;this.length>H.length?X=H:X=this;for(var Br=0;Br<X.length;Br++)this.words[Br]=this.words[Br]&H.words[Br];return this.length=X.length,this.strip()},Ie.prototype.iand=function(H){return Te((this.negative|H.negative)===0),this.iuand(H)},Ie.prototype.and=function(H){return this.length>H.length?this.clone().iand(H):H.clone().iand(this)},Ie.prototype.uand=function(H){return this.length>H.length?this.clone().iuand(H):H.clone().iuand(this)},Ie.prototype.iuxor=function(H){var X,Br;this.length>H.length?(X=this,Br=H):(X=H,Br=this);for(var Wr=0;Wr<Br.length;Wr++)this.words[Wr]=X.words[Wr]^Br.words[Wr];if(this!==X)for(;Wr<X.length;Wr++)this.words[Wr]=X.words[Wr];return this.length=X.length,this.strip()},Ie.prototype.ixor=function(H){return Te((this.negative|H.negative)===0),this.iuxor(H)},Ie.prototype.xor=function(H){return this.length>H.length?this.clone().ixor(H):H.clone().ixor(this)},Ie.prototype.uxor=function(H){return this.length>H.length?this.clone().iuxor(H):H.clone().iuxor(this)},Ie.prototype.inotn=function(H){Te(typeof H=="number"&&H>=0);var X=Math.ceil(H/26)|0,Br=H%26;this._expand(X),Br>0&&X--;for(var Wr=0;Wr<X;Wr++)this.words[Wr]=~this.words[Wr]&67108863;return Br>0&&(this.words[Wr]=~this.words[Wr]&67108863>>26-Br),this.strip()},Ie.prototype.notn=function(H){return this.clone().inotn(H)},Ie.prototype.setn=function(H,X){Te(typeof H=="number"&&H>=0);var Br=H/26|0,Wr=H%26;return this._expand(Br+1),X?this.words[Br]=this.words[Br]|1<<Wr:this.words[Br]=this.words[Br]&~(1<<Wr),this.strip()},Ie.prototype.iadd=function(H){var X;if(this.negative!==0&&H.negative===0)return this.negative=0,X=this.isub(H),this.negative^=1,this._normSign();if(this.negative===0&&H.negative!==0)return H.negative=0,X=this.isub(H),H.negative=1,X._normSign();var Br,Wr;this.length>H.length?(Br=this,Wr=H):(Br=H,Wr=this);for(var ri=0,ii=0;ii<Wr.length;ii++)X=(Br.words[ii]|0)+(Wr.words[ii]|0)+ri,this.words[ii]=X&67108863,ri=X>>>26;for(;ri!==0&&ii<Br.length;ii++)X=(Br.words[ii]|0)+ri,this.words[ii]=X&67108863,ri=X>>>26;if(this.length=Br.length,ri!==0)this.words[this.length]=ri,this.length++;else if(Br!==this)for(;ii<Br.length;ii++)this.words[ii]=Br.words[ii];return this},Ie.prototype.add=function(H){var X;return H.negative!==0&&this.negative===0?(H.negative=0,X=this.sub(H),H.negative^=1,X):H.negative===0&&this.negative!==0?(this.negative=0,X=H.sub(this),this.negative=1,X):this.length>H.length?this.clone().iadd(H):H.clone().iadd(this)},Ie.prototype.isub=function(H){if(H.negative!==0){H.negative=0;var X=this.iadd(H);return H.negative=1,X._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(H),this.negative=1,this._normSign();var Br=this.cmp(H);if(Br===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Wr,ri;Br>0?(Wr=this,ri=H):(Wr=H,ri=this);for(var ii=0,oi=0;oi<ri.length;oi++)X=(Wr.words[oi]|0)-(ri.words[oi]|0)+ii,ii=X>>26,this.words[oi]=X&67108863;for(;ii!==0&&oi<Wr.length;oi++)X=(Wr.words[oi]|0)+ii,ii=X>>26,this.words[oi]=X&67108863;if(ii===0&&oi<Wr.length&&Wr!==this)for(;oi<Wr.length;oi++)this.words[oi]=Wr.words[oi];return this.length=Math.max(this.length,oi),Wr!==this&&(this.negative=1),this.strip()},Ie.prototype.sub=function(H){return this.clone().isub(H)};function $i(ui,H,X){X.negative=H.negative^ui.negative;var Br=ui.length+H.length|0;X.length=Br,Br=Br-1|0;var Wr=ui.words[0]|0,ri=H.words[0]|0,ii=Wr*ri,oi=ii&67108863,ei=ii/67108864|0;X.words[0]=oi;for(var Y=1;Y<Br;Y++){for(var Xr=ei>>>26,on=ei&67108863,Mn=Math.min(Y,H.length-1),Bn=Math.max(0,Y-ui.length+1);Bn<=Mn;Bn++){var fn=Y-Bn|0;Wr=ui.words[fn]|0,ri=H.words[Bn]|0,ii=Wr*ri+on,Xr+=ii/67108864|0,on=ii&67108863}X.words[Y]=on|0,ei=Xr|0}return ei!==0?X.words[Y]=ei|0:X.length--,X.strip()}var sn=function(H,X,Br){var Wr=H.words,ri=X.words,ii=Br.words,oi=0,ei,Y,Xr,on=Wr[0]|0,Mn=on&8191,Bn=on>>>13,fn=Wr[1]|0,uo=fn&8191,un=fn>>>13,gn=Wr[2]|0,An=gn&8191,an=gn>>>13,qo=Wr[3]|0,ko=qo&8191,Uo=qo>>>13,kh=Wr[4]|0,Vo=kh&8191,tf=kh>>>13,Wh=Wr[5]|0,Rh=Wh&8191,vh=Wh>>>13,Jh=Wr[6]|0,Vf=Jh&8191,Zo=Jh>>>13,Vh=Wr[7]|0,Qf=Vh&8191,Ko=Vh>>>13,Zh=Wr[8]|0,Xf=Zh&8191,Lf=Zh>>>13,Qh=Wr[9]|0,bh=Qh&8191,jf=Qh>>>13,Yh=ri[0]|0,Sh=Yh&8191,ph=Yh>>>13,Xh=ri[1]|0,Th=Xh&8191,$h=Xh>>>13,zu=ri[2]|0,Nh=zu&8191,Ih=zu>>>13,Ku=ri[3]|0,Lh=Ku&8191,wh=Ku>>>13,hu=ri[4]|0,qh=hu&8191,_h=hu>>>13,qu=ri[5]|0,Dh=qu&8191,xh=qu>>>13,Lu=ri[6]|0,Bh=Lu&8191,Eh=Lu>>>13,ku=ri[7]|0,Ch=ku&8191,Mh=ku>>>13,au=ri[8]|0,Oh=au&8191,Ah=au>>>13,r0=ri[9]|0,jh=r0&8191,Ph=r0>>>13;Br.negative=H.negative^X.negative,Br.length=19,ei=Math.imul(Mn,Sh),Y=Math.imul(Mn,ph),Y=Y+Math.imul(Bn,Sh)|0,Xr=Math.imul(Bn,ph);var Uu=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,ei=Math.imul(uo,Sh),Y=Math.imul(uo,ph),Y=Y+Math.imul(un,Sh)|0,Xr=Math.imul(un,ph),ei=ei+Math.imul(Mn,Th)|0,Y=Y+Math.imul(Mn,$h)|0,Y=Y+Math.imul(Bn,Th)|0,Xr=Xr+Math.imul(Bn,$h)|0;var nc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(nc>>>26)|0,nc&=67108863,ei=Math.imul(An,Sh),Y=Math.imul(An,ph),Y=Y+Math.imul(an,Sh)|0,Xr=Math.imul(an,ph),ei=ei+Math.imul(uo,Th)|0,Y=Y+Math.imul(uo,$h)|0,Y=Y+Math.imul(un,Th)|0,Xr=Xr+Math.imul(un,$h)|0,ei=ei+Math.imul(Mn,Nh)|0,Y=Y+Math.imul(Mn,Ih)|0,Y=Y+Math.imul(Bn,Nh)|0,Xr=Xr+Math.imul(Bn,Ih)|0;var sc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(sc>>>26)|0,sc&=67108863,ei=Math.imul(ko,Sh),Y=Math.imul(ko,ph),Y=Y+Math.imul(Uo,Sh)|0,Xr=Math.imul(Uo,ph),ei=ei+Math.imul(An,Th)|0,Y=Y+Math.imul(An,$h)|0,Y=Y+Math.imul(an,Th)|0,Xr=Xr+Math.imul(an,$h)|0,ei=ei+Math.imul(uo,Nh)|0,Y=Y+Math.imul(uo,Ih)|0,Y=Y+Math.imul(un,Nh)|0,Xr=Xr+Math.imul(un,Ih)|0,ei=ei+Math.imul(Mn,Lh)|0,Y=Y+Math.imul(Mn,wh)|0,Y=Y+Math.imul(Bn,Lh)|0,Xr=Xr+Math.imul(Bn,wh)|0;var ac=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(ac>>>26)|0,ac&=67108863,ei=Math.imul(Vo,Sh),Y=Math.imul(Vo,ph),Y=Y+Math.imul(tf,Sh)|0,Xr=Math.imul(tf,ph),ei=ei+Math.imul(ko,Th)|0,Y=Y+Math.imul(ko,$h)|0,Y=Y+Math.imul(Uo,Th)|0,Xr=Xr+Math.imul(Uo,$h)|0,ei=ei+Math.imul(An,Nh)|0,Y=Y+Math.imul(An,Ih)|0,Y=Y+Math.imul(an,Nh)|0,Xr=Xr+Math.imul(an,Ih)|0,ei=ei+Math.imul(uo,Lh)|0,Y=Y+Math.imul(uo,wh)|0,Y=Y+Math.imul(un,Lh)|0,Xr=Xr+Math.imul(un,wh)|0,ei=ei+Math.imul(Mn,qh)|0,Y=Y+Math.imul(Mn,_h)|0,Y=Y+Math.imul(Bn,qh)|0,Xr=Xr+Math.imul(Bn,_h)|0;var oc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(oc>>>26)|0,oc&=67108863,ei=Math.imul(Rh,Sh),Y=Math.imul(Rh,ph),Y=Y+Math.imul(vh,Sh)|0,Xr=Math.imul(vh,ph),ei=ei+Math.imul(Vo,Th)|0,Y=Y+Math.imul(Vo,$h)|0,Y=Y+Math.imul(tf,Th)|0,Xr=Xr+Math.imul(tf,$h)|0,ei=ei+Math.imul(ko,Nh)|0,Y=Y+Math.imul(ko,Ih)|0,Y=Y+Math.imul(Uo,Nh)|0,Xr=Xr+Math.imul(Uo,Ih)|0,ei=ei+Math.imul(An,Lh)|0,Y=Y+Math.imul(An,wh)|0,Y=Y+Math.imul(an,Lh)|0,Xr=Xr+Math.imul(an,wh)|0,ei=ei+Math.imul(uo,qh)|0,Y=Y+Math.imul(uo,_h)|0,Y=Y+Math.imul(un,qh)|0,Xr=Xr+Math.imul(un,_h)|0,ei=ei+Math.imul(Mn,Dh)|0,Y=Y+Math.imul(Mn,xh)|0,Y=Y+Math.imul(Bn,Dh)|0,Xr=Xr+Math.imul(Bn,xh)|0;var fc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(fc>>>26)|0,fc&=67108863,ei=Math.imul(Vf,Sh),Y=Math.imul(Vf,ph),Y=Y+Math.imul(Zo,Sh)|0,Xr=Math.imul(Zo,ph),ei=ei+Math.imul(Rh,Th)|0,Y=Y+Math.imul(Rh,$h)|0,Y=Y+Math.imul(vh,Th)|0,Xr=Xr+Math.imul(vh,$h)|0,ei=ei+Math.imul(Vo,Nh)|0,Y=Y+Math.imul(Vo,Ih)|0,Y=Y+Math.imul(tf,Nh)|0,Xr=Xr+Math.imul(tf,Ih)|0,ei=ei+Math.imul(ko,Lh)|0,Y=Y+Math.imul(ko,wh)|0,Y=Y+Math.imul(Uo,Lh)|0,Xr=Xr+Math.imul(Uo,wh)|0,ei=ei+Math.imul(An,qh)|0,Y=Y+Math.imul(An,_h)|0,Y=Y+Math.imul(an,qh)|0,Xr=Xr+Math.imul(an,_h)|0,ei=ei+Math.imul(uo,Dh)|0,Y=Y+Math.imul(uo,xh)|0,Y=Y+Math.imul(un,Dh)|0,Xr=Xr+Math.imul(un,xh)|0,ei=ei+Math.imul(Mn,Bh)|0,Y=Y+Math.imul(Mn,Eh)|0,Y=Y+Math.imul(Bn,Bh)|0,Xr=Xr+Math.imul(Bn,Eh)|0;var $0=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+($0>>>26)|0,$0&=67108863,ei=Math.imul(Qf,Sh),Y=Math.imul(Qf,ph),Y=Y+Math.imul(Ko,Sh)|0,Xr=Math.imul(Ko,ph),ei=ei+Math.imul(Vf,Th)|0,Y=Y+Math.imul(Vf,$h)|0,Y=Y+Math.imul(Zo,Th)|0,Xr=Xr+Math.imul(Zo,$h)|0,ei=ei+Math.imul(Rh,Nh)|0,Y=Y+Math.imul(Rh,Ih)|0,Y=Y+Math.imul(vh,Nh)|0,Xr=Xr+Math.imul(vh,Ih)|0,ei=ei+Math.imul(Vo,Lh)|0,Y=Y+Math.imul(Vo,wh)|0,Y=Y+Math.imul(tf,Lh)|0,Xr=Xr+Math.imul(tf,wh)|0,ei=ei+Math.imul(ko,qh)|0,Y=Y+Math.imul(ko,_h)|0,Y=Y+Math.imul(Uo,qh)|0,Xr=Xr+Math.imul(Uo,_h)|0,ei=ei+Math.imul(An,Dh)|0,Y=Y+Math.imul(An,xh)|0,Y=Y+Math.imul(an,Dh)|0,Xr=Xr+Math.imul(an,xh)|0,ei=ei+Math.imul(uo,Bh)|0,Y=Y+Math.imul(uo,Eh)|0,Y=Y+Math.imul(un,Bh)|0,Xr=Xr+Math.imul(un,Eh)|0,ei=ei+Math.imul(Mn,Ch)|0,Y=Y+Math.imul(Mn,Mh)|0,Y=Y+Math.imul(Bn,Ch)|0,Xr=Xr+Math.imul(Bn,Mh)|0;var lc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(lc>>>26)|0,lc&=67108863,ei=Math.imul(Xf,Sh),Y=Math.imul(Xf,ph),Y=Y+Math.imul(Lf,Sh)|0,Xr=Math.imul(Lf,ph),ei=ei+Math.imul(Qf,Th)|0,Y=Y+Math.imul(Qf,$h)|0,Y=Y+Math.imul(Ko,Th)|0,Xr=Xr+Math.imul(Ko,$h)|0,ei=ei+Math.imul(Vf,Nh)|0,Y=Y+Math.imul(Vf,Ih)|0,Y=Y+Math.imul(Zo,Nh)|0,Xr=Xr+Math.imul(Zo,Ih)|0,ei=ei+Math.imul(Rh,Lh)|0,Y=Y+Math.imul(Rh,wh)|0,Y=Y+Math.imul(vh,Lh)|0,Xr=Xr+Math.imul(vh,wh)|0,ei=ei+Math.imul(Vo,qh)|0,Y=Y+Math.imul(Vo,_h)|0,Y=Y+Math.imul(tf,qh)|0,Xr=Xr+Math.imul(tf,_h)|0,ei=ei+Math.imul(ko,Dh)|0,Y=Y+Math.imul(ko,xh)|0,Y=Y+Math.imul(Uo,Dh)|0,Xr=Xr+Math.imul(Uo,xh)|0,ei=ei+Math.imul(An,Bh)|0,Y=Y+Math.imul(An,Eh)|0,Y=Y+Math.imul(an,Bh)|0,Xr=Xr+Math.imul(an,Eh)|0,ei=ei+Math.imul(uo,Ch)|0,Y=Y+Math.imul(uo,Mh)|0,Y=Y+Math.imul(un,Ch)|0,Xr=Xr+Math.imul(un,Mh)|0,ei=ei+Math.imul(Mn,Oh)|0,Y=Y+Math.imul(Mn,Ah)|0,Y=Y+Math.imul(Bn,Oh)|0,Xr=Xr+Math.imul(Bn,Ah)|0;var gc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(gc>>>26)|0,gc&=67108863,ei=Math.imul(bh,Sh),Y=Math.imul(bh,ph),Y=Y+Math.imul(jf,Sh)|0,Xr=Math.imul(jf,ph),ei=ei+Math.imul(Xf,Th)|0,Y=Y+Math.imul(Xf,$h)|0,Y=Y+Math.imul(Lf,Th)|0,Xr=Xr+Math.imul(Lf,$h)|0,ei=ei+Math.imul(Qf,Nh)|0,Y=Y+Math.imul(Qf,Ih)|0,Y=Y+Math.imul(Ko,Nh)|0,Xr=Xr+Math.imul(Ko,Ih)|0,ei=ei+Math.imul(Vf,Lh)|0,Y=Y+Math.imul(Vf,wh)|0,Y=Y+Math.imul(Zo,Lh)|0,Xr=Xr+Math.imul(Zo,wh)|0,ei=ei+Math.imul(Rh,qh)|0,Y=Y+Math.imul(Rh,_h)|0,Y=Y+Math.imul(vh,qh)|0,Xr=Xr+Math.imul(vh,_h)|0,ei=ei+Math.imul(Vo,Dh)|0,Y=Y+Math.imul(Vo,xh)|0,Y=Y+Math.imul(tf,Dh)|0,Xr=Xr+Math.imul(tf,xh)|0,ei=ei+Math.imul(ko,Bh)|0,Y=Y+Math.imul(ko,Eh)|0,Y=Y+Math.imul(Uo,Bh)|0,Xr=Xr+Math.imul(Uo,Eh)|0,ei=ei+Math.imul(An,Ch)|0,Y=Y+Math.imul(An,Mh)|0,Y=Y+Math.imul(an,Ch)|0,Xr=Xr+Math.imul(an,Mh)|0,ei=ei+Math.imul(uo,Oh)|0,Y=Y+Math.imul(uo,Ah)|0,Y=Y+Math.imul(un,Oh)|0,Xr=Xr+Math.imul(un,Ah)|0,ei=ei+Math.imul(Mn,jh)|0,Y=Y+Math.imul(Mn,Ph)|0,Y=Y+Math.imul(Bn,jh)|0,Xr=Xr+Math.imul(Bn,Ph)|0;var dc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(dc>>>26)|0,dc&=67108863,ei=Math.imul(bh,Th),Y=Math.imul(bh,$h),Y=Y+Math.imul(jf,Th)|0,Xr=Math.imul(jf,$h),ei=ei+Math.imul(Xf,Nh)|0,Y=Y+Math.imul(Xf,Ih)|0,Y=Y+Math.imul(Lf,Nh)|0,Xr=Xr+Math.imul(Lf,Ih)|0,ei=ei+Math.imul(Qf,Lh)|0,Y=Y+Math.imul(Qf,wh)|0,Y=Y+Math.imul(Ko,Lh)|0,Xr=Xr+Math.imul(Ko,wh)|0,ei=ei+Math.imul(Vf,qh)|0,Y=Y+Math.imul(Vf,_h)|0,Y=Y+Math.imul(Zo,qh)|0,Xr=Xr+Math.imul(Zo,_h)|0,ei=ei+Math.imul(Rh,Dh)|0,Y=Y+Math.imul(Rh,xh)|0,Y=Y+Math.imul(vh,Dh)|0,Xr=Xr+Math.imul(vh,xh)|0,ei=ei+Math.imul(Vo,Bh)|0,Y=Y+Math.imul(Vo,Eh)|0,Y=Y+Math.imul(tf,Bh)|0,Xr=Xr+Math.imul(tf,Eh)|0,ei=ei+Math.imul(ko,Ch)|0,Y=Y+Math.imul(ko,Mh)|0,Y=Y+Math.imul(Uo,Ch)|0,Xr=Xr+Math.imul(Uo,Mh)|0,ei=ei+Math.imul(An,Oh)|0,Y=Y+Math.imul(An,Ah)|0,Y=Y+Math.imul(an,Oh)|0,Xr=Xr+Math.imul(an,Ah)|0,ei=ei+Math.imul(uo,jh)|0,Y=Y+Math.imul(uo,Ph)|0,Y=Y+Math.imul(un,jh)|0,Xr=Xr+Math.imul(un,Ph)|0;var bc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(bc>>>26)|0,bc&=67108863,ei=Math.imul(bh,Nh),Y=Math.imul(bh,Ih),Y=Y+Math.imul(jf,Nh)|0,Xr=Math.imul(jf,Ih),ei=ei+Math.imul(Xf,Lh)|0,Y=Y+Math.imul(Xf,wh)|0,Y=Y+Math.imul(Lf,Lh)|0,Xr=Xr+Math.imul(Lf,wh)|0,ei=ei+Math.imul(Qf,qh)|0,Y=Y+Math.imul(Qf,_h)|0,Y=Y+Math.imul(Ko,qh)|0,Xr=Xr+Math.imul(Ko,_h)|0,ei=ei+Math.imul(Vf,Dh)|0,Y=Y+Math.imul(Vf,xh)|0,Y=Y+Math.imul(Zo,Dh)|0,Xr=Xr+Math.imul(Zo,xh)|0,ei=ei+Math.imul(Rh,Bh)|0,Y=Y+Math.imul(Rh,Eh)|0,Y=Y+Math.imul(vh,Bh)|0,Xr=Xr+Math.imul(vh,Eh)|0,ei=ei+Math.imul(Vo,Ch)|0,Y=Y+Math.imul(Vo,Mh)|0,Y=Y+Math.imul(tf,Ch)|0,Xr=Xr+Math.imul(tf,Mh)|0,ei=ei+Math.imul(ko,Oh)|0,Y=Y+Math.imul(ko,Ah)|0,Y=Y+Math.imul(Uo,Oh)|0,Xr=Xr+Math.imul(Uo,Ah)|0,ei=ei+Math.imul(An,jh)|0,Y=Y+Math.imul(An,Ph)|0,Y=Y+Math.imul(an,jh)|0,Xr=Xr+Math.imul(an,Ph)|0;var yc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(yc>>>26)|0,yc&=67108863,ei=Math.imul(bh,Lh),Y=Math.imul(bh,wh),Y=Y+Math.imul(jf,Lh)|0,Xr=Math.imul(jf,wh),ei=ei+Math.imul(Xf,qh)|0,Y=Y+Math.imul(Xf,_h)|0,Y=Y+Math.imul(Lf,qh)|0,Xr=Xr+Math.imul(Lf,_h)|0,ei=ei+Math.imul(Qf,Dh)|0,Y=Y+Math.imul(Qf,xh)|0,Y=Y+Math.imul(Ko,Dh)|0,Xr=Xr+Math.imul(Ko,xh)|0,ei=ei+Math.imul(Vf,Bh)|0,Y=Y+Math.imul(Vf,Eh)|0,Y=Y+Math.imul(Zo,Bh)|0,Xr=Xr+Math.imul(Zo,Eh)|0,ei=ei+Math.imul(Rh,Ch)|0,Y=Y+Math.imul(Rh,Mh)|0,Y=Y+Math.imul(vh,Ch)|0,Xr=Xr+Math.imul(vh,Mh)|0,ei=ei+Math.imul(Vo,Oh)|0,Y=Y+Math.imul(Vo,Ah)|0,Y=Y+Math.imul(tf,Oh)|0,Xr=Xr+Math.imul(tf,Ah)|0,ei=ei+Math.imul(ko,jh)|0,Y=Y+Math.imul(ko,Ph)|0,Y=Y+Math.imul(Uo,jh)|0,Xr=Xr+Math.imul(Uo,Ph)|0;var pc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(pc>>>26)|0,pc&=67108863,ei=Math.imul(bh,qh),Y=Math.imul(bh,_h),Y=Y+Math.imul(jf,qh)|0,Xr=Math.imul(jf,_h),ei=ei+Math.imul(Xf,Dh)|0,Y=Y+Math.imul(Xf,xh)|0,Y=Y+Math.imul(Lf,Dh)|0,Xr=Xr+Math.imul(Lf,xh)|0,ei=ei+Math.imul(Qf,Bh)|0,Y=Y+Math.imul(Qf,Eh)|0,Y=Y+Math.imul(Ko,Bh)|0,Xr=Xr+Math.imul(Ko,Eh)|0,ei=ei+Math.imul(Vf,Ch)|0,Y=Y+Math.imul(Vf,Mh)|0,Y=Y+Math.imul(Zo,Ch)|0,Xr=Xr+Math.imul(Zo,Mh)|0,ei=ei+Math.imul(Rh,Oh)|0,Y=Y+Math.imul(Rh,Ah)|0,Y=Y+Math.imul(vh,Oh)|0,Xr=Xr+Math.imul(vh,Ah)|0,ei=ei+Math.imul(Vo,jh)|0,Y=Y+Math.imul(Vo,Ph)|0,Y=Y+Math.imul(tf,jh)|0,Xr=Xr+Math.imul(tf,Ph)|0;var vc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(vc>>>26)|0,vc&=67108863,ei=Math.imul(bh,Dh),Y=Math.imul(bh,xh),Y=Y+Math.imul(jf,Dh)|0,Xr=Math.imul(jf,xh),ei=ei+Math.imul(Xf,Bh)|0,Y=Y+Math.imul(Xf,Eh)|0,Y=Y+Math.imul(Lf,Bh)|0,Xr=Xr+Math.imul(Lf,Eh)|0,ei=ei+Math.imul(Qf,Ch)|0,Y=Y+Math.imul(Qf,Mh)|0,Y=Y+Math.imul(Ko,Ch)|0,Xr=Xr+Math.imul(Ko,Mh)|0,ei=ei+Math.imul(Vf,Oh)|0,Y=Y+Math.imul(Vf,Ah)|0,Y=Y+Math.imul(Zo,Oh)|0,Xr=Xr+Math.imul(Zo,Ah)|0,ei=ei+Math.imul(Rh,jh)|0,Y=Y+Math.imul(Rh,Ph)|0,Y=Y+Math.imul(vh,jh)|0,Xr=Xr+Math.imul(vh,Ph)|0;var mc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(mc>>>26)|0,mc&=67108863,ei=Math.imul(bh,Bh),Y=Math.imul(bh,Eh),Y=Y+Math.imul(jf,Bh)|0,Xr=Math.imul(jf,Eh),ei=ei+Math.imul(Xf,Ch)|0,Y=Y+Math.imul(Xf,Mh)|0,Y=Y+Math.imul(Lf,Ch)|0,Xr=Xr+Math.imul(Lf,Mh)|0,ei=ei+Math.imul(Qf,Oh)|0,Y=Y+Math.imul(Qf,Ah)|0,Y=Y+Math.imul(Ko,Oh)|0,Xr=Xr+Math.imul(Ko,Ah)|0,ei=ei+Math.imul(Vf,jh)|0,Y=Y+Math.imul(Vf,Ph)|0,Y=Y+Math.imul(Zo,jh)|0,Xr=Xr+Math.imul(Zo,Ph)|0;var tc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(tc>>>26)|0,tc&=67108863,ei=Math.imul(bh,Ch),Y=Math.imul(bh,Mh),Y=Y+Math.imul(jf,Ch)|0,Xr=Math.imul(jf,Mh),ei=ei+Math.imul(Xf,Oh)|0,Y=Y+Math.imul(Xf,Ah)|0,Y=Y+Math.imul(Lf,Oh)|0,Xr=Xr+Math.imul(Lf,Ah)|0,ei=ei+Math.imul(Qf,jh)|0,Y=Y+Math.imul(Qf,Ph)|0,Y=Y+Math.imul(Ko,jh)|0,Xr=Xr+Math.imul(Ko,Ph)|0;var wc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(wc>>>26)|0,wc&=67108863,ei=Math.imul(bh,Oh),Y=Math.imul(bh,Ah),Y=Y+Math.imul(jf,Oh)|0,Xr=Math.imul(jf,Ah),ei=ei+Math.imul(Xf,jh)|0,Y=Y+Math.imul(Xf,Ph)|0,Y=Y+Math.imul(Lf,jh)|0,Xr=Xr+Math.imul(Lf,Ph)|0;var _c=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(_c>>>26)|0,_c&=67108863,ei=Math.imul(bh,jh),Y=Math.imul(bh,Ph),Y=Y+Math.imul(jf,jh)|0,Xr=Math.imul(jf,Ph);var Mc=(oi+ei|0)+((Y&8191)<<13)|0;return oi=(Xr+(Y>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,ii[0]=Uu,ii[1]=nc,ii[2]=sc,ii[3]=ac,ii[4]=oc,ii[5]=fc,ii[6]=$0,ii[7]=lc,ii[8]=gc,ii[9]=dc,ii[10]=bc,ii[11]=yc,ii[12]=pc,ii[13]=vc,ii[14]=mc,ii[15]=tc,ii[16]=wc,ii[17]=_c,ii[18]=Mc,oi!==0&&(ii[19]=oi,Br.length++),Br};Math.imul||(sn=$i);function ln(ui,H,X){X.negative=H.negative^ui.negative,X.length=ui.length+H.length;for(var Br=0,Wr=0,ri=0;ri<X.length-1;ri++){var ii=Wr;Wr=0;for(var oi=Br&67108863,ei=Math.min(ri,H.length-1),Y=Math.max(0,ri-ui.length+1);Y<=ei;Y++){var Xr=ri-Y,on=ui.words[Xr]|0,Mn=H.words[Y]|0,Bn=on*Mn,fn=Bn&67108863;ii=ii+(Bn/67108864|0)|0,fn=fn+oi|0,oi=fn&67108863,ii=ii+(fn>>>26)|0,Wr+=ii>>>26,ii&=67108863}X.words[ri]=oi,Br=ii,ii=Wr}return Br!==0?X.words[ri]=Br:X.length--,X.strip()}function mn(ui,H,X){var Br=new cn;return Br.mulp(ui,H,X)}Ie.prototype.mulTo=function(H,X){var Br,Wr=this.length+H.length;return this.length===10&&H.length===10?Br=sn(this,H,X):Wr<63?Br=$i(this,H,X):Wr<1024?Br=ln(this,H,X):Br=mn(this,H,X),Br};function cn(ui,H){this.x=ui,this.y=H}cn.prototype.makeRBT=function(H){for(var X=new Array(H),Br=Ie.prototype._countBits(H)-1,Wr=0;Wr<H;Wr++)X[Wr]=this.revBin(Wr,Br,H);return X},cn.prototype.revBin=function(H,X,Br){if(H===0||H===Br-1)return H;for(var Wr=0,ri=0;ri<X;ri++)Wr|=(H&1)<<X-ri-1,H>>=1;return Wr},cn.prototype.permute=function(H,X,Br,Wr,ri,ii){for(var oi=0;oi<ii;oi++)Wr[oi]=X[H[oi]],ri[oi]=Br[H[oi]]},cn.prototype.transform=function(H,X,Br,Wr,ri,ii){this.permute(ii,H,X,Br,Wr,ri);for(var oi=1;oi<ri;oi<<=1)for(var ei=oi<<1,Y=Math.cos(2*Math.PI/ei),Xr=Math.sin(2*Math.PI/ei),on=0;on<ri;on+=ei)for(var Mn=Y,Bn=Xr,fn=0;fn<oi;fn++){var uo=Br[on+fn],un=Wr[on+fn],gn=Br[on+fn+oi],An=Wr[on+fn+oi],an=Mn*gn-Bn*An;An=Mn*An+Bn*gn,gn=an,Br[on+fn]=uo+gn,Wr[on+fn]=un+An,Br[on+fn+oi]=uo-gn,Wr[on+fn+oi]=un-An,fn!==ei&&(an=Y*Mn-Xr*Bn,Bn=Y*Bn+Xr*Mn,Mn=an)}},cn.prototype.guessLen13b=function(H,X){var Br=Math.max(X,H)|1,Wr=Br&1,ri=0;for(Br=Br/2|0;Br;Br=Br>>>1)ri++;return 1<<ri+1+Wr},cn.prototype.conjugate=function(H,X,Br){if(!(Br<=1))for(var Wr=0;Wr<Br/2;Wr++){var ri=H[Wr];H[Wr]=H[Br-Wr-1],H[Br-Wr-1]=ri,ri=X[Wr],X[Wr]=-X[Br-Wr-1],X[Br-Wr-1]=-ri}},cn.prototype.normalize13b=function(H,X){for(var Br=0,Wr=0;Wr<X/2;Wr++){var ri=Math.round(H[2*Wr+1]/X)*8192+Math.round(H[2*Wr]/X)+Br;H[Wr]=ri&67108863,ri<67108864?Br=0:Br=ri/67108864|0}return H},cn.prototype.convert13b=function(H,X,Br,Wr){for(var ri=0,ii=0;ii<X;ii++)ri=ri+(H[ii]|0),Br[2*ii]=ri&8191,ri=ri>>>13,Br[2*ii+1]=ri&8191,ri=ri>>>13;for(ii=2*X;ii<Wr;++ii)Br[ii]=0;Te(ri===0),Te((ri&-8192)===0)},cn.prototype.stub=function(H){for(var X=new Array(H),Br=0;Br<H;Br++)X[Br]=0;return X},cn.prototype.mulp=function(H,X,Br){var Wr=2*this.guessLen13b(H.length,X.length),ri=this.makeRBT(Wr),ii=this.stub(Wr),oi=new Array(Wr),ei=new Array(Wr),Y=new Array(Wr),Xr=new Array(Wr),on=new Array(Wr),Mn=new Array(Wr),Bn=Br.words;Bn.length=Wr,this.convert13b(H.words,H.length,oi,Wr),this.convert13b(X.words,X.length,Xr,Wr),this.transform(oi,ii,ei,Y,Wr,ri),this.transform(Xr,ii,on,Mn,Wr,ri);for(var fn=0;fn<Wr;fn++){var uo=ei[fn]*on[fn]-Y[fn]*Mn[fn];Y[fn]=ei[fn]*Mn[fn]+Y[fn]*on[fn],ei[fn]=uo}return this.conjugate(ei,Y,Wr),this.transform(ei,Y,Bn,ii,Wr,ri),this.conjugate(Bn,ii,Wr),this.normalize13b(Bn,Wr),Br.negative=H.negative^X.negative,Br.length=H.length+X.length,Br.strip()},Ie.prototype.mul=function(H){var X=new Ie(null);return X.words=new Array(this.length+H.length),this.mulTo(H,X)},Ie.prototype.mulf=function(H){var X=new Ie(null);return X.words=new Array(this.length+H.length),mn(this,H,X)},Ie.prototype.imul=function(H){return this.clone().mulTo(H,this)},Ie.prototype.imuln=function(H){Te(typeof H=="number"),Te(H<67108864);for(var X=0,Br=0;Br<this.length;Br++){var Wr=(this.words[Br]|0)*H,ri=(Wr&67108863)+(X&67108863);X>>=26,X+=Wr/67108864|0,X+=ri>>>26,this.words[Br]=ri&67108863}return X!==0&&(this.words[Br]=X,this.length++),this},Ie.prototype.muln=function(H){return this.clone().imuln(H)},Ie.prototype.sqr=function(){return this.mul(this)},Ie.prototype.isqr=function(){return this.imul(this.clone())},Ie.prototype.pow=function(H){var X=di(H);if(X.length===0)return new Ie(1);for(var Br=this,Wr=0;Wr<X.length&&X[Wr]===0;Wr++,Br=Br.sqr());if(++Wr<X.length)for(var ri=Br.sqr();Wr<X.length;Wr++,ri=ri.sqr())X[Wr]!==0&&(Br=Br.mul(ri));return Br},Ie.prototype.iushln=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26,Wr=67108863>>>26-X<<26-X,ri;if(X!==0){var ii=0;for(ri=0;ri<this.length;ri++){var oi=this.words[ri]&Wr,ei=(this.words[ri]|0)-oi<<X;this.words[ri]=ei|ii,ii=oi>>>26-X}ii&&(this.words[ri]=ii,this.length++)}if(Br!==0){for(ri=this.length-1;ri>=0;ri--)this.words[ri+Br]=this.words[ri];for(ri=0;ri<Br;ri++)this.words[ri]=0;this.length+=Br}return this.strip()},Ie.prototype.ishln=function(H){return Te(this.negative===0),this.iushln(H)},Ie.prototype.iushrn=function(H,X,Br){Te(typeof H=="number"&&H>=0);var Wr;X?Wr=(X-X%26)/26:Wr=0;var ri=H%26,ii=Math.min((H-ri)/26,this.length),oi=67108863^67108863>>>ri<<ri,ei=Br;if(Wr-=ii,Wr=Math.max(0,Wr),ei){for(var Y=0;Y<ii;Y++)ei.words[Y]=this.words[Y];ei.length=ii}if(ii!==0)if(this.length>ii)for(this.length-=ii,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+ii];else this.words[0]=0,this.length=1;var Xr=0;for(Y=this.length-1;Y>=0&&(Xr!==0||Y>=Wr);Y--){var on=this.words[Y]|0;this.words[Y]=Xr<<26-ri|on>>>ri,Xr=on&oi}return ei&&Xr!==0&&(ei.words[ei.length++]=Xr),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ie.prototype.ishrn=function(H,X,Br){return Te(this.negative===0),this.iushrn(H,X,Br)},Ie.prototype.shln=function(H){return this.clone().ishln(H)},Ie.prototype.ushln=function(H){return this.clone().iushln(H)},Ie.prototype.shrn=function(H){return this.clone().ishrn(H)},Ie.prototype.ushrn=function(H){return this.clone().iushrn(H)},Ie.prototype.testn=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26,Wr=1<<X;if(this.length<=Br)return!1;var ri=this.words[Br];return!!(ri&Wr)},Ie.prototype.imaskn=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26;if(Te(this.negative===0,"imaskn works only with positive numbers"),this.length<=Br)return this;if(X!==0&&Br++,this.length=Math.min(Br,this.length),X!==0){var Wr=67108863^67108863>>>X<<X;this.words[this.length-1]&=Wr}return this.strip()},Ie.prototype.maskn=function(H){return this.clone().imaskn(H)},Ie.prototype.iaddn=function(H){return Te(typeof H=="number"),Te(H<67108864),H<0?this.isubn(-H):this.negative!==0?this.length===1&&(this.words[0]|0)<H?(this.words[0]=H-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(H),this.negative=1,this):this._iaddn(H)},Ie.prototype._iaddn=function(H){this.words[0]+=H;for(var X=0;X<this.length&&this.words[X]>=67108864;X++)this.words[X]-=67108864,X===this.length-1?this.words[X+1]=1:this.words[X+1]++;return this.length=Math.max(this.length,X+1),this},Ie.prototype.isubn=function(H){if(Te(typeof H=="number"),Te(H<67108864),H<0)return this.iaddn(-H);if(this.negative!==0)return this.negative=0,this.iaddn(H),this.negative=1,this;if(this.words[0]-=H,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var X=0;X<this.length&&this.words[X]<0;X++)this.words[X]+=67108864,this.words[X+1]-=1;return this.strip()},Ie.prototype.addn=function(H){return this.clone().iaddn(H)},Ie.prototype.subn=function(H){return this.clone().isubn(H)},Ie.prototype.iabs=function(){return this.negative=0,this},Ie.prototype.abs=function(){return this.clone().iabs()},Ie.prototype._ishlnsubmul=function(H,X,Br){var Wr=H.length+Br,ri;this._expand(Wr);var ii,oi=0;for(ri=0;ri<H.length;ri++){ii=(this.words[ri+Br]|0)+oi;var ei=(H.words[ri]|0)*X;ii-=ei&67108863,oi=(ii>>26)-(ei/67108864|0),this.words[ri+Br]=ii&67108863}for(;ri<this.length-Br;ri++)ii=(this.words[ri+Br]|0)+oi,oi=ii>>26,this.words[ri+Br]=ii&67108863;if(oi===0)return this.strip();for(Te(oi===-1),oi=0,ri=0;ri<this.length;ri++)ii=-(this.words[ri]|0)+oi,oi=ii>>26,this.words[ri]=ii&67108863;return this.negative=1,this.strip()},Ie.prototype._wordDiv=function(H,X){var Br=this.length-H.length,Wr=this.clone(),ri=H,ii=ri.words[ri.length-1]|0,oi=this._countBits(ii);Br=26-oi,Br!==0&&(ri=ri.ushln(Br),Wr.iushln(Br),ii=ri.words[ri.length-1]|0);var ei=Wr.length-ri.length,Y;if(X!=="mod"){Y=new Ie(null),Y.length=ei+1,Y.words=new Array(Y.length);for(var Xr=0;Xr<Y.length;Xr++)Y.words[Xr]=0}var on=Wr.clone()._ishlnsubmul(ri,1,ei);on.negative===0&&(Wr=on,Y&&(Y.words[ei]=1));for(var Mn=ei-1;Mn>=0;Mn--){var Bn=(Wr.words[ri.length+Mn]|0)*67108864+(Wr.words[ri.length+Mn-1]|0);for(Bn=Math.min(Bn/ii|0,67108863),Wr._ishlnsubmul(ri,Bn,Mn);Wr.negative!==0;)Bn--,Wr.negative=0,Wr._ishlnsubmul(ri,1,Mn),Wr.isZero()||(Wr.negative^=1);Y&&(Y.words[Mn]=Bn)}return Y&&Y.strip(),Wr.strip(),X!=="div"&&Br!==0&&Wr.iushrn(Br),{div:Y||null,mod:Wr}},Ie.prototype.divmod=function(H,X,Br){if(Te(!H.isZero()),this.isZero())return{div:new Ie(0),mod:new Ie(0)};var Wr,ri,ii;return this.negative!==0&&H.negative===0?(ii=this.neg().divmod(H,X),X!=="mod"&&(Wr=ii.div.neg()),X!=="div"&&(ri=ii.mod.neg(),Br&&ri.negative!==0&&ri.iadd(H)),{div:Wr,mod:ri}):this.negative===0&&H.negative!==0?(ii=this.divmod(H.neg(),X),X!=="mod"&&(Wr=ii.div.neg()),{div:Wr,mod:ii.mod}):this.negative&H.negative?(ii=this.neg().divmod(H.neg(),X),X!=="div"&&(ri=ii.mod.neg(),Br&&ri.negative!==0&&ri.isub(H)),{div:ii.div,mod:ri}):H.length>this.length||this.cmp(H)<0?{div:new Ie(0),mod:this}:H.length===1?X==="div"?{div:this.divn(H.words[0]),mod:null}:X==="mod"?{div:null,mod:new Ie(this.modn(H.words[0]))}:{div:this.divn(H.words[0]),mod:new Ie(this.modn(H.words[0]))}:this._wordDiv(H,X)},Ie.prototype.div=function(H){return this.divmod(H,"div",!1).div},Ie.prototype.mod=function(H){return this.divmod(H,"mod",!1).mod},Ie.prototype.umod=function(H){return this.divmod(H,"mod",!0).mod},Ie.prototype.divRound=function(H){var X=this.divmod(H);if(X.mod.isZero())return X.div;var Br=X.div.negative!==0?X.mod.isub(H):X.mod,Wr=H.ushrn(1),ri=H.andln(1),ii=Br.cmp(Wr);return ii<0||ri===1&&ii===0?X.div:X.div.negative!==0?X.div.isubn(1):X.div.iaddn(1)},Ie.prototype.modn=function(H){Te(H<=67108863);for(var X=(1<<26)%H,Br=0,Wr=this.length-1;Wr>=0;Wr--)Br=(X*Br+(this.words[Wr]|0))%H;return Br},Ie.prototype.idivn=function(H){Te(H<=67108863);for(var X=0,Br=this.length-1;Br>=0;Br--){var Wr=(this.words[Br]|0)+X*67108864;this.words[Br]=Wr/H|0,X=Wr%H}return this.strip()},Ie.prototype.divn=function(H){return this.clone().idivn(H)},Ie.prototype.egcd=function(H){Te(H.negative===0),Te(!H.isZero());var X=this,Br=H.clone();X.negative!==0?X=X.umod(H):X=X.clone();for(var Wr=new Ie(1),ri=new Ie(0),ii=new Ie(0),oi=new Ie(1),ei=0;X.isEven()&&Br.isEven();)X.iushrn(1),Br.iushrn(1),++ei;for(var Y=Br.clone(),Xr=X.clone();!X.isZero();){for(var on=0,Mn=1;!(X.words[0]&Mn)&&on<26;++on,Mn<<=1);if(on>0)for(X.iushrn(on);on-- >0;)(Wr.isOdd()||ri.isOdd())&&(Wr.iadd(Y),ri.isub(Xr)),Wr.iushrn(1),ri.iushrn(1);for(var Bn=0,fn=1;!(Br.words[0]&fn)&&Bn<26;++Bn,fn<<=1);if(Bn>0)for(Br.iushrn(Bn);Bn-- >0;)(ii.isOdd()||oi.isOdd())&&(ii.iadd(Y),oi.isub(Xr)),ii.iushrn(1),oi.iushrn(1);X.cmp(Br)>=0?(X.isub(Br),Wr.isub(ii),ri.isub(oi)):(Br.isub(X),ii.isub(Wr),oi.isub(ri))}return{a:ii,b:oi,gcd:Br.iushln(ei)}},Ie.prototype._invmp=function(H){Te(H.negative===0),Te(!H.isZero());var X=this,Br=H.clone();X.negative!==0?X=X.umod(H):X=X.clone();for(var Wr=new Ie(1),ri=new Ie(0),ii=Br.clone();X.cmpn(1)>0&&Br.cmpn(1)>0;){for(var oi=0,ei=1;!(X.words[0]&ei)&&oi<26;++oi,ei<<=1);if(oi>0)for(X.iushrn(oi);oi-- >0;)Wr.isOdd()&&Wr.iadd(ii),Wr.iushrn(1);for(var Y=0,Xr=1;!(Br.words[0]&Xr)&&Y<26;++Y,Xr<<=1);if(Y>0)for(Br.iushrn(Y);Y-- >0;)ri.isOdd()&&ri.iadd(ii),ri.iushrn(1);X.cmp(Br)>=0?(X.isub(Br),Wr.isub(ri)):(Br.isub(X),ri.isub(Wr))}var on;return X.cmpn(1)===0?on=Wr:on=ri,on.cmpn(0)<0&&on.iadd(H),on},Ie.prototype.gcd=function(H){if(this.isZero())return H.abs();if(H.isZero())return this.abs();var X=this.clone(),Br=H.clone();X.negative=0,Br.negative=0;for(var Wr=0;X.isEven()&&Br.isEven();Wr++)X.iushrn(1),Br.iushrn(1);do{for(;X.isEven();)X.iushrn(1);for(;Br.isEven();)Br.iushrn(1);var ri=X.cmp(Br);if(ri<0){var ii=X;X=Br,Br=ii}else if(ri===0||Br.cmpn(1)===0)break;X.isub(Br)}while(!0);return Br.iushln(Wr)},Ie.prototype.invm=function(H){return this.egcd(H).a.umod(H)},Ie.prototype.isEven=function(){return(this.words[0]&1)===0},Ie.prototype.isOdd=function(){return(this.words[0]&1)===1},Ie.prototype.andln=function(H){return this.words[0]&H},Ie.prototype.bincn=function(H){Te(typeof H=="number");var X=H%26,Br=(H-X)/26,Wr=1<<X;if(this.length<=Br)return this._expand(Br+1),this.words[Br]|=Wr,this;for(var ri=Wr,ii=Br;ri!==0&&ii<this.length;ii++){var oi=this.words[ii]|0;oi+=ri,ri=oi>>>26,oi&=67108863,this.words[ii]=oi}return ri!==0&&(this.words[ii]=ri,this.length++),this},Ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ie.prototype.cmpn=function(H){var X=H<0;if(this.negative!==0&&!X)return-1;if(this.negative===0&&X)return 1;this.strip();var Br;if(this.length>1)Br=1;else{X&&(H=-H),Te(H<=67108863,"Number is too big");var Wr=this.words[0]|0;Br=Wr===H?0:Wr<H?-1:1}return this.negative!==0?-Br|0:Br},Ie.prototype.cmp=function(H){if(this.negative!==0&&H.negative===0)return-1;if(this.negative===0&&H.negative!==0)return 1;var X=this.ucmp(H);return this.negative!==0?-X|0:X},Ie.prototype.ucmp=function(H){if(this.length>H.length)return 1;if(this.length<H.length)return-1;for(var X=0,Br=this.length-1;Br>=0;Br--){var Wr=this.words[Br]|0,ri=H.words[Br]|0;if(Wr!==ri){Wr<ri?X=-1:Wr>ri&&(X=1);break}}return X},Ie.prototype.gtn=function(H){return this.cmpn(H)===1},Ie.prototype.gt=function(H){return this.cmp(H)===1},Ie.prototype.gten=function(H){return this.cmpn(H)>=0},Ie.prototype.gte=function(H){return this.cmp(H)>=0},Ie.prototype.ltn=function(H){return this.cmpn(H)===-1},Ie.prototype.lt=function(H){return this.cmp(H)===-1},Ie.prototype.lten=function(H){return this.cmpn(H)<=0},Ie.prototype.lte=function(H){return this.cmp(H)<=0},Ie.prototype.eqn=function(H){return this.cmpn(H)===0},Ie.prototype.eq=function(H){return this.cmp(H)===0},Ie.red=function(H){return new Do(H)},Ie.prototype.toRed=function(H){return Te(!this.red,"Already a number in reduction context"),Te(this.negative===0,"red works only with positives"),H.convertTo(this)._forceRed(H)},Ie.prototype.fromRed=function(){return Te(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ie.prototype._forceRed=function(H){return this.red=H,this},Ie.prototype.forceRed=function(H){return Te(!this.red,"Already a number in reduction context"),this._forceRed(H)},Ie.prototype.redAdd=function(H){return Te(this.red,"redAdd works only with red numbers"),this.red.add(this,H)},Ie.prototype.redIAdd=function(H){return Te(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,H)},Ie.prototype.redSub=function(H){return Te(this.red,"redSub works only with red numbers"),this.red.sub(this,H)},Ie.prototype.redISub=function(H){return Te(this.red,"redISub works only with red numbers"),this.red.isub(this,H)},Ie.prototype.redShl=function(H){return Te(this.red,"redShl works only with red numbers"),this.red.shl(this,H)},Ie.prototype.redMul=function(H){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.mul(this,H)},Ie.prototype.redIMul=function(H){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.imul(this,H)},Ie.prototype.redSqr=function(){return Te(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ie.prototype.redISqr=function(){return Te(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ie.prototype.redSqrt=function(){return Te(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ie.prototype.redInvm=function(){return Te(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ie.prototype.redNeg=function(){return Te(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ie.prototype.redPow=function(H){return Te(this.red&&!H.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,H)};var Rn={k256:null,p224:null,p192:null,p25519:null};function vn(ui,H){this.name=ui,this.p=new Ie(H,16),this.n=this.p.bitLength(),this.k=new Ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}vn.prototype._tmp=function(){var H=new Ie(null);return H.words=new Array(Math.ceil(this.n/13)),H},vn.prototype.ireduce=function(H){var X=H,Br;do this.split(X,this.tmp),X=this.imulK(X),X=X.iadd(this.tmp),Br=X.bitLength();while(Br>this.n);var Wr=Br<this.n?-1:X.ucmp(this.p);return Wr===0?(X.words[0]=0,X.length=1):Wr>0?X.isub(this.p):X.strip!==void 0?X.strip():X._strip(),X},vn.prototype.split=function(H,X){H.iushrn(this.n,0,X)},vn.prototype.imulK=function(H){return H.imul(this.k)};function Cn(){vn.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Zr(Cn,vn),Cn.prototype.split=function(H,X){for(var Br=4194303,Wr=Math.min(H.length,9),ri=0;ri<Wr;ri++)X.words[ri]=H.words[ri];if(X.length=Wr,H.length<=9){H.words[0]=0,H.length=1;return}var ii=H.words[9];for(X.words[X.length++]=ii&Br,ri=10;ri<H.length;ri++){var oi=H.words[ri]|0;H.words[ri-10]=(oi&Br)<<4|ii>>>22,ii=oi}ii>>>=22,H.words[ri-10]=ii,ii===0&&H.length>10?H.length-=10:H.length-=9},Cn.prototype.imulK=function(H){H.words[H.length]=0,H.words[H.length+1]=0,H.length+=2;for(var X=0,Br=0;Br<H.length;Br++){var Wr=H.words[Br]|0;X+=Wr*977,H.words[Br]=X&67108863,X=Wr*64+(X/67108864|0)}return H.words[H.length-1]===0&&(H.length--,H.words[H.length-1]===0&&H.length--),H};function ho(){vn.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Zr(ho,vn);function hn(){vn.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Zr(hn,vn);function Zn(){vn.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Zr(Zn,vn),Zn.prototype.imulK=function(H){for(var X=0,Br=0;Br<H.length;Br++){var Wr=(H.words[Br]|0)*19+X,ri=Wr&67108863;Wr>>>=26,H.words[Br]=ri,X=Wr}return X!==0&&(H.words[H.length++]=X),H},Ie._prime=function(H){if(Rn[H])return Rn[H];var X;if(H==="k256")X=new Cn;else if(H==="p224")X=new ho;else if(H==="p192")X=new hn;else if(H==="p25519")X=new Zn;else throw new Error("Unknown prime "+H);return Rn[H]=X,X};function Do(ui){if(typeof ui=="string"){var H=Ie._prime(ui);this.m=H.p,this.prime=H}else Te(ui.gtn(1),"modulus must be greater than 1"),this.m=ui,this.prime=null}Do.prototype._verify1=function(H){Te(H.negative===0,"red works only with positives"),Te(H.red,"red works only with red numbers")},Do.prototype._verify2=function(H,X){Te((H.negative|X.negative)===0,"red works only with positives"),Te(H.red&&H.red===X.red,"red works only with red numbers")},Do.prototype.imod=function(H){return this.prime?this.prime.ireduce(H)._forceRed(this):H.umod(this.m)._forceRed(this)},Do.prototype.neg=function(H){return H.isZero()?H.clone():this.m.sub(H)._forceRed(this)},Do.prototype.add=function(H,X){this._verify2(H,X);var Br=H.add(X);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br._forceRed(this)},Do.prototype.iadd=function(H,X){this._verify2(H,X);var Br=H.iadd(X);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br},Do.prototype.sub=function(H,X){this._verify2(H,X);var Br=H.sub(X);return Br.cmpn(0)<0&&Br.iadd(this.m),Br._forceRed(this)},Do.prototype.isub=function(H,X){this._verify2(H,X);var Br=H.isub(X);return Br.cmpn(0)<0&&Br.iadd(this.m),Br},Do.prototype.shl=function(H,X){return this._verify1(H),this.imod(H.ushln(X))},Do.prototype.imul=function(H,X){return this._verify2(H,X),this.imod(H.imul(X))},Do.prototype.mul=function(H,X){return this._verify2(H,X),this.imod(H.mul(X))},Do.prototype.isqr=function(H){return this.imul(H,H.clone())},Do.prototype.sqr=function(H){return this.mul(H,H)},Do.prototype.sqrt=function(H){if(H.isZero())return H.clone();var X=this.m.andln(3);if(Te(X%2===1),X===3){var Br=this.m.add(new Ie(1)).iushrn(2);return this.pow(H,Br)}for(var Wr=this.m.subn(1),ri=0;!Wr.isZero()&&Wr.andln(1)===0;)ri++,Wr.iushrn(1);Te(!Wr.isZero());var ii=new Ie(1).toRed(this),oi=ii.redNeg(),ei=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new Ie(2*Y*Y).toRed(this);this.pow(Y,ei).cmp(oi)!==0;)Y.redIAdd(oi);for(var Xr=this.pow(Y,Wr),on=this.pow(H,Wr.addn(1).iushrn(1)),Mn=this.pow(H,Wr),Bn=ri;Mn.cmp(ii)!==0;){for(var fn=Mn,uo=0;fn.cmp(ii)!==0;uo++)fn=fn.redSqr();Te(uo<Bn);var un=this.pow(Xr,new Ie(1).iushln(Bn-uo-1));on=on.redMul(un),Xr=un.redSqr(),Mn=Mn.redMul(Xr),Bn=uo}return on},Do.prototype.invm=function(H){var X=H._invmp(this.m);return X.negative!==0?(X.negative=0,this.imod(X).redNeg()):this.imod(X)},Do.prototype.pow=function(H,X){if(X.isZero())return new Ie(1).toRed(this);if(X.cmpn(1)===0)return H.clone();var Br=4,Wr=new Array(1<<Br);Wr[0]=new Ie(1).toRed(this),Wr[1]=H;for(var ri=2;ri<Wr.length;ri++)Wr[ri]=this.mul(Wr[ri-1],H);var ii=Wr[0],oi=0,ei=0,Y=X.bitLength()%26;for(Y===0&&(Y=26),ri=X.length-1;ri>=0;ri--){for(var Xr=X.words[ri],on=Y-1;on>=0;on--){var Mn=Xr>>on&1;if(ii!==Wr[0]&&(ii=this.sqr(ii)),Mn===0&&oi===0){ei=0;continue}oi<<=1,oi|=Mn,ei++,!(ei!==Br&&(ri!==0||on!==0))&&(ii=this.mul(ii,Wr[oi]),ei=0,oi=0)}Y=26}return ii},Do.prototype.convertTo=function(H){var X=H.umod(this.m);return X===H?X.clone():X},Do.prototype.convertFrom=function(H){var X=H.clone();return X.red=null,X},Ie.mont=function(H){return new Yo(H)};function Yo(ui){Do.call(this,ui),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Zr(Yo,Do),Yo.prototype.convertTo=function(H){return this.imod(H.ushln(this.shift))},Yo.prototype.convertFrom=function(H){var X=this.imod(H.mul(this.rinv));return X.red=null,X},Yo.prototype.imul=function(H,X){if(H.isZero()||X.isZero())return H.words[0]=0,H.length=1,H;var Br=H.imul(X),Wr=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ri=Br.isub(Wr).iushrn(this.shift),ii=ri;return ri.cmp(this.m)>=0?ii=ri.isub(this.m):ri.cmpn(0)<0&&(ii=ri.iadd(this.m)),ii._forceRed(this)},Yo.prototype.mul=function(H,X){if(H.isZero()||X.isZero())return new Ie(0)._forceRed(this);var Br=H.mul(X),Wr=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ri=Br.isub(Wr).iushrn(this.shift),ii=ri;return ri.cmp(this.m)>=0?ii=ri.isub(this.m):ri.cmpn(0)<0&&(ii=ri.iadd(this.m)),ii._forceRed(this)},Yo.prototype.invm=function(H){var X=this.imod(H._invmp(this.m).mul(this.r2));return X._forceRed(this)}})(te,commonjsGlobal)}(bn$3)),bn$3.exports}var api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(te,t){if(te.indexOf)return te.indexOf(t);for(var G=0;G<te.length;G++)if(te[G]===t)return G;return-1},Object_keys=function(te){if(Object.keys)return Object.keys(te);var t=[];for(var G in te)t.push(G);return t},forEach=function(te,t){if(te.forEach)return te.forEach(t);for(var G=0;G<te.length;G++)t(te[G],G,te)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(te,t,G){Object.defineProperty(te,t,{writable:!0,enumerable:!1,configurable:!0,value:G})}}catch{return function(t,G,Te){t[G]=Te}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(te){if(!(te instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var G=t.contentWindow,Te=G.eval,Zr=G.execScript;!Te&&Zr&&(Zr.call(G,"null"),Te=G.eval),forEach(Object_keys(te),function(fi){G[fi]=te[fi]}),forEach(globals,function(fi){te[fi]&&(G[fi]=te[fi])});var Ie=Object_keys(G),ni=Te.call(G,this.code);return forEach(Object_keys(G),function(fi){(fi in te||indexOf(Ie,fi)===-1)&&(te[fi]=G[fi])}),forEach(globals,function(fi){fi in te||defineProp(te,fi,G[fi])}),document.body.removeChild(t),ni},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(te){var t=Script.createContext(te),G=this.runInContext(t);return te&&forEach(Object_keys(t),function(Te){te[Te]=t[Te]}),G},forEach(Object_keys(Script.prototype),function(te){exports[te]=Script[te]=function(t){var G=Script(t);return G[te].apply(G,[].slice.call(arguments,1))}}),exports.isContext=function(te){return te instanceof Context},exports.createScript=function(te){return exports.Script(te)},exports.createContext=Script.createContext=function(te){var t=new Context;return typeof te=="object"&&forEach(Object_keys(te),function(G){t[G]=te[G]}),t}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(te){var t=requireAsn1$1(),G=inherits_browserExports,Te=te;Te.define=function(ni,fi){return new Zr(ni,fi)};function Zr(Ie,ni){this.name=Ie,this.body=ni,this.decoders={},this.encoders={}}Zr.prototype._createNamed=function(ni){var fi;try{fi=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{fi=function(ai){this._initNamed(ai)}}return G(fi,ni),fi.prototype._initNamed=function(ai){ni.call(this,ai)},new fi(this)},Zr.prototype._getDecoder=function(ni){return ni=ni||"der",this.decoders.hasOwnProperty(ni)||(this.decoders[ni]=this._createNamed(t.decoders[ni])),this.decoders[ni]},Zr.prototype.decode=function(ni,fi,ci){return this._getDecoder(fi).decode(ni,ci)},Zr.prototype._getEncoder=function(ni){return ni=ni||"der",this.encoders.hasOwnProperty(ni)||(this.encoders[ni]=this._createNamed(t.encoders[ni])),this.encoders[ni]},Zr.prototype.encode=function(ni,fi,ci){return this._getEncoder(fi).encode(ni,ci)}}(api)),api}var base$1={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var te=inherits_browserExports;function t(Te){this._reporterState={obj:null,path:[],options:Te||{},errors:[]}}reporter.Reporter=t,t.prototype.isError=function(Zr){return Zr instanceof G},t.prototype.save=function(){var Zr=this._reporterState;return{obj:Zr.obj,pathLen:Zr.path.length}},t.prototype.restore=function(Zr){var Ie=this._reporterState;Ie.obj=Zr.obj,Ie.path=Ie.path.slice(0,Zr.pathLen)},t.prototype.enterKey=function(Zr){return this._reporterState.path.push(Zr)},t.prototype.exitKey=function(Zr){var Ie=this._reporterState;Ie.path=Ie.path.slice(0,Zr-1)},t.prototype.leaveKey=function(Zr,Ie,ni){var fi=this._reporterState;this.exitKey(Zr),fi.obj!==null&&(fi.obj[Ie]=ni)},t.prototype.path=function(){return this._reporterState.path.join("/")},t.prototype.enterObject=function(){var Zr=this._reporterState,Ie=Zr.obj;return Zr.obj={},Ie},t.prototype.leaveObject=function(Zr){var Ie=this._reporterState,ni=Ie.obj;return Ie.obj=Zr,ni},t.prototype.error=function(Zr){var Ie,ni=this._reporterState,fi=Zr instanceof G;if(fi?Ie=Zr:Ie=new G(ni.path.map(function(ci){return"["+JSON.stringify(ci)+"]"}).join(""),Zr.message||Zr,Zr.stack),!ni.options.partial)throw Ie;return fi||ni.errors.push(Ie),Ie},t.prototype.wrapResult=function(Zr){var Ie=this._reporterState;return Ie.options.partial?{result:this.isError(Zr)?null:Zr,errors:Ie.errors}:Zr};function G(Te,Zr){this.path=Te,this.rethrow(Zr)}return te(G,Error),G.prototype.rethrow=function(Zr){if(this.message=Zr+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,G),!this.stack)try{throw new Error(this.message)}catch(Ie){this.stack=Ie.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var te=inherits_browserExports,t=requireBase().Reporter,G=require$$0$3.Buffer;function Te(Ie,ni){if(t.call(this,ni),!G.isBuffer(Ie)){this.error("Input not Buffer");return}this.base=Ie,this.offset=0,this.length=Ie.length}te(Te,t),buffer.DecoderBuffer=Te,Te.prototype.save=function(){return{offset:this.offset,reporter:t.prototype.save.call(this)}},Te.prototype.restore=function(ni){var fi=new Te(this.base);return fi.offset=ni.offset,fi.length=this.offset,this.offset=ni.offset,t.prototype.restore.call(this,ni.reporter),fi},Te.prototype.isEmpty=function(){return this.offset===this.length},Te.prototype.readUInt8=function(ni){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(ni||"DecoderBuffer overrun")},Te.prototype.skip=function(ni,fi){if(!(this.offset+ni<=this.length))return this.error(fi||"DecoderBuffer overrun");var ci=new Te(this.base);return ci._reporterState=this._reporterState,ci.offset=this.offset,ci.length=this.offset+ni,this.offset+=ni,ci},Te.prototype.raw=function(ni){return this.base.slice(ni?ni.offset:this.offset,this.length)};function Zr(Ie,ni){if(Array.isArray(Ie))this.length=0,this.value=Ie.map(function(fi){return fi instanceof Zr||(fi=new Zr(fi,ni)),this.length+=fi.length,fi},this);else if(typeof Ie=="number"){if(!(0<=Ie&&Ie<=255))return ni.error("non-byte EncoderBuffer value");this.value=Ie,this.length=1}else if(typeof Ie=="string")this.value=Ie,this.length=G.byteLength(Ie);else if(G.isBuffer(Ie))this.value=Ie,this.length=Ie.length;else return ni.error("Unsupported type: "+typeof Ie)}return buffer.EncoderBuffer=Zr,Zr.prototype.join=function(ni,fi){return ni||(ni=new G(this.length)),fi||(fi=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(ci){ci.join(ni,fi),fi+=ci.length}):(typeof this.value=="number"?ni[fi]=this.value:typeof this.value=="string"?ni.write(this.value,fi):G.isBuffer(this.value)&&this.value.copy(ni,fi),fi+=this.length)),ni},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var te=requireBase().Reporter,t=requireBase().EncoderBuffer,G=requireBase().DecoderBuffer,Te=requireMinimalisticAssert(),Zr=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],Ie=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Zr),ni=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function fi(ai,si){var li={};this._baseState=li,li.enc=ai,li.parent=si||null,li.children=null,li.tag=null,li.args=null,li.reverseArgs=null,li.choice=null,li.optional=!1,li.any=!1,li.obj=!1,li.use=null,li.useDecoder=null,li.key=null,li.default=null,li.explicit=null,li.implicit=null,li.contains=null,li.parent||(li.children=[],this._wrap())}node=fi;var ci=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return fi.prototype.clone=function(){var si=this._baseState,li={};ci.forEach(function(di){li[di]=si[di]});var mi=new this.constructor(li.parent);return mi._baseState=li,mi},fi.prototype._wrap=function(){var si=this._baseState;Ie.forEach(function(li){this[li]=function(){var di=new this.constructor(this);return si.children.push(di),di[li].apply(di,arguments)}},this)},fi.prototype._init=function(si){var li=this._baseState;Te(li.parent===null),si.call(this),li.children=li.children.filter(function(mi){return mi._baseState.parent===this},this),Te.equal(li.children.length,1,"Root node can have only one child")},fi.prototype._useArgs=function(si){var li=this._baseState,mi=si.filter(function(di){return di instanceof this.constructor},this);si=si.filter(function(di){return!(di instanceof this.constructor)},this),mi.length!==0&&(Te(li.children===null),li.children=mi,mi.forEach(function(di){di._baseState.parent=this},this)),si.length!==0&&(Te(li.args===null),li.args=si,li.reverseArgs=si.map(function(di){if(typeof di!="object"||di.constructor!==Object)return di;var $i={};return Object.keys(di).forEach(function(sn){sn==(sn|0)&&(sn|=0);var ln=di[sn];$i[ln]=sn}),$i}))},ni.forEach(function(ai){fi.prototype[ai]=function(){var li=this._baseState;throw new Error(ai+" not implemented for encoding: "+li.enc)}}),Zr.forEach(function(ai){fi.prototype[ai]=function(){var li=this._baseState,mi=Array.prototype.slice.call(arguments);return Te(li.tag===null),li.tag=ai,this._useArgs(mi),this}}),fi.prototype.use=function(si){Te(si);var li=this._baseState;return Te(li.use===null),li.use=si,this},fi.prototype.optional=function(){var si=this._baseState;return si.optional=!0,this},fi.prototype.def=function(si){var li=this._baseState;return Te(li.default===null),li.default=si,li.optional=!0,this},fi.prototype.explicit=function(si){var li=this._baseState;return Te(li.explicit===null&&li.implicit===null),li.explicit=si,this},fi.prototype.implicit=function(si){var li=this._baseState;return Te(li.explicit===null&&li.implicit===null),li.implicit=si,this},fi.prototype.obj=function(){var si=this._baseState,li=Array.prototype.slice.call(arguments);return si.obj=!0,li.length!==0&&this._useArgs(li),this},fi.prototype.key=function(si){var li=this._baseState;return Te(li.key===null),li.key=si,this},fi.prototype.any=function(){var si=this._baseState;return si.any=!0,this},fi.prototype.choice=function(si){var li=this._baseState;return Te(li.choice===null),li.choice=si,this._useArgs(Object.keys(si).map(function(mi){return si[mi]})),this},fi.prototype.contains=function(si){var li=this._baseState;return Te(li.use===null),li.contains=si,this},fi.prototype._decode=function(si,li){var mi=this._baseState;if(mi.parent===null)return si.wrapResult(mi.children[0]._decode(si,li));var di=mi.default,$i=!0,sn=null;if(mi.key!==null&&(sn=si.enterKey(mi.key)),mi.optional){var ln=null;if(mi.explicit!==null?ln=mi.explicit:mi.implicit!==null?ln=mi.implicit:mi.tag!==null&&(ln=mi.tag),ln===null&&!mi.any){var mn=si.save();try{mi.choice===null?this._decodeGeneric(mi.tag,si,li):this._decodeChoice(si,li),$i=!0}catch{$i=!1}si.restore(mn)}else if($i=this._peekTag(si,ln,mi.any),si.isError($i))return $i}var cn;if(mi.obj&&$i&&(cn=si.enterObject()),$i){if(mi.explicit!==null){var Rn=this._decodeTag(si,mi.explicit);if(si.isError(Rn))return Rn;si=Rn}var vn=si.offset;if(mi.use===null&&mi.choice===null){if(mi.any)var mn=si.save();var Cn=this._decodeTag(si,mi.implicit!==null?mi.implicit:mi.tag,mi.any);if(si.isError(Cn))return Cn;mi.any?di=si.raw(mn):si=Cn}if(li&&li.track&&mi.tag!==null&&li.track(si.path(),vn,si.length,"tagged"),li&&li.track&&mi.tag!==null&&li.track(si.path(),si.offset,si.length,"content"),mi.any?di=di:mi.choice===null?di=this._decodeGeneric(mi.tag,si,li):di=this._decodeChoice(si,li),si.isError(di))return di;if(!mi.any&&mi.choice===null&&mi.children!==null&&mi.children.forEach(function(Zn){Zn._decode(si,li)}),mi.contains&&(mi.tag==="octstr"||mi.tag==="bitstr")){var ho=new G(di);di=this._getUse(mi.contains,si._reporterState.obj)._decode(ho,li)}}return mi.obj&&$i&&(di=si.leaveObject(cn)),mi.key!==null&&(di!==null||$i===!0)?si.leaveKey(sn,mi.key,di):sn!==null&&si.exitKey(sn),di},fi.prototype._decodeGeneric=function(si,li,mi){var di=this._baseState;return si==="seq"||si==="set"?null:si==="seqof"||si==="setof"?this._decodeList(li,si,di.args[0],mi):/str$/.test(si)?this._decodeStr(li,si,mi):si==="objid"&&di.args?this._decodeObjid(li,di.args[0],di.args[1],mi):si==="objid"?this._decodeObjid(li,null,null,mi):si==="gentime"||si==="utctime"?this._decodeTime(li,si,mi):si==="null_"?this._decodeNull(li,mi):si==="bool"?this._decodeBool(li,mi):si==="objDesc"?this._decodeStr(li,si,mi):si==="int"||si==="enum"?this._decodeInt(li,di.args&&di.args[0],mi):di.use!==null?this._getUse(di.use,li._reporterState.obj)._decode(li,mi):li.error("unknown tag: "+si)},fi.prototype._getUse=function(si,li){var mi=this._baseState;return mi.useDecoder=this._use(si,li),Te(mi.useDecoder._baseState.parent===null),mi.useDecoder=mi.useDecoder._baseState.children[0],mi.implicit!==mi.useDecoder._baseState.implicit&&(mi.useDecoder=mi.useDecoder.clone(),mi.useDecoder._baseState.implicit=mi.implicit),mi.useDecoder},fi.prototype._decodeChoice=function(si,li){var mi=this._baseState,di=null,$i=!1;return Object.keys(mi.choice).some(function(sn){var ln=si.save(),mn=mi.choice[sn];try{var cn=mn._decode(si,li);if(si.isError(cn))return!1;di={type:sn,value:cn},$i=!0}catch{return si.restore(ln),!1}return!0},this),$i?di:si.error("Choice not matched")},fi.prototype._createEncoderBuffer=function(si){return new t(si,this.reporter)},fi.prototype._encode=function(si,li,mi){var di=this._baseState;if(!(di.default!==null&&di.default===si)){var $i=this._encodeValue(si,li,mi);if($i!==void 0&&!this._skipDefault($i,li,mi))return $i}},fi.prototype._encodeValue=function(si,li,mi){var di=this._baseState;if(di.parent===null)return di.children[0]._encode(si,li||new te);var mn=null;if(this.reporter=li,di.optional&&si===void 0)if(di.default!==null)si=di.default;else return;var $i=null,sn=!1;if(di.any)mn=this._createEncoderBuffer(si);else if(di.choice)mn=this._encodeChoice(si,li);else if(di.contains)$i=this._getUse(di.contains,mi)._encode(si,li),sn=!0;else if(di.children)$i=di.children.map(function(vn){if(vn._baseState.tag==="null_")return vn._encode(null,li,si);if(vn._baseState.key===null)return li.error("Child should have a key");var Cn=li.enterKey(vn._baseState.key);if(typeof si!="object")return li.error("Child expected, but input is not object");var ho=vn._encode(si[vn._baseState.key],li,si);return li.leaveKey(Cn),ho},this).filter(function(vn){return vn}),$i=this._createEncoderBuffer($i);else if(di.tag==="seqof"||di.tag==="setof"){if(!(di.args&&di.args.length===1))return li.error("Too many args for : "+di.tag);if(!Array.isArray(si))return li.error("seqof/setof, but data is not Array");var ln=this.clone();ln._baseState.implicit=null,$i=this._createEncoderBuffer(si.map(function(vn){var Cn=this._baseState;return this._getUse(Cn.args[0],si)._encode(vn,li)},ln))}else di.use!==null?mn=this._getUse(di.use,mi)._encode(si,li):($i=this._encodePrimitive(di.tag,si),sn=!0);var mn;if(!di.any&&di.choice===null){var cn=di.implicit!==null?di.implicit:di.tag,Rn=di.implicit===null?"universal":"context";cn===null?di.use===null&&li.error("Tag could be omitted only for .use()"):di.use===null&&(mn=this._encodeComposite(cn,sn,Rn,$i))}return di.explicit!==null&&(mn=this._encodeComposite(di.explicit,!1,"context",mn)),mn},fi.prototype._encodeChoice=function(si,li){var mi=this._baseState,di=mi.choice[si.type];return di||Te(!1,si.type+" not found in "+JSON.stringify(Object.keys(mi.choice))),di._encode(si.value,li)},fi.prototype._encodePrimitive=function(si,li){var mi=this._baseState;if(/str$/.test(si))return this._encodeStr(li,si);if(si==="objid"&&mi.args)return this._encodeObjid(li,mi.reverseArgs[0],mi.args[1]);if(si==="objid")return this._encodeObjid(li,null,null);if(si==="gentime"||si==="utctime")return this._encodeTime(li,si);if(si==="null_")return this._encodeNull();if(si==="int"||si==="enum")return this._encodeInt(li,mi.args&&mi.reverseArgs[0]);if(si==="bool")return this._encodeBool(li);if(si==="objDesc")return this._encodeStr(li,si);throw new Error("Unsupported tag: "+si)},fi.prototype._isNumstr=function(si){return/^[0-9 ]*$/.test(si)},fi.prototype._isPrintstr=function(si){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(si)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(te){var t=te;t.Reporter=requireReporter().Reporter,t.DecoderBuffer=requireBuffer().DecoderBuffer,t.EncoderBuffer=requireBuffer().EncoderBuffer,t.Node=requireNode()}(base$1)),base$1}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(te){var t=requireConstants();te.tagClass={0:"universal",1:"application",2:"context",3:"private"},te.tagClassByName=t._reverse(te.tagClass),te.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},te.tagByName=t._reverse(te.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(te){var t=te;t._reverse=function(Te){var Zr={};return Object.keys(Te).forEach(function(Ie){(Ie|0)==Ie&&(Ie=Ie|0);var ni=Te[Ie];Zr[ni]=Ie}),Zr},t.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var te=inherits_browserExports,t=requireAsn1$1(),G=t.base,Te=t.bignum,Zr=t.constants.der;function Ie(ai){this.enc="der",this.name=ai.name,this.entity=ai,this.tree=new ni,this.tree._init(ai.body)}der_1$1=Ie,Ie.prototype.decode=function(si,li){return si instanceof G.DecoderBuffer||(si=new G.DecoderBuffer(si,li)),this.tree._decode(si,li)};function ni(ai){G.Node.call(this,"der",ai)}te(ni,G.Node),ni.prototype._peekTag=function(si,li,mi){if(si.isEmpty())return!1;var di=si.save(),$i=fi(si,'Failed to peek tag: "'+li+'"');return si.isError($i)?$i:(si.restore(di),$i.tag===li||$i.tagStr===li||$i.tagStr+"of"===li||mi)},ni.prototype._decodeTag=function(si,li,mi){var di=fi(si,'Failed to decode tag of "'+li+'"');if(si.isError(di))return di;var $i=ci(si,di.primitive,'Failed to get length of "'+li+'"');if(si.isError($i))return $i;if(!mi&&di.tag!==li&&di.tagStr!==li&&di.tagStr+"of"!==li)return si.error('Failed to match tag: "'+li+'"');if(di.primitive||$i!==null)return si.skip($i,'Failed to match body of: "'+li+'"');var sn=si.save(),ln=this._skipUntilEnd(si,'Failed to skip indefinite length body: "'+this.tag+'"');return si.isError(ln)?ln:($i=si.offset-sn.offset,si.restore(sn),si.skip($i,'Failed to match body of: "'+li+'"'))},ni.prototype._skipUntilEnd=function(si,li){for(;;){var mi=fi(si,li);if(si.isError(mi))return mi;var di=ci(si,mi.primitive,li);if(si.isError(di))return di;var $i;if(mi.primitive||di!==null?$i=si.skip(di):$i=this._skipUntilEnd(si,li),si.isError($i))return $i;if(mi.tagStr==="end")break}},ni.prototype._decodeList=function(si,li,mi,di){for(var $i=[];!si.isEmpty();){var sn=this._peekTag(si,"end");if(si.isError(sn))return sn;var ln=mi.decode(si,"der",di);if(si.isError(ln)&&sn)break;$i.push(ln)}return $i},ni.prototype._decodeStr=function(si,li){if(li==="bitstr"){var mi=si.readUInt8();return si.isError(mi)?mi:{unused:mi,data:si.raw()}}else if(li==="bmpstr"){var di=si.raw();if(di.length%2===1)return si.error("Decoding of string type: bmpstr length mismatch");for(var $i="",sn=0;sn<di.length/2;sn++)$i+=String.fromCharCode(di.readUInt16BE(sn*2));return $i}else if(li==="numstr"){var ln=si.raw().toString("ascii");return this._isNumstr(ln)?ln:si.error("Decoding of string type: numstr unsupported characters")}else{if(li==="octstr")return si.raw();if(li==="objDesc")return si.raw();if(li==="printstr"){var mn=si.raw().toString("ascii");return this._isPrintstr(mn)?mn:si.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(li)?si.raw().toString():si.error("Decoding of string type: "+li+" unsupported")}},ni.prototype._decodeObjid=function(si,li,mi){for(var di,$i=[],sn=0;!si.isEmpty();){var ln=si.readUInt8();sn<<=7,sn|=ln&127,ln&128||($i.push(sn),sn=0)}ln&128&&$i.push(sn);var mn=$i[0]/40|0,cn=$i[0]%40;if(mi?di=$i:di=[mn,cn].concat($i.slice(1)),li){var Rn=li[di.join(" ")];Rn===void 0&&(Rn=li[di.join(".")]),Rn!==void 0&&(di=Rn)}return di},ni.prototype._decodeTime=function(si,li){var mi=si.raw().toString();if(li==="gentime")var di=mi.slice(0,4)|0,$i=mi.slice(4,6)|0,sn=mi.slice(6,8)|0,ln=mi.slice(8,10)|0,mn=mi.slice(10,12)|0,cn=mi.slice(12,14)|0;else if(li==="utctime"){var di=mi.slice(0,2)|0,$i=mi.slice(2,4)|0,sn=mi.slice(4,6)|0,ln=mi.slice(6,8)|0,mn=mi.slice(8,10)|0,cn=mi.slice(10,12)|0;di<70?di=2e3+di:di=1900+di}else return si.error("Decoding "+li+" time is not supported yet");return Date.UTC(di,$i-1,sn,ln,mn,cn,0)},ni.prototype._decodeNull=function(si){return null},ni.prototype._decodeBool=function(si){var li=si.readUInt8();return si.isError(li)?li:li!==0},ni.prototype._decodeInt=function(si,li){var mi=si.raw(),di=new Te(mi);return li&&(di=li[di.toString(10)]||di),di},ni.prototype._use=function(si,li){return typeof si=="function"&&(si=si(li)),si._getDecoder("der").tree};function fi(ai,si){var li=ai.readUInt8(si);if(ai.isError(li))return li;var mi=Zr.tagClass[li>>6],di=(li&32)===0;if((li&31)===31){var $i=li;for(li=0;($i&128)===128;){if($i=ai.readUInt8(si),ai.isError($i))return $i;li<<=7,li|=$i&127}}else li&=31;var sn=Zr.tag[li];return{cls:mi,primitive:di,tag:li,tagStr:sn}}function ci(ai,si,li){var mi=ai.readUInt8(li);if(ai.isError(mi))return mi;if(!si&&mi===128)return null;if(!(mi&128))return mi;var di=mi&127;if(di>4)return ai.error("length octect is too long");mi=0;for(var $i=0;$i<di;$i++){mi<<=8;var sn=ai.readUInt8(li);if(ai.isError(sn))return sn;mi|=sn}return mi}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var te=inherits_browserExports,t=require$$0$3.Buffer,G=requireDer$1();function Te(Zr){G.call(this,Zr),this.enc="pem"}return te(Te,G),pem$1=Te,Te.prototype.decode=function(Ie,ni){for(var fi=Ie.toString().split(/[\r\n]+/g),ci=ni.label.toUpperCase(),ai=/^-----(BEGIN|END) ([^-]+)-----$/,si=-1,li=-1,mi=0;mi<fi.length;mi++){var di=fi[mi].match(ai);if(di!==null&&di[2]===ci)if(si===-1){if(di[1]!=="BEGIN")break;si=mi}else{if(di[1]!=="END")break;li=mi;break}}if(si===-1||li===-1)throw new Error("PEM section not found for: "+ci);var $i=fi.slice(si+1,li).join("");$i.replace(/[^a-z0-9\+\/=]+/gi,"");var sn=new t($i,"base64");return G.prototype.decode.call(this,sn,ni)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(te){var t=te;t.der=requireDer$1(),t.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var te=inherits_browserExports,t=require$$0$3.Buffer,G=requireAsn1$1(),Te=G.base,Zr=G.constants.der;function Ie(ai){this.enc="der",this.name=ai.name,this.entity=ai,this.tree=new ni,this.tree._init(ai.body)}der_1=Ie,Ie.prototype.encode=function(si,li){return this.tree._encode(si,li).join()};function ni(ai){Te.Node.call(this,"der",ai)}te(ni,Te.Node),ni.prototype._encodeComposite=function(si,li,mi,di){var $i=ci(si,li,mi,this.reporter);if(di.length<128){var mn=new t(2);return mn[0]=$i,mn[1]=di.length,this._createEncoderBuffer([mn,di])}for(var sn=1,ln=di.length;ln>=256;ln>>=8)sn++;var mn=new t(2+sn);mn[0]=$i,mn[1]=128|sn;for(var ln=1+sn,cn=di.length;cn>0;ln--,cn>>=8)mn[ln]=cn&255;return this._createEncoderBuffer([mn,di])},ni.prototype._encodeStr=function(si,li){if(li==="bitstr")return this._createEncoderBuffer([si.unused|0,si.data]);if(li==="bmpstr"){for(var mi=new t(si.length*2),di=0;di<si.length;di++)mi.writeUInt16BE(si.charCodeAt(di),di*2);return this._createEncoderBuffer(mi)}else return li==="numstr"?this._isNumstr(si)?this._createEncoderBuffer(si):this.reporter.error("Encoding of string type: numstr supports only digits and space"):li==="printstr"?this._isPrintstr(si)?this._createEncoderBuffer(si):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(li)?this._createEncoderBuffer(si):li==="objDesc"?this._createEncoderBuffer(si):this.reporter.error("Encoding of string type: "+li+" unsupported")},ni.prototype._encodeObjid=function(si,li,mi){if(typeof si=="string"){if(!li)return this.reporter.error("string objid given, but no values map found");if(!li.hasOwnProperty(si))return this.reporter.error("objid not found in values map");si=li[si].split(/[\s\.]+/g);for(var di=0;di<si.length;di++)si[di]|=0}else if(Array.isArray(si)){si=si.slice();for(var di=0;di<si.length;di++)si[di]|=0}if(!Array.isArray(si))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(si));if(!mi){if(si[1]>=40)return this.reporter.error("Second objid identifier OOB");si.splice(0,2,si[0]*40+si[1])}for(var $i=0,di=0;di<si.length;di++){var sn=si[di];for($i++;sn>=128;sn>>=7)$i++}for(var ln=new t($i),mn=ln.length-1,di=si.length-1;di>=0;di--){var sn=si[di];for(ln[mn--]=sn&127;(sn>>=7)>0;)ln[mn--]=128|sn&127}return this._createEncoderBuffer(ln)};function fi(ai){return ai<10?"0"+ai:ai}ni.prototype._encodeTime=function(si,li){var mi,di=new Date(si);return li==="gentime"?mi=[fi(di.getFullYear()),fi(di.getUTCMonth()+1),fi(di.getUTCDate()),fi(di.getUTCHours()),fi(di.getUTCMinutes()),fi(di.getUTCSeconds()),"Z"].join(""):li==="utctime"?mi=[fi(di.getFullYear()%100),fi(di.getUTCMonth()+1),fi(di.getUTCDate()),fi(di.getUTCHours()),fi(di.getUTCMinutes()),fi(di.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+li+" time is not supported yet"),this._encodeStr(mi,"octstr")},ni.prototype._encodeNull=function(){return this._createEncoderBuffer("")},ni.prototype._encodeInt=function(si,li){if(typeof si=="string"){if(!li)return this.reporter.error("String int or enum given, but no values map");if(!li.hasOwnProperty(si))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(si));si=li[si]}if(typeof si!="number"&&!t.isBuffer(si)){var mi=si.toArray();!si.sign&&mi[0]&128&&mi.unshift(0),si=new t(mi)}if(t.isBuffer(si)){var di=si.length;si.length===0&&di++;var sn=new t(di);return si.copy(sn),si.length===0&&(sn[0]=0),this._createEncoderBuffer(sn)}if(si<128)return this._createEncoderBuffer(si);if(si<256)return this._createEncoderBuffer([0,si]);for(var di=1,$i=si;$i>=256;$i>>=8)di++;for(var sn=new Array(di),$i=sn.length-1;$i>=0;$i--)sn[$i]=si&255,si>>=8;return sn[0]&128&&sn.unshift(0),this._createEncoderBuffer(new t(sn))},ni.prototype._encodeBool=function(si){return this._createEncoderBuffer(si?255:0)},ni.prototype._use=function(si,li){return typeof si=="function"&&(si=si(li)),si._getEncoder("der").tree},ni.prototype._skipDefault=function(si,li,mi){var di=this._baseState,$i;if(di.default===null)return!1;var sn=si.join();if(di.defaultBuffer===void 0&&(di.defaultBuffer=this._encodeValue(di.default,li,mi).join()),sn.length!==di.defaultBuffer.length)return!1;for($i=0;$i<sn.length;$i++)if(sn[$i]!==di.defaultBuffer[$i])return!1;return!0};function ci(ai,si,li,mi){var di;if(ai==="seqof"?ai="seq":ai==="setof"&&(ai="set"),Zr.tagByName.hasOwnProperty(ai))di=Zr.tagByName[ai];else if(typeof ai=="number"&&(ai|0)===ai)di=ai;else return mi.error("Unknown tag: "+ai);return di>=31?mi.error("Multi-octet tag encoding unsupported"):(si||(di|=32),di|=Zr.tagClassByName[li||"universal"]<<6,di)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var te=inherits_browserExports,t=requireDer();function G(Te){t.call(this,Te),this.enc="pem"}return te(G,t),pem=G,G.prototype.encode=function(Zr,Ie){for(var ni=t.prototype.encode.call(this,Zr),fi=ni.toString("base64"),ci=["-----BEGIN "+Ie.label+"-----"],ai=0;ai<fi.length;ai+=64)ci.push(fi.slice(ai,ai+64));return ci.push("-----END "+Ie.label+"-----"),ci.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(te){var t=te;t.der=requireDer(),t.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(te){var t=te;t.bignum=requireBn$2(),t.define=requireApi().define,t.base=requireBase(),t.constants=requireConstants(),t.decoders=requireDecoders(),t.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var te=requireAsn1$1(),t=te.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),G=te.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),Te=te.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),Zr=te.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Te),this.key("subjectPublicKey").bitstr())}),Ie=te.define("RelativeDistinguishedName",function(){this.setof(G)}),ni=te.define("RDNSequence",function(){this.seqof(Ie)}),fi=te.define("Name",function(){this.choice({rdnSequence:this.use(ni)})}),ci=te.define("Validity",function(){this.seq().obj(this.key("notBefore").use(t),this.key("notAfter").use(t))}),ai=te.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),si=te.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(Te),this.key("issuer").use(fi),this.key("validity").use(ci),this.key("subject").use(fi),this.key("subjectPublicKeyInfo").use(Zr),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(ai).optional())}),li=te.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(si),this.key("signatureAlgorithm").use(Te),this.key("signatureValue").bitstr())});return certificate=li,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var te=requireAsn1$1();asn1$1.certificate=requireCertificate();var t=te.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=t;var G=te.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=G;var Te=te.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Zr=te.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Te),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=Zr;var Ie=te.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(Te),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=Ie;var ni=te.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=ni;var fi=te.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=fi,asn1$1.DSAparam=te.define("DSAparam",function(){this.int()});var ci=te.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),ai=te.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ci),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=ai,asn1$1.signature=te.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var te=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,t=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,G=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,Te=requireEvp_bytestokey(),Zr=requireBrowser$6(),Ie=safeBufferExports.Buffer;return fixProc=function(ni,fi){var ci=ni.toString(),ai=ci.match(te),si;if(ai){var mi="aes"+ai[1],di=Ie.from(ai[2],"hex"),$i=Ie.from(ai[3].replace(/[\r\n]/g,""),"base64"),sn=Te(fi,di.slice(0,8),parseInt(ai[1],10)).key,ln=[],mn=Zr.createDecipheriv(mi,sn,di);ln.push(mn.update($i)),ln.push(mn.final()),si=Ie.concat(ln)}else{var li=ci.match(G);si=Ie.from(li[2].replace(/[\r\n]/g,""),"base64")}var cn=ci.match(t)[1];return{tag:cn,data:si}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var te=requireAsn1(),t=require$$1,G=requireFixProc(),Te=requireBrowser$6(),Zr=requireBrowser$7(),Ie=safeBufferExports.Buffer;function ni(ci,ai){var si=ci.algorithm.decrypt.kde.kdeparams.salt,li=parseInt(ci.algorithm.decrypt.kde.kdeparams.iters.toString(),10),mi=t[ci.algorithm.decrypt.cipher.algo.join(".")],di=ci.algorithm.decrypt.cipher.iv,$i=ci.subjectPrivateKey,sn=parseInt(mi.split("-")[1],10)/8,ln=Zr.pbkdf2Sync(ai,si,li,sn,"sha1"),mn=Te.createDecipheriv(mi,ln,di),cn=[];return cn.push(mn.update($i)),cn.push(mn.final()),Ie.concat(cn)}function fi(ci){var ai;typeof ci=="object"&&!Ie.isBuffer(ci)&&(ai=ci.passphrase,ci=ci.key),typeof ci=="string"&&(ci=Ie.from(ci));var si=G(ci,ai),li=si.tag,mi=si.data,di,$i;switch(li){case"CERTIFICATE":$i=te.certificate.decode(mi,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch($i||($i=te.PublicKey.decode(mi,"der")),di=$i.algorithm.algorithm.join("."),di){case"1.2.840.113549.1.1.1":return te.RSAPublicKey.decode($i.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return $i.subjectPrivateKey=$i.subjectPublicKey,{type:"ec",data:$i};case"1.2.840.10040.4.1":return $i.algorithm.params.pub_key=te.DSAparam.decode($i.subjectPublicKey.data,"der"),{type:"dsa",data:$i.algorithm.params};default:throw new Error("unknown key id "+di)}case"ENCRYPTED PRIVATE KEY":mi=te.EncryptedPrivateKey.decode(mi,"der"),mi=ni(mi,ai);case"PRIVATE KEY":switch($i=te.PrivateKey.decode(mi,"der"),di=$i.algorithm.algorithm.join("."),di){case"1.2.840.113549.1.1.1":return te.RSAPrivateKey.decode($i.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:$i.algorithm.curve,privateKey:te.ECPrivateKey.decode($i.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return $i.algorithm.params.priv_key=te.DSAparam.decode($i.subjectPrivateKey,"der"),{type:"dsa",params:$i.algorithm.params};default:throw new Error("unknown key id "+di)}case"RSA PUBLIC KEY":return te.RSAPublicKey.decode(mi,"der");case"RSA PRIVATE KEY":return te.RSAPrivateKey.decode(mi,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:te.DSAPrivateKey.decode(mi,"der")};case"EC PRIVATE KEY":return mi=te.ECPrivateKey.decode(mi,"der"),{curve:mi.parameters.value,privateKey:mi.privateKey};default:throw new Error("unknown key type "+li)}}return fi.signature=te.signature,parseAsn1=fi,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var te=safeBufferExports.Buffer,t=requireBrowser$8(),G=requireBrowserifyRsa(),Te=requireElliptic().ec,Zr=bnExports,Ie=requireParseAsn1(),ni=require$$4,fi=1;function ci(mn,cn,Rn,vn,Cn){var ho=Ie(cn);if(ho.curve){if(vn!=="ecdsa"&&vn!=="ecdsa/rsa")throw new Error("wrong private key type");return ai(mn,ho)}else if(ho.type==="dsa"){if(vn!=="dsa")throw new Error("wrong private key type");return si(mn,ho,Rn)}if(vn!=="rsa"&&vn!=="ecdsa/rsa")throw new Error("wrong private key type");if(cn.padding!==void 0&&cn.padding!==fi)throw new Error("illegal or unsupported padding mode");mn=te.concat([Cn,mn]);for(var hn=ho.modulus.byteLength(),Zn=[0,1];mn.length+Zn.length+1<hn;)Zn.push(255);Zn.push(0);for(var Do=-1;++Do<mn.length;)Zn.push(mn[Do]);var Yo=G(Zn,ho);return Yo}function ai(mn,cn){var Rn=ni[cn.curve.join(".")];if(!Rn)throw new Error("unknown curve "+cn.curve.join("."));var vn=new Te(Rn),Cn=vn.keyFromPrivate(cn.privateKey),ho=Cn.sign(mn);return te.from(ho.toDER())}function si(mn,cn,Rn){for(var vn=cn.params.priv_key,Cn=cn.params.p,ho=cn.params.q,hn=cn.params.g,Zn=new Zr(0),Do,Yo=di(mn,ho).mod(ho),ui=!1,H=mi(vn,ho,mn,Rn);ui===!1;)Do=sn(ho,H,Rn),Zn=ln(hn,Do,Cn,ho),ui=Do.invm(ho).imul(Yo.add(vn.mul(Zn))).mod(ho),ui.cmpn(0)===0&&(ui=!1,Zn=new Zr(0));return li(Zn,ui)}function li(mn,cn){mn=mn.toArray(),cn=cn.toArray(),mn[0]&128&&(mn=[0].concat(mn)),cn[0]&128&&(cn=[0].concat(cn));var Rn=mn.length+cn.length+4,vn=[48,Rn,2,mn.length];return vn=vn.concat(mn,[2,cn.length],cn),te.from(vn)}function mi(mn,cn,Rn,vn){if(mn=te.from(mn.toArray()),mn.length<cn.byteLength()){var Cn=te.alloc(cn.byteLength()-mn.length);mn=te.concat([Cn,mn])}var ho=Rn.length,hn=$i(Rn,cn),Zn=te.alloc(ho);Zn.fill(1);var Do=te.alloc(ho);return Do=t(vn,Do).update(Zn).update(te.from([0])).update(mn).update(hn).digest(),Zn=t(vn,Do).update(Zn).digest(),Do=t(vn,Do).update(Zn).update(te.from([1])).update(mn).update(hn).digest(),Zn=t(vn,Do).update(Zn).digest(),{k:Do,v:Zn}}function di(mn,cn){var Rn=new Zr(mn),vn=(mn.length<<3)-cn.bitLength();return vn>0&&Rn.ishrn(vn),Rn}function $i(mn,cn){mn=di(mn,cn),mn=mn.mod(cn);var Rn=te.from(mn.toArray());if(Rn.length<cn.byteLength()){var vn=te.alloc(cn.byteLength()-Rn.length);Rn=te.concat([vn,Rn])}return Rn}function sn(mn,cn,Rn){var vn,Cn;do{for(vn=te.alloc(0);vn.length*8<mn.bitLength();)cn.v=t(Rn,cn.k).update(cn.v).digest(),vn=te.concat([vn,cn.v]);Cn=di(vn,mn),cn.k=t(Rn,cn.k).update(cn.v).update(te.from([0])).digest(),cn.v=t(Rn,cn.k).update(cn.v).digest()}while(Cn.cmp(mn)!==-1);return Cn}function ln(mn,cn,Rn,vn){return mn.toRed(Zr.mont(Rn)).redPow(cn).fromRed().mod(vn)}return sign.exports=ci,sign.exports.getKey=mi,sign.exports.makeKey=sn,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var te=safeBufferExports.Buffer,t=bnExports,G=requireElliptic().ec,Te=requireParseAsn1(),Zr=require$$4;function Ie(ai,si,li,mi,di){var $i=Te(li);if($i.type==="ec"){if(mi!=="ecdsa"&&mi!=="ecdsa/rsa")throw new Error("wrong public key type");return ni(ai,si,$i)}else if($i.type==="dsa"){if(mi!=="dsa")throw new Error("wrong public key type");return fi(ai,si,$i)}if(mi!=="rsa"&&mi!=="ecdsa/rsa")throw new Error("wrong public key type");si=te.concat([di,si]);for(var sn=$i.modulus.byteLength(),ln=[1],mn=0;si.length+ln.length+2<sn;)ln.push(255),mn+=1;ln.push(0);for(var cn=-1;++cn<si.length;)ln.push(si[cn]);ln=te.from(ln);var Rn=t.mont($i.modulus);ai=new t(ai).toRed(Rn),ai=ai.redPow(new t($i.publicExponent)),ai=te.from(ai.fromRed().toArray());var vn=mn<8?1:0;for(sn=Math.min(ai.length,ln.length),ai.length!==ln.length&&(vn=1),cn=-1;++cn<sn;)vn|=ai[cn]^ln[cn];return vn===0}function ni(ai,si,li){var mi=Zr[li.data.algorithm.curve.join(".")];if(!mi)throw new Error("unknown curve "+li.data.algorithm.curve.join("."));var di=new G(mi),$i=li.data.subjectPrivateKey.data;return di.verify(si,ai,$i)}function fi(ai,si,li){var mi=li.data.p,di=li.data.q,$i=li.data.g,sn=li.data.pub_key,ln=Te.signature.decode(ai,"der"),mn=ln.s,cn=ln.r;ci(mn,di),ci(cn,di);var Rn=t.mont(mi),vn=mn.invm(di),Cn=$i.toRed(Rn).redPow(new t(si).mul(vn).mod(di)).fromRed().mul(sn.toRed(Rn).redPow(cn.mul(vn).mod(di)).fromRed()).mod(mi).mod(di);return Cn.cmp(cn)===0}function ci(ai,si){if(ai.cmpn(0)<=0)throw new Error("invalid sig");if(ai.cmp(si)>=0)throw new Error("invalid sig")}return verify_1=Ie,verify_1}var browser$4,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$4;hasRequiredBrowser$3=1;var te=safeBufferExports.Buffer,t=requireBrowser$9(),G=requireReadableBrowser(),Te=inherits_browserExports,Zr=requireSign(),Ie=requireVerify(),ni=require$$6;Object.keys(ni).forEach(function(li){ni[li].id=te.from(ni[li].id,"hex"),ni[li.toLowerCase()]=ni[li]});function fi(li){G.Writable.call(this);var mi=ni[li];if(!mi)throw new Error("Unknown message digest");this._hashType=mi.hash,this._hash=t(mi.hash),this._tag=mi.id,this._signType=mi.sign}Te(fi,G.Writable),fi.prototype._write=function(mi,di,$i){this._hash.update(mi),$i()},fi.prototype.update=function(mi,di){return this._hash.update(typeof mi=="string"?te.from(mi,di):mi),this},fi.prototype.sign=function(mi,di){this.end();var $i=this._hash.digest(),sn=Zr($i,mi,this._hashType,this._signType,this._tag);return di?sn.toString(di):sn};function ci(li){G.Writable.call(this);var mi=ni[li];if(!mi)throw new Error("Unknown message digest");this._hash=t(mi.hash),this._tag=mi.id,this._signType=mi.sign}Te(ci,G.Writable),ci.prototype._write=function(mi,di,$i){this._hash.update(mi),$i()},ci.prototype.update=function(mi,di){return this._hash.update(typeof mi=="string"?te.from(mi,di):mi),this},ci.prototype.verify=function(mi,di,$i){var sn=typeof di=="string"?te.from(di,$i):di;this.end();var ln=this._hash.digest();return Ie(sn,ln,mi,this._signType,this._tag)};function ai(li){return new fi(li)}function si(li){return new ci(li)}return browser$4={Sign:ai,Verify:si,createSign:ai,createVerify:si},browser$4}var bn$2={exports:{}};bn$2.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(te){(function(t,G){function Te(ui,H){if(!ui)throw new Error(H||"Assertion failed")}function Zr(ui,H){ui.super_=H;var X=function(){};X.prototype=H.prototype,ui.prototype=new X,ui.prototype.constructor=ui}function Ie(ui,H,X){if(Ie.isBN(ui))return ui;this.negative=0,this.words=null,this.length=0,this.red=null,ui!==null&&((H==="le"||H==="be")&&(X=H,H=10),this._init(ui||0,H||10,X||"be"))}typeof t=="object"?t.exports=Ie:G.BN=Ie,Ie.BN=Ie,Ie.wordSize=26;var ni;try{typeof window<"u"&&typeof window.Buffer<"u"?ni=window.Buffer:ni=require$$0$3.Buffer}catch{}Ie.isBN=function(H){return H instanceof Ie?!0:H!==null&&typeof H=="object"&&H.constructor.wordSize===Ie.wordSize&&Array.isArray(H.words)},Ie.max=function(H,X){return H.cmp(X)>0?H:X},Ie.min=function(H,X){return H.cmp(X)<0?H:X},Ie.prototype._init=function(H,X,Br){if(typeof H=="number")return this._initNumber(H,X,Br);if(typeof H=="object")return this._initArray(H,X,Br);X==="hex"&&(X=16),Te(X===(X|0)&&X>=2&&X<=36),H=H.toString().replace(/\s+/g,"");var Wr=0;H[0]==="-"&&(Wr++,this.negative=1),Wr<H.length&&(X===16?this._parseHex(H,Wr,Br):(this._parseBase(H,X,Wr),Br==="le"&&this._initArray(this.toArray(),X,Br)))},Ie.prototype._initNumber=function(H,X,Br){H<0&&(this.negative=1,H=-H),H<67108864?(this.words=[H&67108863],this.length=1):H<4503599627370496?(this.words=[H&67108863,H/67108864&67108863],this.length=2):(Te(H<9007199254740992),this.words=[H&67108863,H/67108864&67108863,1],this.length=3),Br==="le"&&this._initArray(this.toArray(),X,Br)},Ie.prototype._initArray=function(H,X,Br){if(Te(typeof H.length=="number"),H.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(H.length/3),this.words=new Array(this.length);for(var Wr=0;Wr<this.length;Wr++)this.words[Wr]=0;var ri,ii,oi=0;if(Br==="be")for(Wr=H.length-1,ri=0;Wr>=0;Wr-=3)ii=H[Wr]|H[Wr-1]<<8|H[Wr-2]<<16,this.words[ri]|=ii<<oi&67108863,this.words[ri+1]=ii>>>26-oi&67108863,oi+=24,oi>=26&&(oi-=26,ri++);else if(Br==="le")for(Wr=0,ri=0;Wr<H.length;Wr+=3)ii=H[Wr]|H[Wr+1]<<8|H[Wr+2]<<16,this.words[ri]|=ii<<oi&67108863,this.words[ri+1]=ii>>>26-oi&67108863,oi+=24,oi>=26&&(oi-=26,ri++);return this.strip()};function fi(ui,H){var X=ui.charCodeAt(H);return X>=65&&X<=70?X-55:X>=97&&X<=102?X-87:X-48&15}function ci(ui,H,X){var Br=fi(ui,X);return X-1>=H&&(Br|=fi(ui,X-1)<<4),Br}Ie.prototype._parseHex=function(H,X,Br){this.length=Math.ceil((H.length-X)/6),this.words=new Array(this.length);for(var Wr=0;Wr<this.length;Wr++)this.words[Wr]=0;var ri=0,ii=0,oi;if(Br==="be")for(Wr=H.length-1;Wr>=X;Wr-=2)oi=ci(H,X,Wr)<<ri,this.words[ii]|=oi&67108863,ri>=18?(ri-=18,ii+=1,this.words[ii]|=oi>>>26):ri+=8;else{var ei=H.length-X;for(Wr=ei%2===0?X+1:X;Wr<H.length;Wr+=2)oi=ci(H,X,Wr)<<ri,this.words[ii]|=oi&67108863,ri>=18?(ri-=18,ii+=1,this.words[ii]|=oi>>>26):ri+=8}this.strip()};function ai(ui,H,X,Br){for(var Wr=0,ri=Math.min(ui.length,X),ii=H;ii<ri;ii++){var oi=ui.charCodeAt(ii)-48;Wr*=Br,oi>=49?Wr+=oi-49+10:oi>=17?Wr+=oi-17+10:Wr+=oi}return Wr}Ie.prototype._parseBase=function(H,X,Br){this.words=[0],this.length=1;for(var Wr=0,ri=1;ri<=67108863;ri*=X)Wr++;Wr--,ri=ri/X|0;for(var ii=H.length-Br,oi=ii%Wr,ei=Math.min(ii,ii-oi)+Br,Y=0,Xr=Br;Xr<ei;Xr+=Wr)Y=ai(H,Xr,Xr+Wr,X),this.imuln(ri),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(oi!==0){var on=1;for(Y=ai(H,Xr,H.length,X),Xr=0;Xr<oi;Xr++)on*=X;this.imuln(on),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this.strip()},Ie.prototype.copy=function(H){H.words=new Array(this.length);for(var X=0;X<this.length;X++)H.words[X]=this.words[X];H.length=this.length,H.negative=this.negative,H.red=this.red},Ie.prototype.clone=function(){var H=new Ie(null);return this.copy(H),H},Ie.prototype._expand=function(H){for(;this.length<H;)this.words[this.length++]=0;return this},Ie.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ie.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var si=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],li=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],mi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ie.prototype.toString=function(H,X){H=H||10,X=X|0||1;var Br;if(H===16||H==="hex"){Br="";for(var Wr=0,ri=0,ii=0;ii<this.length;ii++){var oi=this.words[ii],ei=((oi<<Wr|ri)&16777215).toString(16);ri=oi>>>24-Wr&16777215,ri!==0||ii!==this.length-1?Br=si[6-ei.length]+ei+Br:Br=ei+Br,Wr+=2,Wr>=26&&(Wr-=26,ii--)}for(ri!==0&&(Br=ri.toString(16)+Br);Br.length%X!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}if(H===(H|0)&&H>=2&&H<=36){var Y=li[H],Xr=mi[H];Br="";var on=this.clone();for(on.negative=0;!on.isZero();){var Mn=on.modn(Xr).toString(H);on=on.idivn(Xr),on.isZero()?Br=Mn+Br:Br=si[Y-Mn.length]+Mn+Br}for(this.isZero()&&(Br="0"+Br);Br.length%X!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}Te(!1,"Base should be between 2 and 36")},Ie.prototype.toNumber=function(){var H=this.words[0];return this.length===2?H+=this.words[1]*67108864:this.length===3&&this.words[2]===1?H+=4503599627370496+this.words[1]*67108864:this.length>2&&Te(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-H:H},Ie.prototype.toJSON=function(){return this.toString(16)},Ie.prototype.toBuffer=function(H,X){return Te(typeof ni<"u"),this.toArrayLike(ni,H,X)},Ie.prototype.toArray=function(H,X){return this.toArrayLike(Array,H,X)},Ie.prototype.toArrayLike=function(H,X,Br){var Wr=this.byteLength(),ri=Br||Math.max(1,Wr);Te(Wr<=ri,"byte array longer than desired length"),Te(ri>0,"Requested array length <= 0"),this.strip();var ii=X==="le",oi=new H(ri),ei,Y,Xr=this.clone();if(ii){for(Y=0;!Xr.isZero();Y++)ei=Xr.andln(255),Xr.iushrn(8),oi[Y]=ei;for(;Y<ri;Y++)oi[Y]=0}else{for(Y=0;Y<ri-Wr;Y++)oi[Y]=0;for(Y=0;!Xr.isZero();Y++)ei=Xr.andln(255),Xr.iushrn(8),oi[ri-Y-1]=ei}return oi},Math.clz32?Ie.prototype._countBits=function(H){return 32-Math.clz32(H)}:Ie.prototype._countBits=function(H){var X=H,Br=0;return X>=4096&&(Br+=13,X>>>=13),X>=64&&(Br+=7,X>>>=7),X>=8&&(Br+=4,X>>>=4),X>=2&&(Br+=2,X>>>=2),Br+X},Ie.prototype._zeroBits=function(H){if(H===0)return 26;var X=H,Br=0;return X&8191||(Br+=13,X>>>=13),X&127||(Br+=7,X>>>=7),X&15||(Br+=4,X>>>=4),X&3||(Br+=2,X>>>=2),X&1||Br++,Br},Ie.prototype.bitLength=function(){var H=this.words[this.length-1],X=this._countBits(H);return(this.length-1)*26+X};function di(ui){for(var H=new Array(ui.bitLength()),X=0;X<H.length;X++){var Br=X/26|0,Wr=X%26;H[X]=(ui.words[Br]&1<<Wr)>>>Wr}return H}Ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var H=0,X=0;X<this.length;X++){var Br=this._zeroBits(this.words[X]);if(H+=Br,Br!==26)break}return H},Ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ie.prototype.toTwos=function(H){return this.negative!==0?this.abs().inotn(H).iaddn(1):this.clone()},Ie.prototype.fromTwos=function(H){return this.testn(H-1)?this.notn(H).iaddn(1).ineg():this.clone()},Ie.prototype.isNeg=function(){return this.negative!==0},Ie.prototype.neg=function(){return this.clone().ineg()},Ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ie.prototype.iuor=function(H){for(;this.length<H.length;)this.words[this.length++]=0;for(var X=0;X<H.length;X++)this.words[X]=this.words[X]|H.words[X];return this.strip()},Ie.prototype.ior=function(H){return Te((this.negative|H.negative)===0),this.iuor(H)},Ie.prototype.or=function(H){return this.length>H.length?this.clone().ior(H):H.clone().ior(this)},Ie.prototype.uor=function(H){return this.length>H.length?this.clone().iuor(H):H.clone().iuor(this)},Ie.prototype.iuand=function(H){var X;this.length>H.length?X=H:X=this;for(var Br=0;Br<X.length;Br++)this.words[Br]=this.words[Br]&H.words[Br];return this.length=X.length,this.strip()},Ie.prototype.iand=function(H){return Te((this.negative|H.negative)===0),this.iuand(H)},Ie.prototype.and=function(H){return this.length>H.length?this.clone().iand(H):H.clone().iand(this)},Ie.prototype.uand=function(H){return this.length>H.length?this.clone().iuand(H):H.clone().iuand(this)},Ie.prototype.iuxor=function(H){var X,Br;this.length>H.length?(X=this,Br=H):(X=H,Br=this);for(var Wr=0;Wr<Br.length;Wr++)this.words[Wr]=X.words[Wr]^Br.words[Wr];if(this!==X)for(;Wr<X.length;Wr++)this.words[Wr]=X.words[Wr];return this.length=X.length,this.strip()},Ie.prototype.ixor=function(H){return Te((this.negative|H.negative)===0),this.iuxor(H)},Ie.prototype.xor=function(H){return this.length>H.length?this.clone().ixor(H):H.clone().ixor(this)},Ie.prototype.uxor=function(H){return this.length>H.length?this.clone().iuxor(H):H.clone().iuxor(this)},Ie.prototype.inotn=function(H){Te(typeof H=="number"&&H>=0);var X=Math.ceil(H/26)|0,Br=H%26;this._expand(X),Br>0&&X--;for(var Wr=0;Wr<X;Wr++)this.words[Wr]=~this.words[Wr]&67108863;return Br>0&&(this.words[Wr]=~this.words[Wr]&67108863>>26-Br),this.strip()},Ie.prototype.notn=function(H){return this.clone().inotn(H)},Ie.prototype.setn=function(H,X){Te(typeof H=="number"&&H>=0);var Br=H/26|0,Wr=H%26;return this._expand(Br+1),X?this.words[Br]=this.words[Br]|1<<Wr:this.words[Br]=this.words[Br]&~(1<<Wr),this.strip()},Ie.prototype.iadd=function(H){var X;if(this.negative!==0&&H.negative===0)return this.negative=0,X=this.isub(H),this.negative^=1,this._normSign();if(this.negative===0&&H.negative!==0)return H.negative=0,X=this.isub(H),H.negative=1,X._normSign();var Br,Wr;this.length>H.length?(Br=this,Wr=H):(Br=H,Wr=this);for(var ri=0,ii=0;ii<Wr.length;ii++)X=(Br.words[ii]|0)+(Wr.words[ii]|0)+ri,this.words[ii]=X&67108863,ri=X>>>26;for(;ri!==0&&ii<Br.length;ii++)X=(Br.words[ii]|0)+ri,this.words[ii]=X&67108863,ri=X>>>26;if(this.length=Br.length,ri!==0)this.words[this.length]=ri,this.length++;else if(Br!==this)for(;ii<Br.length;ii++)this.words[ii]=Br.words[ii];return this},Ie.prototype.add=function(H){var X;return H.negative!==0&&this.negative===0?(H.negative=0,X=this.sub(H),H.negative^=1,X):H.negative===0&&this.negative!==0?(this.negative=0,X=H.sub(this),this.negative=1,X):this.length>H.length?this.clone().iadd(H):H.clone().iadd(this)},Ie.prototype.isub=function(H){if(H.negative!==0){H.negative=0;var X=this.iadd(H);return H.negative=1,X._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(H),this.negative=1,this._normSign();var Br=this.cmp(H);if(Br===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Wr,ri;Br>0?(Wr=this,ri=H):(Wr=H,ri=this);for(var ii=0,oi=0;oi<ri.length;oi++)X=(Wr.words[oi]|0)-(ri.words[oi]|0)+ii,ii=X>>26,this.words[oi]=X&67108863;for(;ii!==0&&oi<Wr.length;oi++)X=(Wr.words[oi]|0)+ii,ii=X>>26,this.words[oi]=X&67108863;if(ii===0&&oi<Wr.length&&Wr!==this)for(;oi<Wr.length;oi++)this.words[oi]=Wr.words[oi];return this.length=Math.max(this.length,oi),Wr!==this&&(this.negative=1),this.strip()},Ie.prototype.sub=function(H){return this.clone().isub(H)};function $i(ui,H,X){X.negative=H.negative^ui.negative;var Br=ui.length+H.length|0;X.length=Br,Br=Br-1|0;var Wr=ui.words[0]|0,ri=H.words[0]|0,ii=Wr*ri,oi=ii&67108863,ei=ii/67108864|0;X.words[0]=oi;for(var Y=1;Y<Br;Y++){for(var Xr=ei>>>26,on=ei&67108863,Mn=Math.min(Y,H.length-1),Bn=Math.max(0,Y-ui.length+1);Bn<=Mn;Bn++){var fn=Y-Bn|0;Wr=ui.words[fn]|0,ri=H.words[Bn]|0,ii=Wr*ri+on,Xr+=ii/67108864|0,on=ii&67108863}X.words[Y]=on|0,ei=Xr|0}return ei!==0?X.words[Y]=ei|0:X.length--,X.strip()}var sn=function(H,X,Br){var Wr=H.words,ri=X.words,ii=Br.words,oi=0,ei,Y,Xr,on=Wr[0]|0,Mn=on&8191,Bn=on>>>13,fn=Wr[1]|0,uo=fn&8191,un=fn>>>13,gn=Wr[2]|0,An=gn&8191,an=gn>>>13,qo=Wr[3]|0,ko=qo&8191,Uo=qo>>>13,kh=Wr[4]|0,Vo=kh&8191,tf=kh>>>13,Wh=Wr[5]|0,Rh=Wh&8191,vh=Wh>>>13,Jh=Wr[6]|0,Vf=Jh&8191,Zo=Jh>>>13,Vh=Wr[7]|0,Qf=Vh&8191,Ko=Vh>>>13,Zh=Wr[8]|0,Xf=Zh&8191,Lf=Zh>>>13,Qh=Wr[9]|0,bh=Qh&8191,jf=Qh>>>13,Yh=ri[0]|0,Sh=Yh&8191,ph=Yh>>>13,Xh=ri[1]|0,Th=Xh&8191,$h=Xh>>>13,zu=ri[2]|0,Nh=zu&8191,Ih=zu>>>13,Ku=ri[3]|0,Lh=Ku&8191,wh=Ku>>>13,hu=ri[4]|0,qh=hu&8191,_h=hu>>>13,qu=ri[5]|0,Dh=qu&8191,xh=qu>>>13,Lu=ri[6]|0,Bh=Lu&8191,Eh=Lu>>>13,ku=ri[7]|0,Ch=ku&8191,Mh=ku>>>13,au=ri[8]|0,Oh=au&8191,Ah=au>>>13,r0=ri[9]|0,jh=r0&8191,Ph=r0>>>13;Br.negative=H.negative^X.negative,Br.length=19,ei=Math.imul(Mn,Sh),Y=Math.imul(Mn,ph),Y=Y+Math.imul(Bn,Sh)|0,Xr=Math.imul(Bn,ph);var Uu=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,ei=Math.imul(uo,Sh),Y=Math.imul(uo,ph),Y=Y+Math.imul(un,Sh)|0,Xr=Math.imul(un,ph),ei=ei+Math.imul(Mn,Th)|0,Y=Y+Math.imul(Mn,$h)|0,Y=Y+Math.imul(Bn,Th)|0,Xr=Xr+Math.imul(Bn,$h)|0;var nc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(nc>>>26)|0,nc&=67108863,ei=Math.imul(An,Sh),Y=Math.imul(An,ph),Y=Y+Math.imul(an,Sh)|0,Xr=Math.imul(an,ph),ei=ei+Math.imul(uo,Th)|0,Y=Y+Math.imul(uo,$h)|0,Y=Y+Math.imul(un,Th)|0,Xr=Xr+Math.imul(un,$h)|0,ei=ei+Math.imul(Mn,Nh)|0,Y=Y+Math.imul(Mn,Ih)|0,Y=Y+Math.imul(Bn,Nh)|0,Xr=Xr+Math.imul(Bn,Ih)|0;var sc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(sc>>>26)|0,sc&=67108863,ei=Math.imul(ko,Sh),Y=Math.imul(ko,ph),Y=Y+Math.imul(Uo,Sh)|0,Xr=Math.imul(Uo,ph),ei=ei+Math.imul(An,Th)|0,Y=Y+Math.imul(An,$h)|0,Y=Y+Math.imul(an,Th)|0,Xr=Xr+Math.imul(an,$h)|0,ei=ei+Math.imul(uo,Nh)|0,Y=Y+Math.imul(uo,Ih)|0,Y=Y+Math.imul(un,Nh)|0,Xr=Xr+Math.imul(un,Ih)|0,ei=ei+Math.imul(Mn,Lh)|0,Y=Y+Math.imul(Mn,wh)|0,Y=Y+Math.imul(Bn,Lh)|0,Xr=Xr+Math.imul(Bn,wh)|0;var ac=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(ac>>>26)|0,ac&=67108863,ei=Math.imul(Vo,Sh),Y=Math.imul(Vo,ph),Y=Y+Math.imul(tf,Sh)|0,Xr=Math.imul(tf,ph),ei=ei+Math.imul(ko,Th)|0,Y=Y+Math.imul(ko,$h)|0,Y=Y+Math.imul(Uo,Th)|0,Xr=Xr+Math.imul(Uo,$h)|0,ei=ei+Math.imul(An,Nh)|0,Y=Y+Math.imul(An,Ih)|0,Y=Y+Math.imul(an,Nh)|0,Xr=Xr+Math.imul(an,Ih)|0,ei=ei+Math.imul(uo,Lh)|0,Y=Y+Math.imul(uo,wh)|0,Y=Y+Math.imul(un,Lh)|0,Xr=Xr+Math.imul(un,wh)|0,ei=ei+Math.imul(Mn,qh)|0,Y=Y+Math.imul(Mn,_h)|0,Y=Y+Math.imul(Bn,qh)|0,Xr=Xr+Math.imul(Bn,_h)|0;var oc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(oc>>>26)|0,oc&=67108863,ei=Math.imul(Rh,Sh),Y=Math.imul(Rh,ph),Y=Y+Math.imul(vh,Sh)|0,Xr=Math.imul(vh,ph),ei=ei+Math.imul(Vo,Th)|0,Y=Y+Math.imul(Vo,$h)|0,Y=Y+Math.imul(tf,Th)|0,Xr=Xr+Math.imul(tf,$h)|0,ei=ei+Math.imul(ko,Nh)|0,Y=Y+Math.imul(ko,Ih)|0,Y=Y+Math.imul(Uo,Nh)|0,Xr=Xr+Math.imul(Uo,Ih)|0,ei=ei+Math.imul(An,Lh)|0,Y=Y+Math.imul(An,wh)|0,Y=Y+Math.imul(an,Lh)|0,Xr=Xr+Math.imul(an,wh)|0,ei=ei+Math.imul(uo,qh)|0,Y=Y+Math.imul(uo,_h)|0,Y=Y+Math.imul(un,qh)|0,Xr=Xr+Math.imul(un,_h)|0,ei=ei+Math.imul(Mn,Dh)|0,Y=Y+Math.imul(Mn,xh)|0,Y=Y+Math.imul(Bn,Dh)|0,Xr=Xr+Math.imul(Bn,xh)|0;var fc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(fc>>>26)|0,fc&=67108863,ei=Math.imul(Vf,Sh),Y=Math.imul(Vf,ph),Y=Y+Math.imul(Zo,Sh)|0,Xr=Math.imul(Zo,ph),ei=ei+Math.imul(Rh,Th)|0,Y=Y+Math.imul(Rh,$h)|0,Y=Y+Math.imul(vh,Th)|0,Xr=Xr+Math.imul(vh,$h)|0,ei=ei+Math.imul(Vo,Nh)|0,Y=Y+Math.imul(Vo,Ih)|0,Y=Y+Math.imul(tf,Nh)|0,Xr=Xr+Math.imul(tf,Ih)|0,ei=ei+Math.imul(ko,Lh)|0,Y=Y+Math.imul(ko,wh)|0,Y=Y+Math.imul(Uo,Lh)|0,Xr=Xr+Math.imul(Uo,wh)|0,ei=ei+Math.imul(An,qh)|0,Y=Y+Math.imul(An,_h)|0,Y=Y+Math.imul(an,qh)|0,Xr=Xr+Math.imul(an,_h)|0,ei=ei+Math.imul(uo,Dh)|0,Y=Y+Math.imul(uo,xh)|0,Y=Y+Math.imul(un,Dh)|0,Xr=Xr+Math.imul(un,xh)|0,ei=ei+Math.imul(Mn,Bh)|0,Y=Y+Math.imul(Mn,Eh)|0,Y=Y+Math.imul(Bn,Bh)|0,Xr=Xr+Math.imul(Bn,Eh)|0;var $0=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+($0>>>26)|0,$0&=67108863,ei=Math.imul(Qf,Sh),Y=Math.imul(Qf,ph),Y=Y+Math.imul(Ko,Sh)|0,Xr=Math.imul(Ko,ph),ei=ei+Math.imul(Vf,Th)|0,Y=Y+Math.imul(Vf,$h)|0,Y=Y+Math.imul(Zo,Th)|0,Xr=Xr+Math.imul(Zo,$h)|0,ei=ei+Math.imul(Rh,Nh)|0,Y=Y+Math.imul(Rh,Ih)|0,Y=Y+Math.imul(vh,Nh)|0,Xr=Xr+Math.imul(vh,Ih)|0,ei=ei+Math.imul(Vo,Lh)|0,Y=Y+Math.imul(Vo,wh)|0,Y=Y+Math.imul(tf,Lh)|0,Xr=Xr+Math.imul(tf,wh)|0,ei=ei+Math.imul(ko,qh)|0,Y=Y+Math.imul(ko,_h)|0,Y=Y+Math.imul(Uo,qh)|0,Xr=Xr+Math.imul(Uo,_h)|0,ei=ei+Math.imul(An,Dh)|0,Y=Y+Math.imul(An,xh)|0,Y=Y+Math.imul(an,Dh)|0,Xr=Xr+Math.imul(an,xh)|0,ei=ei+Math.imul(uo,Bh)|0,Y=Y+Math.imul(uo,Eh)|0,Y=Y+Math.imul(un,Bh)|0,Xr=Xr+Math.imul(un,Eh)|0,ei=ei+Math.imul(Mn,Ch)|0,Y=Y+Math.imul(Mn,Mh)|0,Y=Y+Math.imul(Bn,Ch)|0,Xr=Xr+Math.imul(Bn,Mh)|0;var lc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(lc>>>26)|0,lc&=67108863,ei=Math.imul(Xf,Sh),Y=Math.imul(Xf,ph),Y=Y+Math.imul(Lf,Sh)|0,Xr=Math.imul(Lf,ph),ei=ei+Math.imul(Qf,Th)|0,Y=Y+Math.imul(Qf,$h)|0,Y=Y+Math.imul(Ko,Th)|0,Xr=Xr+Math.imul(Ko,$h)|0,ei=ei+Math.imul(Vf,Nh)|0,Y=Y+Math.imul(Vf,Ih)|0,Y=Y+Math.imul(Zo,Nh)|0,Xr=Xr+Math.imul(Zo,Ih)|0,ei=ei+Math.imul(Rh,Lh)|0,Y=Y+Math.imul(Rh,wh)|0,Y=Y+Math.imul(vh,Lh)|0,Xr=Xr+Math.imul(vh,wh)|0,ei=ei+Math.imul(Vo,qh)|0,Y=Y+Math.imul(Vo,_h)|0,Y=Y+Math.imul(tf,qh)|0,Xr=Xr+Math.imul(tf,_h)|0,ei=ei+Math.imul(ko,Dh)|0,Y=Y+Math.imul(ko,xh)|0,Y=Y+Math.imul(Uo,Dh)|0,Xr=Xr+Math.imul(Uo,xh)|0,ei=ei+Math.imul(An,Bh)|0,Y=Y+Math.imul(An,Eh)|0,Y=Y+Math.imul(an,Bh)|0,Xr=Xr+Math.imul(an,Eh)|0,ei=ei+Math.imul(uo,Ch)|0,Y=Y+Math.imul(uo,Mh)|0,Y=Y+Math.imul(un,Ch)|0,Xr=Xr+Math.imul(un,Mh)|0,ei=ei+Math.imul(Mn,Oh)|0,Y=Y+Math.imul(Mn,Ah)|0,Y=Y+Math.imul(Bn,Oh)|0,Xr=Xr+Math.imul(Bn,Ah)|0;var gc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(gc>>>26)|0,gc&=67108863,ei=Math.imul(bh,Sh),Y=Math.imul(bh,ph),Y=Y+Math.imul(jf,Sh)|0,Xr=Math.imul(jf,ph),ei=ei+Math.imul(Xf,Th)|0,Y=Y+Math.imul(Xf,$h)|0,Y=Y+Math.imul(Lf,Th)|0,Xr=Xr+Math.imul(Lf,$h)|0,ei=ei+Math.imul(Qf,Nh)|0,Y=Y+Math.imul(Qf,Ih)|0,Y=Y+Math.imul(Ko,Nh)|0,Xr=Xr+Math.imul(Ko,Ih)|0,ei=ei+Math.imul(Vf,Lh)|0,Y=Y+Math.imul(Vf,wh)|0,Y=Y+Math.imul(Zo,Lh)|0,Xr=Xr+Math.imul(Zo,wh)|0,ei=ei+Math.imul(Rh,qh)|0,Y=Y+Math.imul(Rh,_h)|0,Y=Y+Math.imul(vh,qh)|0,Xr=Xr+Math.imul(vh,_h)|0,ei=ei+Math.imul(Vo,Dh)|0,Y=Y+Math.imul(Vo,xh)|0,Y=Y+Math.imul(tf,Dh)|0,Xr=Xr+Math.imul(tf,xh)|0,ei=ei+Math.imul(ko,Bh)|0,Y=Y+Math.imul(ko,Eh)|0,Y=Y+Math.imul(Uo,Bh)|0,Xr=Xr+Math.imul(Uo,Eh)|0,ei=ei+Math.imul(An,Ch)|0,Y=Y+Math.imul(An,Mh)|0,Y=Y+Math.imul(an,Ch)|0,Xr=Xr+Math.imul(an,Mh)|0,ei=ei+Math.imul(uo,Oh)|0,Y=Y+Math.imul(uo,Ah)|0,Y=Y+Math.imul(un,Oh)|0,Xr=Xr+Math.imul(un,Ah)|0,ei=ei+Math.imul(Mn,jh)|0,Y=Y+Math.imul(Mn,Ph)|0,Y=Y+Math.imul(Bn,jh)|0,Xr=Xr+Math.imul(Bn,Ph)|0;var dc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(dc>>>26)|0,dc&=67108863,ei=Math.imul(bh,Th),Y=Math.imul(bh,$h),Y=Y+Math.imul(jf,Th)|0,Xr=Math.imul(jf,$h),ei=ei+Math.imul(Xf,Nh)|0,Y=Y+Math.imul(Xf,Ih)|0,Y=Y+Math.imul(Lf,Nh)|0,Xr=Xr+Math.imul(Lf,Ih)|0,ei=ei+Math.imul(Qf,Lh)|0,Y=Y+Math.imul(Qf,wh)|0,Y=Y+Math.imul(Ko,Lh)|0,Xr=Xr+Math.imul(Ko,wh)|0,ei=ei+Math.imul(Vf,qh)|0,Y=Y+Math.imul(Vf,_h)|0,Y=Y+Math.imul(Zo,qh)|0,Xr=Xr+Math.imul(Zo,_h)|0,ei=ei+Math.imul(Rh,Dh)|0,Y=Y+Math.imul(Rh,xh)|0,Y=Y+Math.imul(vh,Dh)|0,Xr=Xr+Math.imul(vh,xh)|0,ei=ei+Math.imul(Vo,Bh)|0,Y=Y+Math.imul(Vo,Eh)|0,Y=Y+Math.imul(tf,Bh)|0,Xr=Xr+Math.imul(tf,Eh)|0,ei=ei+Math.imul(ko,Ch)|0,Y=Y+Math.imul(ko,Mh)|0,Y=Y+Math.imul(Uo,Ch)|0,Xr=Xr+Math.imul(Uo,Mh)|0,ei=ei+Math.imul(An,Oh)|0,Y=Y+Math.imul(An,Ah)|0,Y=Y+Math.imul(an,Oh)|0,Xr=Xr+Math.imul(an,Ah)|0,ei=ei+Math.imul(uo,jh)|0,Y=Y+Math.imul(uo,Ph)|0,Y=Y+Math.imul(un,jh)|0,Xr=Xr+Math.imul(un,Ph)|0;var bc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(bc>>>26)|0,bc&=67108863,ei=Math.imul(bh,Nh),Y=Math.imul(bh,Ih),Y=Y+Math.imul(jf,Nh)|0,Xr=Math.imul(jf,Ih),ei=ei+Math.imul(Xf,Lh)|0,Y=Y+Math.imul(Xf,wh)|0,Y=Y+Math.imul(Lf,Lh)|0,Xr=Xr+Math.imul(Lf,wh)|0,ei=ei+Math.imul(Qf,qh)|0,Y=Y+Math.imul(Qf,_h)|0,Y=Y+Math.imul(Ko,qh)|0,Xr=Xr+Math.imul(Ko,_h)|0,ei=ei+Math.imul(Vf,Dh)|0,Y=Y+Math.imul(Vf,xh)|0,Y=Y+Math.imul(Zo,Dh)|0,Xr=Xr+Math.imul(Zo,xh)|0,ei=ei+Math.imul(Rh,Bh)|0,Y=Y+Math.imul(Rh,Eh)|0,Y=Y+Math.imul(vh,Bh)|0,Xr=Xr+Math.imul(vh,Eh)|0,ei=ei+Math.imul(Vo,Ch)|0,Y=Y+Math.imul(Vo,Mh)|0,Y=Y+Math.imul(tf,Ch)|0,Xr=Xr+Math.imul(tf,Mh)|0,ei=ei+Math.imul(ko,Oh)|0,Y=Y+Math.imul(ko,Ah)|0,Y=Y+Math.imul(Uo,Oh)|0,Xr=Xr+Math.imul(Uo,Ah)|0,ei=ei+Math.imul(An,jh)|0,Y=Y+Math.imul(An,Ph)|0,Y=Y+Math.imul(an,jh)|0,Xr=Xr+Math.imul(an,Ph)|0;var yc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(yc>>>26)|0,yc&=67108863,ei=Math.imul(bh,Lh),Y=Math.imul(bh,wh),Y=Y+Math.imul(jf,Lh)|0,Xr=Math.imul(jf,wh),ei=ei+Math.imul(Xf,qh)|0,Y=Y+Math.imul(Xf,_h)|0,Y=Y+Math.imul(Lf,qh)|0,Xr=Xr+Math.imul(Lf,_h)|0,ei=ei+Math.imul(Qf,Dh)|0,Y=Y+Math.imul(Qf,xh)|0,Y=Y+Math.imul(Ko,Dh)|0,Xr=Xr+Math.imul(Ko,xh)|0,ei=ei+Math.imul(Vf,Bh)|0,Y=Y+Math.imul(Vf,Eh)|0,Y=Y+Math.imul(Zo,Bh)|0,Xr=Xr+Math.imul(Zo,Eh)|0,ei=ei+Math.imul(Rh,Ch)|0,Y=Y+Math.imul(Rh,Mh)|0,Y=Y+Math.imul(vh,Ch)|0,Xr=Xr+Math.imul(vh,Mh)|0,ei=ei+Math.imul(Vo,Oh)|0,Y=Y+Math.imul(Vo,Ah)|0,Y=Y+Math.imul(tf,Oh)|0,Xr=Xr+Math.imul(tf,Ah)|0,ei=ei+Math.imul(ko,jh)|0,Y=Y+Math.imul(ko,Ph)|0,Y=Y+Math.imul(Uo,jh)|0,Xr=Xr+Math.imul(Uo,Ph)|0;var pc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(pc>>>26)|0,pc&=67108863,ei=Math.imul(bh,qh),Y=Math.imul(bh,_h),Y=Y+Math.imul(jf,qh)|0,Xr=Math.imul(jf,_h),ei=ei+Math.imul(Xf,Dh)|0,Y=Y+Math.imul(Xf,xh)|0,Y=Y+Math.imul(Lf,Dh)|0,Xr=Xr+Math.imul(Lf,xh)|0,ei=ei+Math.imul(Qf,Bh)|0,Y=Y+Math.imul(Qf,Eh)|0,Y=Y+Math.imul(Ko,Bh)|0,Xr=Xr+Math.imul(Ko,Eh)|0,ei=ei+Math.imul(Vf,Ch)|0,Y=Y+Math.imul(Vf,Mh)|0,Y=Y+Math.imul(Zo,Ch)|0,Xr=Xr+Math.imul(Zo,Mh)|0,ei=ei+Math.imul(Rh,Oh)|0,Y=Y+Math.imul(Rh,Ah)|0,Y=Y+Math.imul(vh,Oh)|0,Xr=Xr+Math.imul(vh,Ah)|0,ei=ei+Math.imul(Vo,jh)|0,Y=Y+Math.imul(Vo,Ph)|0,Y=Y+Math.imul(tf,jh)|0,Xr=Xr+Math.imul(tf,Ph)|0;var vc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(vc>>>26)|0,vc&=67108863,ei=Math.imul(bh,Dh),Y=Math.imul(bh,xh),Y=Y+Math.imul(jf,Dh)|0,Xr=Math.imul(jf,xh),ei=ei+Math.imul(Xf,Bh)|0,Y=Y+Math.imul(Xf,Eh)|0,Y=Y+Math.imul(Lf,Bh)|0,Xr=Xr+Math.imul(Lf,Eh)|0,ei=ei+Math.imul(Qf,Ch)|0,Y=Y+Math.imul(Qf,Mh)|0,Y=Y+Math.imul(Ko,Ch)|0,Xr=Xr+Math.imul(Ko,Mh)|0,ei=ei+Math.imul(Vf,Oh)|0,Y=Y+Math.imul(Vf,Ah)|0,Y=Y+Math.imul(Zo,Oh)|0,Xr=Xr+Math.imul(Zo,Ah)|0,ei=ei+Math.imul(Rh,jh)|0,Y=Y+Math.imul(Rh,Ph)|0,Y=Y+Math.imul(vh,jh)|0,Xr=Xr+Math.imul(vh,Ph)|0;var mc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(mc>>>26)|0,mc&=67108863,ei=Math.imul(bh,Bh),Y=Math.imul(bh,Eh),Y=Y+Math.imul(jf,Bh)|0,Xr=Math.imul(jf,Eh),ei=ei+Math.imul(Xf,Ch)|0,Y=Y+Math.imul(Xf,Mh)|0,Y=Y+Math.imul(Lf,Ch)|0,Xr=Xr+Math.imul(Lf,Mh)|0,ei=ei+Math.imul(Qf,Oh)|0,Y=Y+Math.imul(Qf,Ah)|0,Y=Y+Math.imul(Ko,Oh)|0,Xr=Xr+Math.imul(Ko,Ah)|0,ei=ei+Math.imul(Vf,jh)|0,Y=Y+Math.imul(Vf,Ph)|0,Y=Y+Math.imul(Zo,jh)|0,Xr=Xr+Math.imul(Zo,Ph)|0;var tc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(tc>>>26)|0,tc&=67108863,ei=Math.imul(bh,Ch),Y=Math.imul(bh,Mh),Y=Y+Math.imul(jf,Ch)|0,Xr=Math.imul(jf,Mh),ei=ei+Math.imul(Xf,Oh)|0,Y=Y+Math.imul(Xf,Ah)|0,Y=Y+Math.imul(Lf,Oh)|0,Xr=Xr+Math.imul(Lf,Ah)|0,ei=ei+Math.imul(Qf,jh)|0,Y=Y+Math.imul(Qf,Ph)|0,Y=Y+Math.imul(Ko,jh)|0,Xr=Xr+Math.imul(Ko,Ph)|0;var wc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(wc>>>26)|0,wc&=67108863,ei=Math.imul(bh,Oh),Y=Math.imul(bh,Ah),Y=Y+Math.imul(jf,Oh)|0,Xr=Math.imul(jf,Ah),ei=ei+Math.imul(Xf,jh)|0,Y=Y+Math.imul(Xf,Ph)|0,Y=Y+Math.imul(Lf,jh)|0,Xr=Xr+Math.imul(Lf,Ph)|0;var _c=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(_c>>>26)|0,_c&=67108863,ei=Math.imul(bh,jh),Y=Math.imul(bh,Ph),Y=Y+Math.imul(jf,jh)|0,Xr=Math.imul(jf,Ph);var Mc=(oi+ei|0)+((Y&8191)<<13)|0;return oi=(Xr+(Y>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,ii[0]=Uu,ii[1]=nc,ii[2]=sc,ii[3]=ac,ii[4]=oc,ii[5]=fc,ii[6]=$0,ii[7]=lc,ii[8]=gc,ii[9]=dc,ii[10]=bc,ii[11]=yc,ii[12]=pc,ii[13]=vc,ii[14]=mc,ii[15]=tc,ii[16]=wc,ii[17]=_c,ii[18]=Mc,oi!==0&&(ii[19]=oi,Br.length++),Br};Math.imul||(sn=$i);function ln(ui,H,X){X.negative=H.negative^ui.negative,X.length=ui.length+H.length;for(var Br=0,Wr=0,ri=0;ri<X.length-1;ri++){var ii=Wr;Wr=0;for(var oi=Br&67108863,ei=Math.min(ri,H.length-1),Y=Math.max(0,ri-ui.length+1);Y<=ei;Y++){var Xr=ri-Y,on=ui.words[Xr]|0,Mn=H.words[Y]|0,Bn=on*Mn,fn=Bn&67108863;ii=ii+(Bn/67108864|0)|0,fn=fn+oi|0,oi=fn&67108863,ii=ii+(fn>>>26)|0,Wr+=ii>>>26,ii&=67108863}X.words[ri]=oi,Br=ii,ii=Wr}return Br!==0?X.words[ri]=Br:X.length--,X.strip()}function mn(ui,H,X){var Br=new cn;return Br.mulp(ui,H,X)}Ie.prototype.mulTo=function(H,X){var Br,Wr=this.length+H.length;return this.length===10&&H.length===10?Br=sn(this,H,X):Wr<63?Br=$i(this,H,X):Wr<1024?Br=ln(this,H,X):Br=mn(this,H,X),Br};function cn(ui,H){this.x=ui,this.y=H}cn.prototype.makeRBT=function(H){for(var X=new Array(H),Br=Ie.prototype._countBits(H)-1,Wr=0;Wr<H;Wr++)X[Wr]=this.revBin(Wr,Br,H);return X},cn.prototype.revBin=function(H,X,Br){if(H===0||H===Br-1)return H;for(var Wr=0,ri=0;ri<X;ri++)Wr|=(H&1)<<X-ri-1,H>>=1;return Wr},cn.prototype.permute=function(H,X,Br,Wr,ri,ii){for(var oi=0;oi<ii;oi++)Wr[oi]=X[H[oi]],ri[oi]=Br[H[oi]]},cn.prototype.transform=function(H,X,Br,Wr,ri,ii){this.permute(ii,H,X,Br,Wr,ri);for(var oi=1;oi<ri;oi<<=1)for(var ei=oi<<1,Y=Math.cos(2*Math.PI/ei),Xr=Math.sin(2*Math.PI/ei),on=0;on<ri;on+=ei)for(var Mn=Y,Bn=Xr,fn=0;fn<oi;fn++){var uo=Br[on+fn],un=Wr[on+fn],gn=Br[on+fn+oi],An=Wr[on+fn+oi],an=Mn*gn-Bn*An;An=Mn*An+Bn*gn,gn=an,Br[on+fn]=uo+gn,Wr[on+fn]=un+An,Br[on+fn+oi]=uo-gn,Wr[on+fn+oi]=un-An,fn!==ei&&(an=Y*Mn-Xr*Bn,Bn=Y*Bn+Xr*Mn,Mn=an)}},cn.prototype.guessLen13b=function(H,X){var Br=Math.max(X,H)|1,Wr=Br&1,ri=0;for(Br=Br/2|0;Br;Br=Br>>>1)ri++;return 1<<ri+1+Wr},cn.prototype.conjugate=function(H,X,Br){if(!(Br<=1))for(var Wr=0;Wr<Br/2;Wr++){var ri=H[Wr];H[Wr]=H[Br-Wr-1],H[Br-Wr-1]=ri,ri=X[Wr],X[Wr]=-X[Br-Wr-1],X[Br-Wr-1]=-ri}},cn.prototype.normalize13b=function(H,X){for(var Br=0,Wr=0;Wr<X/2;Wr++){var ri=Math.round(H[2*Wr+1]/X)*8192+Math.round(H[2*Wr]/X)+Br;H[Wr]=ri&67108863,ri<67108864?Br=0:Br=ri/67108864|0}return H},cn.prototype.convert13b=function(H,X,Br,Wr){for(var ri=0,ii=0;ii<X;ii++)ri=ri+(H[ii]|0),Br[2*ii]=ri&8191,ri=ri>>>13,Br[2*ii+1]=ri&8191,ri=ri>>>13;for(ii=2*X;ii<Wr;++ii)Br[ii]=0;Te(ri===0),Te((ri&-8192)===0)},cn.prototype.stub=function(H){for(var X=new Array(H),Br=0;Br<H;Br++)X[Br]=0;return X},cn.prototype.mulp=function(H,X,Br){var Wr=2*this.guessLen13b(H.length,X.length),ri=this.makeRBT(Wr),ii=this.stub(Wr),oi=new Array(Wr),ei=new Array(Wr),Y=new Array(Wr),Xr=new Array(Wr),on=new Array(Wr),Mn=new Array(Wr),Bn=Br.words;Bn.length=Wr,this.convert13b(H.words,H.length,oi,Wr),this.convert13b(X.words,X.length,Xr,Wr),this.transform(oi,ii,ei,Y,Wr,ri),this.transform(Xr,ii,on,Mn,Wr,ri);for(var fn=0;fn<Wr;fn++){var uo=ei[fn]*on[fn]-Y[fn]*Mn[fn];Y[fn]=ei[fn]*Mn[fn]+Y[fn]*on[fn],ei[fn]=uo}return this.conjugate(ei,Y,Wr),this.transform(ei,Y,Bn,ii,Wr,ri),this.conjugate(Bn,ii,Wr),this.normalize13b(Bn,Wr),Br.negative=H.negative^X.negative,Br.length=H.length+X.length,Br.strip()},Ie.prototype.mul=function(H){var X=new Ie(null);return X.words=new Array(this.length+H.length),this.mulTo(H,X)},Ie.prototype.mulf=function(H){var X=new Ie(null);return X.words=new Array(this.length+H.length),mn(this,H,X)},Ie.prototype.imul=function(H){return this.clone().mulTo(H,this)},Ie.prototype.imuln=function(H){Te(typeof H=="number"),Te(H<67108864);for(var X=0,Br=0;Br<this.length;Br++){var Wr=(this.words[Br]|0)*H,ri=(Wr&67108863)+(X&67108863);X>>=26,X+=Wr/67108864|0,X+=ri>>>26,this.words[Br]=ri&67108863}return X!==0&&(this.words[Br]=X,this.length++),this},Ie.prototype.muln=function(H){return this.clone().imuln(H)},Ie.prototype.sqr=function(){return this.mul(this)},Ie.prototype.isqr=function(){return this.imul(this.clone())},Ie.prototype.pow=function(H){var X=di(H);if(X.length===0)return new Ie(1);for(var Br=this,Wr=0;Wr<X.length&&X[Wr]===0;Wr++,Br=Br.sqr());if(++Wr<X.length)for(var ri=Br.sqr();Wr<X.length;Wr++,ri=ri.sqr())X[Wr]!==0&&(Br=Br.mul(ri));return Br},Ie.prototype.iushln=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26,Wr=67108863>>>26-X<<26-X,ri;if(X!==0){var ii=0;for(ri=0;ri<this.length;ri++){var oi=this.words[ri]&Wr,ei=(this.words[ri]|0)-oi<<X;this.words[ri]=ei|ii,ii=oi>>>26-X}ii&&(this.words[ri]=ii,this.length++)}if(Br!==0){for(ri=this.length-1;ri>=0;ri--)this.words[ri+Br]=this.words[ri];for(ri=0;ri<Br;ri++)this.words[ri]=0;this.length+=Br}return this.strip()},Ie.prototype.ishln=function(H){return Te(this.negative===0),this.iushln(H)},Ie.prototype.iushrn=function(H,X,Br){Te(typeof H=="number"&&H>=0);var Wr;X?Wr=(X-X%26)/26:Wr=0;var ri=H%26,ii=Math.min((H-ri)/26,this.length),oi=67108863^67108863>>>ri<<ri,ei=Br;if(Wr-=ii,Wr=Math.max(0,Wr),ei){for(var Y=0;Y<ii;Y++)ei.words[Y]=this.words[Y];ei.length=ii}if(ii!==0)if(this.length>ii)for(this.length-=ii,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+ii];else this.words[0]=0,this.length=1;var Xr=0;for(Y=this.length-1;Y>=0&&(Xr!==0||Y>=Wr);Y--){var on=this.words[Y]|0;this.words[Y]=Xr<<26-ri|on>>>ri,Xr=on&oi}return ei&&Xr!==0&&(ei.words[ei.length++]=Xr),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ie.prototype.ishrn=function(H,X,Br){return Te(this.negative===0),this.iushrn(H,X,Br)},Ie.prototype.shln=function(H){return this.clone().ishln(H)},Ie.prototype.ushln=function(H){return this.clone().iushln(H)},Ie.prototype.shrn=function(H){return this.clone().ishrn(H)},Ie.prototype.ushrn=function(H){return this.clone().iushrn(H)},Ie.prototype.testn=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26,Wr=1<<X;if(this.length<=Br)return!1;var ri=this.words[Br];return!!(ri&Wr)},Ie.prototype.imaskn=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26;if(Te(this.negative===0,"imaskn works only with positive numbers"),this.length<=Br)return this;if(X!==0&&Br++,this.length=Math.min(Br,this.length),X!==0){var Wr=67108863^67108863>>>X<<X;this.words[this.length-1]&=Wr}return this.strip()},Ie.prototype.maskn=function(H){return this.clone().imaskn(H)},Ie.prototype.iaddn=function(H){return Te(typeof H=="number"),Te(H<67108864),H<0?this.isubn(-H):this.negative!==0?this.length===1&&(this.words[0]|0)<H?(this.words[0]=H-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(H),this.negative=1,this):this._iaddn(H)},Ie.prototype._iaddn=function(H){this.words[0]+=H;for(var X=0;X<this.length&&this.words[X]>=67108864;X++)this.words[X]-=67108864,X===this.length-1?this.words[X+1]=1:this.words[X+1]++;return this.length=Math.max(this.length,X+1),this},Ie.prototype.isubn=function(H){if(Te(typeof H=="number"),Te(H<67108864),H<0)return this.iaddn(-H);if(this.negative!==0)return this.negative=0,this.iaddn(H),this.negative=1,this;if(this.words[0]-=H,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var X=0;X<this.length&&this.words[X]<0;X++)this.words[X]+=67108864,this.words[X+1]-=1;return this.strip()},Ie.prototype.addn=function(H){return this.clone().iaddn(H)},Ie.prototype.subn=function(H){return this.clone().isubn(H)},Ie.prototype.iabs=function(){return this.negative=0,this},Ie.prototype.abs=function(){return this.clone().iabs()},Ie.prototype._ishlnsubmul=function(H,X,Br){var Wr=H.length+Br,ri;this._expand(Wr);var ii,oi=0;for(ri=0;ri<H.length;ri++){ii=(this.words[ri+Br]|0)+oi;var ei=(H.words[ri]|0)*X;ii-=ei&67108863,oi=(ii>>26)-(ei/67108864|0),this.words[ri+Br]=ii&67108863}for(;ri<this.length-Br;ri++)ii=(this.words[ri+Br]|0)+oi,oi=ii>>26,this.words[ri+Br]=ii&67108863;if(oi===0)return this.strip();for(Te(oi===-1),oi=0,ri=0;ri<this.length;ri++)ii=-(this.words[ri]|0)+oi,oi=ii>>26,this.words[ri]=ii&67108863;return this.negative=1,this.strip()},Ie.prototype._wordDiv=function(H,X){var Br=this.length-H.length,Wr=this.clone(),ri=H,ii=ri.words[ri.length-1]|0,oi=this._countBits(ii);Br=26-oi,Br!==0&&(ri=ri.ushln(Br),Wr.iushln(Br),ii=ri.words[ri.length-1]|0);var ei=Wr.length-ri.length,Y;if(X!=="mod"){Y=new Ie(null),Y.length=ei+1,Y.words=new Array(Y.length);for(var Xr=0;Xr<Y.length;Xr++)Y.words[Xr]=0}var on=Wr.clone()._ishlnsubmul(ri,1,ei);on.negative===0&&(Wr=on,Y&&(Y.words[ei]=1));for(var Mn=ei-1;Mn>=0;Mn--){var Bn=(Wr.words[ri.length+Mn]|0)*67108864+(Wr.words[ri.length+Mn-1]|0);for(Bn=Math.min(Bn/ii|0,67108863),Wr._ishlnsubmul(ri,Bn,Mn);Wr.negative!==0;)Bn--,Wr.negative=0,Wr._ishlnsubmul(ri,1,Mn),Wr.isZero()||(Wr.negative^=1);Y&&(Y.words[Mn]=Bn)}return Y&&Y.strip(),Wr.strip(),X!=="div"&&Br!==0&&Wr.iushrn(Br),{div:Y||null,mod:Wr}},Ie.prototype.divmod=function(H,X,Br){if(Te(!H.isZero()),this.isZero())return{div:new Ie(0),mod:new Ie(0)};var Wr,ri,ii;return this.negative!==0&&H.negative===0?(ii=this.neg().divmod(H,X),X!=="mod"&&(Wr=ii.div.neg()),X!=="div"&&(ri=ii.mod.neg(),Br&&ri.negative!==0&&ri.iadd(H)),{div:Wr,mod:ri}):this.negative===0&&H.negative!==0?(ii=this.divmod(H.neg(),X),X!=="mod"&&(Wr=ii.div.neg()),{div:Wr,mod:ii.mod}):this.negative&H.negative?(ii=this.neg().divmod(H.neg(),X),X!=="div"&&(ri=ii.mod.neg(),Br&&ri.negative!==0&&ri.isub(H)),{div:ii.div,mod:ri}):H.length>this.length||this.cmp(H)<0?{div:new Ie(0),mod:this}:H.length===1?X==="div"?{div:this.divn(H.words[0]),mod:null}:X==="mod"?{div:null,mod:new Ie(this.modn(H.words[0]))}:{div:this.divn(H.words[0]),mod:new Ie(this.modn(H.words[0]))}:this._wordDiv(H,X)},Ie.prototype.div=function(H){return this.divmod(H,"div",!1).div},Ie.prototype.mod=function(H){return this.divmod(H,"mod",!1).mod},Ie.prototype.umod=function(H){return this.divmod(H,"mod",!0).mod},Ie.prototype.divRound=function(H){var X=this.divmod(H);if(X.mod.isZero())return X.div;var Br=X.div.negative!==0?X.mod.isub(H):X.mod,Wr=H.ushrn(1),ri=H.andln(1),ii=Br.cmp(Wr);return ii<0||ri===1&&ii===0?X.div:X.div.negative!==0?X.div.isubn(1):X.div.iaddn(1)},Ie.prototype.modn=function(H){Te(H<=67108863);for(var X=(1<<26)%H,Br=0,Wr=this.length-1;Wr>=0;Wr--)Br=(X*Br+(this.words[Wr]|0))%H;return Br},Ie.prototype.idivn=function(H){Te(H<=67108863);for(var X=0,Br=this.length-1;Br>=0;Br--){var Wr=(this.words[Br]|0)+X*67108864;this.words[Br]=Wr/H|0,X=Wr%H}return this.strip()},Ie.prototype.divn=function(H){return this.clone().idivn(H)},Ie.prototype.egcd=function(H){Te(H.negative===0),Te(!H.isZero());var X=this,Br=H.clone();X.negative!==0?X=X.umod(H):X=X.clone();for(var Wr=new Ie(1),ri=new Ie(0),ii=new Ie(0),oi=new Ie(1),ei=0;X.isEven()&&Br.isEven();)X.iushrn(1),Br.iushrn(1),++ei;for(var Y=Br.clone(),Xr=X.clone();!X.isZero();){for(var on=0,Mn=1;!(X.words[0]&Mn)&&on<26;++on,Mn<<=1);if(on>0)for(X.iushrn(on);on-- >0;)(Wr.isOdd()||ri.isOdd())&&(Wr.iadd(Y),ri.isub(Xr)),Wr.iushrn(1),ri.iushrn(1);for(var Bn=0,fn=1;!(Br.words[0]&fn)&&Bn<26;++Bn,fn<<=1);if(Bn>0)for(Br.iushrn(Bn);Bn-- >0;)(ii.isOdd()||oi.isOdd())&&(ii.iadd(Y),oi.isub(Xr)),ii.iushrn(1),oi.iushrn(1);X.cmp(Br)>=0?(X.isub(Br),Wr.isub(ii),ri.isub(oi)):(Br.isub(X),ii.isub(Wr),oi.isub(ri))}return{a:ii,b:oi,gcd:Br.iushln(ei)}},Ie.prototype._invmp=function(H){Te(H.negative===0),Te(!H.isZero());var X=this,Br=H.clone();X.negative!==0?X=X.umod(H):X=X.clone();for(var Wr=new Ie(1),ri=new Ie(0),ii=Br.clone();X.cmpn(1)>0&&Br.cmpn(1)>0;){for(var oi=0,ei=1;!(X.words[0]&ei)&&oi<26;++oi,ei<<=1);if(oi>0)for(X.iushrn(oi);oi-- >0;)Wr.isOdd()&&Wr.iadd(ii),Wr.iushrn(1);for(var Y=0,Xr=1;!(Br.words[0]&Xr)&&Y<26;++Y,Xr<<=1);if(Y>0)for(Br.iushrn(Y);Y-- >0;)ri.isOdd()&&ri.iadd(ii),ri.iushrn(1);X.cmp(Br)>=0?(X.isub(Br),Wr.isub(ri)):(Br.isub(X),ri.isub(Wr))}var on;return X.cmpn(1)===0?on=Wr:on=ri,on.cmpn(0)<0&&on.iadd(H),on},Ie.prototype.gcd=function(H){if(this.isZero())return H.abs();if(H.isZero())return this.abs();var X=this.clone(),Br=H.clone();X.negative=0,Br.negative=0;for(var Wr=0;X.isEven()&&Br.isEven();Wr++)X.iushrn(1),Br.iushrn(1);do{for(;X.isEven();)X.iushrn(1);for(;Br.isEven();)Br.iushrn(1);var ri=X.cmp(Br);if(ri<0){var ii=X;X=Br,Br=ii}else if(ri===0||Br.cmpn(1)===0)break;X.isub(Br)}while(!0);return Br.iushln(Wr)},Ie.prototype.invm=function(H){return this.egcd(H).a.umod(H)},Ie.prototype.isEven=function(){return(this.words[0]&1)===0},Ie.prototype.isOdd=function(){return(this.words[0]&1)===1},Ie.prototype.andln=function(H){return this.words[0]&H},Ie.prototype.bincn=function(H){Te(typeof H=="number");var X=H%26,Br=(H-X)/26,Wr=1<<X;if(this.length<=Br)return this._expand(Br+1),this.words[Br]|=Wr,this;for(var ri=Wr,ii=Br;ri!==0&&ii<this.length;ii++){var oi=this.words[ii]|0;oi+=ri,ri=oi>>>26,oi&=67108863,this.words[ii]=oi}return ri!==0&&(this.words[ii]=ri,this.length++),this},Ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ie.prototype.cmpn=function(H){var X=H<0;if(this.negative!==0&&!X)return-1;if(this.negative===0&&X)return 1;this.strip();var Br;if(this.length>1)Br=1;else{X&&(H=-H),Te(H<=67108863,"Number is too big");var Wr=this.words[0]|0;Br=Wr===H?0:Wr<H?-1:1}return this.negative!==0?-Br|0:Br},Ie.prototype.cmp=function(H){if(this.negative!==0&&H.negative===0)return-1;if(this.negative===0&&H.negative!==0)return 1;var X=this.ucmp(H);return this.negative!==0?-X|0:X},Ie.prototype.ucmp=function(H){if(this.length>H.length)return 1;if(this.length<H.length)return-1;for(var X=0,Br=this.length-1;Br>=0;Br--){var Wr=this.words[Br]|0,ri=H.words[Br]|0;if(Wr!==ri){Wr<ri?X=-1:Wr>ri&&(X=1);break}}return X},Ie.prototype.gtn=function(H){return this.cmpn(H)===1},Ie.prototype.gt=function(H){return this.cmp(H)===1},Ie.prototype.gten=function(H){return this.cmpn(H)>=0},Ie.prototype.gte=function(H){return this.cmp(H)>=0},Ie.prototype.ltn=function(H){return this.cmpn(H)===-1},Ie.prototype.lt=function(H){return this.cmp(H)===-1},Ie.prototype.lten=function(H){return this.cmpn(H)<=0},Ie.prototype.lte=function(H){return this.cmp(H)<=0},Ie.prototype.eqn=function(H){return this.cmpn(H)===0},Ie.prototype.eq=function(H){return this.cmp(H)===0},Ie.red=function(H){return new Do(H)},Ie.prototype.toRed=function(H){return Te(!this.red,"Already a number in reduction context"),Te(this.negative===0,"red works only with positives"),H.convertTo(this)._forceRed(H)},Ie.prototype.fromRed=function(){return Te(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ie.prototype._forceRed=function(H){return this.red=H,this},Ie.prototype.forceRed=function(H){return Te(!this.red,"Already a number in reduction context"),this._forceRed(H)},Ie.prototype.redAdd=function(H){return Te(this.red,"redAdd works only with red numbers"),this.red.add(this,H)},Ie.prototype.redIAdd=function(H){return Te(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,H)},Ie.prototype.redSub=function(H){return Te(this.red,"redSub works only with red numbers"),this.red.sub(this,H)},Ie.prototype.redISub=function(H){return Te(this.red,"redISub works only with red numbers"),this.red.isub(this,H)},Ie.prototype.redShl=function(H){return Te(this.red,"redShl works only with red numbers"),this.red.shl(this,H)},Ie.prototype.redMul=function(H){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.mul(this,H)},Ie.prototype.redIMul=function(H){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.imul(this,H)},Ie.prototype.redSqr=function(){return Te(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ie.prototype.redISqr=function(){return Te(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ie.prototype.redSqrt=function(){return Te(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ie.prototype.redInvm=function(){return Te(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ie.prototype.redNeg=function(){return Te(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ie.prototype.redPow=function(H){return Te(this.red&&!H.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,H)};var Rn={k256:null,p224:null,p192:null,p25519:null};function vn(ui,H){this.name=ui,this.p=new Ie(H,16),this.n=this.p.bitLength(),this.k=new Ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}vn.prototype._tmp=function(){var H=new Ie(null);return H.words=new Array(Math.ceil(this.n/13)),H},vn.prototype.ireduce=function(H){var X=H,Br;do this.split(X,this.tmp),X=this.imulK(X),X=X.iadd(this.tmp),Br=X.bitLength();while(Br>this.n);var Wr=Br<this.n?-1:X.ucmp(this.p);return Wr===0?(X.words[0]=0,X.length=1):Wr>0?X.isub(this.p):X.strip!==void 0?X.strip():X._strip(),X},vn.prototype.split=function(H,X){H.iushrn(this.n,0,X)},vn.prototype.imulK=function(H){return H.imul(this.k)};function Cn(){vn.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Zr(Cn,vn),Cn.prototype.split=function(H,X){for(var Br=4194303,Wr=Math.min(H.length,9),ri=0;ri<Wr;ri++)X.words[ri]=H.words[ri];if(X.length=Wr,H.length<=9){H.words[0]=0,H.length=1;return}var ii=H.words[9];for(X.words[X.length++]=ii&Br,ri=10;ri<H.length;ri++){var oi=H.words[ri]|0;H.words[ri-10]=(oi&Br)<<4|ii>>>22,ii=oi}ii>>>=22,H.words[ri-10]=ii,ii===0&&H.length>10?H.length-=10:H.length-=9},Cn.prototype.imulK=function(H){H.words[H.length]=0,H.words[H.length+1]=0,H.length+=2;for(var X=0,Br=0;Br<H.length;Br++){var Wr=H.words[Br]|0;X+=Wr*977,H.words[Br]=X&67108863,X=Wr*64+(X/67108864|0)}return H.words[H.length-1]===0&&(H.length--,H.words[H.length-1]===0&&H.length--),H};function ho(){vn.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Zr(ho,vn);function hn(){vn.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Zr(hn,vn);function Zn(){vn.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Zr(Zn,vn),Zn.prototype.imulK=function(H){for(var X=0,Br=0;Br<H.length;Br++){var Wr=(H.words[Br]|0)*19+X,ri=Wr&67108863;Wr>>>=26,H.words[Br]=ri,X=Wr}return X!==0&&(H.words[H.length++]=X),H},Ie._prime=function(H){if(Rn[H])return Rn[H];var X;if(H==="k256")X=new Cn;else if(H==="p224")X=new ho;else if(H==="p192")X=new hn;else if(H==="p25519")X=new Zn;else throw new Error("Unknown prime "+H);return Rn[H]=X,X};function Do(ui){if(typeof ui=="string"){var H=Ie._prime(ui);this.m=H.p,this.prime=H}else Te(ui.gtn(1),"modulus must be greater than 1"),this.m=ui,this.prime=null}Do.prototype._verify1=function(H){Te(H.negative===0,"red works only with positives"),Te(H.red,"red works only with red numbers")},Do.prototype._verify2=function(H,X){Te((H.negative|X.negative)===0,"red works only with positives"),Te(H.red&&H.red===X.red,"red works only with red numbers")},Do.prototype.imod=function(H){return this.prime?this.prime.ireduce(H)._forceRed(this):H.umod(this.m)._forceRed(this)},Do.prototype.neg=function(H){return H.isZero()?H.clone():this.m.sub(H)._forceRed(this)},Do.prototype.add=function(H,X){this._verify2(H,X);var Br=H.add(X);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br._forceRed(this)},Do.prototype.iadd=function(H,X){this._verify2(H,X);var Br=H.iadd(X);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br},Do.prototype.sub=function(H,X){this._verify2(H,X);var Br=H.sub(X);return Br.cmpn(0)<0&&Br.iadd(this.m),Br._forceRed(this)},Do.prototype.isub=function(H,X){this._verify2(H,X);var Br=H.isub(X);return Br.cmpn(0)<0&&Br.iadd(this.m),Br},Do.prototype.shl=function(H,X){return this._verify1(H),this.imod(H.ushln(X))},Do.prototype.imul=function(H,X){return this._verify2(H,X),this.imod(H.imul(X))},Do.prototype.mul=function(H,X){return this._verify2(H,X),this.imod(H.mul(X))},Do.prototype.isqr=function(H){return this.imul(H,H.clone())},Do.prototype.sqr=function(H){return this.mul(H,H)},Do.prototype.sqrt=function(H){if(H.isZero())return H.clone();var X=this.m.andln(3);if(Te(X%2===1),X===3){var Br=this.m.add(new Ie(1)).iushrn(2);return this.pow(H,Br)}for(var Wr=this.m.subn(1),ri=0;!Wr.isZero()&&Wr.andln(1)===0;)ri++,Wr.iushrn(1);Te(!Wr.isZero());var ii=new Ie(1).toRed(this),oi=ii.redNeg(),ei=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new Ie(2*Y*Y).toRed(this);this.pow(Y,ei).cmp(oi)!==0;)Y.redIAdd(oi);for(var Xr=this.pow(Y,Wr),on=this.pow(H,Wr.addn(1).iushrn(1)),Mn=this.pow(H,Wr),Bn=ri;Mn.cmp(ii)!==0;){for(var fn=Mn,uo=0;fn.cmp(ii)!==0;uo++)fn=fn.redSqr();Te(uo<Bn);var un=this.pow(Xr,new Ie(1).iushln(Bn-uo-1));on=on.redMul(un),Xr=un.redSqr(),Mn=Mn.redMul(Xr),Bn=uo}return on},Do.prototype.invm=function(H){var X=H._invmp(this.m);return X.negative!==0?(X.negative=0,this.imod(X).redNeg()):this.imod(X)},Do.prototype.pow=function(H,X){if(X.isZero())return new Ie(1).toRed(this);if(X.cmpn(1)===0)return H.clone();var Br=4,Wr=new Array(1<<Br);Wr[0]=new Ie(1).toRed(this),Wr[1]=H;for(var ri=2;ri<Wr.length;ri++)Wr[ri]=this.mul(Wr[ri-1],H);var ii=Wr[0],oi=0,ei=0,Y=X.bitLength()%26;for(Y===0&&(Y=26),ri=X.length-1;ri>=0;ri--){for(var Xr=X.words[ri],on=Y-1;on>=0;on--){var Mn=Xr>>on&1;if(ii!==Wr[0]&&(ii=this.sqr(ii)),Mn===0&&oi===0){ei=0;continue}oi<<=1,oi|=Mn,ei++,!(ei!==Br&&(ri!==0||on!==0))&&(ii=this.mul(ii,Wr[oi]),ei=0,oi=0)}Y=26}return ii},Do.prototype.convertTo=function(H){var X=H.umod(this.m);return X===H?X.clone():X},Do.prototype.convertFrom=function(H){var X=H.clone();return X.red=null,X},Ie.mont=function(H){return new Yo(H)};function Yo(ui){Do.call(this,ui),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Zr(Yo,Do),Yo.prototype.convertTo=function(H){return this.imod(H.ushln(this.shift))},Yo.prototype.convertFrom=function(H){var X=this.imod(H.mul(this.rinv));return X.red=null,X},Yo.prototype.imul=function(H,X){if(H.isZero()||X.isZero())return H.words[0]=0,H.length=1,H;var Br=H.imul(X),Wr=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ri=Br.isub(Wr).iushrn(this.shift),ii=ri;return ri.cmp(this.m)>=0?ii=ri.isub(this.m):ri.cmpn(0)<0&&(ii=ri.iadd(this.m)),ii._forceRed(this)},Yo.prototype.mul=function(H,X){if(H.isZero()||X.isZero())return new Ie(0)._forceRed(this);var Br=H.mul(X),Wr=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ri=Br.isub(Wr).iushrn(this.shift),ii=ri;return ri.cmp(this.m)>=0?ii=ri.isub(this.m):ri.cmpn(0)<0&&(ii=ri.iadd(this.m)),ii._forceRed(this)},Yo.prototype.invm=function(H){var X=this.imod(H._invmp(this.m).mul(this.r2));return X._forceRed(this)}})(te,commonjsGlobal)}(bn$2)),bn$2.exports}var browser$3,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$3;hasRequiredBrowser$2=1;var te=requireElliptic(),t=requireBn$1();browser$3=function(ni){return new Te(ni)};var G={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};G.p224=G.secp224r1,G.p256=G.secp256r1=G.prime256v1,G.p192=G.secp192r1=G.prime192v1,G.p384=G.secp384r1,G.p521=G.secp521r1;function Te(Ie){this.curveType=G[Ie],this.curveType||(this.curveType={name:Ie}),this.curve=new te.ec(this.curveType.name),this.keys=void 0}Te.prototype.generateKeys=function(Ie,ni){return this.keys=this.curve.genKeyPair(),this.getPublicKey(Ie,ni)},Te.prototype.computeSecret=function(Ie,ni,fi){ni=ni||"utf8",Buffer.isBuffer(Ie)||(Ie=new Buffer(Ie,ni));var ci=this.curve.keyFromPublic(Ie).getPublic(),ai=ci.mul(this.keys.getPrivate()).getX();return Zr(ai,fi,this.curveType.byteLength)},Te.prototype.getPublicKey=function(Ie,ni){var fi=this.keys.getPublic(ni==="compressed",!0);return ni==="hybrid"&&(fi[fi.length-1]%2?fi[0]=7:fi[0]=6),Zr(fi,Ie)},Te.prototype.getPrivateKey=function(Ie){return Zr(this.keys.getPrivate(),Ie)},Te.prototype.setPublicKey=function(Ie,ni){return ni=ni||"utf8",Buffer.isBuffer(Ie)||(Ie=new Buffer(Ie,ni)),this.keys._importPublic(Ie),this},Te.prototype.setPrivateKey=function(Ie,ni){ni=ni||"utf8",Buffer.isBuffer(Ie)||(Ie=new Buffer(Ie,ni));var fi=new t(Ie);return fi=fi.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(fi),this};function Zr(Ie,ni,fi){Array.isArray(Ie)||(Ie=Ie.toArray());var ci=new Buffer(Ie);if(fi&&ci.length<fi){var ai=new Buffer(fi-ci.length);ai.fill(0),ci=Buffer.concat([ai,ci])}return ni?ci.toString(ni):ci}return browser$3}var browser$2={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var te=requireBrowser$9(),t=safeBufferExports.Buffer;mgf=function(Te,Zr){for(var Ie=t.alloc(0),ni=0,fi;Ie.length<Zr;)fi=G(ni++),Ie=t.concat([Ie,te("sha1").update(Te).update(fi).digest()]);return Ie.slice(0,Zr)};function G(Te){var Zr=t.allocUnsafe(4);return Zr.writeUInt32BE(Te,0),Zr}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(t,G){for(var Te=t.length,Zr=-1;++Zr<Te;)t[Zr]^=G[Zr];return t}),xor}var bn$1={exports:{}};bn$1.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(te){(function(t,G){function Te(ui,H){if(!ui)throw new Error(H||"Assertion failed")}function Zr(ui,H){ui.super_=H;var X=function(){};X.prototype=H.prototype,ui.prototype=new X,ui.prototype.constructor=ui}function Ie(ui,H,X){if(Ie.isBN(ui))return ui;this.negative=0,this.words=null,this.length=0,this.red=null,ui!==null&&((H==="le"||H==="be")&&(X=H,H=10),this._init(ui||0,H||10,X||"be"))}typeof t=="object"?t.exports=Ie:G.BN=Ie,Ie.BN=Ie,Ie.wordSize=26;var ni;try{typeof window<"u"&&typeof window.Buffer<"u"?ni=window.Buffer:ni=require$$0$3.Buffer}catch{}Ie.isBN=function(H){return H instanceof Ie?!0:H!==null&&typeof H=="object"&&H.constructor.wordSize===Ie.wordSize&&Array.isArray(H.words)},Ie.max=function(H,X){return H.cmp(X)>0?H:X},Ie.min=function(H,X){return H.cmp(X)<0?H:X},Ie.prototype._init=function(H,X,Br){if(typeof H=="number")return this._initNumber(H,X,Br);if(typeof H=="object")return this._initArray(H,X,Br);X==="hex"&&(X=16),Te(X===(X|0)&&X>=2&&X<=36),H=H.toString().replace(/\s+/g,"");var Wr=0;H[0]==="-"&&(Wr++,this.negative=1),Wr<H.length&&(X===16?this._parseHex(H,Wr,Br):(this._parseBase(H,X,Wr),Br==="le"&&this._initArray(this.toArray(),X,Br)))},Ie.prototype._initNumber=function(H,X,Br){H<0&&(this.negative=1,H=-H),H<67108864?(this.words=[H&67108863],this.length=1):H<4503599627370496?(this.words=[H&67108863,H/67108864&67108863],this.length=2):(Te(H<9007199254740992),this.words=[H&67108863,H/67108864&67108863,1],this.length=3),Br==="le"&&this._initArray(this.toArray(),X,Br)},Ie.prototype._initArray=function(H,X,Br){if(Te(typeof H.length=="number"),H.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(H.length/3),this.words=new Array(this.length);for(var Wr=0;Wr<this.length;Wr++)this.words[Wr]=0;var ri,ii,oi=0;if(Br==="be")for(Wr=H.length-1,ri=0;Wr>=0;Wr-=3)ii=H[Wr]|H[Wr-1]<<8|H[Wr-2]<<16,this.words[ri]|=ii<<oi&67108863,this.words[ri+1]=ii>>>26-oi&67108863,oi+=24,oi>=26&&(oi-=26,ri++);else if(Br==="le")for(Wr=0,ri=0;Wr<H.length;Wr+=3)ii=H[Wr]|H[Wr+1]<<8|H[Wr+2]<<16,this.words[ri]|=ii<<oi&67108863,this.words[ri+1]=ii>>>26-oi&67108863,oi+=24,oi>=26&&(oi-=26,ri++);return this.strip()};function fi(ui,H){var X=ui.charCodeAt(H);return X>=65&&X<=70?X-55:X>=97&&X<=102?X-87:X-48&15}function ci(ui,H,X){var Br=fi(ui,X);return X-1>=H&&(Br|=fi(ui,X-1)<<4),Br}Ie.prototype._parseHex=function(H,X,Br){this.length=Math.ceil((H.length-X)/6),this.words=new Array(this.length);for(var Wr=0;Wr<this.length;Wr++)this.words[Wr]=0;var ri=0,ii=0,oi;if(Br==="be")for(Wr=H.length-1;Wr>=X;Wr-=2)oi=ci(H,X,Wr)<<ri,this.words[ii]|=oi&67108863,ri>=18?(ri-=18,ii+=1,this.words[ii]|=oi>>>26):ri+=8;else{var ei=H.length-X;for(Wr=ei%2===0?X+1:X;Wr<H.length;Wr+=2)oi=ci(H,X,Wr)<<ri,this.words[ii]|=oi&67108863,ri>=18?(ri-=18,ii+=1,this.words[ii]|=oi>>>26):ri+=8}this.strip()};function ai(ui,H,X,Br){for(var Wr=0,ri=Math.min(ui.length,X),ii=H;ii<ri;ii++){var oi=ui.charCodeAt(ii)-48;Wr*=Br,oi>=49?Wr+=oi-49+10:oi>=17?Wr+=oi-17+10:Wr+=oi}return Wr}Ie.prototype._parseBase=function(H,X,Br){this.words=[0],this.length=1;for(var Wr=0,ri=1;ri<=67108863;ri*=X)Wr++;Wr--,ri=ri/X|0;for(var ii=H.length-Br,oi=ii%Wr,ei=Math.min(ii,ii-oi)+Br,Y=0,Xr=Br;Xr<ei;Xr+=Wr)Y=ai(H,Xr,Xr+Wr,X),this.imuln(ri),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(oi!==0){var on=1;for(Y=ai(H,Xr,H.length,X),Xr=0;Xr<oi;Xr++)on*=X;this.imuln(on),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this.strip()},Ie.prototype.copy=function(H){H.words=new Array(this.length);for(var X=0;X<this.length;X++)H.words[X]=this.words[X];H.length=this.length,H.negative=this.negative,H.red=this.red},Ie.prototype.clone=function(){var H=new Ie(null);return this.copy(H),H},Ie.prototype._expand=function(H){for(;this.length<H;)this.words[this.length++]=0;return this},Ie.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ie.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var si=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],li=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],mi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ie.prototype.toString=function(H,X){H=H||10,X=X|0||1;var Br;if(H===16||H==="hex"){Br="";for(var Wr=0,ri=0,ii=0;ii<this.length;ii++){var oi=this.words[ii],ei=((oi<<Wr|ri)&16777215).toString(16);ri=oi>>>24-Wr&16777215,ri!==0||ii!==this.length-1?Br=si[6-ei.length]+ei+Br:Br=ei+Br,Wr+=2,Wr>=26&&(Wr-=26,ii--)}for(ri!==0&&(Br=ri.toString(16)+Br);Br.length%X!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}if(H===(H|0)&&H>=2&&H<=36){var Y=li[H],Xr=mi[H];Br="";var on=this.clone();for(on.negative=0;!on.isZero();){var Mn=on.modn(Xr).toString(H);on=on.idivn(Xr),on.isZero()?Br=Mn+Br:Br=si[Y-Mn.length]+Mn+Br}for(this.isZero()&&(Br="0"+Br);Br.length%X!==0;)Br="0"+Br;return this.negative!==0&&(Br="-"+Br),Br}Te(!1,"Base should be between 2 and 36")},Ie.prototype.toNumber=function(){var H=this.words[0];return this.length===2?H+=this.words[1]*67108864:this.length===3&&this.words[2]===1?H+=4503599627370496+this.words[1]*67108864:this.length>2&&Te(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-H:H},Ie.prototype.toJSON=function(){return this.toString(16)},Ie.prototype.toBuffer=function(H,X){return Te(typeof ni<"u"),this.toArrayLike(ni,H,X)},Ie.prototype.toArray=function(H,X){return this.toArrayLike(Array,H,X)},Ie.prototype.toArrayLike=function(H,X,Br){var Wr=this.byteLength(),ri=Br||Math.max(1,Wr);Te(Wr<=ri,"byte array longer than desired length"),Te(ri>0,"Requested array length <= 0"),this.strip();var ii=X==="le",oi=new H(ri),ei,Y,Xr=this.clone();if(ii){for(Y=0;!Xr.isZero();Y++)ei=Xr.andln(255),Xr.iushrn(8),oi[Y]=ei;for(;Y<ri;Y++)oi[Y]=0}else{for(Y=0;Y<ri-Wr;Y++)oi[Y]=0;for(Y=0;!Xr.isZero();Y++)ei=Xr.andln(255),Xr.iushrn(8),oi[ri-Y-1]=ei}return oi},Math.clz32?Ie.prototype._countBits=function(H){return 32-Math.clz32(H)}:Ie.prototype._countBits=function(H){var X=H,Br=0;return X>=4096&&(Br+=13,X>>>=13),X>=64&&(Br+=7,X>>>=7),X>=8&&(Br+=4,X>>>=4),X>=2&&(Br+=2,X>>>=2),Br+X},Ie.prototype._zeroBits=function(H){if(H===0)return 26;var X=H,Br=0;return X&8191||(Br+=13,X>>>=13),X&127||(Br+=7,X>>>=7),X&15||(Br+=4,X>>>=4),X&3||(Br+=2,X>>>=2),X&1||Br++,Br},Ie.prototype.bitLength=function(){var H=this.words[this.length-1],X=this._countBits(H);return(this.length-1)*26+X};function di(ui){for(var H=new Array(ui.bitLength()),X=0;X<H.length;X++){var Br=X/26|0,Wr=X%26;H[X]=(ui.words[Br]&1<<Wr)>>>Wr}return H}Ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var H=0,X=0;X<this.length;X++){var Br=this._zeroBits(this.words[X]);if(H+=Br,Br!==26)break}return H},Ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ie.prototype.toTwos=function(H){return this.negative!==0?this.abs().inotn(H).iaddn(1):this.clone()},Ie.prototype.fromTwos=function(H){return this.testn(H-1)?this.notn(H).iaddn(1).ineg():this.clone()},Ie.prototype.isNeg=function(){return this.negative!==0},Ie.prototype.neg=function(){return this.clone().ineg()},Ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ie.prototype.iuor=function(H){for(;this.length<H.length;)this.words[this.length++]=0;for(var X=0;X<H.length;X++)this.words[X]=this.words[X]|H.words[X];return this.strip()},Ie.prototype.ior=function(H){return Te((this.negative|H.negative)===0),this.iuor(H)},Ie.prototype.or=function(H){return this.length>H.length?this.clone().ior(H):H.clone().ior(this)},Ie.prototype.uor=function(H){return this.length>H.length?this.clone().iuor(H):H.clone().iuor(this)},Ie.prototype.iuand=function(H){var X;this.length>H.length?X=H:X=this;for(var Br=0;Br<X.length;Br++)this.words[Br]=this.words[Br]&H.words[Br];return this.length=X.length,this.strip()},Ie.prototype.iand=function(H){return Te((this.negative|H.negative)===0),this.iuand(H)},Ie.prototype.and=function(H){return this.length>H.length?this.clone().iand(H):H.clone().iand(this)},Ie.prototype.uand=function(H){return this.length>H.length?this.clone().iuand(H):H.clone().iuand(this)},Ie.prototype.iuxor=function(H){var X,Br;this.length>H.length?(X=this,Br=H):(X=H,Br=this);for(var Wr=0;Wr<Br.length;Wr++)this.words[Wr]=X.words[Wr]^Br.words[Wr];if(this!==X)for(;Wr<X.length;Wr++)this.words[Wr]=X.words[Wr];return this.length=X.length,this.strip()},Ie.prototype.ixor=function(H){return Te((this.negative|H.negative)===0),this.iuxor(H)},Ie.prototype.xor=function(H){return this.length>H.length?this.clone().ixor(H):H.clone().ixor(this)},Ie.prototype.uxor=function(H){return this.length>H.length?this.clone().iuxor(H):H.clone().iuxor(this)},Ie.prototype.inotn=function(H){Te(typeof H=="number"&&H>=0);var X=Math.ceil(H/26)|0,Br=H%26;this._expand(X),Br>0&&X--;for(var Wr=0;Wr<X;Wr++)this.words[Wr]=~this.words[Wr]&67108863;return Br>0&&(this.words[Wr]=~this.words[Wr]&67108863>>26-Br),this.strip()},Ie.prototype.notn=function(H){return this.clone().inotn(H)},Ie.prototype.setn=function(H,X){Te(typeof H=="number"&&H>=0);var Br=H/26|0,Wr=H%26;return this._expand(Br+1),X?this.words[Br]=this.words[Br]|1<<Wr:this.words[Br]=this.words[Br]&~(1<<Wr),this.strip()},Ie.prototype.iadd=function(H){var X;if(this.negative!==0&&H.negative===0)return this.negative=0,X=this.isub(H),this.negative^=1,this._normSign();if(this.negative===0&&H.negative!==0)return H.negative=0,X=this.isub(H),H.negative=1,X._normSign();var Br,Wr;this.length>H.length?(Br=this,Wr=H):(Br=H,Wr=this);for(var ri=0,ii=0;ii<Wr.length;ii++)X=(Br.words[ii]|0)+(Wr.words[ii]|0)+ri,this.words[ii]=X&67108863,ri=X>>>26;for(;ri!==0&&ii<Br.length;ii++)X=(Br.words[ii]|0)+ri,this.words[ii]=X&67108863,ri=X>>>26;if(this.length=Br.length,ri!==0)this.words[this.length]=ri,this.length++;else if(Br!==this)for(;ii<Br.length;ii++)this.words[ii]=Br.words[ii];return this},Ie.prototype.add=function(H){var X;return H.negative!==0&&this.negative===0?(H.negative=0,X=this.sub(H),H.negative^=1,X):H.negative===0&&this.negative!==0?(this.negative=0,X=H.sub(this),this.negative=1,X):this.length>H.length?this.clone().iadd(H):H.clone().iadd(this)},Ie.prototype.isub=function(H){if(H.negative!==0){H.negative=0;var X=this.iadd(H);return H.negative=1,X._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(H),this.negative=1,this._normSign();var Br=this.cmp(H);if(Br===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Wr,ri;Br>0?(Wr=this,ri=H):(Wr=H,ri=this);for(var ii=0,oi=0;oi<ri.length;oi++)X=(Wr.words[oi]|0)-(ri.words[oi]|0)+ii,ii=X>>26,this.words[oi]=X&67108863;for(;ii!==0&&oi<Wr.length;oi++)X=(Wr.words[oi]|0)+ii,ii=X>>26,this.words[oi]=X&67108863;if(ii===0&&oi<Wr.length&&Wr!==this)for(;oi<Wr.length;oi++)this.words[oi]=Wr.words[oi];return this.length=Math.max(this.length,oi),Wr!==this&&(this.negative=1),this.strip()},Ie.prototype.sub=function(H){return this.clone().isub(H)};function $i(ui,H,X){X.negative=H.negative^ui.negative;var Br=ui.length+H.length|0;X.length=Br,Br=Br-1|0;var Wr=ui.words[0]|0,ri=H.words[0]|0,ii=Wr*ri,oi=ii&67108863,ei=ii/67108864|0;X.words[0]=oi;for(var Y=1;Y<Br;Y++){for(var Xr=ei>>>26,on=ei&67108863,Mn=Math.min(Y,H.length-1),Bn=Math.max(0,Y-ui.length+1);Bn<=Mn;Bn++){var fn=Y-Bn|0;Wr=ui.words[fn]|0,ri=H.words[Bn]|0,ii=Wr*ri+on,Xr+=ii/67108864|0,on=ii&67108863}X.words[Y]=on|0,ei=Xr|0}return ei!==0?X.words[Y]=ei|0:X.length--,X.strip()}var sn=function(H,X,Br){var Wr=H.words,ri=X.words,ii=Br.words,oi=0,ei,Y,Xr,on=Wr[0]|0,Mn=on&8191,Bn=on>>>13,fn=Wr[1]|0,uo=fn&8191,un=fn>>>13,gn=Wr[2]|0,An=gn&8191,an=gn>>>13,qo=Wr[3]|0,ko=qo&8191,Uo=qo>>>13,kh=Wr[4]|0,Vo=kh&8191,tf=kh>>>13,Wh=Wr[5]|0,Rh=Wh&8191,vh=Wh>>>13,Jh=Wr[6]|0,Vf=Jh&8191,Zo=Jh>>>13,Vh=Wr[7]|0,Qf=Vh&8191,Ko=Vh>>>13,Zh=Wr[8]|0,Xf=Zh&8191,Lf=Zh>>>13,Qh=Wr[9]|0,bh=Qh&8191,jf=Qh>>>13,Yh=ri[0]|0,Sh=Yh&8191,ph=Yh>>>13,Xh=ri[1]|0,Th=Xh&8191,$h=Xh>>>13,zu=ri[2]|0,Nh=zu&8191,Ih=zu>>>13,Ku=ri[3]|0,Lh=Ku&8191,wh=Ku>>>13,hu=ri[4]|0,qh=hu&8191,_h=hu>>>13,qu=ri[5]|0,Dh=qu&8191,xh=qu>>>13,Lu=ri[6]|0,Bh=Lu&8191,Eh=Lu>>>13,ku=ri[7]|0,Ch=ku&8191,Mh=ku>>>13,au=ri[8]|0,Oh=au&8191,Ah=au>>>13,r0=ri[9]|0,jh=r0&8191,Ph=r0>>>13;Br.negative=H.negative^X.negative,Br.length=19,ei=Math.imul(Mn,Sh),Y=Math.imul(Mn,ph),Y=Y+Math.imul(Bn,Sh)|0,Xr=Math.imul(Bn,ph);var Uu=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,ei=Math.imul(uo,Sh),Y=Math.imul(uo,ph),Y=Y+Math.imul(un,Sh)|0,Xr=Math.imul(un,ph),ei=ei+Math.imul(Mn,Th)|0,Y=Y+Math.imul(Mn,$h)|0,Y=Y+Math.imul(Bn,Th)|0,Xr=Xr+Math.imul(Bn,$h)|0;var nc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(nc>>>26)|0,nc&=67108863,ei=Math.imul(An,Sh),Y=Math.imul(An,ph),Y=Y+Math.imul(an,Sh)|0,Xr=Math.imul(an,ph),ei=ei+Math.imul(uo,Th)|0,Y=Y+Math.imul(uo,$h)|0,Y=Y+Math.imul(un,Th)|0,Xr=Xr+Math.imul(un,$h)|0,ei=ei+Math.imul(Mn,Nh)|0,Y=Y+Math.imul(Mn,Ih)|0,Y=Y+Math.imul(Bn,Nh)|0,Xr=Xr+Math.imul(Bn,Ih)|0;var sc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(sc>>>26)|0,sc&=67108863,ei=Math.imul(ko,Sh),Y=Math.imul(ko,ph),Y=Y+Math.imul(Uo,Sh)|0,Xr=Math.imul(Uo,ph),ei=ei+Math.imul(An,Th)|0,Y=Y+Math.imul(An,$h)|0,Y=Y+Math.imul(an,Th)|0,Xr=Xr+Math.imul(an,$h)|0,ei=ei+Math.imul(uo,Nh)|0,Y=Y+Math.imul(uo,Ih)|0,Y=Y+Math.imul(un,Nh)|0,Xr=Xr+Math.imul(un,Ih)|0,ei=ei+Math.imul(Mn,Lh)|0,Y=Y+Math.imul(Mn,wh)|0,Y=Y+Math.imul(Bn,Lh)|0,Xr=Xr+Math.imul(Bn,wh)|0;var ac=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(ac>>>26)|0,ac&=67108863,ei=Math.imul(Vo,Sh),Y=Math.imul(Vo,ph),Y=Y+Math.imul(tf,Sh)|0,Xr=Math.imul(tf,ph),ei=ei+Math.imul(ko,Th)|0,Y=Y+Math.imul(ko,$h)|0,Y=Y+Math.imul(Uo,Th)|0,Xr=Xr+Math.imul(Uo,$h)|0,ei=ei+Math.imul(An,Nh)|0,Y=Y+Math.imul(An,Ih)|0,Y=Y+Math.imul(an,Nh)|0,Xr=Xr+Math.imul(an,Ih)|0,ei=ei+Math.imul(uo,Lh)|0,Y=Y+Math.imul(uo,wh)|0,Y=Y+Math.imul(un,Lh)|0,Xr=Xr+Math.imul(un,wh)|0,ei=ei+Math.imul(Mn,qh)|0,Y=Y+Math.imul(Mn,_h)|0,Y=Y+Math.imul(Bn,qh)|0,Xr=Xr+Math.imul(Bn,_h)|0;var oc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(oc>>>26)|0,oc&=67108863,ei=Math.imul(Rh,Sh),Y=Math.imul(Rh,ph),Y=Y+Math.imul(vh,Sh)|0,Xr=Math.imul(vh,ph),ei=ei+Math.imul(Vo,Th)|0,Y=Y+Math.imul(Vo,$h)|0,Y=Y+Math.imul(tf,Th)|0,Xr=Xr+Math.imul(tf,$h)|0,ei=ei+Math.imul(ko,Nh)|0,Y=Y+Math.imul(ko,Ih)|0,Y=Y+Math.imul(Uo,Nh)|0,Xr=Xr+Math.imul(Uo,Ih)|0,ei=ei+Math.imul(An,Lh)|0,Y=Y+Math.imul(An,wh)|0,Y=Y+Math.imul(an,Lh)|0,Xr=Xr+Math.imul(an,wh)|0,ei=ei+Math.imul(uo,qh)|0,Y=Y+Math.imul(uo,_h)|0,Y=Y+Math.imul(un,qh)|0,Xr=Xr+Math.imul(un,_h)|0,ei=ei+Math.imul(Mn,Dh)|0,Y=Y+Math.imul(Mn,xh)|0,Y=Y+Math.imul(Bn,Dh)|0,Xr=Xr+Math.imul(Bn,xh)|0;var fc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(fc>>>26)|0,fc&=67108863,ei=Math.imul(Vf,Sh),Y=Math.imul(Vf,ph),Y=Y+Math.imul(Zo,Sh)|0,Xr=Math.imul(Zo,ph),ei=ei+Math.imul(Rh,Th)|0,Y=Y+Math.imul(Rh,$h)|0,Y=Y+Math.imul(vh,Th)|0,Xr=Xr+Math.imul(vh,$h)|0,ei=ei+Math.imul(Vo,Nh)|0,Y=Y+Math.imul(Vo,Ih)|0,Y=Y+Math.imul(tf,Nh)|0,Xr=Xr+Math.imul(tf,Ih)|0,ei=ei+Math.imul(ko,Lh)|0,Y=Y+Math.imul(ko,wh)|0,Y=Y+Math.imul(Uo,Lh)|0,Xr=Xr+Math.imul(Uo,wh)|0,ei=ei+Math.imul(An,qh)|0,Y=Y+Math.imul(An,_h)|0,Y=Y+Math.imul(an,qh)|0,Xr=Xr+Math.imul(an,_h)|0,ei=ei+Math.imul(uo,Dh)|0,Y=Y+Math.imul(uo,xh)|0,Y=Y+Math.imul(un,Dh)|0,Xr=Xr+Math.imul(un,xh)|0,ei=ei+Math.imul(Mn,Bh)|0,Y=Y+Math.imul(Mn,Eh)|0,Y=Y+Math.imul(Bn,Bh)|0,Xr=Xr+Math.imul(Bn,Eh)|0;var $0=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+($0>>>26)|0,$0&=67108863,ei=Math.imul(Qf,Sh),Y=Math.imul(Qf,ph),Y=Y+Math.imul(Ko,Sh)|0,Xr=Math.imul(Ko,ph),ei=ei+Math.imul(Vf,Th)|0,Y=Y+Math.imul(Vf,$h)|0,Y=Y+Math.imul(Zo,Th)|0,Xr=Xr+Math.imul(Zo,$h)|0,ei=ei+Math.imul(Rh,Nh)|0,Y=Y+Math.imul(Rh,Ih)|0,Y=Y+Math.imul(vh,Nh)|0,Xr=Xr+Math.imul(vh,Ih)|0,ei=ei+Math.imul(Vo,Lh)|0,Y=Y+Math.imul(Vo,wh)|0,Y=Y+Math.imul(tf,Lh)|0,Xr=Xr+Math.imul(tf,wh)|0,ei=ei+Math.imul(ko,qh)|0,Y=Y+Math.imul(ko,_h)|0,Y=Y+Math.imul(Uo,qh)|0,Xr=Xr+Math.imul(Uo,_h)|0,ei=ei+Math.imul(An,Dh)|0,Y=Y+Math.imul(An,xh)|0,Y=Y+Math.imul(an,Dh)|0,Xr=Xr+Math.imul(an,xh)|0,ei=ei+Math.imul(uo,Bh)|0,Y=Y+Math.imul(uo,Eh)|0,Y=Y+Math.imul(un,Bh)|0,Xr=Xr+Math.imul(un,Eh)|0,ei=ei+Math.imul(Mn,Ch)|0,Y=Y+Math.imul(Mn,Mh)|0,Y=Y+Math.imul(Bn,Ch)|0,Xr=Xr+Math.imul(Bn,Mh)|0;var lc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(lc>>>26)|0,lc&=67108863,ei=Math.imul(Xf,Sh),Y=Math.imul(Xf,ph),Y=Y+Math.imul(Lf,Sh)|0,Xr=Math.imul(Lf,ph),ei=ei+Math.imul(Qf,Th)|0,Y=Y+Math.imul(Qf,$h)|0,Y=Y+Math.imul(Ko,Th)|0,Xr=Xr+Math.imul(Ko,$h)|0,ei=ei+Math.imul(Vf,Nh)|0,Y=Y+Math.imul(Vf,Ih)|0,Y=Y+Math.imul(Zo,Nh)|0,Xr=Xr+Math.imul(Zo,Ih)|0,ei=ei+Math.imul(Rh,Lh)|0,Y=Y+Math.imul(Rh,wh)|0,Y=Y+Math.imul(vh,Lh)|0,Xr=Xr+Math.imul(vh,wh)|0,ei=ei+Math.imul(Vo,qh)|0,Y=Y+Math.imul(Vo,_h)|0,Y=Y+Math.imul(tf,qh)|0,Xr=Xr+Math.imul(tf,_h)|0,ei=ei+Math.imul(ko,Dh)|0,Y=Y+Math.imul(ko,xh)|0,Y=Y+Math.imul(Uo,Dh)|0,Xr=Xr+Math.imul(Uo,xh)|0,ei=ei+Math.imul(An,Bh)|0,Y=Y+Math.imul(An,Eh)|0,Y=Y+Math.imul(an,Bh)|0,Xr=Xr+Math.imul(an,Eh)|0,ei=ei+Math.imul(uo,Ch)|0,Y=Y+Math.imul(uo,Mh)|0,Y=Y+Math.imul(un,Ch)|0,Xr=Xr+Math.imul(un,Mh)|0,ei=ei+Math.imul(Mn,Oh)|0,Y=Y+Math.imul(Mn,Ah)|0,Y=Y+Math.imul(Bn,Oh)|0,Xr=Xr+Math.imul(Bn,Ah)|0;var gc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(gc>>>26)|0,gc&=67108863,ei=Math.imul(bh,Sh),Y=Math.imul(bh,ph),Y=Y+Math.imul(jf,Sh)|0,Xr=Math.imul(jf,ph),ei=ei+Math.imul(Xf,Th)|0,Y=Y+Math.imul(Xf,$h)|0,Y=Y+Math.imul(Lf,Th)|0,Xr=Xr+Math.imul(Lf,$h)|0,ei=ei+Math.imul(Qf,Nh)|0,Y=Y+Math.imul(Qf,Ih)|0,Y=Y+Math.imul(Ko,Nh)|0,Xr=Xr+Math.imul(Ko,Ih)|0,ei=ei+Math.imul(Vf,Lh)|0,Y=Y+Math.imul(Vf,wh)|0,Y=Y+Math.imul(Zo,Lh)|0,Xr=Xr+Math.imul(Zo,wh)|0,ei=ei+Math.imul(Rh,qh)|0,Y=Y+Math.imul(Rh,_h)|0,Y=Y+Math.imul(vh,qh)|0,Xr=Xr+Math.imul(vh,_h)|0,ei=ei+Math.imul(Vo,Dh)|0,Y=Y+Math.imul(Vo,xh)|0,Y=Y+Math.imul(tf,Dh)|0,Xr=Xr+Math.imul(tf,xh)|0,ei=ei+Math.imul(ko,Bh)|0,Y=Y+Math.imul(ko,Eh)|0,Y=Y+Math.imul(Uo,Bh)|0,Xr=Xr+Math.imul(Uo,Eh)|0,ei=ei+Math.imul(An,Ch)|0,Y=Y+Math.imul(An,Mh)|0,Y=Y+Math.imul(an,Ch)|0,Xr=Xr+Math.imul(an,Mh)|0,ei=ei+Math.imul(uo,Oh)|0,Y=Y+Math.imul(uo,Ah)|0,Y=Y+Math.imul(un,Oh)|0,Xr=Xr+Math.imul(un,Ah)|0,ei=ei+Math.imul(Mn,jh)|0,Y=Y+Math.imul(Mn,Ph)|0,Y=Y+Math.imul(Bn,jh)|0,Xr=Xr+Math.imul(Bn,Ph)|0;var dc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(dc>>>26)|0,dc&=67108863,ei=Math.imul(bh,Th),Y=Math.imul(bh,$h),Y=Y+Math.imul(jf,Th)|0,Xr=Math.imul(jf,$h),ei=ei+Math.imul(Xf,Nh)|0,Y=Y+Math.imul(Xf,Ih)|0,Y=Y+Math.imul(Lf,Nh)|0,Xr=Xr+Math.imul(Lf,Ih)|0,ei=ei+Math.imul(Qf,Lh)|0,Y=Y+Math.imul(Qf,wh)|0,Y=Y+Math.imul(Ko,Lh)|0,Xr=Xr+Math.imul(Ko,wh)|0,ei=ei+Math.imul(Vf,qh)|0,Y=Y+Math.imul(Vf,_h)|0,Y=Y+Math.imul(Zo,qh)|0,Xr=Xr+Math.imul(Zo,_h)|0,ei=ei+Math.imul(Rh,Dh)|0,Y=Y+Math.imul(Rh,xh)|0,Y=Y+Math.imul(vh,Dh)|0,Xr=Xr+Math.imul(vh,xh)|0,ei=ei+Math.imul(Vo,Bh)|0,Y=Y+Math.imul(Vo,Eh)|0,Y=Y+Math.imul(tf,Bh)|0,Xr=Xr+Math.imul(tf,Eh)|0,ei=ei+Math.imul(ko,Ch)|0,Y=Y+Math.imul(ko,Mh)|0,Y=Y+Math.imul(Uo,Ch)|0,Xr=Xr+Math.imul(Uo,Mh)|0,ei=ei+Math.imul(An,Oh)|0,Y=Y+Math.imul(An,Ah)|0,Y=Y+Math.imul(an,Oh)|0,Xr=Xr+Math.imul(an,Ah)|0,ei=ei+Math.imul(uo,jh)|0,Y=Y+Math.imul(uo,Ph)|0,Y=Y+Math.imul(un,jh)|0,Xr=Xr+Math.imul(un,Ph)|0;var bc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(bc>>>26)|0,bc&=67108863,ei=Math.imul(bh,Nh),Y=Math.imul(bh,Ih),Y=Y+Math.imul(jf,Nh)|0,Xr=Math.imul(jf,Ih),ei=ei+Math.imul(Xf,Lh)|0,Y=Y+Math.imul(Xf,wh)|0,Y=Y+Math.imul(Lf,Lh)|0,Xr=Xr+Math.imul(Lf,wh)|0,ei=ei+Math.imul(Qf,qh)|0,Y=Y+Math.imul(Qf,_h)|0,Y=Y+Math.imul(Ko,qh)|0,Xr=Xr+Math.imul(Ko,_h)|0,ei=ei+Math.imul(Vf,Dh)|0,Y=Y+Math.imul(Vf,xh)|0,Y=Y+Math.imul(Zo,Dh)|0,Xr=Xr+Math.imul(Zo,xh)|0,ei=ei+Math.imul(Rh,Bh)|0,Y=Y+Math.imul(Rh,Eh)|0,Y=Y+Math.imul(vh,Bh)|0,Xr=Xr+Math.imul(vh,Eh)|0,ei=ei+Math.imul(Vo,Ch)|0,Y=Y+Math.imul(Vo,Mh)|0,Y=Y+Math.imul(tf,Ch)|0,Xr=Xr+Math.imul(tf,Mh)|0,ei=ei+Math.imul(ko,Oh)|0,Y=Y+Math.imul(ko,Ah)|0,Y=Y+Math.imul(Uo,Oh)|0,Xr=Xr+Math.imul(Uo,Ah)|0,ei=ei+Math.imul(An,jh)|0,Y=Y+Math.imul(An,Ph)|0,Y=Y+Math.imul(an,jh)|0,Xr=Xr+Math.imul(an,Ph)|0;var yc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(yc>>>26)|0,yc&=67108863,ei=Math.imul(bh,Lh),Y=Math.imul(bh,wh),Y=Y+Math.imul(jf,Lh)|0,Xr=Math.imul(jf,wh),ei=ei+Math.imul(Xf,qh)|0,Y=Y+Math.imul(Xf,_h)|0,Y=Y+Math.imul(Lf,qh)|0,Xr=Xr+Math.imul(Lf,_h)|0,ei=ei+Math.imul(Qf,Dh)|0,Y=Y+Math.imul(Qf,xh)|0,Y=Y+Math.imul(Ko,Dh)|0,Xr=Xr+Math.imul(Ko,xh)|0,ei=ei+Math.imul(Vf,Bh)|0,Y=Y+Math.imul(Vf,Eh)|0,Y=Y+Math.imul(Zo,Bh)|0,Xr=Xr+Math.imul(Zo,Eh)|0,ei=ei+Math.imul(Rh,Ch)|0,Y=Y+Math.imul(Rh,Mh)|0,Y=Y+Math.imul(vh,Ch)|0,Xr=Xr+Math.imul(vh,Mh)|0,ei=ei+Math.imul(Vo,Oh)|0,Y=Y+Math.imul(Vo,Ah)|0,Y=Y+Math.imul(tf,Oh)|0,Xr=Xr+Math.imul(tf,Ah)|0,ei=ei+Math.imul(ko,jh)|0,Y=Y+Math.imul(ko,Ph)|0,Y=Y+Math.imul(Uo,jh)|0,Xr=Xr+Math.imul(Uo,Ph)|0;var pc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(pc>>>26)|0,pc&=67108863,ei=Math.imul(bh,qh),Y=Math.imul(bh,_h),Y=Y+Math.imul(jf,qh)|0,Xr=Math.imul(jf,_h),ei=ei+Math.imul(Xf,Dh)|0,Y=Y+Math.imul(Xf,xh)|0,Y=Y+Math.imul(Lf,Dh)|0,Xr=Xr+Math.imul(Lf,xh)|0,ei=ei+Math.imul(Qf,Bh)|0,Y=Y+Math.imul(Qf,Eh)|0,Y=Y+Math.imul(Ko,Bh)|0,Xr=Xr+Math.imul(Ko,Eh)|0,ei=ei+Math.imul(Vf,Ch)|0,Y=Y+Math.imul(Vf,Mh)|0,Y=Y+Math.imul(Zo,Ch)|0,Xr=Xr+Math.imul(Zo,Mh)|0,ei=ei+Math.imul(Rh,Oh)|0,Y=Y+Math.imul(Rh,Ah)|0,Y=Y+Math.imul(vh,Oh)|0,Xr=Xr+Math.imul(vh,Ah)|0,ei=ei+Math.imul(Vo,jh)|0,Y=Y+Math.imul(Vo,Ph)|0,Y=Y+Math.imul(tf,jh)|0,Xr=Xr+Math.imul(tf,Ph)|0;var vc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(vc>>>26)|0,vc&=67108863,ei=Math.imul(bh,Dh),Y=Math.imul(bh,xh),Y=Y+Math.imul(jf,Dh)|0,Xr=Math.imul(jf,xh),ei=ei+Math.imul(Xf,Bh)|0,Y=Y+Math.imul(Xf,Eh)|0,Y=Y+Math.imul(Lf,Bh)|0,Xr=Xr+Math.imul(Lf,Eh)|0,ei=ei+Math.imul(Qf,Ch)|0,Y=Y+Math.imul(Qf,Mh)|0,Y=Y+Math.imul(Ko,Ch)|0,Xr=Xr+Math.imul(Ko,Mh)|0,ei=ei+Math.imul(Vf,Oh)|0,Y=Y+Math.imul(Vf,Ah)|0,Y=Y+Math.imul(Zo,Oh)|0,Xr=Xr+Math.imul(Zo,Ah)|0,ei=ei+Math.imul(Rh,jh)|0,Y=Y+Math.imul(Rh,Ph)|0,Y=Y+Math.imul(vh,jh)|0,Xr=Xr+Math.imul(vh,Ph)|0;var mc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(mc>>>26)|0,mc&=67108863,ei=Math.imul(bh,Bh),Y=Math.imul(bh,Eh),Y=Y+Math.imul(jf,Bh)|0,Xr=Math.imul(jf,Eh),ei=ei+Math.imul(Xf,Ch)|0,Y=Y+Math.imul(Xf,Mh)|0,Y=Y+Math.imul(Lf,Ch)|0,Xr=Xr+Math.imul(Lf,Mh)|0,ei=ei+Math.imul(Qf,Oh)|0,Y=Y+Math.imul(Qf,Ah)|0,Y=Y+Math.imul(Ko,Oh)|0,Xr=Xr+Math.imul(Ko,Ah)|0,ei=ei+Math.imul(Vf,jh)|0,Y=Y+Math.imul(Vf,Ph)|0,Y=Y+Math.imul(Zo,jh)|0,Xr=Xr+Math.imul(Zo,Ph)|0;var tc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(tc>>>26)|0,tc&=67108863,ei=Math.imul(bh,Ch),Y=Math.imul(bh,Mh),Y=Y+Math.imul(jf,Ch)|0,Xr=Math.imul(jf,Mh),ei=ei+Math.imul(Xf,Oh)|0,Y=Y+Math.imul(Xf,Ah)|0,Y=Y+Math.imul(Lf,Oh)|0,Xr=Xr+Math.imul(Lf,Ah)|0,ei=ei+Math.imul(Qf,jh)|0,Y=Y+Math.imul(Qf,Ph)|0,Y=Y+Math.imul(Ko,jh)|0,Xr=Xr+Math.imul(Ko,Ph)|0;var wc=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(wc>>>26)|0,wc&=67108863,ei=Math.imul(bh,Oh),Y=Math.imul(bh,Ah),Y=Y+Math.imul(jf,Oh)|0,Xr=Math.imul(jf,Ah),ei=ei+Math.imul(Xf,jh)|0,Y=Y+Math.imul(Xf,Ph)|0,Y=Y+Math.imul(Lf,jh)|0,Xr=Xr+Math.imul(Lf,Ph)|0;var _c=(oi+ei|0)+((Y&8191)<<13)|0;oi=(Xr+(Y>>>13)|0)+(_c>>>26)|0,_c&=67108863,ei=Math.imul(bh,jh),Y=Math.imul(bh,Ph),Y=Y+Math.imul(jf,jh)|0,Xr=Math.imul(jf,Ph);var Mc=(oi+ei|0)+((Y&8191)<<13)|0;return oi=(Xr+(Y>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,ii[0]=Uu,ii[1]=nc,ii[2]=sc,ii[3]=ac,ii[4]=oc,ii[5]=fc,ii[6]=$0,ii[7]=lc,ii[8]=gc,ii[9]=dc,ii[10]=bc,ii[11]=yc,ii[12]=pc,ii[13]=vc,ii[14]=mc,ii[15]=tc,ii[16]=wc,ii[17]=_c,ii[18]=Mc,oi!==0&&(ii[19]=oi,Br.length++),Br};Math.imul||(sn=$i);function ln(ui,H,X){X.negative=H.negative^ui.negative,X.length=ui.length+H.length;for(var Br=0,Wr=0,ri=0;ri<X.length-1;ri++){var ii=Wr;Wr=0;for(var oi=Br&67108863,ei=Math.min(ri,H.length-1),Y=Math.max(0,ri-ui.length+1);Y<=ei;Y++){var Xr=ri-Y,on=ui.words[Xr]|0,Mn=H.words[Y]|0,Bn=on*Mn,fn=Bn&67108863;ii=ii+(Bn/67108864|0)|0,fn=fn+oi|0,oi=fn&67108863,ii=ii+(fn>>>26)|0,Wr+=ii>>>26,ii&=67108863}X.words[ri]=oi,Br=ii,ii=Wr}return Br!==0?X.words[ri]=Br:X.length--,X.strip()}function mn(ui,H,X){var Br=new cn;return Br.mulp(ui,H,X)}Ie.prototype.mulTo=function(H,X){var Br,Wr=this.length+H.length;return this.length===10&&H.length===10?Br=sn(this,H,X):Wr<63?Br=$i(this,H,X):Wr<1024?Br=ln(this,H,X):Br=mn(this,H,X),Br};function cn(ui,H){this.x=ui,this.y=H}cn.prototype.makeRBT=function(H){for(var X=new Array(H),Br=Ie.prototype._countBits(H)-1,Wr=0;Wr<H;Wr++)X[Wr]=this.revBin(Wr,Br,H);return X},cn.prototype.revBin=function(H,X,Br){if(H===0||H===Br-1)return H;for(var Wr=0,ri=0;ri<X;ri++)Wr|=(H&1)<<X-ri-1,H>>=1;return Wr},cn.prototype.permute=function(H,X,Br,Wr,ri,ii){for(var oi=0;oi<ii;oi++)Wr[oi]=X[H[oi]],ri[oi]=Br[H[oi]]},cn.prototype.transform=function(H,X,Br,Wr,ri,ii){this.permute(ii,H,X,Br,Wr,ri);for(var oi=1;oi<ri;oi<<=1)for(var ei=oi<<1,Y=Math.cos(2*Math.PI/ei),Xr=Math.sin(2*Math.PI/ei),on=0;on<ri;on+=ei)for(var Mn=Y,Bn=Xr,fn=0;fn<oi;fn++){var uo=Br[on+fn],un=Wr[on+fn],gn=Br[on+fn+oi],An=Wr[on+fn+oi],an=Mn*gn-Bn*An;An=Mn*An+Bn*gn,gn=an,Br[on+fn]=uo+gn,Wr[on+fn]=un+An,Br[on+fn+oi]=uo-gn,Wr[on+fn+oi]=un-An,fn!==ei&&(an=Y*Mn-Xr*Bn,Bn=Y*Bn+Xr*Mn,Mn=an)}},cn.prototype.guessLen13b=function(H,X){var Br=Math.max(X,H)|1,Wr=Br&1,ri=0;for(Br=Br/2|0;Br;Br=Br>>>1)ri++;return 1<<ri+1+Wr},cn.prototype.conjugate=function(H,X,Br){if(!(Br<=1))for(var Wr=0;Wr<Br/2;Wr++){var ri=H[Wr];H[Wr]=H[Br-Wr-1],H[Br-Wr-1]=ri,ri=X[Wr],X[Wr]=-X[Br-Wr-1],X[Br-Wr-1]=-ri}},cn.prototype.normalize13b=function(H,X){for(var Br=0,Wr=0;Wr<X/2;Wr++){var ri=Math.round(H[2*Wr+1]/X)*8192+Math.round(H[2*Wr]/X)+Br;H[Wr]=ri&67108863,ri<67108864?Br=0:Br=ri/67108864|0}return H},cn.prototype.convert13b=function(H,X,Br,Wr){for(var ri=0,ii=0;ii<X;ii++)ri=ri+(H[ii]|0),Br[2*ii]=ri&8191,ri=ri>>>13,Br[2*ii+1]=ri&8191,ri=ri>>>13;for(ii=2*X;ii<Wr;++ii)Br[ii]=0;Te(ri===0),Te((ri&-8192)===0)},cn.prototype.stub=function(H){for(var X=new Array(H),Br=0;Br<H;Br++)X[Br]=0;return X},cn.prototype.mulp=function(H,X,Br){var Wr=2*this.guessLen13b(H.length,X.length),ri=this.makeRBT(Wr),ii=this.stub(Wr),oi=new Array(Wr),ei=new Array(Wr),Y=new Array(Wr),Xr=new Array(Wr),on=new Array(Wr),Mn=new Array(Wr),Bn=Br.words;Bn.length=Wr,this.convert13b(H.words,H.length,oi,Wr),this.convert13b(X.words,X.length,Xr,Wr),this.transform(oi,ii,ei,Y,Wr,ri),this.transform(Xr,ii,on,Mn,Wr,ri);for(var fn=0;fn<Wr;fn++){var uo=ei[fn]*on[fn]-Y[fn]*Mn[fn];Y[fn]=ei[fn]*Mn[fn]+Y[fn]*on[fn],ei[fn]=uo}return this.conjugate(ei,Y,Wr),this.transform(ei,Y,Bn,ii,Wr,ri),this.conjugate(Bn,ii,Wr),this.normalize13b(Bn,Wr),Br.negative=H.negative^X.negative,Br.length=H.length+X.length,Br.strip()},Ie.prototype.mul=function(H){var X=new Ie(null);return X.words=new Array(this.length+H.length),this.mulTo(H,X)},Ie.prototype.mulf=function(H){var X=new Ie(null);return X.words=new Array(this.length+H.length),mn(this,H,X)},Ie.prototype.imul=function(H){return this.clone().mulTo(H,this)},Ie.prototype.imuln=function(H){Te(typeof H=="number"),Te(H<67108864);for(var X=0,Br=0;Br<this.length;Br++){var Wr=(this.words[Br]|0)*H,ri=(Wr&67108863)+(X&67108863);X>>=26,X+=Wr/67108864|0,X+=ri>>>26,this.words[Br]=ri&67108863}return X!==0&&(this.words[Br]=X,this.length++),this},Ie.prototype.muln=function(H){return this.clone().imuln(H)},Ie.prototype.sqr=function(){return this.mul(this)},Ie.prototype.isqr=function(){return this.imul(this.clone())},Ie.prototype.pow=function(H){var X=di(H);if(X.length===0)return new Ie(1);for(var Br=this,Wr=0;Wr<X.length&&X[Wr]===0;Wr++,Br=Br.sqr());if(++Wr<X.length)for(var ri=Br.sqr();Wr<X.length;Wr++,ri=ri.sqr())X[Wr]!==0&&(Br=Br.mul(ri));return Br},Ie.prototype.iushln=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26,Wr=67108863>>>26-X<<26-X,ri;if(X!==0){var ii=0;for(ri=0;ri<this.length;ri++){var oi=this.words[ri]&Wr,ei=(this.words[ri]|0)-oi<<X;this.words[ri]=ei|ii,ii=oi>>>26-X}ii&&(this.words[ri]=ii,this.length++)}if(Br!==0){for(ri=this.length-1;ri>=0;ri--)this.words[ri+Br]=this.words[ri];for(ri=0;ri<Br;ri++)this.words[ri]=0;this.length+=Br}return this.strip()},Ie.prototype.ishln=function(H){return Te(this.negative===0),this.iushln(H)},Ie.prototype.iushrn=function(H,X,Br){Te(typeof H=="number"&&H>=0);var Wr;X?Wr=(X-X%26)/26:Wr=0;var ri=H%26,ii=Math.min((H-ri)/26,this.length),oi=67108863^67108863>>>ri<<ri,ei=Br;if(Wr-=ii,Wr=Math.max(0,Wr),ei){for(var Y=0;Y<ii;Y++)ei.words[Y]=this.words[Y];ei.length=ii}if(ii!==0)if(this.length>ii)for(this.length-=ii,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+ii];else this.words[0]=0,this.length=1;var Xr=0;for(Y=this.length-1;Y>=0&&(Xr!==0||Y>=Wr);Y--){var on=this.words[Y]|0;this.words[Y]=Xr<<26-ri|on>>>ri,Xr=on&oi}return ei&&Xr!==0&&(ei.words[ei.length++]=Xr),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ie.prototype.ishrn=function(H,X,Br){return Te(this.negative===0),this.iushrn(H,X,Br)},Ie.prototype.shln=function(H){return this.clone().ishln(H)},Ie.prototype.ushln=function(H){return this.clone().iushln(H)},Ie.prototype.shrn=function(H){return this.clone().ishrn(H)},Ie.prototype.ushrn=function(H){return this.clone().iushrn(H)},Ie.prototype.testn=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26,Wr=1<<X;if(this.length<=Br)return!1;var ri=this.words[Br];return!!(ri&Wr)},Ie.prototype.imaskn=function(H){Te(typeof H=="number"&&H>=0);var X=H%26,Br=(H-X)/26;if(Te(this.negative===0,"imaskn works only with positive numbers"),this.length<=Br)return this;if(X!==0&&Br++,this.length=Math.min(Br,this.length),X!==0){var Wr=67108863^67108863>>>X<<X;this.words[this.length-1]&=Wr}return this.strip()},Ie.prototype.maskn=function(H){return this.clone().imaskn(H)},Ie.prototype.iaddn=function(H){return Te(typeof H=="number"),Te(H<67108864),H<0?this.isubn(-H):this.negative!==0?this.length===1&&(this.words[0]|0)<H?(this.words[0]=H-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(H),this.negative=1,this):this._iaddn(H)},Ie.prototype._iaddn=function(H){this.words[0]+=H;for(var X=0;X<this.length&&this.words[X]>=67108864;X++)this.words[X]-=67108864,X===this.length-1?this.words[X+1]=1:this.words[X+1]++;return this.length=Math.max(this.length,X+1),this},Ie.prototype.isubn=function(H){if(Te(typeof H=="number"),Te(H<67108864),H<0)return this.iaddn(-H);if(this.negative!==0)return this.negative=0,this.iaddn(H),this.negative=1,this;if(this.words[0]-=H,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var X=0;X<this.length&&this.words[X]<0;X++)this.words[X]+=67108864,this.words[X+1]-=1;return this.strip()},Ie.prototype.addn=function(H){return this.clone().iaddn(H)},Ie.prototype.subn=function(H){return this.clone().isubn(H)},Ie.prototype.iabs=function(){return this.negative=0,this},Ie.prototype.abs=function(){return this.clone().iabs()},Ie.prototype._ishlnsubmul=function(H,X,Br){var Wr=H.length+Br,ri;this._expand(Wr);var ii,oi=0;for(ri=0;ri<H.length;ri++){ii=(this.words[ri+Br]|0)+oi;var ei=(H.words[ri]|0)*X;ii-=ei&67108863,oi=(ii>>26)-(ei/67108864|0),this.words[ri+Br]=ii&67108863}for(;ri<this.length-Br;ri++)ii=(this.words[ri+Br]|0)+oi,oi=ii>>26,this.words[ri+Br]=ii&67108863;if(oi===0)return this.strip();for(Te(oi===-1),oi=0,ri=0;ri<this.length;ri++)ii=-(this.words[ri]|0)+oi,oi=ii>>26,this.words[ri]=ii&67108863;return this.negative=1,this.strip()},Ie.prototype._wordDiv=function(H,X){var Br=this.length-H.length,Wr=this.clone(),ri=H,ii=ri.words[ri.length-1]|0,oi=this._countBits(ii);Br=26-oi,Br!==0&&(ri=ri.ushln(Br),Wr.iushln(Br),ii=ri.words[ri.length-1]|0);var ei=Wr.length-ri.length,Y;if(X!=="mod"){Y=new Ie(null),Y.length=ei+1,Y.words=new Array(Y.length);for(var Xr=0;Xr<Y.length;Xr++)Y.words[Xr]=0}var on=Wr.clone()._ishlnsubmul(ri,1,ei);on.negative===0&&(Wr=on,Y&&(Y.words[ei]=1));for(var Mn=ei-1;Mn>=0;Mn--){var Bn=(Wr.words[ri.length+Mn]|0)*67108864+(Wr.words[ri.length+Mn-1]|0);for(Bn=Math.min(Bn/ii|0,67108863),Wr._ishlnsubmul(ri,Bn,Mn);Wr.negative!==0;)Bn--,Wr.negative=0,Wr._ishlnsubmul(ri,1,Mn),Wr.isZero()||(Wr.negative^=1);Y&&(Y.words[Mn]=Bn)}return Y&&Y.strip(),Wr.strip(),X!=="div"&&Br!==0&&Wr.iushrn(Br),{div:Y||null,mod:Wr}},Ie.prototype.divmod=function(H,X,Br){if(Te(!H.isZero()),this.isZero())return{div:new Ie(0),mod:new Ie(0)};var Wr,ri,ii;return this.negative!==0&&H.negative===0?(ii=this.neg().divmod(H,X),X!=="mod"&&(Wr=ii.div.neg()),X!=="div"&&(ri=ii.mod.neg(),Br&&ri.negative!==0&&ri.iadd(H)),{div:Wr,mod:ri}):this.negative===0&&H.negative!==0?(ii=this.divmod(H.neg(),X),X!=="mod"&&(Wr=ii.div.neg()),{div:Wr,mod:ii.mod}):this.negative&H.negative?(ii=this.neg().divmod(H.neg(),X),X!=="div"&&(ri=ii.mod.neg(),Br&&ri.negative!==0&&ri.isub(H)),{div:ii.div,mod:ri}):H.length>this.length||this.cmp(H)<0?{div:new Ie(0),mod:this}:H.length===1?X==="div"?{div:this.divn(H.words[0]),mod:null}:X==="mod"?{div:null,mod:new Ie(this.modn(H.words[0]))}:{div:this.divn(H.words[0]),mod:new Ie(this.modn(H.words[0]))}:this._wordDiv(H,X)},Ie.prototype.div=function(H){return this.divmod(H,"div",!1).div},Ie.prototype.mod=function(H){return this.divmod(H,"mod",!1).mod},Ie.prototype.umod=function(H){return this.divmod(H,"mod",!0).mod},Ie.prototype.divRound=function(H){var X=this.divmod(H);if(X.mod.isZero())return X.div;var Br=X.div.negative!==0?X.mod.isub(H):X.mod,Wr=H.ushrn(1),ri=H.andln(1),ii=Br.cmp(Wr);return ii<0||ri===1&&ii===0?X.div:X.div.negative!==0?X.div.isubn(1):X.div.iaddn(1)},Ie.prototype.modn=function(H){Te(H<=67108863);for(var X=(1<<26)%H,Br=0,Wr=this.length-1;Wr>=0;Wr--)Br=(X*Br+(this.words[Wr]|0))%H;return Br},Ie.prototype.idivn=function(H){Te(H<=67108863);for(var X=0,Br=this.length-1;Br>=0;Br--){var Wr=(this.words[Br]|0)+X*67108864;this.words[Br]=Wr/H|0,X=Wr%H}return this.strip()},Ie.prototype.divn=function(H){return this.clone().idivn(H)},Ie.prototype.egcd=function(H){Te(H.negative===0),Te(!H.isZero());var X=this,Br=H.clone();X.negative!==0?X=X.umod(H):X=X.clone();for(var Wr=new Ie(1),ri=new Ie(0),ii=new Ie(0),oi=new Ie(1),ei=0;X.isEven()&&Br.isEven();)X.iushrn(1),Br.iushrn(1),++ei;for(var Y=Br.clone(),Xr=X.clone();!X.isZero();){for(var on=0,Mn=1;!(X.words[0]&Mn)&&on<26;++on,Mn<<=1);if(on>0)for(X.iushrn(on);on-- >0;)(Wr.isOdd()||ri.isOdd())&&(Wr.iadd(Y),ri.isub(Xr)),Wr.iushrn(1),ri.iushrn(1);for(var Bn=0,fn=1;!(Br.words[0]&fn)&&Bn<26;++Bn,fn<<=1);if(Bn>0)for(Br.iushrn(Bn);Bn-- >0;)(ii.isOdd()||oi.isOdd())&&(ii.iadd(Y),oi.isub(Xr)),ii.iushrn(1),oi.iushrn(1);X.cmp(Br)>=0?(X.isub(Br),Wr.isub(ii),ri.isub(oi)):(Br.isub(X),ii.isub(Wr),oi.isub(ri))}return{a:ii,b:oi,gcd:Br.iushln(ei)}},Ie.prototype._invmp=function(H){Te(H.negative===0),Te(!H.isZero());var X=this,Br=H.clone();X.negative!==0?X=X.umod(H):X=X.clone();for(var Wr=new Ie(1),ri=new Ie(0),ii=Br.clone();X.cmpn(1)>0&&Br.cmpn(1)>0;){for(var oi=0,ei=1;!(X.words[0]&ei)&&oi<26;++oi,ei<<=1);if(oi>0)for(X.iushrn(oi);oi-- >0;)Wr.isOdd()&&Wr.iadd(ii),Wr.iushrn(1);for(var Y=0,Xr=1;!(Br.words[0]&Xr)&&Y<26;++Y,Xr<<=1);if(Y>0)for(Br.iushrn(Y);Y-- >0;)ri.isOdd()&&ri.iadd(ii),ri.iushrn(1);X.cmp(Br)>=0?(X.isub(Br),Wr.isub(ri)):(Br.isub(X),ri.isub(Wr))}var on;return X.cmpn(1)===0?on=Wr:on=ri,on.cmpn(0)<0&&on.iadd(H),on},Ie.prototype.gcd=function(H){if(this.isZero())return H.abs();if(H.isZero())return this.abs();var X=this.clone(),Br=H.clone();X.negative=0,Br.negative=0;for(var Wr=0;X.isEven()&&Br.isEven();Wr++)X.iushrn(1),Br.iushrn(1);do{for(;X.isEven();)X.iushrn(1);for(;Br.isEven();)Br.iushrn(1);var ri=X.cmp(Br);if(ri<0){var ii=X;X=Br,Br=ii}else if(ri===0||Br.cmpn(1)===0)break;X.isub(Br)}while(!0);return Br.iushln(Wr)},Ie.prototype.invm=function(H){return this.egcd(H).a.umod(H)},Ie.prototype.isEven=function(){return(this.words[0]&1)===0},Ie.prototype.isOdd=function(){return(this.words[0]&1)===1},Ie.prototype.andln=function(H){return this.words[0]&H},Ie.prototype.bincn=function(H){Te(typeof H=="number");var X=H%26,Br=(H-X)/26,Wr=1<<X;if(this.length<=Br)return this._expand(Br+1),this.words[Br]|=Wr,this;for(var ri=Wr,ii=Br;ri!==0&&ii<this.length;ii++){var oi=this.words[ii]|0;oi+=ri,ri=oi>>>26,oi&=67108863,this.words[ii]=oi}return ri!==0&&(this.words[ii]=ri,this.length++),this},Ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ie.prototype.cmpn=function(H){var X=H<0;if(this.negative!==0&&!X)return-1;if(this.negative===0&&X)return 1;this.strip();var Br;if(this.length>1)Br=1;else{X&&(H=-H),Te(H<=67108863,"Number is too big");var Wr=this.words[0]|0;Br=Wr===H?0:Wr<H?-1:1}return this.negative!==0?-Br|0:Br},Ie.prototype.cmp=function(H){if(this.negative!==0&&H.negative===0)return-1;if(this.negative===0&&H.negative!==0)return 1;var X=this.ucmp(H);return this.negative!==0?-X|0:X},Ie.prototype.ucmp=function(H){if(this.length>H.length)return 1;if(this.length<H.length)return-1;for(var X=0,Br=this.length-1;Br>=0;Br--){var Wr=this.words[Br]|0,ri=H.words[Br]|0;if(Wr!==ri){Wr<ri?X=-1:Wr>ri&&(X=1);break}}return X},Ie.prototype.gtn=function(H){return this.cmpn(H)===1},Ie.prototype.gt=function(H){return this.cmp(H)===1},Ie.prototype.gten=function(H){return this.cmpn(H)>=0},Ie.prototype.gte=function(H){return this.cmp(H)>=0},Ie.prototype.ltn=function(H){return this.cmpn(H)===-1},Ie.prototype.lt=function(H){return this.cmp(H)===-1},Ie.prototype.lten=function(H){return this.cmpn(H)<=0},Ie.prototype.lte=function(H){return this.cmp(H)<=0},Ie.prototype.eqn=function(H){return this.cmpn(H)===0},Ie.prototype.eq=function(H){return this.cmp(H)===0},Ie.red=function(H){return new Do(H)},Ie.prototype.toRed=function(H){return Te(!this.red,"Already a number in reduction context"),Te(this.negative===0,"red works only with positives"),H.convertTo(this)._forceRed(H)},Ie.prototype.fromRed=function(){return Te(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ie.prototype._forceRed=function(H){return this.red=H,this},Ie.prototype.forceRed=function(H){return Te(!this.red,"Already a number in reduction context"),this._forceRed(H)},Ie.prototype.redAdd=function(H){return Te(this.red,"redAdd works only with red numbers"),this.red.add(this,H)},Ie.prototype.redIAdd=function(H){return Te(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,H)},Ie.prototype.redSub=function(H){return Te(this.red,"redSub works only with red numbers"),this.red.sub(this,H)},Ie.prototype.redISub=function(H){return Te(this.red,"redISub works only with red numbers"),this.red.isub(this,H)},Ie.prototype.redShl=function(H){return Te(this.red,"redShl works only with red numbers"),this.red.shl(this,H)},Ie.prototype.redMul=function(H){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.mul(this,H)},Ie.prototype.redIMul=function(H){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,H),this.red.imul(this,H)},Ie.prototype.redSqr=function(){return Te(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ie.prototype.redISqr=function(){return Te(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ie.prototype.redSqrt=function(){return Te(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ie.prototype.redInvm=function(){return Te(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ie.prototype.redNeg=function(){return Te(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ie.prototype.redPow=function(H){return Te(this.red&&!H.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,H)};var Rn={k256:null,p224:null,p192:null,p25519:null};function vn(ui,H){this.name=ui,this.p=new Ie(H,16),this.n=this.p.bitLength(),this.k=new Ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}vn.prototype._tmp=function(){var H=new Ie(null);return H.words=new Array(Math.ceil(this.n/13)),H},vn.prototype.ireduce=function(H){var X=H,Br;do this.split(X,this.tmp),X=this.imulK(X),X=X.iadd(this.tmp),Br=X.bitLength();while(Br>this.n);var Wr=Br<this.n?-1:X.ucmp(this.p);return Wr===0?(X.words[0]=0,X.length=1):Wr>0?X.isub(this.p):X.strip!==void 0?X.strip():X._strip(),X},vn.prototype.split=function(H,X){H.iushrn(this.n,0,X)},vn.prototype.imulK=function(H){return H.imul(this.k)};function Cn(){vn.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Zr(Cn,vn),Cn.prototype.split=function(H,X){for(var Br=4194303,Wr=Math.min(H.length,9),ri=0;ri<Wr;ri++)X.words[ri]=H.words[ri];if(X.length=Wr,H.length<=9){H.words[0]=0,H.length=1;return}var ii=H.words[9];for(X.words[X.length++]=ii&Br,ri=10;ri<H.length;ri++){var oi=H.words[ri]|0;H.words[ri-10]=(oi&Br)<<4|ii>>>22,ii=oi}ii>>>=22,H.words[ri-10]=ii,ii===0&&H.length>10?H.length-=10:H.length-=9},Cn.prototype.imulK=function(H){H.words[H.length]=0,H.words[H.length+1]=0,H.length+=2;for(var X=0,Br=0;Br<H.length;Br++){var Wr=H.words[Br]|0;X+=Wr*977,H.words[Br]=X&67108863,X=Wr*64+(X/67108864|0)}return H.words[H.length-1]===0&&(H.length--,H.words[H.length-1]===0&&H.length--),H};function ho(){vn.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Zr(ho,vn);function hn(){vn.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Zr(hn,vn);function Zn(){vn.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Zr(Zn,vn),Zn.prototype.imulK=function(H){for(var X=0,Br=0;Br<H.length;Br++){var Wr=(H.words[Br]|0)*19+X,ri=Wr&67108863;Wr>>>=26,H.words[Br]=ri,X=Wr}return X!==0&&(H.words[H.length++]=X),H},Ie._prime=function(H){if(Rn[H])return Rn[H];var X;if(H==="k256")X=new Cn;else if(H==="p224")X=new ho;else if(H==="p192")X=new hn;else if(H==="p25519")X=new Zn;else throw new Error("Unknown prime "+H);return Rn[H]=X,X};function Do(ui){if(typeof ui=="string"){var H=Ie._prime(ui);this.m=H.p,this.prime=H}else Te(ui.gtn(1),"modulus must be greater than 1"),this.m=ui,this.prime=null}Do.prototype._verify1=function(H){Te(H.negative===0,"red works only with positives"),Te(H.red,"red works only with red numbers")},Do.prototype._verify2=function(H,X){Te((H.negative|X.negative)===0,"red works only with positives"),Te(H.red&&H.red===X.red,"red works only with red numbers")},Do.prototype.imod=function(H){return this.prime?this.prime.ireduce(H)._forceRed(this):H.umod(this.m)._forceRed(this)},Do.prototype.neg=function(H){return H.isZero()?H.clone():this.m.sub(H)._forceRed(this)},Do.prototype.add=function(H,X){this._verify2(H,X);var Br=H.add(X);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br._forceRed(this)},Do.prototype.iadd=function(H,X){this._verify2(H,X);var Br=H.iadd(X);return Br.cmp(this.m)>=0&&Br.isub(this.m),Br},Do.prototype.sub=function(H,X){this._verify2(H,X);var Br=H.sub(X);return Br.cmpn(0)<0&&Br.iadd(this.m),Br._forceRed(this)},Do.prototype.isub=function(H,X){this._verify2(H,X);var Br=H.isub(X);return Br.cmpn(0)<0&&Br.iadd(this.m),Br},Do.prototype.shl=function(H,X){return this._verify1(H),this.imod(H.ushln(X))},Do.prototype.imul=function(H,X){return this._verify2(H,X),this.imod(H.imul(X))},Do.prototype.mul=function(H,X){return this._verify2(H,X),this.imod(H.mul(X))},Do.prototype.isqr=function(H){return this.imul(H,H.clone())},Do.prototype.sqr=function(H){return this.mul(H,H)},Do.prototype.sqrt=function(H){if(H.isZero())return H.clone();var X=this.m.andln(3);if(Te(X%2===1),X===3){var Br=this.m.add(new Ie(1)).iushrn(2);return this.pow(H,Br)}for(var Wr=this.m.subn(1),ri=0;!Wr.isZero()&&Wr.andln(1)===0;)ri++,Wr.iushrn(1);Te(!Wr.isZero());var ii=new Ie(1).toRed(this),oi=ii.redNeg(),ei=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new Ie(2*Y*Y).toRed(this);this.pow(Y,ei).cmp(oi)!==0;)Y.redIAdd(oi);for(var Xr=this.pow(Y,Wr),on=this.pow(H,Wr.addn(1).iushrn(1)),Mn=this.pow(H,Wr),Bn=ri;Mn.cmp(ii)!==0;){for(var fn=Mn,uo=0;fn.cmp(ii)!==0;uo++)fn=fn.redSqr();Te(uo<Bn);var un=this.pow(Xr,new Ie(1).iushln(Bn-uo-1));on=on.redMul(un),Xr=un.redSqr(),Mn=Mn.redMul(Xr),Bn=uo}return on},Do.prototype.invm=function(H){var X=H._invmp(this.m);return X.negative!==0?(X.negative=0,this.imod(X).redNeg()):this.imod(X)},Do.prototype.pow=function(H,X){if(X.isZero())return new Ie(1).toRed(this);if(X.cmpn(1)===0)return H.clone();var Br=4,Wr=new Array(1<<Br);Wr[0]=new Ie(1).toRed(this),Wr[1]=H;for(var ri=2;ri<Wr.length;ri++)Wr[ri]=this.mul(Wr[ri-1],H);var ii=Wr[0],oi=0,ei=0,Y=X.bitLength()%26;for(Y===0&&(Y=26),ri=X.length-1;ri>=0;ri--){for(var Xr=X.words[ri],on=Y-1;on>=0;on--){var Mn=Xr>>on&1;if(ii!==Wr[0]&&(ii=this.sqr(ii)),Mn===0&&oi===0){ei=0;continue}oi<<=1,oi|=Mn,ei++,!(ei!==Br&&(ri!==0||on!==0))&&(ii=this.mul(ii,Wr[oi]),ei=0,oi=0)}Y=26}return ii},Do.prototype.convertTo=function(H){var X=H.umod(this.m);return X===H?X.clone():X},Do.prototype.convertFrom=function(H){var X=H.clone();return X.red=null,X},Ie.mont=function(H){return new Yo(H)};function Yo(ui){Do.call(this,ui),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Zr(Yo,Do),Yo.prototype.convertTo=function(H){return this.imod(H.ushln(this.shift))},Yo.prototype.convertFrom=function(H){var X=this.imod(H.mul(this.rinv));return X.red=null,X},Yo.prototype.imul=function(H,X){if(H.isZero()||X.isZero())return H.words[0]=0,H.length=1,H;var Br=H.imul(X),Wr=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ri=Br.isub(Wr).iushrn(this.shift),ii=ri;return ri.cmp(this.m)>=0?ii=ri.isub(this.m):ri.cmpn(0)<0&&(ii=ri.iadd(this.m)),ii._forceRed(this)},Yo.prototype.mul=function(H,X){if(H.isZero()||X.isZero())return new Ie(0)._forceRed(this);var Br=H.mul(X),Wr=Br.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ri=Br.isub(Wr).iushrn(this.shift),ii=ri;return ri.cmp(this.m)>=0?ii=ri.isub(this.m):ri.cmpn(0)<0&&(ii=ri.iadd(this.m)),ii._forceRed(this)},Yo.prototype.invm=function(H){var X=this.imod(H._invmp(this.m).mul(this.r2));return X._forceRed(this)}})(te,commonjsGlobal)}(bn$1)),bn$1.exports}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var te=requireBn(),t=safeBufferExports.Buffer;function G(Te,Zr){return t.from(Te.toRed(te.mont(Zr.modulus)).redPow(new te(Zr.publicExponent)).fromRed().toArray())}return withPublic_1=G,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var te=requireParseAsn1(),t=requireBrowser$a(),G=requireBrowser$9(),Te=requireMgf(),Zr=requireXor(),Ie=requireBn(),ni=requireWithPublic(),fi=requireBrowserifyRsa(),ci=safeBufferExports.Buffer;publicEncrypt=function(di,$i,sn){var ln;di.padding?ln=di.padding:sn?ln=1:ln=4;var mn=te(di),cn;if(ln===4)cn=ai(mn,$i);else if(ln===1)cn=si(mn,$i,sn);else if(ln===3){if(cn=new Ie($i),cn.cmp(mn.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return sn?fi(cn,mn):ni(cn,mn)};function ai(mi,di){var $i=mi.modulus.byteLength(),sn=di.length,ln=G("sha1").update(ci.alloc(0)).digest(),mn=ln.length,cn=2*mn;if(sn>$i-cn-2)throw new Error("message too long");var Rn=ci.alloc($i-sn-cn-2),vn=$i-mn-1,Cn=t(mn),ho=Zr(ci.concat([ln,Rn,ci.alloc(1,1),di],vn),Te(Cn,vn)),hn=Zr(Cn,Te(ho,mn));return new Ie(ci.concat([ci.alloc(1),hn,ho],$i))}function si(mi,di,$i){var sn=di.length,ln=mi.modulus.byteLength();if(sn>ln-11)throw new Error("message too long");var mn;return $i?mn=ci.alloc(ln-sn-3,255):mn=li(ln-sn-3),new Ie(ci.concat([ci.from([0,$i?1:2]),mn,ci.alloc(1),di],ln))}function li(mi){for(var di=ci.allocUnsafe(mi),$i=0,sn=t(mi*2),ln=0,mn;$i<mi;)ln===sn.length&&(sn=t(mi*2),ln=0),mn=sn[ln++],mn&&(di[$i++]=mn);return di}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var te=requireParseAsn1(),t=requireMgf(),G=requireXor(),Te=requireBn(),Zr=requireBrowserifyRsa(),Ie=requireBrowser$9(),ni=requireWithPublic(),fi=safeBufferExports.Buffer;privateDecrypt=function(mi,di,$i){var sn;mi.padding?sn=mi.padding:$i?sn=1:sn=4;var ln=te(mi),mn=ln.modulus.byteLength();if(di.length>mn||new Te(di).cmp(ln.modulus)>=0)throw new Error("decryption error");var cn;$i?cn=ni(new Te(di),ln):cn=Zr(di,ln);var Rn=fi.alloc(mn-cn.length);if(cn=fi.concat([Rn,cn],mn),sn===4)return ci(ln,cn);if(sn===1)return ai(ln,cn,$i);if(sn===3)return cn;throw new Error("unknown padding")};function ci(li,mi){var di=li.modulus.byteLength(),$i=Ie("sha1").update(fi.alloc(0)).digest(),sn=$i.length;if(mi[0]!==0)throw new Error("decryption error");var ln=mi.slice(1,sn+1),mn=mi.slice(sn+1),cn=G(ln,t(mn,sn)),Rn=G(mn,t(cn,di-sn-1));if(si($i,Rn.slice(0,sn)))throw new Error("decryption error");for(var vn=sn;Rn[vn]===0;)vn++;if(Rn[vn++]!==1)throw new Error("decryption error");return Rn.slice(vn)}function ai(li,mi,di){for(var $i=mi.slice(0,2),sn=2,ln=0;mi[sn++]!==0;)if(sn>=mi.length){ln++;break}var mn=mi.slice(2,sn-1);if(($i.toString("hex")!=="0002"&&!di||$i.toString("hex")!=="0001"&&di)&&ln++,mn.length<8&&ln++,ln)throw new Error("decryption error");return mi.slice(sn)}function si(li,mi){li=fi.from(li),mi=fi.from(mi);var di=0,$i=li.length;li.length!==mi.length&&(di++,$i=Math.min(li.length,mi.length));for(var sn=-1;++sn<$i;)di+=li[sn]^mi[sn];return di}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(te){te.publicEncrypt=requirePublicEncrypt(),te.privateDecrypt=requirePrivateDecrypt(),te.privateEncrypt=function(G,Te){return te.publicEncrypt(G,Te,!0)},te.publicDecrypt=function(G,Te){return te.privateDecrypt(G,Te,!0)}}(browser$2)),browser$2}var browser$1={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$1;hasRequiredBrowser=1;function te(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var t=safeBufferExports,G=requireBrowser$a(),Te=t.Buffer,Zr=t.kMaxLength,Ie=commonjsGlobal.crypto||commonjsGlobal.msCrypto,ni=Math.pow(2,32)-1;function fi(mi,di){if(typeof mi!="number"||mi!==mi)throw new TypeError("offset must be a number");if(mi>ni||mi<0)throw new TypeError("offset must be a uint32");if(mi>Zr||mi>di)throw new RangeError("offset out of range")}function ci(mi,di,$i){if(typeof mi!="number"||mi!==mi)throw new TypeError("size must be a number");if(mi>ni||mi<0)throw new TypeError("size must be a uint32");if(mi+di>$i||mi>Zr)throw new RangeError("buffer too small")}Ie&&Ie.getRandomValues||!process$1.browser?(browser$1.randomFill=ai,browser$1.randomFillSync=li):(browser$1.randomFill=te,browser$1.randomFillSync=te);function ai(mi,di,$i,sn){if(!Te.isBuffer(mi)&&!(mi instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof di=="function")sn=di,di=0,$i=mi.length;else if(typeof $i=="function")sn=$i,$i=mi.length-di;else if(typeof sn!="function")throw new TypeError('"cb" argument must be a function');return fi(di,mi.length),ci($i,di,mi.length),si(mi,di,$i,sn)}function si(mi,di,$i,sn){if(process$1.browser){var ln=mi.buffer,mn=new Uint8Array(ln,di,$i);if(Ie.getRandomValues(mn),sn){process$1.nextTick(function(){sn(null,mi)});return}return mi}if(sn){G($i,function(Rn,vn){if(Rn)return sn(Rn);vn.copy(mi,di),sn(null,mi)});return}var cn=G($i);return cn.copy(mi,di),mi}function li(mi,di,$i){if(typeof di>"u"&&(di=0),!Te.isBuffer(mi)&&!(mi instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return fi(di,mi.length),$i===void 0&&($i=mi.length-di),ci($i,di,mi.length),si(mi,di,$i)}return browser$1}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$a(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var te=requireAlgos(),t=Object.keys(te),G=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(t);cryptoBrowserify.getHashes=function(){return G};var Te=requireBrowser$7();cryptoBrowserify.pbkdf2=Te.pbkdf2,cryptoBrowserify.pbkdf2Sync=Te.pbkdf2Sync;var Zr=requireBrowser$5();cryptoBrowserify.Cipher=Zr.Cipher,cryptoBrowserify.createCipher=Zr.createCipher,cryptoBrowserify.Cipheriv=Zr.Cipheriv,cryptoBrowserify.createCipheriv=Zr.createCipheriv,cryptoBrowserify.Decipher=Zr.Decipher,cryptoBrowserify.createDecipher=Zr.createDecipher,cryptoBrowserify.Decipheriv=Zr.Decipheriv,cryptoBrowserify.createDecipheriv=Zr.createDecipheriv,cryptoBrowserify.getCiphers=Zr.getCiphers,cryptoBrowserify.listCiphers=Zr.listCiphers;var Ie=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=Ie.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=Ie.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=Ie.getDiffieHellman,cryptoBrowserify.createDiffieHellman=Ie.createDiffieHellman,cryptoBrowserify.DiffieHellman=Ie.DiffieHellman;var ni=requireBrowser$3();cryptoBrowserify.createSign=ni.createSign,cryptoBrowserify.Sign=ni.Sign,cryptoBrowserify.createVerify=ni.createVerify,cryptoBrowserify.Verify=ni.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var fi=requireBrowser$1();cryptoBrowserify.publicEncrypt=fi.publicEncrypt,cryptoBrowserify.privateEncrypt=fi.privateEncrypt,cryptoBrowserify.publicDecrypt=fi.publicDecrypt,cryptoBrowserify.privateDecrypt=fi.privateDecrypt;var ci=requireBrowser();return cryptoBrowserify.randomFill=ci.randomFill,cryptoBrowserify.randomFillSync=ci.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}Object.defineProperty(node$1,"__esModule",{value:!0});node$1.NodeRandomSource=void 0;const wipe_1=wipe$1;class NodeRandomSource{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof commonjsRequire<"u"){const t=requireCryptoBrowserify();t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let G=this._crypto.randomBytes(t);if(G.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const Te=new Uint8Array(t);for(let Zr=0;Zr<Te.length;Zr++)Te[Zr]=G[Zr];return(0,wipe_1.wipe)(G),Te}}node$1.NodeRandomSource=NodeRandomSource;Object.defineProperty(system,"__esModule",{value:!0});system.SystemRandomSource=void 0;const browser_1=browser$c,node_1=node$1;class SystemRandomSource{constructor(){if(this.isAvailable=!1,this.name="",this._source=new browser_1.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new node_1.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}system.SystemRandomSource=SystemRandomSource;(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.randomStringForEntropy=te.randomString=te.randomUint32=te.randomBytes=te.defaultRandomSource=void 0;const t=system,G=binary,Te=wipe$1;te.defaultRandomSource=new t.SystemRandomSource;function Zr(ai,si=te.defaultRandomSource){return si.randomBytes(ai)}te.randomBytes=Zr;function Ie(ai=te.defaultRandomSource){const si=Zr(4,ai),li=(0,G.readUint32LE)(si);return(0,Te.wipe)(si),li}te.randomUint32=Ie;const ni="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function fi(ai,si=ni,li=te.defaultRandomSource){if(si.length<2)throw new Error("randomString charset is too short");if(si.length>256)throw new Error("randomString charset is too long");let mi="";const di=si.length,$i=256-256%di;for(;ai>0;){const sn=Zr(Math.ceil(ai*256/$i),li);for(let ln=0;ln<sn.length&&ai>0;ln++){const mn=sn[ln];mn<$i&&(mi+=si.charAt(mn%di),ai--)}(0,Te.wipe)(sn)}return mi}te.randomString=fi;function ci(ai,si=ni,li=te.defaultRandomSource){const mi=Math.ceil(ai/(Math.log(si.length)/Math.LN2));return fi(mi,si,li)}te.randomStringForEntropy=ci})(random);var sha256={};(function(te){Object.defineProperty(te,"__esModule",{value:!0});var t=binary,G=wipe$1;te.DIGEST_LENGTH=32,te.BLOCK_SIZE=64;var Te=function(){function fi(){this.digestLength=te.DIGEST_LENGTH,this.blockSize=te.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return fi.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},fi.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},fi.prototype.clean=function(){G.wipe(this._buffer),G.wipe(this._temp),this.reset()},fi.prototype.update=function(ci,ai){if(ai===void 0&&(ai=ci.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var si=0;if(this._bytesHashed+=ai,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&ai>0;)this._buffer[this._bufferLength++]=ci[si++],ai--;this._bufferLength===this.blockSize&&(Ie(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(ai>=this.blockSize&&(si=Ie(this._temp,this._state,ci,si,ai),ai%=this.blockSize);ai>0;)this._buffer[this._bufferLength++]=ci[si++],ai--;return this},fi.prototype.finish=function(ci){if(!this._finished){var ai=this._bytesHashed,si=this._bufferLength,li=ai/536870912|0,mi=ai<<3,di=ai%64<56?64:128;this._buffer[si]=128;for(var $i=si+1;$i<di-8;$i++)this._buffer[$i]=0;t.writeUint32BE(li,this._buffer,di-8),t.writeUint32BE(mi,this._buffer,di-4),Ie(this._temp,this._state,this._buffer,0,di),this._finished=!0}for(var $i=0;$i<this.digestLength/4;$i++)t.writeUint32BE(this._state[$i],ci,$i*4);return this},fi.prototype.digest=function(){var ci=new Uint8Array(this.digestLength);return this.finish(ci),ci},fi.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},fi.prototype.restoreState=function(ci){return this._state.set(ci.state),this._bufferLength=ci.bufferLength,ci.buffer&&this._buffer.set(ci.buffer),this._bytesHashed=ci.bytesHashed,this._finished=!1,this},fi.prototype.cleanSavedState=function(ci){G.wipe(ci.state),ci.buffer&&G.wipe(ci.buffer),ci.bufferLength=0,ci.bytesHashed=0},fi}();te.SHA256=Te;var Zr=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Ie(fi,ci,ai,si,li){for(;li>=64;){for(var mi=ci[0],di=ci[1],$i=ci[2],sn=ci[3],ln=ci[4],mn=ci[5],cn=ci[6],Rn=ci[7],vn=0;vn<16;vn++){var Cn=si+vn*4;fi[vn]=t.readUint32BE(ai,Cn)}for(var vn=16;vn<64;vn++){var ho=fi[vn-2],hn=(ho>>>17|ho<<15)^(ho>>>19|ho<<13)^ho>>>10;ho=fi[vn-15];var Zn=(ho>>>7|ho<<25)^(ho>>>18|ho<<14)^ho>>>3;fi[vn]=(hn+fi[vn-7]|0)+(Zn+fi[vn-16]|0)}for(var vn=0;vn<64;vn++){var hn=(((ln>>>6|ln<<26)^(ln>>>11|ln<<21)^(ln>>>25|ln<<7))+(ln&mn^~ln&cn)|0)+(Rn+(Zr[vn]+fi[vn]|0)|0)|0,Zn=((mi>>>2|mi<<30)^(mi>>>13|mi<<19)^(mi>>>22|mi<<10))+(mi&di^mi&$i^di&$i)|0;Rn=cn,cn=mn,mn=ln,ln=sn+hn|0,sn=$i,$i=di,di=mi,mi=hn+Zn|0}ci[0]+=mi,ci[1]+=di,ci[2]+=$i,ci[3]+=sn,ci[4]+=ln,ci[5]+=mn,ci[6]+=cn,ci[7]+=Rn,si+=64,li-=64}return si}function ni(fi){var ci=new Te;ci.update(fi);var ai=ci.digest();return ci.clean(),ai}te.hash=ni})(sha256);var x25519={};(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.sharedKey=te.generateKeyPair=te.generateKeyPairFromSeed=te.scalarMultBase=te.scalarMult=te.SHARED_KEY_LENGTH=te.SECRET_KEY_LENGTH=te.PUBLIC_KEY_LENGTH=void 0;const t=random,G=wipe$1;te.PUBLIC_KEY_LENGTH=32,te.SECRET_KEY_LENGTH=32,te.SHARED_KEY_LENGTH=32;function Te(vn){const Cn=new Float64Array(16);if(vn)for(let ho=0;ho<vn.length;ho++)Cn[ho]=vn[ho];return Cn}const Zr=new Uint8Array(32);Zr[0]=9;const Ie=Te([56129,1]);function ni(vn){let Cn=1;for(let ho=0;ho<16;ho++){let hn=vn[ho]+Cn+65535;Cn=Math.floor(hn/65536),vn[ho]=hn-Cn*65536}vn[0]+=Cn-1+37*(Cn-1)}function fi(vn,Cn,ho){const hn=~(ho-1);for(let Zn=0;Zn<16;Zn++){const Do=hn&(vn[Zn]^Cn[Zn]);vn[Zn]^=Do,Cn[Zn]^=Do}}function ci(vn,Cn){const ho=Te(),hn=Te();for(let Zn=0;Zn<16;Zn++)hn[Zn]=Cn[Zn];ni(hn),ni(hn),ni(hn);for(let Zn=0;Zn<2;Zn++){ho[0]=hn[0]-65517;for(let Yo=1;Yo<15;Yo++)ho[Yo]=hn[Yo]-65535-(ho[Yo-1]>>16&1),ho[Yo-1]&=65535;ho[15]=hn[15]-32767-(ho[14]>>16&1);const Do=ho[15]>>16&1;ho[14]&=65535,fi(hn,ho,1-Do)}for(let Zn=0;Zn<16;Zn++)vn[2*Zn]=hn[Zn]&255,vn[2*Zn+1]=hn[Zn]>>8}function ai(vn,Cn){for(let ho=0;ho<16;ho++)vn[ho]=Cn[2*ho]+(Cn[2*ho+1]<<8);vn[15]&=32767}function si(vn,Cn,ho){for(let hn=0;hn<16;hn++)vn[hn]=Cn[hn]+ho[hn]}function li(vn,Cn,ho){for(let hn=0;hn<16;hn++)vn[hn]=Cn[hn]-ho[hn]}function mi(vn,Cn,ho){let hn,Zn,Do=0,Yo=0,ui=0,H=0,X=0,Br=0,Wr=0,ri=0,ii=0,oi=0,ei=0,Y=0,Xr=0,on=0,Mn=0,Bn=0,fn=0,uo=0,un=0,gn=0,An=0,an=0,qo=0,ko=0,Uo=0,kh=0,Vo=0,tf=0,Wh=0,Rh=0,vh=0,Jh=ho[0],Vf=ho[1],Zo=ho[2],Vh=ho[3],Qf=ho[4],Ko=ho[5],Zh=ho[6],Xf=ho[7],Lf=ho[8],Qh=ho[9],bh=ho[10],jf=ho[11],Yh=ho[12],Sh=ho[13],ph=ho[14],Xh=ho[15];hn=Cn[0],Do+=hn*Jh,Yo+=hn*Vf,ui+=hn*Zo,H+=hn*Vh,X+=hn*Qf,Br+=hn*Ko,Wr+=hn*Zh,ri+=hn*Xf,ii+=hn*Lf,oi+=hn*Qh,ei+=hn*bh,Y+=hn*jf,Xr+=hn*Yh,on+=hn*Sh,Mn+=hn*ph,Bn+=hn*Xh,hn=Cn[1],Yo+=hn*Jh,ui+=hn*Vf,H+=hn*Zo,X+=hn*Vh,Br+=hn*Qf,Wr+=hn*Ko,ri+=hn*Zh,ii+=hn*Xf,oi+=hn*Lf,ei+=hn*Qh,Y+=hn*bh,Xr+=hn*jf,on+=hn*Yh,Mn+=hn*Sh,Bn+=hn*ph,fn+=hn*Xh,hn=Cn[2],ui+=hn*Jh,H+=hn*Vf,X+=hn*Zo,Br+=hn*Vh,Wr+=hn*Qf,ri+=hn*Ko,ii+=hn*Zh,oi+=hn*Xf,ei+=hn*Lf,Y+=hn*Qh,Xr+=hn*bh,on+=hn*jf,Mn+=hn*Yh,Bn+=hn*Sh,fn+=hn*ph,uo+=hn*Xh,hn=Cn[3],H+=hn*Jh,X+=hn*Vf,Br+=hn*Zo,Wr+=hn*Vh,ri+=hn*Qf,ii+=hn*Ko,oi+=hn*Zh,ei+=hn*Xf,Y+=hn*Lf,Xr+=hn*Qh,on+=hn*bh,Mn+=hn*jf,Bn+=hn*Yh,fn+=hn*Sh,uo+=hn*ph,un+=hn*Xh,hn=Cn[4],X+=hn*Jh,Br+=hn*Vf,Wr+=hn*Zo,ri+=hn*Vh,ii+=hn*Qf,oi+=hn*Ko,ei+=hn*Zh,Y+=hn*Xf,Xr+=hn*Lf,on+=hn*Qh,Mn+=hn*bh,Bn+=hn*jf,fn+=hn*Yh,uo+=hn*Sh,un+=hn*ph,gn+=hn*Xh,hn=Cn[5],Br+=hn*Jh,Wr+=hn*Vf,ri+=hn*Zo,ii+=hn*Vh,oi+=hn*Qf,ei+=hn*Ko,Y+=hn*Zh,Xr+=hn*Xf,on+=hn*Lf,Mn+=hn*Qh,Bn+=hn*bh,fn+=hn*jf,uo+=hn*Yh,un+=hn*Sh,gn+=hn*ph,An+=hn*Xh,hn=Cn[6],Wr+=hn*Jh,ri+=hn*Vf,ii+=hn*Zo,oi+=hn*Vh,ei+=hn*Qf,Y+=hn*Ko,Xr+=hn*Zh,on+=hn*Xf,Mn+=hn*Lf,Bn+=hn*Qh,fn+=hn*bh,uo+=hn*jf,un+=hn*Yh,gn+=hn*Sh,An+=hn*ph,an+=hn*Xh,hn=Cn[7],ri+=hn*Jh,ii+=hn*Vf,oi+=hn*Zo,ei+=hn*Vh,Y+=hn*Qf,Xr+=hn*Ko,on+=hn*Zh,Mn+=hn*Xf,Bn+=hn*Lf,fn+=hn*Qh,uo+=hn*bh,un+=hn*jf,gn+=hn*Yh,An+=hn*Sh,an+=hn*ph,qo+=hn*Xh,hn=Cn[8],ii+=hn*Jh,oi+=hn*Vf,ei+=hn*Zo,Y+=hn*Vh,Xr+=hn*Qf,on+=hn*Ko,Mn+=hn*Zh,Bn+=hn*Xf,fn+=hn*Lf,uo+=hn*Qh,un+=hn*bh,gn+=hn*jf,An+=hn*Yh,an+=hn*Sh,qo+=hn*ph,ko+=hn*Xh,hn=Cn[9],oi+=hn*Jh,ei+=hn*Vf,Y+=hn*Zo,Xr+=hn*Vh,on+=hn*Qf,Mn+=hn*Ko,Bn+=hn*Zh,fn+=hn*Xf,uo+=hn*Lf,un+=hn*Qh,gn+=hn*bh,An+=hn*jf,an+=hn*Yh,qo+=hn*Sh,ko+=hn*ph,Uo+=hn*Xh,hn=Cn[10],ei+=hn*Jh,Y+=hn*Vf,Xr+=hn*Zo,on+=hn*Vh,Mn+=hn*Qf,Bn+=hn*Ko,fn+=hn*Zh,uo+=hn*Xf,un+=hn*Lf,gn+=hn*Qh,An+=hn*bh,an+=hn*jf,qo+=hn*Yh,ko+=hn*Sh,Uo+=hn*ph,kh+=hn*Xh,hn=Cn[11],Y+=hn*Jh,Xr+=hn*Vf,on+=hn*Zo,Mn+=hn*Vh,Bn+=hn*Qf,fn+=hn*Ko,uo+=hn*Zh,un+=hn*Xf,gn+=hn*Lf,An+=hn*Qh,an+=hn*bh,qo+=hn*jf,ko+=hn*Yh,Uo+=hn*Sh,kh+=hn*ph,Vo+=hn*Xh,hn=Cn[12],Xr+=hn*Jh,on+=hn*Vf,Mn+=hn*Zo,Bn+=hn*Vh,fn+=hn*Qf,uo+=hn*Ko,un+=hn*Zh,gn+=hn*Xf,An+=hn*Lf,an+=hn*Qh,qo+=hn*bh,ko+=hn*jf,Uo+=hn*Yh,kh+=hn*Sh,Vo+=hn*ph,tf+=hn*Xh,hn=Cn[13],on+=hn*Jh,Mn+=hn*Vf,Bn+=hn*Zo,fn+=hn*Vh,uo+=hn*Qf,un+=hn*Ko,gn+=hn*Zh,An+=hn*Xf,an+=hn*Lf,qo+=hn*Qh,ko+=hn*bh,Uo+=hn*jf,kh+=hn*Yh,Vo+=hn*Sh,tf+=hn*ph,Wh+=hn*Xh,hn=Cn[14],Mn+=hn*Jh,Bn+=hn*Vf,fn+=hn*Zo,uo+=hn*Vh,un+=hn*Qf,gn+=hn*Ko,An+=hn*Zh,an+=hn*Xf,qo+=hn*Lf,ko+=hn*Qh,Uo+=hn*bh,kh+=hn*jf,Vo+=hn*Yh,tf+=hn*Sh,Wh+=hn*ph,Rh+=hn*Xh,hn=Cn[15],Bn+=hn*Jh,fn+=hn*Vf,uo+=hn*Zo,un+=hn*Vh,gn+=hn*Qf,An+=hn*Ko,an+=hn*Zh,qo+=hn*Xf,ko+=hn*Lf,Uo+=hn*Qh,kh+=hn*bh,Vo+=hn*jf,tf+=hn*Yh,Wh+=hn*Sh,Rh+=hn*ph,vh+=hn*Xh,Do+=38*fn,Yo+=38*uo,ui+=38*un,H+=38*gn,X+=38*An,Br+=38*an,Wr+=38*qo,ri+=38*ko,ii+=38*Uo,oi+=38*kh,ei+=38*Vo,Y+=38*tf,Xr+=38*Wh,on+=38*Rh,Mn+=38*vh,Zn=1,hn=Do+Zn+65535,Zn=Math.floor(hn/65536),Do=hn-Zn*65536,hn=Yo+Zn+65535,Zn=Math.floor(hn/65536),Yo=hn-Zn*65536,hn=ui+Zn+65535,Zn=Math.floor(hn/65536),ui=hn-Zn*65536,hn=H+Zn+65535,Zn=Math.floor(hn/65536),H=hn-Zn*65536,hn=X+Zn+65535,Zn=Math.floor(hn/65536),X=hn-Zn*65536,hn=Br+Zn+65535,Zn=Math.floor(hn/65536),Br=hn-Zn*65536,hn=Wr+Zn+65535,Zn=Math.floor(hn/65536),Wr=hn-Zn*65536,hn=ri+Zn+65535,Zn=Math.floor(hn/65536),ri=hn-Zn*65536,hn=ii+Zn+65535,Zn=Math.floor(hn/65536),ii=hn-Zn*65536,hn=oi+Zn+65535,Zn=Math.floor(hn/65536),oi=hn-Zn*65536,hn=ei+Zn+65535,Zn=Math.floor(hn/65536),ei=hn-Zn*65536,hn=Y+Zn+65535,Zn=Math.floor(hn/65536),Y=hn-Zn*65536,hn=Xr+Zn+65535,Zn=Math.floor(hn/65536),Xr=hn-Zn*65536,hn=on+Zn+65535,Zn=Math.floor(hn/65536),on=hn-Zn*65536,hn=Mn+Zn+65535,Zn=Math.floor(hn/65536),Mn=hn-Zn*65536,hn=Bn+Zn+65535,Zn=Math.floor(hn/65536),Bn=hn-Zn*65536,Do+=Zn-1+37*(Zn-1),Zn=1,hn=Do+Zn+65535,Zn=Math.floor(hn/65536),Do=hn-Zn*65536,hn=Yo+Zn+65535,Zn=Math.floor(hn/65536),Yo=hn-Zn*65536,hn=ui+Zn+65535,Zn=Math.floor(hn/65536),ui=hn-Zn*65536,hn=H+Zn+65535,Zn=Math.floor(hn/65536),H=hn-Zn*65536,hn=X+Zn+65535,Zn=Math.floor(hn/65536),X=hn-Zn*65536,hn=Br+Zn+65535,Zn=Math.floor(hn/65536),Br=hn-Zn*65536,hn=Wr+Zn+65535,Zn=Math.floor(hn/65536),Wr=hn-Zn*65536,hn=ri+Zn+65535,Zn=Math.floor(hn/65536),ri=hn-Zn*65536,hn=ii+Zn+65535,Zn=Math.floor(hn/65536),ii=hn-Zn*65536,hn=oi+Zn+65535,Zn=Math.floor(hn/65536),oi=hn-Zn*65536,hn=ei+Zn+65535,Zn=Math.floor(hn/65536),ei=hn-Zn*65536,hn=Y+Zn+65535,Zn=Math.floor(hn/65536),Y=hn-Zn*65536,hn=Xr+Zn+65535,Zn=Math.floor(hn/65536),Xr=hn-Zn*65536,hn=on+Zn+65535,Zn=Math.floor(hn/65536),on=hn-Zn*65536,hn=Mn+Zn+65535,Zn=Math.floor(hn/65536),Mn=hn-Zn*65536,hn=Bn+Zn+65535,Zn=Math.floor(hn/65536),Bn=hn-Zn*65536,Do+=Zn-1+37*(Zn-1),vn[0]=Do,vn[1]=Yo,vn[2]=ui,vn[3]=H,vn[4]=X,vn[5]=Br,vn[6]=Wr,vn[7]=ri,vn[8]=ii,vn[9]=oi,vn[10]=ei,vn[11]=Y,vn[12]=Xr,vn[13]=on,vn[14]=Mn,vn[15]=Bn}function di(vn,Cn){mi(vn,Cn,Cn)}function $i(vn,Cn){const ho=Te();for(let hn=0;hn<16;hn++)ho[hn]=Cn[hn];for(let hn=253;hn>=0;hn--)di(ho,ho),hn!==2&&hn!==4&&mi(ho,ho,Cn);for(let hn=0;hn<16;hn++)vn[hn]=ho[hn]}function sn(vn,Cn){const ho=new Uint8Array(32),hn=new Float64Array(80),Zn=Te(),Do=Te(),Yo=Te(),ui=Te(),H=Te(),X=Te();for(let ii=0;ii<31;ii++)ho[ii]=vn[ii];ho[31]=vn[31]&127|64,ho[0]&=248,ai(hn,Cn);for(let ii=0;ii<16;ii++)Do[ii]=hn[ii];Zn[0]=ui[0]=1;for(let ii=254;ii>=0;--ii){const oi=ho[ii>>>3]>>>(ii&7)&1;fi(Zn,Do,oi),fi(Yo,ui,oi),si(H,Zn,Yo),li(Zn,Zn,Yo),si(Yo,Do,ui),li(Do,Do,ui),di(ui,H),di(X,Zn),mi(Zn,Yo,Zn),mi(Yo,Do,H),si(H,Zn,Yo),li(Zn,Zn,Yo),di(Do,Zn),li(Yo,ui,X),mi(Zn,Yo,Ie),si(Zn,Zn,ui),mi(Yo,Yo,Zn),mi(Zn,ui,X),mi(ui,Do,hn),di(Do,H),fi(Zn,Do,oi),fi(Yo,ui,oi)}for(let ii=0;ii<16;ii++)hn[ii+16]=Zn[ii],hn[ii+32]=Yo[ii],hn[ii+48]=Do[ii],hn[ii+64]=ui[ii];const Br=hn.subarray(32),Wr=hn.subarray(16);$i(Br,Br),mi(Wr,Wr,Br);const ri=new Uint8Array(32);return ci(ri,Wr),ri}te.scalarMult=sn;function ln(vn){return sn(vn,Zr)}te.scalarMultBase=ln;function mn(vn){if(vn.length!==te.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${te.SECRET_KEY_LENGTH} bytes`);const Cn=new Uint8Array(vn);return{publicKey:ln(Cn),secretKey:Cn}}te.generateKeyPairFromSeed=mn;function cn(vn){const Cn=(0,t.randomBytes)(32,vn),ho=mn(Cn);return(0,G.wipe)(Cn),ho}te.generateKeyPair=cn;function Rn(vn,Cn,ho=!1){if(vn.length!==te.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(Cn.length!==te.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const hn=sn(vn,Cn);if(ho){let Zn=0;for(let Do=0;Do<hn.length;Do++)Zn|=hn[Do];if(Zn===0)throw new Error("X25519: invalid shared key")}return hn}te.sharedKey=Rn})(x25519);function allocUnsafe(te=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(te):new Uint8Array(te)}function concat(te,t){t||(t=te.reduce((Zr,Ie)=>Zr+Ie.length,0));const G=allocUnsafe(t);let Te=0;for(const Zr of te)G.set(Zr,Te),Te+=Zr.length;return G}function base(te,t){if(te.length>=255)throw new TypeError("Alphabet too long");for(var G=new Uint8Array(256),Te=0;Te<G.length;Te++)G[Te]=255;for(var Zr=0;Zr<te.length;Zr++){var Ie=te.charAt(Zr),ni=Ie.charCodeAt(0);if(G[ni]!==255)throw new TypeError(Ie+" is ambiguous");G[ni]=Zr}var fi=te.length,ci=te.charAt(0),ai=Math.log(fi)/Math.log(256),si=Math.log(256)/Math.log(fi);function li($i){if($i instanceof Uint8Array||(ArrayBuffer.isView($i)?$i=new Uint8Array($i.buffer,$i.byteOffset,$i.byteLength):Array.isArray($i)&&($i=Uint8Array.from($i))),!($i instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($i.length===0)return"";for(var sn=0,ln=0,mn=0,cn=$i.length;mn!==cn&&$i[mn]===0;)mn++,sn++;for(var Rn=(cn-mn)*si+1>>>0,vn=new Uint8Array(Rn);mn!==cn;){for(var Cn=$i[mn],ho=0,hn=Rn-1;(Cn!==0||ho<ln)&&hn!==-1;hn--,ho++)Cn+=256*vn[hn]>>>0,vn[hn]=Cn%fi>>>0,Cn=Cn/fi>>>0;if(Cn!==0)throw new Error("Non-zero carry");ln=ho,mn++}for(var Zn=Rn-ln;Zn!==Rn&&vn[Zn]===0;)Zn++;for(var Do=ci.repeat(sn);Zn<Rn;++Zn)Do+=te.charAt(vn[Zn]);return Do}function mi($i){if(typeof $i!="string")throw new TypeError("Expected String");if($i.length===0)return new Uint8Array;var sn=0;if($i[sn]!==" "){for(var ln=0,mn=0;$i[sn]===ci;)ln++,sn++;for(var cn=($i.length-sn)*ai+1>>>0,Rn=new Uint8Array(cn);$i[sn];){var vn=G[$i.charCodeAt(sn)];if(vn===255)return;for(var Cn=0,ho=cn-1;(vn!==0||Cn<mn)&&ho!==-1;ho--,Cn++)vn+=fi*Rn[ho]>>>0,Rn[ho]=vn%256>>>0,vn=vn/256>>>0;if(vn!==0)throw new Error("Non-zero carry");mn=Cn,sn++}if($i[sn]!==" "){for(var hn=cn-mn;hn!==cn&&Rn[hn]===0;)hn++;for(var Zn=new Uint8Array(ln+(cn-hn)),Do=ln;hn!==cn;)Zn[Do++]=Rn[hn++];return Zn}}}function di($i){var sn=mi($i);if(sn)return sn;throw new Error(`Non-${t} character`)}return{encode:li,decodeUnsafe:mi,decode:di}}var src=base,_brrp__multiformats_scope_baseX=src;const coerce=te=>{if(te instanceof Uint8Array&&te.constructor.name==="Uint8Array")return te;if(te instanceof ArrayBuffer)return new Uint8Array(te);if(ArrayBuffer.isView(te))return new Uint8Array(te.buffer,te.byteOffset,te.byteLength);throw new Error("Unknown type, must be binary type")},fromString$1=te=>new TextEncoder().encode(te),toString$1=te=>new TextDecoder().decode(te);class Encoder{constructor(t,G,Te){this.name=t,this.prefix=G,this.baseEncode=Te}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(t,G,Te){if(this.name=t,this.prefix=G,G.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=G.codePointAt(0),this.baseDecode=Te}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$2(this,t)}}class ComposedDecoder{constructor(t){this.decoders=t}or(t){return or$2(this,t)}decode(t){const G=t[0],Te=this.decoders[G];if(Te)return Te.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or$2=(te,t)=>new ComposedDecoder({...te.decoders||{[te.prefix]:te},...t.decoders||{[t.prefix]:t}});class Codec{constructor(t,G,Te,Zr){this.name=t,this.prefix=G,this.baseEncode=Te,this.baseDecode=Zr,this.encoder=new Encoder(t,G,Te),this.decoder=new Decoder(t,G,Zr)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const from=({name:te,prefix:t,encode:G,decode:Te})=>new Codec(te,t,G,Te),baseX=({prefix:te,name:t,alphabet:G})=>{const{encode:Te,decode:Zr}=_brrp__multiformats_scope_baseX(G,t);return from({prefix:te,name:t,encode:Te,decode:Ie=>coerce(Zr(Ie))})},decode$1=(te,t,G,Te)=>{const Zr={};for(let si=0;si<t.length;++si)Zr[t[si]]=si;let Ie=te.length;for(;te[Ie-1]==="=";)--Ie;const ni=new Uint8Array(Ie*G/8|0);let fi=0,ci=0,ai=0;for(let si=0;si<Ie;++si){const li=Zr[te[si]];if(li===void 0)throw new SyntaxError(`Non-${Te} character`);ci=ci<<G|li,fi+=G,fi>=8&&(fi-=8,ni[ai++]=255&ci>>fi)}if(fi>=G||255&ci<<8-fi)throw new SyntaxError("Unexpected end of data");return ni},encode$1=(te,t,G)=>{const Te=t[t.length-1]==="=",Zr=(1<<G)-1;let Ie="",ni=0,fi=0;for(let ci=0;ci<te.length;++ci)for(fi=fi<<8|te[ci],ni+=8;ni>G;)ni-=G,Ie+=t[Zr&fi>>ni];if(ni&&(Ie+=t[Zr&fi<<G-ni]),Te)for(;Ie.length*G&7;)Ie+="=";return Ie},rfc4648=({name:te,prefix:t,bitsPerChar:G,alphabet:Te})=>from({prefix:t,name:te,encode(Zr){return encode$1(Zr,Te,G)},decode(Zr){return decode$1(Zr,Te,G,te)}}),identity=from({prefix:"\0",name:"identity",encode:te=>toString$1(te),decode:te=>fromString$1(te)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),alphabetBytesToChars=alphabet.reduce((te,t,G)=>(te[G]=t,te),[]),alphabetCharsToBytes=alphabet.reduce((te,t,G)=>(te[t.codePointAt(0)]=G,te),[]);function encode(te){return te.reduce((t,G)=>(t+=alphabetBytesToChars[G],t),"")}function decode(te){const t=[];for(const G of te){const Te=alphabetCharsToBytes[G.codePointAt(0)];if(Te===void 0)throw new Error(`Non-base256emoji character: ${G}`);t.push(Te)}return new Uint8Array(t)}const base256emoji=from({prefix:"🚀",name:"base256emoji",encode,decode}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1,...base256emoji$1};function createCodec(te,t,G,Te){return{name:te,prefix:t,encoder:{name:te,prefix:t,encode:G},decoder:{decode:Te}}}const string=createCodec("utf8","u",te=>"u"+new TextDecoder("utf8").decode(te),te=>new TextEncoder().encode(te.substring(1))),ascii=createCodec("ascii","a",te=>{let t="a";for(let G=0;G<te.length;G++)t+=String.fromCharCode(te[G]);return t},te=>{te=te.substring(1);const t=allocUnsafe(te.length);for(let G=0;G<te.length;G++)t[G]=te.charCodeAt(G);return t}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString(te,t="utf8"){const G=BASES[t];if(!G)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(te,"utf8"):G.decoder.decode(`${G.prefix}${te}`)}function toString(te,t="utf8"){const G=BASES[t];if(!G)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(te.buffer,te.byteOffset,te.byteLength).toString("utf8"):G.encoder.encode(te).substring(1)}const C$3={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},Ir$1=":";function dn(te){const[t,G]=te.split(Ir$1);return{namespace:t,reference:G}}function zo(te,t=[]){const G=[];return Object.keys(te).forEach(Te=>{if(t.length&&!t.includes(Te))return;const Zr=te[Te];G.push(...Zr.accounts)}),G}function _r$1(te,t){return te.includes(":")?[te]:t.chains||[]}var Qo=Object.defineProperty,bn=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Go=Object.prototype.propertyIsEnumerable,yn=(te,t,G)=>t in te?Qo(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,wn=(te,t)=>{for(var G in t||(t={}))Jo.call(t,G)&&yn(te,G,t[G]);if(bn)for(var G of bn(t))Go.call(t,G)&&yn(te,G,t[G]);return te};const xn="ReactNative",qt$1={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},En="js";function pi(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}function er$1(){return!getDocument_1()&&!!getNavigator_1()&&navigator.product===xn}function pr$2(){return!pi()&&!!getNavigator_1()&&!!getDocument_1()}function We$2(){return er$1()?qt$1.reactNative:pi()?qt$1.node:pr$2()?qt$1.browser:qt$1.unknown}function Wo(){var te;try{return er$1()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(te=global.Application)==null?void 0:te.applicationId:void 0}catch{return}}function Sn(te,t){let G=queryString.parse(te);return G=wn(wn({},G),t),te=queryString.stringify(G),te}function Xo(){return getWindowMetadata_1()||{name:"",description:"",url:"",icons:[""]}}function Nn(){if(We$2()===qt$1.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:G,Version:Te}=global.Platform;return[G,Te].join("-")}const te=detect();if(te===null)return"unknown";const t=te.os?te.os.replace(" ","").toLowerCase():"unknown";return te.type==="browser"?[t,te.name,te.version].join("-"):[t,te.version].join("-")}function In$1(){var te;const t=We$2();return t===qt$1.browser?[t,((te=getLocation_1())==null?void 0:te.host)||"unknown"].join(":"):t}function _n(te,t,G){const Te=Nn(),Zr=In$1();return[[te,t].join("-"),[En,G].join("-"),Te,Zr].join("/")}function $o({protocol:te,version:t,relayUrl:G,sdkVersion:Te,auth:Zr,projectId:Ie,useOnCloseEvent:ni,bundleId:fi}){const ci=G.split("?"),ai=_n(te,t,Te),si={auth:Zr,ua:ai,projectId:Ie,useOnCloseEvent:ni||void 0,origin:fi||void 0},li=Sn(ci[1]||"",si);return ci[0]+"?"+li}function _e$2(te,t){return te.filter(G=>t.includes(G)).length===te.length}function i0(te){return Object.fromEntries(te.entries())}function n0(te){return new Map(Object.entries(te))}function a0(te=cjs$3.FIVE_MINUTES,t){const G=cjs$3.toMiliseconds(te||cjs$3.FIVE_MINUTES);let Te,Zr,Ie;return{resolve:ni=>{Ie&&Te&&(clearTimeout(Ie),Te(ni))},reject:ni=>{Ie&&Zr&&(clearTimeout(Ie),Zr(ni))},done:()=>new Promise((ni,fi)=>{Ie=setTimeout(()=>{fi(new Error(t))},G),Te=ni,Zr=fi})}}function u0(te,t,G){return new Promise(async(Te,Zr)=>{const Ie=setTimeout(()=>Zr(new Error(G)),t);try{const ni=await te;Te(ni)}catch(ni){Zr(ni)}clearTimeout(Ie)})}function vi(te,t){if(typeof t=="string"&&t.startsWith(`${te}:`))return t;if(te.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(te.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${te}`)}function h0(te){return vi("topic",te)}function c0(te){return vi("id",te)}function l0(te){const[t,G]=te.split(":"),Te={id:void 0,topic:void 0};if(t==="topic"&&typeof G=="string")Te.topic=G;else if(t==="id"&&Number.isInteger(Number(G)))Te.id=Number(G);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${G}`);return Te}function d0(te,t){return cjs$3.fromMiliseconds(Date.now()+cjs$3.toMiliseconds(te))}function p0(te){return Date.now()>=cjs$3.toMiliseconds(te)}function v0(te,t){return`${te}${t?`:${t}`:""}`}function ge$1(te=[],t=[]){return[...new Set([...te,...t])]}async function m0({id:te,topic:t,wcDeepLink:G}){try{if(!G)return;const Te=typeof G=="string"?JSON.parse(G):G;let Zr=Te==null?void 0:Te.href;if(typeof Zr!="string")return;Zr.endsWith("/")&&(Zr=Zr.slice(0,-1));const Ie=`${Zr}/wc?requestId=${te}&sessionTopic=${t}`,ni=We$2();ni===qt$1.browser?Ie.startsWith("https://")||Ie.startsWith("http://")?window.open(Ie,"_blank","noreferrer noopener"):window.open(Ie,"_self","noreferrer noopener"):ni===qt$1.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(Ie)}catch(Te){console.error(Te)}}async function g0(te,t){try{return await te.getItem(t)||(pr$2()?localStorage.getItem(t):void 0)}catch(G){console.error(G)}}var On=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A0(te){var t=te.default;if(typeof t=="function"){var G=function(){return t.apply(this,arguments)};G.prototype=t.prototype}else G={};return Object.defineProperty(G,"__esModule",{value:!0}),Object.keys(te).forEach(function(Te){var Zr=Object.getOwnPropertyDescriptor(te,Te);Object.defineProperty(G,Te,Zr.get?Zr:{enumerable:!0,get:function(){return te[Te]}})}),G}var Pn={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(te){(function(){var t="input is invalid type",G="finalize already called",Te=typeof window=="object",Zr=Te?window:{};Zr.JS_SHA3_NO_WINDOW&&(Te=!1);var Ie=!Te&&typeof self=="object",ni=!Zr.JS_SHA3_NO_NODE_JS&&typeof process$1=="object"&&process$1.versions&&process$1.versions.node;ni?Zr=On:Ie&&(Zr=self);var fi=!Zr.JS_SHA3_NO_COMMON_JS&&!0&&te.exports,ci=!Zr.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",ai="0123456789abcdef".split(""),si=[31,7936,2031616,520093696],li=[4,1024,262144,67108864],mi=[1,256,65536,16777216],di=[6,1536,393216,100663296],$i=[0,8,16,24],sn=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],ln=[224,256,384,512],mn=[128,256],cn=["hex","buffer","arrayBuffer","array","digest"],Rn={128:168,256:136};(Zr.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(fn){return Object.prototype.toString.call(fn)==="[object Array]"}),ci&&(Zr.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(fn){return typeof fn=="object"&&fn.buffer&&fn.buffer.constructor===ArrayBuffer});for(var vn=function(fn,uo,un){return function(gn){return new on(fn,uo,fn).update(gn)[un]()}},Cn=function(fn,uo,un){return function(gn,An){return new on(fn,uo,An).update(gn)[un]()}},ho=function(fn,uo,un){return function(gn,An,an,qo){return Br["cshake"+fn].update(gn,An,an,qo)[un]()}},hn=function(fn,uo,un){return function(gn,An,an,qo){return Br["kmac"+fn].update(gn,An,an,qo)[un]()}},Zn=function(fn,uo,un,gn){for(var An=0;An<cn.length;++An){var an=cn[An];fn[an]=uo(un,gn,an)}return fn},Do=function(fn,uo){var un=vn(fn,uo,"hex");return un.create=function(){return new on(fn,uo,fn)},un.update=function(gn){return un.create().update(gn)},Zn(un,vn,fn,uo)},Yo=function(fn,uo){var un=Cn(fn,uo,"hex");return un.create=function(gn){return new on(fn,uo,gn)},un.update=function(gn,An){return un.create(An).update(gn)},Zn(un,Cn,fn,uo)},ui=function(fn,uo){var un=Rn[fn],gn=ho(fn,uo,"hex");return gn.create=function(An,an,qo){return!an&&!qo?Br["shake"+fn].create(An):new on(fn,uo,An).bytepad([an,qo],un)},gn.update=function(An,an,qo,ko){return gn.create(an,qo,ko).update(An)},Zn(gn,ho,fn,uo)},H=function(fn,uo){var un=Rn[fn],gn=hn(fn,uo,"hex");return gn.create=function(An,an,qo){return new Mn(fn,uo,an).bytepad(["KMAC",qo],un).bytepad([An],un)},gn.update=function(An,an,qo,ko){return gn.create(An,qo,ko).update(an)},Zn(gn,hn,fn,uo)},X=[{name:"keccak",padding:mi,bits:ln,createMethod:Do},{name:"sha3",padding:di,bits:ln,createMethod:Do},{name:"shake",padding:si,bits:mn,createMethod:Yo},{name:"cshake",padding:li,bits:mn,createMethod:ui},{name:"kmac",padding:li,bits:mn,createMethod:H}],Br={},Wr=[],ri=0;ri<X.length;++ri)for(var ii=X[ri],oi=ii.bits,ei=0;ei<oi.length;++ei){var Y=ii.name+"_"+oi[ei];if(Wr.push(Y),Br[Y]=ii.createMethod(oi[ei],ii.padding),ii.name!=="sha3"){var Xr=ii.name+oi[ei];Wr.push(Xr),Br[Xr]=Br[Y]}}function on(fn,uo,un){this.blocks=[],this.s=[],this.padding=uo,this.outputBits=un,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(fn<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=un>>5,this.extraBytes=(un&31)>>3;for(var gn=0;gn<50;++gn)this.s[gn]=0}on.prototype.update=function(fn){if(this.finalized)throw new Error(G);var uo,un=typeof fn;if(un!=="string"){if(un==="object"){if(fn===null)throw new Error(t);if(ci&&fn.constructor===ArrayBuffer)fn=new Uint8Array(fn);else if(!Array.isArray(fn)&&(!ci||!ArrayBuffer.isView(fn)))throw new Error(t)}else throw new Error(t);uo=!0}for(var gn=this.blocks,An=this.byteCount,an=fn.length,qo=this.blockCount,ko=0,Uo=this.s,kh,Vo;ko<an;){if(this.reset)for(this.reset=!1,gn[0]=this.block,kh=1;kh<qo+1;++kh)gn[kh]=0;if(uo)for(kh=this.start;ko<an&&kh<An;++ko)gn[kh>>2]|=fn[ko]<<$i[kh++&3];else for(kh=this.start;ko<an&&kh<An;++ko)Vo=fn.charCodeAt(ko),Vo<128?gn[kh>>2]|=Vo<<$i[kh++&3]:Vo<2048?(gn[kh>>2]|=(192|Vo>>6)<<$i[kh++&3],gn[kh>>2]|=(128|Vo&63)<<$i[kh++&3]):Vo<55296||Vo>=57344?(gn[kh>>2]|=(224|Vo>>12)<<$i[kh++&3],gn[kh>>2]|=(128|Vo>>6&63)<<$i[kh++&3],gn[kh>>2]|=(128|Vo&63)<<$i[kh++&3]):(Vo=65536+((Vo&1023)<<10|fn.charCodeAt(++ko)&1023),gn[kh>>2]|=(240|Vo>>18)<<$i[kh++&3],gn[kh>>2]|=(128|Vo>>12&63)<<$i[kh++&3],gn[kh>>2]|=(128|Vo>>6&63)<<$i[kh++&3],gn[kh>>2]|=(128|Vo&63)<<$i[kh++&3]);if(this.lastByteIndex=kh,kh>=An){for(this.start=kh-An,this.block=gn[qo],kh=0;kh<qo;++kh)Uo[kh]^=gn[kh];Bn(Uo),this.reset=!0}else this.start=kh}return this},on.prototype.encode=function(fn,uo){var un=fn&255,gn=1,An=[un];for(fn=fn>>8,un=fn&255;un>0;)An.unshift(un),fn=fn>>8,un=fn&255,++gn;return uo?An.push(gn):An.unshift(gn),this.update(An),An.length},on.prototype.encodeString=function(fn){var uo,un=typeof fn;if(un!=="string"){if(un==="object"){if(fn===null)throw new Error(t);if(ci&&fn.constructor===ArrayBuffer)fn=new Uint8Array(fn);else if(!Array.isArray(fn)&&(!ci||!ArrayBuffer.isView(fn)))throw new Error(t)}else throw new Error(t);uo=!0}var gn=0,An=fn.length;if(uo)gn=An;else for(var an=0;an<fn.length;++an){var qo=fn.charCodeAt(an);qo<128?gn+=1:qo<2048?gn+=2:qo<55296||qo>=57344?gn+=3:(qo=65536+((qo&1023)<<10|fn.charCodeAt(++an)&1023),gn+=4)}return gn+=this.encode(gn*8),this.update(fn),gn},on.prototype.bytepad=function(fn,uo){for(var un=this.encode(uo),gn=0;gn<fn.length;++gn)un+=this.encodeString(fn[gn]);var An=uo-un%uo,an=[];return an.length=An,this.update(an),this},on.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var fn=this.blocks,uo=this.lastByteIndex,un=this.blockCount,gn=this.s;if(fn[uo>>2]|=this.padding[uo&3],this.lastByteIndex===this.byteCount)for(fn[0]=fn[un],uo=1;uo<un+1;++uo)fn[uo]=0;for(fn[un-1]|=2147483648,uo=0;uo<un;++uo)gn[uo]^=fn[uo];Bn(gn)}},on.prototype.toString=on.prototype.hex=function(){this.finalize();for(var fn=this.blockCount,uo=this.s,un=this.outputBlocks,gn=this.extraBytes,An=0,an=0,qo="",ko;an<un;){for(An=0;An<fn&&an<un;++An,++an)ko=uo[An],qo+=ai[ko>>4&15]+ai[ko&15]+ai[ko>>12&15]+ai[ko>>8&15]+ai[ko>>20&15]+ai[ko>>16&15]+ai[ko>>28&15]+ai[ko>>24&15];an%fn===0&&(Bn(uo),An=0)}return gn&&(ko=uo[An],qo+=ai[ko>>4&15]+ai[ko&15],gn>1&&(qo+=ai[ko>>12&15]+ai[ko>>8&15]),gn>2&&(qo+=ai[ko>>20&15]+ai[ko>>16&15])),qo},on.prototype.arrayBuffer=function(){this.finalize();var fn=this.blockCount,uo=this.s,un=this.outputBlocks,gn=this.extraBytes,An=0,an=0,qo=this.outputBits>>3,ko;gn?ko=new ArrayBuffer(un+1<<2):ko=new ArrayBuffer(qo);for(var Uo=new Uint32Array(ko);an<un;){for(An=0;An<fn&&an<un;++An,++an)Uo[an]=uo[An];an%fn===0&&Bn(uo)}return gn&&(Uo[An]=uo[An],ko=ko.slice(0,qo)),ko},on.prototype.buffer=on.prototype.arrayBuffer,on.prototype.digest=on.prototype.array=function(){this.finalize();for(var fn=this.blockCount,uo=this.s,un=this.outputBlocks,gn=this.extraBytes,An=0,an=0,qo=[],ko,Uo;an<un;){for(An=0;An<fn&&an<un;++An,++an)ko=an<<2,Uo=uo[An],qo[ko]=Uo&255,qo[ko+1]=Uo>>8&255,qo[ko+2]=Uo>>16&255,qo[ko+3]=Uo>>24&255;an%fn===0&&Bn(uo)}return gn&&(ko=an<<2,Uo=uo[An],qo[ko]=Uo&255,gn>1&&(qo[ko+1]=Uo>>8&255),gn>2&&(qo[ko+2]=Uo>>16&255)),qo};function Mn(fn,uo,un){on.call(this,fn,uo,un)}Mn.prototype=new on,Mn.prototype.finalize=function(){return this.encode(this.outputBits,!0),on.prototype.finalize.call(this)};var Bn=function(fn){var uo,un,gn,An,an,qo,ko,Uo,kh,Vo,tf,Wh,Rh,vh,Jh,Vf,Zo,Vh,Qf,Ko,Zh,Xf,Lf,Qh,bh,jf,Yh,Sh,ph,Xh,Th,$h,zu,Nh,Ih,Ku,Lh,wh,hu,qh,_h,qu,Dh,xh,Lu,Bh,Eh,ku,Ch,Mh,au,Oh,Ah,r0,jh,Ph,Uu,nc,sc,ac,oc,fc,$0;for(gn=0;gn<48;gn+=2)An=fn[0]^fn[10]^fn[20]^fn[30]^fn[40],an=fn[1]^fn[11]^fn[21]^fn[31]^fn[41],qo=fn[2]^fn[12]^fn[22]^fn[32]^fn[42],ko=fn[3]^fn[13]^fn[23]^fn[33]^fn[43],Uo=fn[4]^fn[14]^fn[24]^fn[34]^fn[44],kh=fn[5]^fn[15]^fn[25]^fn[35]^fn[45],Vo=fn[6]^fn[16]^fn[26]^fn[36]^fn[46],tf=fn[7]^fn[17]^fn[27]^fn[37]^fn[47],Wh=fn[8]^fn[18]^fn[28]^fn[38]^fn[48],Rh=fn[9]^fn[19]^fn[29]^fn[39]^fn[49],uo=Wh^(qo<<1|ko>>>31),un=Rh^(ko<<1|qo>>>31),fn[0]^=uo,fn[1]^=un,fn[10]^=uo,fn[11]^=un,fn[20]^=uo,fn[21]^=un,fn[30]^=uo,fn[31]^=un,fn[40]^=uo,fn[41]^=un,uo=An^(Uo<<1|kh>>>31),un=an^(kh<<1|Uo>>>31),fn[2]^=uo,fn[3]^=un,fn[12]^=uo,fn[13]^=un,fn[22]^=uo,fn[23]^=un,fn[32]^=uo,fn[33]^=un,fn[42]^=uo,fn[43]^=un,uo=qo^(Vo<<1|tf>>>31),un=ko^(tf<<1|Vo>>>31),fn[4]^=uo,fn[5]^=un,fn[14]^=uo,fn[15]^=un,fn[24]^=uo,fn[25]^=un,fn[34]^=uo,fn[35]^=un,fn[44]^=uo,fn[45]^=un,uo=Uo^(Wh<<1|Rh>>>31),un=kh^(Rh<<1|Wh>>>31),fn[6]^=uo,fn[7]^=un,fn[16]^=uo,fn[17]^=un,fn[26]^=uo,fn[27]^=un,fn[36]^=uo,fn[37]^=un,fn[46]^=uo,fn[47]^=un,uo=Vo^(An<<1|an>>>31),un=tf^(an<<1|An>>>31),fn[8]^=uo,fn[9]^=un,fn[18]^=uo,fn[19]^=un,fn[28]^=uo,fn[29]^=un,fn[38]^=uo,fn[39]^=un,fn[48]^=uo,fn[49]^=un,vh=fn[0],Jh=fn[1],Bh=fn[11]<<4|fn[10]>>>28,Eh=fn[10]<<4|fn[11]>>>28,Sh=fn[20]<<3|fn[21]>>>29,ph=fn[21]<<3|fn[20]>>>29,ac=fn[31]<<9|fn[30]>>>23,oc=fn[30]<<9|fn[31]>>>23,qu=fn[40]<<18|fn[41]>>>14,Dh=fn[41]<<18|fn[40]>>>14,Nh=fn[2]<<1|fn[3]>>>31,Ih=fn[3]<<1|fn[2]>>>31,Vf=fn[13]<<12|fn[12]>>>20,Zo=fn[12]<<12|fn[13]>>>20,ku=fn[22]<<10|fn[23]>>>22,Ch=fn[23]<<10|fn[22]>>>22,Xh=fn[33]<<13|fn[32]>>>19,Th=fn[32]<<13|fn[33]>>>19,fc=fn[42]<<2|fn[43]>>>30,$0=fn[43]<<2|fn[42]>>>30,r0=fn[5]<<30|fn[4]>>>2,jh=fn[4]<<30|fn[5]>>>2,Ku=fn[14]<<6|fn[15]>>>26,Lh=fn[15]<<6|fn[14]>>>26,Vh=fn[25]<<11|fn[24]>>>21,Qf=fn[24]<<11|fn[25]>>>21,Mh=fn[34]<<15|fn[35]>>>17,au=fn[35]<<15|fn[34]>>>17,$h=fn[45]<<29|fn[44]>>>3,zu=fn[44]<<29|fn[45]>>>3,Qh=fn[6]<<28|fn[7]>>>4,bh=fn[7]<<28|fn[6]>>>4,Ph=fn[17]<<23|fn[16]>>>9,Uu=fn[16]<<23|fn[17]>>>9,wh=fn[26]<<25|fn[27]>>>7,hu=fn[27]<<25|fn[26]>>>7,Ko=fn[36]<<21|fn[37]>>>11,Zh=fn[37]<<21|fn[36]>>>11,Oh=fn[47]<<24|fn[46]>>>8,Ah=fn[46]<<24|fn[47]>>>8,xh=fn[8]<<27|fn[9]>>>5,Lu=fn[9]<<27|fn[8]>>>5,jf=fn[18]<<20|fn[19]>>>12,Yh=fn[19]<<20|fn[18]>>>12,nc=fn[29]<<7|fn[28]>>>25,sc=fn[28]<<7|fn[29]>>>25,qh=fn[38]<<8|fn[39]>>>24,_h=fn[39]<<8|fn[38]>>>24,Xf=fn[48]<<14|fn[49]>>>18,Lf=fn[49]<<14|fn[48]>>>18,fn[0]=vh^~Vf&Vh,fn[1]=Jh^~Zo&Qf,fn[10]=Qh^~jf&Sh,fn[11]=bh^~Yh&ph,fn[20]=Nh^~Ku&wh,fn[21]=Ih^~Lh&hu,fn[30]=xh^~Bh&ku,fn[31]=Lu^~Eh&Ch,fn[40]=r0^~Ph&nc,fn[41]=jh^~Uu&sc,fn[2]=Vf^~Vh&Ko,fn[3]=Zo^~Qf&Zh,fn[12]=jf^~Sh&Xh,fn[13]=Yh^~ph&Th,fn[22]=Ku^~wh&qh,fn[23]=Lh^~hu&_h,fn[32]=Bh^~ku&Mh,fn[33]=Eh^~Ch&au,fn[42]=Ph^~nc&ac,fn[43]=Uu^~sc&oc,fn[4]=Vh^~Ko&Xf,fn[5]=Qf^~Zh&Lf,fn[14]=Sh^~Xh&$h,fn[15]=ph^~Th&zu,fn[24]=wh^~qh&qu,fn[25]=hu^~_h&Dh,fn[34]=ku^~Mh&Oh,fn[35]=Ch^~au&Ah,fn[44]=nc^~ac&fc,fn[45]=sc^~oc&$0,fn[6]=Ko^~Xf&vh,fn[7]=Zh^~Lf&Jh,fn[16]=Xh^~$h&Qh,fn[17]=Th^~zu&bh,fn[26]=qh^~qu&Nh,fn[27]=_h^~Dh&Ih,fn[36]=Mh^~Oh&xh,fn[37]=au^~Ah&Lu,fn[46]=ac^~fc&r0,fn[47]=oc^~$0&jh,fn[8]=Xf^~vh&Vf,fn[9]=Lf^~Jh&Zo,fn[18]=$h^~Qh&jf,fn[19]=zu^~bh&Yh,fn[28]=qu^~Nh&Ku,fn[29]=Dh^~Ih&Lh,fn[38]=Oh^~xh&Bh,fn[39]=Ah^~Lu&Eh,fn[48]=fc^~r0&Ph,fn[49]=$0^~jh&Uu,fn[0]^=sn[gn],fn[1]^=sn[gn+1]};if(fi)te.exports=Br;else for(ri=0;ri<Wr.length;++ri)Zr[Wr[ri]]=Br[Wr[ri]]})()})(Pn);var b0=Pn.exports;const y0="logger/5.7.0";let Dn=!1,Fn=!1;const Cr$1={debug:1,default:2,info:2,warning:3,error:4,off:5};let Tn=Cr$1.default,gi=null;function w0(){try{const te=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{te.push(t)}}),te.length)throw new Error("missing "+te.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(te){return te.message}return null}const Un=w0();var Ai;(function(te){te.DEBUG="DEBUG",te.INFO="INFO",te.WARNING="WARNING",te.ERROR="ERROR",te.OFF="OFF"})(Ai||(Ai={}));var re$1;(function(te){te.UNKNOWN_ERROR="UNKNOWN_ERROR",te.NOT_IMPLEMENTED="NOT_IMPLEMENTED",te.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",te.NETWORK_ERROR="NETWORK_ERROR",te.SERVER_ERROR="SERVER_ERROR",te.TIMEOUT="TIMEOUT",te.BUFFER_OVERRUN="BUFFER_OVERRUN",te.NUMERIC_FAULT="NUMERIC_FAULT",te.MISSING_NEW="MISSING_NEW",te.INVALID_ARGUMENT="INVALID_ARGUMENT",te.MISSING_ARGUMENT="MISSING_ARGUMENT",te.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",te.CALL_EXCEPTION="CALL_EXCEPTION",te.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",te.NONCE_EXPIRED="NONCE_EXPIRED",te.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",te.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",te.TRANSACTION_REPLACED="TRANSACTION_REPLACED",te.ACTION_REJECTED="ACTION_REJECTED"})(re$1||(re$1={}));const kn="0123456789abcdef";let L$4=class zc{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,G){const Te=t.toLowerCase();Cr$1[Te]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(Tn>Cr$1[Te])&&console.log.apply(console,G)}debug(...t){this._log(zc.levels.DEBUG,t)}info(...t){this._log(zc.levels.INFO,t)}warn(...t){this._log(zc.levels.WARNING,t)}makeError(t,G,Te){if(Fn)return this.makeError("censored error",G,{});G||(G=zc.errors.UNKNOWN_ERROR),Te||(Te={});const Zr=[];Object.keys(Te).forEach(ci=>{const ai=Te[ci];try{if(ai instanceof Uint8Array){let si="";for(let li=0;li<ai.length;li++)si+=kn[ai[li]>>4],si+=kn[ai[li]&15];Zr.push(ci+"=Uint8Array(0x"+si+")")}else Zr.push(ci+"="+JSON.stringify(ai))}catch{Zr.push(ci+"="+JSON.stringify(Te[ci].toString()))}}),Zr.push(`code=${G}`),Zr.push(`version=${this.version}`);const Ie=t;let ni="";switch(G){case re$1.NUMERIC_FAULT:{ni="NUMERIC_FAULT";const ci=t;switch(ci){case"overflow":case"underflow":case"division-by-zero":ni+="-"+ci;break;case"negative-power":case"negative-width":ni+="-unsupported";break;case"unbound-bitwise-result":ni+="-unbound-result";break}break}case re$1.CALL_EXCEPTION:case re$1.INSUFFICIENT_FUNDS:case re$1.MISSING_NEW:case re$1.NONCE_EXPIRED:case re$1.REPLACEMENT_UNDERPRICED:case re$1.TRANSACTION_REPLACED:case re$1.UNPREDICTABLE_GAS_LIMIT:ni=G;break}ni&&(t+=" [ See: https://links.ethers.org/v5-errors-"+ni+" ]"),Zr.length&&(t+=" ("+Zr.join(", ")+")");const fi=new Error(t);return fi.reason=Ie,fi.code=G,Object.keys(Te).forEach(function(ci){fi[ci]=Te[ci]}),fi}throwError(t,G,Te){throw this.makeError(t,G,Te)}throwArgumentError(t,G,Te){return this.throwError(t,zc.errors.INVALID_ARGUMENT,{argument:G,value:Te})}assert(t,G,Te,Zr){t||this.throwError(G,Te,Zr)}assertArgument(t,G,Te,Zr){t||this.throwArgumentError(G,Te,Zr)}checkNormalize(t){Un&&this.throwError("platform missing String.prototype.normalize",zc.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Un})}checkSafeUint53(t,G){typeof t=="number"&&(G==null&&(G="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(G,zc.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(G,zc.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,G,Te){Te?Te=": "+Te:Te="",t<G&&this.throwError("missing argument"+Te,zc.errors.MISSING_ARGUMENT,{count:t,expectedCount:G}),t>G&&this.throwError("too many arguments"+Te,zc.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:G})}checkNew(t,G){(t===Object||t==null)&&this.throwError("missing new",zc.errors.MISSING_NEW,{name:G.name})}checkAbstract(t,G){t===G?this.throwError("cannot instantiate abstract class "+JSON.stringify(G.name)+" directly; use a sub-class",zc.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",zc.errors.MISSING_NEW,{name:G.name})}static globalLogger(){return gi||(gi=new zc(y0)),gi}static setCensorship(t,G){if(!t&&G&&this.globalLogger().throwError("cannot permanently disable censorship",zc.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Dn){if(!t)return;this.globalLogger().throwError("error censorship permanent",zc.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Fn=!!t,Dn=!!G}static setLogLevel(t){const G=Cr$1[t.toLowerCase()];if(G==null){zc.globalLogger().warn("invalid log level - "+t);return}Tn=G}static from(t){return new zc(t)}};L$4.errors=re$1,L$4.levels=Ai;const x0="bytes/5.7.0",Dt$1=new L$4(x0);function qn(te){return!!te.toHexString}function rr$1(te){return te.slice||(te.slice=function(){const t=Array.prototype.slice.call(arguments);return rr$1(new Uint8Array(Array.prototype.slice.apply(te,t)))}),te}function M0(te){return Qt(te)&&!(te.length%2)||ir$1(te)}function Kn$1(te){return typeof te=="number"&&te==te&&te%1===0}function ir$1(te){if(te==null)return!1;if(te.constructor===Uint8Array)return!0;if(typeof te=="string"||!Kn$1(te.length)||te.length<0)return!1;for(let t=0;t<te.length;t++){const G=te[t];if(!Kn$1(G)||G<0||G>=256)return!1}return!0}function Ot$1(te,t){if(t||(t={}),typeof te=="number"){Dt$1.checkSafeUint53(te,"invalid arrayify value");const G=[];for(;te;)G.unshift(te&255),te=parseInt(String(te/256));return G.length===0&&G.push(0),rr$1(new Uint8Array(G))}if(t.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),qn(te)&&(te=te.toHexString()),Qt(te)){let G=te.substring(2);G.length%2&&(t.hexPad==="left"?G="0"+G:t.hexPad==="right"?G+="0":Dt$1.throwArgumentError("hex data is odd-length","value",te));const Te=[];for(let Zr=0;Zr<G.length;Zr+=2)Te.push(parseInt(G.substring(Zr,Zr+2),16));return rr$1(new Uint8Array(Te))}return ir$1(te)?rr$1(new Uint8Array(te)):Dt$1.throwArgumentError("invalid arrayify value","value",te)}function E0(te){const t=te.map(Zr=>Ot$1(Zr)),G=t.reduce((Zr,Ie)=>Zr+Ie.length,0),Te=new Uint8Array(G);return t.reduce((Zr,Ie)=>(Te.set(Ie,Zr),Zr+Ie.length),0),rr$1(Te)}function S0(te,t){te=Ot$1(te),te.length>t&&Dt$1.throwArgumentError("value out of range","value",arguments[0]);const G=new Uint8Array(t);return G.set(te,t-te.length),rr$1(G)}function Qt(te,t){return!(typeof te!="string"||!te.match(/^0x[0-9A-Fa-f]*$/)||t&&te.length!==2+2*t)}const bi="0123456789abcdef";function Kt$1(te,t){if(t||(t={}),typeof te=="number"){Dt$1.checkSafeUint53(te,"invalid hexlify value");let G="";for(;te;)G=bi[te&15]+G,te=Math.floor(te/16);return G.length?(G.length%2&&(G="0"+G),"0x"+G):"0x00"}if(typeof te=="bigint")return te=te.toString(16),te.length%2?"0x0"+te:"0x"+te;if(t.allowMissingPrefix&&typeof te=="string"&&te.substring(0,2)!=="0x"&&(te="0x"+te),qn(te))return te.toHexString();if(Qt(te))return te.length%2&&(t.hexPad==="left"?te="0x0"+te.substring(2):t.hexPad==="right"?te+="0":Dt$1.throwArgumentError("hex data is odd-length","value",te)),te.toLowerCase();if(ir$1(te)){let G="0x";for(let Te=0;Te<te.length;Te++){let Zr=te[Te];G+=bi[(Zr&240)>>4]+bi[Zr&15]}return G}return Dt$1.throwArgumentError("invalid hexlify value","value",te)}function N0(te){if(typeof te!="string")te=Kt$1(te);else if(!Qt(te)||te.length%2)return null;return(te.length-2)/2}function Hn(te,t,G){return typeof te!="string"?te=Kt$1(te):(!Qt(te)||te.length%2)&&Dt$1.throwArgumentError("invalid hexData","value",te),t=2+2*t,G!=null?"0x"+te.substring(t,2+2*G):"0x"+te.substring(t)}function oe$1(te,t){for(typeof te!="string"?te=Kt$1(te):Qt(te)||Dt$1.throwArgumentError("invalid hex string","value",te),te.length>2*t+2&&Dt$1.throwArgumentError("value out of range","value",arguments[1]);te.length<2*t+2;)te="0x0"+te.substring(2);return te}function zn(te){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(M0(te)){let G=Ot$1(te);G.length===64?(t.v=27+(G[32]>>7),G[32]&=127,t.r=Kt$1(G.slice(0,32)),t.s=Kt$1(G.slice(32,64))):G.length===65?(t.r=Kt$1(G.slice(0,32)),t.s=Kt$1(G.slice(32,64)),t.v=G[64]):Dt$1.throwArgumentError("invalid signature string","signature",te),t.v<27&&(t.v===0||t.v===1?t.v+=27:Dt$1.throwArgumentError("signature invalid v byte","signature",te)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(G[32]|=128),t._vs=Kt$1(G.slice(32,64))}else{if(t.r=te.r,t.s=te.s,t.v=te.v,t.recoveryParam=te.recoveryParam,t._vs=te._vs,t._vs!=null){const Zr=S0(Ot$1(t._vs),32);t._vs=Kt$1(Zr);const Ie=Zr[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=Ie:t.recoveryParam!==Ie&&Dt$1.throwArgumentError("signature recoveryParam mismatch _vs","signature",te),Zr[0]&=127;const ni=Kt$1(Zr);t.s==null?t.s=ni:t.s!==ni&&Dt$1.throwArgumentError("signature v mismatch _vs","signature",te)}if(t.recoveryParam==null)t.v==null?Dt$1.throwArgumentError("signature missing v and recoveryParam","signature",te):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const Zr=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==Zr&&Dt$1.throwArgumentError("signature recoveryParam mismatch v","signature",te)}t.r==null||!Qt(t.r)?Dt$1.throwArgumentError("signature missing or invalid r","signature",te):t.r=oe$1(t.r,32),t.s==null||!Qt(t.s)?Dt$1.throwArgumentError("signature missing or invalid s","signature",te):t.s=oe$1(t.s,32);const G=Ot$1(t.s);G[0]>=128&&Dt$1.throwArgumentError("signature s out of range","signature",te),t.recoveryParam&&(G[0]|=128);const Te=Kt$1(G);t._vs&&(Qt(t._vs)||Dt$1.throwArgumentError("signature invalid _vs","signature",te),t._vs=oe$1(t._vs,32)),t._vs==null?t._vs=Te:t._vs!==Te&&Dt$1.throwArgumentError("signature _vs mismatch v and s","signature",te)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function yi(te){return"0x"+b0.keccak_256(Ot$1(te))}var Ln={exports:{}},I0={},_0=Object.freeze({__proto__:null,default:I0}),B0=A0(_0);(function(te){(function(t,G){function Te(X,Br){if(!X)throw new Error(Br||"Assertion failed")}function Zr(X,Br){X.super_=Br;var Wr=function(){};Wr.prototype=Br.prototype,X.prototype=new Wr,X.prototype.constructor=X}function Ie(X,Br,Wr){if(Ie.isBN(X))return X;this.negative=0,this.words=null,this.length=0,this.red=null,X!==null&&((Br==="le"||Br==="be")&&(Wr=Br,Br=10),this._init(X||0,Br||10,Wr||"be"))}typeof t=="object"?t.exports=Ie:G.BN=Ie,Ie.BN=Ie,Ie.wordSize=26;var ni;try{typeof window<"u"&&typeof window.Buffer<"u"?ni=window.Buffer:ni=B0.Buffer}catch{}Ie.isBN=function(X){return X instanceof Ie?!0:X!==null&&typeof X=="object"&&X.constructor.wordSize===Ie.wordSize&&Array.isArray(X.words)},Ie.max=function(X,Br){return X.cmp(Br)>0?X:Br},Ie.min=function(X,Br){return X.cmp(Br)<0?X:Br},Ie.prototype._init=function(X,Br,Wr){if(typeof X=="number")return this._initNumber(X,Br,Wr);if(typeof X=="object")return this._initArray(X,Br,Wr);Br==="hex"&&(Br=16),Te(Br===(Br|0)&&Br>=2&&Br<=36),X=X.toString().replace(/\s+/g,"");var ri=0;X[0]==="-"&&(ri++,this.negative=1),ri<X.length&&(Br===16?this._parseHex(X,ri,Wr):(this._parseBase(X,Br,ri),Wr==="le"&&this._initArray(this.toArray(),Br,Wr)))},Ie.prototype._initNumber=function(X,Br,Wr){X<0&&(this.negative=1,X=-X),X<67108864?(this.words=[X&67108863],this.length=1):X<4503599627370496?(this.words=[X&67108863,X/67108864&67108863],this.length=2):(Te(X<9007199254740992),this.words=[X&67108863,X/67108864&67108863,1],this.length=3),Wr==="le"&&this._initArray(this.toArray(),Br,Wr)},Ie.prototype._initArray=function(X,Br,Wr){if(Te(typeof X.length=="number"),X.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(X.length/3),this.words=new Array(this.length);for(var ri=0;ri<this.length;ri++)this.words[ri]=0;var ii,oi,ei=0;if(Wr==="be")for(ri=X.length-1,ii=0;ri>=0;ri-=3)oi=X[ri]|X[ri-1]<<8|X[ri-2]<<16,this.words[ii]|=oi<<ei&67108863,this.words[ii+1]=oi>>>26-ei&67108863,ei+=24,ei>=26&&(ei-=26,ii++);else if(Wr==="le")for(ri=0,ii=0;ri<X.length;ri+=3)oi=X[ri]|X[ri+1]<<8|X[ri+2]<<16,this.words[ii]|=oi<<ei&67108863,this.words[ii+1]=oi>>>26-ei&67108863,ei+=24,ei>=26&&(ei-=26,ii++);return this._strip()};function fi(X,Br){var Wr=X.charCodeAt(Br);if(Wr>=48&&Wr<=57)return Wr-48;if(Wr>=65&&Wr<=70)return Wr-55;if(Wr>=97&&Wr<=102)return Wr-87;Te(!1,"Invalid character in "+X)}function ci(X,Br,Wr){var ri=fi(X,Wr);return Wr-1>=Br&&(ri|=fi(X,Wr-1)<<4),ri}Ie.prototype._parseHex=function(X,Br,Wr){this.length=Math.ceil((X.length-Br)/6),this.words=new Array(this.length);for(var ri=0;ri<this.length;ri++)this.words[ri]=0;var ii=0,oi=0,ei;if(Wr==="be")for(ri=X.length-1;ri>=Br;ri-=2)ei=ci(X,Br,ri)<<ii,this.words[oi]|=ei&67108863,ii>=18?(ii-=18,oi+=1,this.words[oi]|=ei>>>26):ii+=8;else{var Y=X.length-Br;for(ri=Y%2===0?Br+1:Br;ri<X.length;ri+=2)ei=ci(X,Br,ri)<<ii,this.words[oi]|=ei&67108863,ii>=18?(ii-=18,oi+=1,this.words[oi]|=ei>>>26):ii+=8}this._strip()};function ai(X,Br,Wr,ri){for(var ii=0,oi=0,ei=Math.min(X.length,Wr),Y=Br;Y<ei;Y++){var Xr=X.charCodeAt(Y)-48;ii*=ri,Xr>=49?oi=Xr-49+10:Xr>=17?oi=Xr-17+10:oi=Xr,Te(Xr>=0&&oi<ri,"Invalid character"),ii+=oi}return ii}Ie.prototype._parseBase=function(X,Br,Wr){this.words=[0],this.length=1;for(var ri=0,ii=1;ii<=67108863;ii*=Br)ri++;ri--,ii=ii/Br|0;for(var oi=X.length-Wr,ei=oi%ri,Y=Math.min(oi,oi-ei)+Wr,Xr=0,on=Wr;on<Y;on+=ri)Xr=ai(X,on,on+ri,Br),this.imuln(ii),this.words[0]+Xr<67108864?this.words[0]+=Xr:this._iaddn(Xr);if(ei!==0){var Mn=1;for(Xr=ai(X,on,X.length,Br),on=0;on<ei;on++)Mn*=Br;this.imuln(Mn),this.words[0]+Xr<67108864?this.words[0]+=Xr:this._iaddn(Xr)}this._strip()},Ie.prototype.copy=function(X){X.words=new Array(this.length);for(var Br=0;Br<this.length;Br++)X.words[Br]=this.words[Br];X.length=this.length,X.negative=this.negative,X.red=this.red};function si(X,Br){X.words=Br.words,X.length=Br.length,X.negative=Br.negative,X.red=Br.red}if(Ie.prototype._move=function(X){si(X,this)},Ie.prototype.clone=function(){var X=new Ie(null);return this.copy(X),X},Ie.prototype._expand=function(X){for(;this.length<X;)this.words[this.length++]=0;return this},Ie.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{Ie.prototype[Symbol.for("nodejs.util.inspect.custom")]=li}catch{Ie.prototype.inspect=li}else Ie.prototype.inspect=li;function li(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var mi=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],di=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],$i=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ie.prototype.toString=function(X,Br){X=X||10,Br=Br|0||1;var Wr;if(X===16||X==="hex"){Wr="";for(var ri=0,ii=0,oi=0;oi<this.length;oi++){var ei=this.words[oi],Y=((ei<<ri|ii)&16777215).toString(16);ii=ei>>>24-ri&16777215,ri+=2,ri>=26&&(ri-=26,oi--),ii!==0||oi!==this.length-1?Wr=mi[6-Y.length]+Y+Wr:Wr=Y+Wr}for(ii!==0&&(Wr=ii.toString(16)+Wr);Wr.length%Br!==0;)Wr="0"+Wr;return this.negative!==0&&(Wr="-"+Wr),Wr}if(X===(X|0)&&X>=2&&X<=36){var Xr=di[X],on=$i[X];Wr="";var Mn=this.clone();for(Mn.negative=0;!Mn.isZero();){var Bn=Mn.modrn(on).toString(X);Mn=Mn.idivn(on),Mn.isZero()?Wr=Bn+Wr:Wr=mi[Xr-Bn.length]+Bn+Wr}for(this.isZero()&&(Wr="0"+Wr);Wr.length%Br!==0;)Wr="0"+Wr;return this.negative!==0&&(Wr="-"+Wr),Wr}Te(!1,"Base should be between 2 and 36")},Ie.prototype.toNumber=function(){var X=this.words[0];return this.length===2?X+=this.words[1]*67108864:this.length===3&&this.words[2]===1?X+=4503599627370496+this.words[1]*67108864:this.length>2&&Te(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-X:X},Ie.prototype.toJSON=function(){return this.toString(16,2)},ni&&(Ie.prototype.toBuffer=function(X,Br){return this.toArrayLike(ni,X,Br)}),Ie.prototype.toArray=function(X,Br){return this.toArrayLike(Array,X,Br)};var sn=function(X,Br){return X.allocUnsafe?X.allocUnsafe(Br):new X(Br)};Ie.prototype.toArrayLike=function(X,Br,Wr){this._strip();var ri=this.byteLength(),ii=Wr||Math.max(1,ri);Te(ri<=ii,"byte array longer than desired length"),Te(ii>0,"Requested array length <= 0");var oi=sn(X,ii),ei=Br==="le"?"LE":"BE";return this["_toArrayLike"+ei](oi,ri),oi},Ie.prototype._toArrayLikeLE=function(X,Br){for(var Wr=0,ri=0,ii=0,oi=0;ii<this.length;ii++){var ei=this.words[ii]<<oi|ri;X[Wr++]=ei&255,Wr<X.length&&(X[Wr++]=ei>>8&255),Wr<X.length&&(X[Wr++]=ei>>16&255),oi===6?(Wr<X.length&&(X[Wr++]=ei>>24&255),ri=0,oi=0):(ri=ei>>>24,oi+=2)}if(Wr<X.length)for(X[Wr++]=ri;Wr<X.length;)X[Wr++]=0},Ie.prototype._toArrayLikeBE=function(X,Br){for(var Wr=X.length-1,ri=0,ii=0,oi=0;ii<this.length;ii++){var ei=this.words[ii]<<oi|ri;X[Wr--]=ei&255,Wr>=0&&(X[Wr--]=ei>>8&255),Wr>=0&&(X[Wr--]=ei>>16&255),oi===6?(Wr>=0&&(X[Wr--]=ei>>24&255),ri=0,oi=0):(ri=ei>>>24,oi+=2)}if(Wr>=0)for(X[Wr--]=ri;Wr>=0;)X[Wr--]=0},Math.clz32?Ie.prototype._countBits=function(X){return 32-Math.clz32(X)}:Ie.prototype._countBits=function(X){var Br=X,Wr=0;return Br>=4096&&(Wr+=13,Br>>>=13),Br>=64&&(Wr+=7,Br>>>=7),Br>=8&&(Wr+=4,Br>>>=4),Br>=2&&(Wr+=2,Br>>>=2),Wr+Br},Ie.prototype._zeroBits=function(X){if(X===0)return 26;var Br=X,Wr=0;return Br&8191||(Wr+=13,Br>>>=13),Br&127||(Wr+=7,Br>>>=7),Br&15||(Wr+=4,Br>>>=4),Br&3||(Wr+=2,Br>>>=2),Br&1||Wr++,Wr},Ie.prototype.bitLength=function(){var X=this.words[this.length-1],Br=this._countBits(X);return(this.length-1)*26+Br};function ln(X){for(var Br=new Array(X.bitLength()),Wr=0;Wr<Br.length;Wr++){var ri=Wr/26|0,ii=Wr%26;Br[Wr]=X.words[ri]>>>ii&1}return Br}Ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var X=0,Br=0;Br<this.length;Br++){var Wr=this._zeroBits(this.words[Br]);if(X+=Wr,Wr!==26)break}return X},Ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ie.prototype.toTwos=function(X){return this.negative!==0?this.abs().inotn(X).iaddn(1):this.clone()},Ie.prototype.fromTwos=function(X){return this.testn(X-1)?this.notn(X).iaddn(1).ineg():this.clone()},Ie.prototype.isNeg=function(){return this.negative!==0},Ie.prototype.neg=function(){return this.clone().ineg()},Ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ie.prototype.iuor=function(X){for(;this.length<X.length;)this.words[this.length++]=0;for(var Br=0;Br<X.length;Br++)this.words[Br]=this.words[Br]|X.words[Br];return this._strip()},Ie.prototype.ior=function(X){return Te((this.negative|X.negative)===0),this.iuor(X)},Ie.prototype.or=function(X){return this.length>X.length?this.clone().ior(X):X.clone().ior(this)},Ie.prototype.uor=function(X){return this.length>X.length?this.clone().iuor(X):X.clone().iuor(this)},Ie.prototype.iuand=function(X){var Br;this.length>X.length?Br=X:Br=this;for(var Wr=0;Wr<Br.length;Wr++)this.words[Wr]=this.words[Wr]&X.words[Wr];return this.length=Br.length,this._strip()},Ie.prototype.iand=function(X){return Te((this.negative|X.negative)===0),this.iuand(X)},Ie.prototype.and=function(X){return this.length>X.length?this.clone().iand(X):X.clone().iand(this)},Ie.prototype.uand=function(X){return this.length>X.length?this.clone().iuand(X):X.clone().iuand(this)},Ie.prototype.iuxor=function(X){var Br,Wr;this.length>X.length?(Br=this,Wr=X):(Br=X,Wr=this);for(var ri=0;ri<Wr.length;ri++)this.words[ri]=Br.words[ri]^Wr.words[ri];if(this!==Br)for(;ri<Br.length;ri++)this.words[ri]=Br.words[ri];return this.length=Br.length,this._strip()},Ie.prototype.ixor=function(X){return Te((this.negative|X.negative)===0),this.iuxor(X)},Ie.prototype.xor=function(X){return this.length>X.length?this.clone().ixor(X):X.clone().ixor(this)},Ie.prototype.uxor=function(X){return this.length>X.length?this.clone().iuxor(X):X.clone().iuxor(this)},Ie.prototype.inotn=function(X){Te(typeof X=="number"&&X>=0);var Br=Math.ceil(X/26)|0,Wr=X%26;this._expand(Br),Wr>0&&Br--;for(var ri=0;ri<Br;ri++)this.words[ri]=~this.words[ri]&67108863;return Wr>0&&(this.words[ri]=~this.words[ri]&67108863>>26-Wr),this._strip()},Ie.prototype.notn=function(X){return this.clone().inotn(X)},Ie.prototype.setn=function(X,Br){Te(typeof X=="number"&&X>=0);var Wr=X/26|0,ri=X%26;return this._expand(Wr+1),Br?this.words[Wr]=this.words[Wr]|1<<ri:this.words[Wr]=this.words[Wr]&~(1<<ri),this._strip()},Ie.prototype.iadd=function(X){var Br;if(this.negative!==0&&X.negative===0)return this.negative=0,Br=this.isub(X),this.negative^=1,this._normSign();if(this.negative===0&&X.negative!==0)return X.negative=0,Br=this.isub(X),X.negative=1,Br._normSign();var Wr,ri;this.length>X.length?(Wr=this,ri=X):(Wr=X,ri=this);for(var ii=0,oi=0;oi<ri.length;oi++)Br=(Wr.words[oi]|0)+(ri.words[oi]|0)+ii,this.words[oi]=Br&67108863,ii=Br>>>26;for(;ii!==0&&oi<Wr.length;oi++)Br=(Wr.words[oi]|0)+ii,this.words[oi]=Br&67108863,ii=Br>>>26;if(this.length=Wr.length,ii!==0)this.words[this.length]=ii,this.length++;else if(Wr!==this)for(;oi<Wr.length;oi++)this.words[oi]=Wr.words[oi];return this},Ie.prototype.add=function(X){var Br;return X.negative!==0&&this.negative===0?(X.negative=0,Br=this.sub(X),X.negative^=1,Br):X.negative===0&&this.negative!==0?(this.negative=0,Br=X.sub(this),this.negative=1,Br):this.length>X.length?this.clone().iadd(X):X.clone().iadd(this)},Ie.prototype.isub=function(X){if(X.negative!==0){X.negative=0;var Br=this.iadd(X);return X.negative=1,Br._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(X),this.negative=1,this._normSign();var Wr=this.cmp(X);if(Wr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ri,ii;Wr>0?(ri=this,ii=X):(ri=X,ii=this);for(var oi=0,ei=0;ei<ii.length;ei++)Br=(ri.words[ei]|0)-(ii.words[ei]|0)+oi,oi=Br>>26,this.words[ei]=Br&67108863;for(;oi!==0&&ei<ri.length;ei++)Br=(ri.words[ei]|0)+oi,oi=Br>>26,this.words[ei]=Br&67108863;if(oi===0&&ei<ri.length&&ri!==this)for(;ei<ri.length;ei++)this.words[ei]=ri.words[ei];return this.length=Math.max(this.length,ei),ri!==this&&(this.negative=1),this._strip()},Ie.prototype.sub=function(X){return this.clone().isub(X)};function mn(X,Br,Wr){Wr.negative=Br.negative^X.negative;var ri=X.length+Br.length|0;Wr.length=ri,ri=ri-1|0;var ii=X.words[0]|0,oi=Br.words[0]|0,ei=ii*oi,Y=ei&67108863,Xr=ei/67108864|0;Wr.words[0]=Y;for(var on=1;on<ri;on++){for(var Mn=Xr>>>26,Bn=Xr&67108863,fn=Math.min(on,Br.length-1),uo=Math.max(0,on-X.length+1);uo<=fn;uo++){var un=on-uo|0;ii=X.words[un]|0,oi=Br.words[uo]|0,ei=ii*oi+Bn,Mn+=ei/67108864|0,Bn=ei&67108863}Wr.words[on]=Bn|0,Xr=Mn|0}return Xr!==0?Wr.words[on]=Xr|0:Wr.length--,Wr._strip()}var cn=function(X,Br,Wr){var ri=X.words,ii=Br.words,oi=Wr.words,ei=0,Y,Xr,on,Mn=ri[0]|0,Bn=Mn&8191,fn=Mn>>>13,uo=ri[1]|0,un=uo&8191,gn=uo>>>13,An=ri[2]|0,an=An&8191,qo=An>>>13,ko=ri[3]|0,Uo=ko&8191,kh=ko>>>13,Vo=ri[4]|0,tf=Vo&8191,Wh=Vo>>>13,Rh=ri[5]|0,vh=Rh&8191,Jh=Rh>>>13,Vf=ri[6]|0,Zo=Vf&8191,Vh=Vf>>>13,Qf=ri[7]|0,Ko=Qf&8191,Zh=Qf>>>13,Xf=ri[8]|0,Lf=Xf&8191,Qh=Xf>>>13,bh=ri[9]|0,jf=bh&8191,Yh=bh>>>13,Sh=ii[0]|0,ph=Sh&8191,Xh=Sh>>>13,Th=ii[1]|0,$h=Th&8191,zu=Th>>>13,Nh=ii[2]|0,Ih=Nh&8191,Ku=Nh>>>13,Lh=ii[3]|0,wh=Lh&8191,hu=Lh>>>13,qh=ii[4]|0,_h=qh&8191,qu=qh>>>13,Dh=ii[5]|0,xh=Dh&8191,Lu=Dh>>>13,Bh=ii[6]|0,Eh=Bh&8191,ku=Bh>>>13,Ch=ii[7]|0,Mh=Ch&8191,au=Ch>>>13,Oh=ii[8]|0,Ah=Oh&8191,r0=Oh>>>13,jh=ii[9]|0,Ph=jh&8191,Uu=jh>>>13;Wr.negative=X.negative^Br.negative,Wr.length=19,Y=Math.imul(Bn,ph),Xr=Math.imul(Bn,Xh),Xr=Xr+Math.imul(fn,ph)|0,on=Math.imul(fn,Xh);var nc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(nc>>>26)|0,nc&=67108863,Y=Math.imul(un,ph),Xr=Math.imul(un,Xh),Xr=Xr+Math.imul(gn,ph)|0,on=Math.imul(gn,Xh),Y=Y+Math.imul(Bn,$h)|0,Xr=Xr+Math.imul(Bn,zu)|0,Xr=Xr+Math.imul(fn,$h)|0,on=on+Math.imul(fn,zu)|0;var sc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(sc>>>26)|0,sc&=67108863,Y=Math.imul(an,ph),Xr=Math.imul(an,Xh),Xr=Xr+Math.imul(qo,ph)|0,on=Math.imul(qo,Xh),Y=Y+Math.imul(un,$h)|0,Xr=Xr+Math.imul(un,zu)|0,Xr=Xr+Math.imul(gn,$h)|0,on=on+Math.imul(gn,zu)|0,Y=Y+Math.imul(Bn,Ih)|0,Xr=Xr+Math.imul(Bn,Ku)|0,Xr=Xr+Math.imul(fn,Ih)|0,on=on+Math.imul(fn,Ku)|0;var ac=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(ac>>>26)|0,ac&=67108863,Y=Math.imul(Uo,ph),Xr=Math.imul(Uo,Xh),Xr=Xr+Math.imul(kh,ph)|0,on=Math.imul(kh,Xh),Y=Y+Math.imul(an,$h)|0,Xr=Xr+Math.imul(an,zu)|0,Xr=Xr+Math.imul(qo,$h)|0,on=on+Math.imul(qo,zu)|0,Y=Y+Math.imul(un,Ih)|0,Xr=Xr+Math.imul(un,Ku)|0,Xr=Xr+Math.imul(gn,Ih)|0,on=on+Math.imul(gn,Ku)|0,Y=Y+Math.imul(Bn,wh)|0,Xr=Xr+Math.imul(Bn,hu)|0,Xr=Xr+Math.imul(fn,wh)|0,on=on+Math.imul(fn,hu)|0;var oc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(oc>>>26)|0,oc&=67108863,Y=Math.imul(tf,ph),Xr=Math.imul(tf,Xh),Xr=Xr+Math.imul(Wh,ph)|0,on=Math.imul(Wh,Xh),Y=Y+Math.imul(Uo,$h)|0,Xr=Xr+Math.imul(Uo,zu)|0,Xr=Xr+Math.imul(kh,$h)|0,on=on+Math.imul(kh,zu)|0,Y=Y+Math.imul(an,Ih)|0,Xr=Xr+Math.imul(an,Ku)|0,Xr=Xr+Math.imul(qo,Ih)|0,on=on+Math.imul(qo,Ku)|0,Y=Y+Math.imul(un,wh)|0,Xr=Xr+Math.imul(un,hu)|0,Xr=Xr+Math.imul(gn,wh)|0,on=on+Math.imul(gn,hu)|0,Y=Y+Math.imul(Bn,_h)|0,Xr=Xr+Math.imul(Bn,qu)|0,Xr=Xr+Math.imul(fn,_h)|0,on=on+Math.imul(fn,qu)|0;var fc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(fc>>>26)|0,fc&=67108863,Y=Math.imul(vh,ph),Xr=Math.imul(vh,Xh),Xr=Xr+Math.imul(Jh,ph)|0,on=Math.imul(Jh,Xh),Y=Y+Math.imul(tf,$h)|0,Xr=Xr+Math.imul(tf,zu)|0,Xr=Xr+Math.imul(Wh,$h)|0,on=on+Math.imul(Wh,zu)|0,Y=Y+Math.imul(Uo,Ih)|0,Xr=Xr+Math.imul(Uo,Ku)|0,Xr=Xr+Math.imul(kh,Ih)|0,on=on+Math.imul(kh,Ku)|0,Y=Y+Math.imul(an,wh)|0,Xr=Xr+Math.imul(an,hu)|0,Xr=Xr+Math.imul(qo,wh)|0,on=on+Math.imul(qo,hu)|0,Y=Y+Math.imul(un,_h)|0,Xr=Xr+Math.imul(un,qu)|0,Xr=Xr+Math.imul(gn,_h)|0,on=on+Math.imul(gn,qu)|0,Y=Y+Math.imul(Bn,xh)|0,Xr=Xr+Math.imul(Bn,Lu)|0,Xr=Xr+Math.imul(fn,xh)|0,on=on+Math.imul(fn,Lu)|0;var $0=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+($0>>>26)|0,$0&=67108863,Y=Math.imul(Zo,ph),Xr=Math.imul(Zo,Xh),Xr=Xr+Math.imul(Vh,ph)|0,on=Math.imul(Vh,Xh),Y=Y+Math.imul(vh,$h)|0,Xr=Xr+Math.imul(vh,zu)|0,Xr=Xr+Math.imul(Jh,$h)|0,on=on+Math.imul(Jh,zu)|0,Y=Y+Math.imul(tf,Ih)|0,Xr=Xr+Math.imul(tf,Ku)|0,Xr=Xr+Math.imul(Wh,Ih)|0,on=on+Math.imul(Wh,Ku)|0,Y=Y+Math.imul(Uo,wh)|0,Xr=Xr+Math.imul(Uo,hu)|0,Xr=Xr+Math.imul(kh,wh)|0,on=on+Math.imul(kh,hu)|0,Y=Y+Math.imul(an,_h)|0,Xr=Xr+Math.imul(an,qu)|0,Xr=Xr+Math.imul(qo,_h)|0,on=on+Math.imul(qo,qu)|0,Y=Y+Math.imul(un,xh)|0,Xr=Xr+Math.imul(un,Lu)|0,Xr=Xr+Math.imul(gn,xh)|0,on=on+Math.imul(gn,Lu)|0,Y=Y+Math.imul(Bn,Eh)|0,Xr=Xr+Math.imul(Bn,ku)|0,Xr=Xr+Math.imul(fn,Eh)|0,on=on+Math.imul(fn,ku)|0;var lc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(lc>>>26)|0,lc&=67108863,Y=Math.imul(Ko,ph),Xr=Math.imul(Ko,Xh),Xr=Xr+Math.imul(Zh,ph)|0,on=Math.imul(Zh,Xh),Y=Y+Math.imul(Zo,$h)|0,Xr=Xr+Math.imul(Zo,zu)|0,Xr=Xr+Math.imul(Vh,$h)|0,on=on+Math.imul(Vh,zu)|0,Y=Y+Math.imul(vh,Ih)|0,Xr=Xr+Math.imul(vh,Ku)|0,Xr=Xr+Math.imul(Jh,Ih)|0,on=on+Math.imul(Jh,Ku)|0,Y=Y+Math.imul(tf,wh)|0,Xr=Xr+Math.imul(tf,hu)|0,Xr=Xr+Math.imul(Wh,wh)|0,on=on+Math.imul(Wh,hu)|0,Y=Y+Math.imul(Uo,_h)|0,Xr=Xr+Math.imul(Uo,qu)|0,Xr=Xr+Math.imul(kh,_h)|0,on=on+Math.imul(kh,qu)|0,Y=Y+Math.imul(an,xh)|0,Xr=Xr+Math.imul(an,Lu)|0,Xr=Xr+Math.imul(qo,xh)|0,on=on+Math.imul(qo,Lu)|0,Y=Y+Math.imul(un,Eh)|0,Xr=Xr+Math.imul(un,ku)|0,Xr=Xr+Math.imul(gn,Eh)|0,on=on+Math.imul(gn,ku)|0,Y=Y+Math.imul(Bn,Mh)|0,Xr=Xr+Math.imul(Bn,au)|0,Xr=Xr+Math.imul(fn,Mh)|0,on=on+Math.imul(fn,au)|0;var gc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(gc>>>26)|0,gc&=67108863,Y=Math.imul(Lf,ph),Xr=Math.imul(Lf,Xh),Xr=Xr+Math.imul(Qh,ph)|0,on=Math.imul(Qh,Xh),Y=Y+Math.imul(Ko,$h)|0,Xr=Xr+Math.imul(Ko,zu)|0,Xr=Xr+Math.imul(Zh,$h)|0,on=on+Math.imul(Zh,zu)|0,Y=Y+Math.imul(Zo,Ih)|0,Xr=Xr+Math.imul(Zo,Ku)|0,Xr=Xr+Math.imul(Vh,Ih)|0,on=on+Math.imul(Vh,Ku)|0,Y=Y+Math.imul(vh,wh)|0,Xr=Xr+Math.imul(vh,hu)|0,Xr=Xr+Math.imul(Jh,wh)|0,on=on+Math.imul(Jh,hu)|0,Y=Y+Math.imul(tf,_h)|0,Xr=Xr+Math.imul(tf,qu)|0,Xr=Xr+Math.imul(Wh,_h)|0,on=on+Math.imul(Wh,qu)|0,Y=Y+Math.imul(Uo,xh)|0,Xr=Xr+Math.imul(Uo,Lu)|0,Xr=Xr+Math.imul(kh,xh)|0,on=on+Math.imul(kh,Lu)|0,Y=Y+Math.imul(an,Eh)|0,Xr=Xr+Math.imul(an,ku)|0,Xr=Xr+Math.imul(qo,Eh)|0,on=on+Math.imul(qo,ku)|0,Y=Y+Math.imul(un,Mh)|0,Xr=Xr+Math.imul(un,au)|0,Xr=Xr+Math.imul(gn,Mh)|0,on=on+Math.imul(gn,au)|0,Y=Y+Math.imul(Bn,Ah)|0,Xr=Xr+Math.imul(Bn,r0)|0,Xr=Xr+Math.imul(fn,Ah)|0,on=on+Math.imul(fn,r0)|0;var dc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(dc>>>26)|0,dc&=67108863,Y=Math.imul(jf,ph),Xr=Math.imul(jf,Xh),Xr=Xr+Math.imul(Yh,ph)|0,on=Math.imul(Yh,Xh),Y=Y+Math.imul(Lf,$h)|0,Xr=Xr+Math.imul(Lf,zu)|0,Xr=Xr+Math.imul(Qh,$h)|0,on=on+Math.imul(Qh,zu)|0,Y=Y+Math.imul(Ko,Ih)|0,Xr=Xr+Math.imul(Ko,Ku)|0,Xr=Xr+Math.imul(Zh,Ih)|0,on=on+Math.imul(Zh,Ku)|0,Y=Y+Math.imul(Zo,wh)|0,Xr=Xr+Math.imul(Zo,hu)|0,Xr=Xr+Math.imul(Vh,wh)|0,on=on+Math.imul(Vh,hu)|0,Y=Y+Math.imul(vh,_h)|0,Xr=Xr+Math.imul(vh,qu)|0,Xr=Xr+Math.imul(Jh,_h)|0,on=on+Math.imul(Jh,qu)|0,Y=Y+Math.imul(tf,xh)|0,Xr=Xr+Math.imul(tf,Lu)|0,Xr=Xr+Math.imul(Wh,xh)|0,on=on+Math.imul(Wh,Lu)|0,Y=Y+Math.imul(Uo,Eh)|0,Xr=Xr+Math.imul(Uo,ku)|0,Xr=Xr+Math.imul(kh,Eh)|0,on=on+Math.imul(kh,ku)|0,Y=Y+Math.imul(an,Mh)|0,Xr=Xr+Math.imul(an,au)|0,Xr=Xr+Math.imul(qo,Mh)|0,on=on+Math.imul(qo,au)|0,Y=Y+Math.imul(un,Ah)|0,Xr=Xr+Math.imul(un,r0)|0,Xr=Xr+Math.imul(gn,Ah)|0,on=on+Math.imul(gn,r0)|0,Y=Y+Math.imul(Bn,Ph)|0,Xr=Xr+Math.imul(Bn,Uu)|0,Xr=Xr+Math.imul(fn,Ph)|0,on=on+Math.imul(fn,Uu)|0;var bc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(bc>>>26)|0,bc&=67108863,Y=Math.imul(jf,$h),Xr=Math.imul(jf,zu),Xr=Xr+Math.imul(Yh,$h)|0,on=Math.imul(Yh,zu),Y=Y+Math.imul(Lf,Ih)|0,Xr=Xr+Math.imul(Lf,Ku)|0,Xr=Xr+Math.imul(Qh,Ih)|0,on=on+Math.imul(Qh,Ku)|0,Y=Y+Math.imul(Ko,wh)|0,Xr=Xr+Math.imul(Ko,hu)|0,Xr=Xr+Math.imul(Zh,wh)|0,on=on+Math.imul(Zh,hu)|0,Y=Y+Math.imul(Zo,_h)|0,Xr=Xr+Math.imul(Zo,qu)|0,Xr=Xr+Math.imul(Vh,_h)|0,on=on+Math.imul(Vh,qu)|0,Y=Y+Math.imul(vh,xh)|0,Xr=Xr+Math.imul(vh,Lu)|0,Xr=Xr+Math.imul(Jh,xh)|0,on=on+Math.imul(Jh,Lu)|0,Y=Y+Math.imul(tf,Eh)|0,Xr=Xr+Math.imul(tf,ku)|0,Xr=Xr+Math.imul(Wh,Eh)|0,on=on+Math.imul(Wh,ku)|0,Y=Y+Math.imul(Uo,Mh)|0,Xr=Xr+Math.imul(Uo,au)|0,Xr=Xr+Math.imul(kh,Mh)|0,on=on+Math.imul(kh,au)|0,Y=Y+Math.imul(an,Ah)|0,Xr=Xr+Math.imul(an,r0)|0,Xr=Xr+Math.imul(qo,Ah)|0,on=on+Math.imul(qo,r0)|0,Y=Y+Math.imul(un,Ph)|0,Xr=Xr+Math.imul(un,Uu)|0,Xr=Xr+Math.imul(gn,Ph)|0,on=on+Math.imul(gn,Uu)|0;var yc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(yc>>>26)|0,yc&=67108863,Y=Math.imul(jf,Ih),Xr=Math.imul(jf,Ku),Xr=Xr+Math.imul(Yh,Ih)|0,on=Math.imul(Yh,Ku),Y=Y+Math.imul(Lf,wh)|0,Xr=Xr+Math.imul(Lf,hu)|0,Xr=Xr+Math.imul(Qh,wh)|0,on=on+Math.imul(Qh,hu)|0,Y=Y+Math.imul(Ko,_h)|0,Xr=Xr+Math.imul(Ko,qu)|0,Xr=Xr+Math.imul(Zh,_h)|0,on=on+Math.imul(Zh,qu)|0,Y=Y+Math.imul(Zo,xh)|0,Xr=Xr+Math.imul(Zo,Lu)|0,Xr=Xr+Math.imul(Vh,xh)|0,on=on+Math.imul(Vh,Lu)|0,Y=Y+Math.imul(vh,Eh)|0,Xr=Xr+Math.imul(vh,ku)|0,Xr=Xr+Math.imul(Jh,Eh)|0,on=on+Math.imul(Jh,ku)|0,Y=Y+Math.imul(tf,Mh)|0,Xr=Xr+Math.imul(tf,au)|0,Xr=Xr+Math.imul(Wh,Mh)|0,on=on+Math.imul(Wh,au)|0,Y=Y+Math.imul(Uo,Ah)|0,Xr=Xr+Math.imul(Uo,r0)|0,Xr=Xr+Math.imul(kh,Ah)|0,on=on+Math.imul(kh,r0)|0,Y=Y+Math.imul(an,Ph)|0,Xr=Xr+Math.imul(an,Uu)|0,Xr=Xr+Math.imul(qo,Ph)|0,on=on+Math.imul(qo,Uu)|0;var pc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(pc>>>26)|0,pc&=67108863,Y=Math.imul(jf,wh),Xr=Math.imul(jf,hu),Xr=Xr+Math.imul(Yh,wh)|0,on=Math.imul(Yh,hu),Y=Y+Math.imul(Lf,_h)|0,Xr=Xr+Math.imul(Lf,qu)|0,Xr=Xr+Math.imul(Qh,_h)|0,on=on+Math.imul(Qh,qu)|0,Y=Y+Math.imul(Ko,xh)|0,Xr=Xr+Math.imul(Ko,Lu)|0,Xr=Xr+Math.imul(Zh,xh)|0,on=on+Math.imul(Zh,Lu)|0,Y=Y+Math.imul(Zo,Eh)|0,Xr=Xr+Math.imul(Zo,ku)|0,Xr=Xr+Math.imul(Vh,Eh)|0,on=on+Math.imul(Vh,ku)|0,Y=Y+Math.imul(vh,Mh)|0,Xr=Xr+Math.imul(vh,au)|0,Xr=Xr+Math.imul(Jh,Mh)|0,on=on+Math.imul(Jh,au)|0,Y=Y+Math.imul(tf,Ah)|0,Xr=Xr+Math.imul(tf,r0)|0,Xr=Xr+Math.imul(Wh,Ah)|0,on=on+Math.imul(Wh,r0)|0,Y=Y+Math.imul(Uo,Ph)|0,Xr=Xr+Math.imul(Uo,Uu)|0,Xr=Xr+Math.imul(kh,Ph)|0,on=on+Math.imul(kh,Uu)|0;var vc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(vc>>>26)|0,vc&=67108863,Y=Math.imul(jf,_h),Xr=Math.imul(jf,qu),Xr=Xr+Math.imul(Yh,_h)|0,on=Math.imul(Yh,qu),Y=Y+Math.imul(Lf,xh)|0,Xr=Xr+Math.imul(Lf,Lu)|0,Xr=Xr+Math.imul(Qh,xh)|0,on=on+Math.imul(Qh,Lu)|0,Y=Y+Math.imul(Ko,Eh)|0,Xr=Xr+Math.imul(Ko,ku)|0,Xr=Xr+Math.imul(Zh,Eh)|0,on=on+Math.imul(Zh,ku)|0,Y=Y+Math.imul(Zo,Mh)|0,Xr=Xr+Math.imul(Zo,au)|0,Xr=Xr+Math.imul(Vh,Mh)|0,on=on+Math.imul(Vh,au)|0,Y=Y+Math.imul(vh,Ah)|0,Xr=Xr+Math.imul(vh,r0)|0,Xr=Xr+Math.imul(Jh,Ah)|0,on=on+Math.imul(Jh,r0)|0,Y=Y+Math.imul(tf,Ph)|0,Xr=Xr+Math.imul(tf,Uu)|0,Xr=Xr+Math.imul(Wh,Ph)|0,on=on+Math.imul(Wh,Uu)|0;var mc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(mc>>>26)|0,mc&=67108863,Y=Math.imul(jf,xh),Xr=Math.imul(jf,Lu),Xr=Xr+Math.imul(Yh,xh)|0,on=Math.imul(Yh,Lu),Y=Y+Math.imul(Lf,Eh)|0,Xr=Xr+Math.imul(Lf,ku)|0,Xr=Xr+Math.imul(Qh,Eh)|0,on=on+Math.imul(Qh,ku)|0,Y=Y+Math.imul(Ko,Mh)|0,Xr=Xr+Math.imul(Ko,au)|0,Xr=Xr+Math.imul(Zh,Mh)|0,on=on+Math.imul(Zh,au)|0,Y=Y+Math.imul(Zo,Ah)|0,Xr=Xr+Math.imul(Zo,r0)|0,Xr=Xr+Math.imul(Vh,Ah)|0,on=on+Math.imul(Vh,r0)|0,Y=Y+Math.imul(vh,Ph)|0,Xr=Xr+Math.imul(vh,Uu)|0,Xr=Xr+Math.imul(Jh,Ph)|0,on=on+Math.imul(Jh,Uu)|0;var tc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(tc>>>26)|0,tc&=67108863,Y=Math.imul(jf,Eh),Xr=Math.imul(jf,ku),Xr=Xr+Math.imul(Yh,Eh)|0,on=Math.imul(Yh,ku),Y=Y+Math.imul(Lf,Mh)|0,Xr=Xr+Math.imul(Lf,au)|0,Xr=Xr+Math.imul(Qh,Mh)|0,on=on+Math.imul(Qh,au)|0,Y=Y+Math.imul(Ko,Ah)|0,Xr=Xr+Math.imul(Ko,r0)|0,Xr=Xr+Math.imul(Zh,Ah)|0,on=on+Math.imul(Zh,r0)|0,Y=Y+Math.imul(Zo,Ph)|0,Xr=Xr+Math.imul(Zo,Uu)|0,Xr=Xr+Math.imul(Vh,Ph)|0,on=on+Math.imul(Vh,Uu)|0;var wc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(wc>>>26)|0,wc&=67108863,Y=Math.imul(jf,Mh),Xr=Math.imul(jf,au),Xr=Xr+Math.imul(Yh,Mh)|0,on=Math.imul(Yh,au),Y=Y+Math.imul(Lf,Ah)|0,Xr=Xr+Math.imul(Lf,r0)|0,Xr=Xr+Math.imul(Qh,Ah)|0,on=on+Math.imul(Qh,r0)|0,Y=Y+Math.imul(Ko,Ph)|0,Xr=Xr+Math.imul(Ko,Uu)|0,Xr=Xr+Math.imul(Zh,Ph)|0,on=on+Math.imul(Zh,Uu)|0;var _c=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(_c>>>26)|0,_c&=67108863,Y=Math.imul(jf,Ah),Xr=Math.imul(jf,r0),Xr=Xr+Math.imul(Yh,Ah)|0,on=Math.imul(Yh,r0),Y=Y+Math.imul(Lf,Ph)|0,Xr=Xr+Math.imul(Lf,Uu)|0,Xr=Xr+Math.imul(Qh,Ph)|0,on=on+Math.imul(Qh,Uu)|0;var Mc=(ei+Y|0)+((Xr&8191)<<13)|0;ei=(on+(Xr>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,Y=Math.imul(jf,Ph),Xr=Math.imul(jf,Uu),Xr=Xr+Math.imul(Yh,Ph)|0,on=Math.imul(Yh,Uu);var Zl=(ei+Y|0)+((Xr&8191)<<13)|0;return ei=(on+(Xr>>>13)|0)+(Zl>>>26)|0,Zl&=67108863,oi[0]=nc,oi[1]=sc,oi[2]=ac,oi[3]=oc,oi[4]=fc,oi[5]=$0,oi[6]=lc,oi[7]=gc,oi[8]=dc,oi[9]=bc,oi[10]=yc,oi[11]=pc,oi[12]=vc,oi[13]=mc,oi[14]=tc,oi[15]=wc,oi[16]=_c,oi[17]=Mc,oi[18]=Zl,ei!==0&&(oi[19]=ei,Wr.length++),Wr};Math.imul||(cn=mn);function Rn(X,Br,Wr){Wr.negative=Br.negative^X.negative,Wr.length=X.length+Br.length;for(var ri=0,ii=0,oi=0;oi<Wr.length-1;oi++){var ei=ii;ii=0;for(var Y=ri&67108863,Xr=Math.min(oi,Br.length-1),on=Math.max(0,oi-X.length+1);on<=Xr;on++){var Mn=oi-on,Bn=X.words[Mn]|0,fn=Br.words[on]|0,uo=Bn*fn,un=uo&67108863;ei=ei+(uo/67108864|0)|0,un=un+Y|0,Y=un&67108863,ei=ei+(un>>>26)|0,ii+=ei>>>26,ei&=67108863}Wr.words[oi]=Y,ri=ei,ei=ii}return ri!==0?Wr.words[oi]=ri:Wr.length--,Wr._strip()}function vn(X,Br,Wr){return Rn(X,Br,Wr)}Ie.prototype.mulTo=function(X,Br){var Wr,ri=this.length+X.length;return this.length===10&&X.length===10?Wr=cn(this,X,Br):ri<63?Wr=mn(this,X,Br):ri<1024?Wr=Rn(this,X,Br):Wr=vn(this,X,Br),Wr},Ie.prototype.mul=function(X){var Br=new Ie(null);return Br.words=new Array(this.length+X.length),this.mulTo(X,Br)},Ie.prototype.mulf=function(X){var Br=new Ie(null);return Br.words=new Array(this.length+X.length),vn(this,X,Br)},Ie.prototype.imul=function(X){return this.clone().mulTo(X,this)},Ie.prototype.imuln=function(X){var Br=X<0;Br&&(X=-X),Te(typeof X=="number"),Te(X<67108864);for(var Wr=0,ri=0;ri<this.length;ri++){var ii=(this.words[ri]|0)*X,oi=(ii&67108863)+(Wr&67108863);Wr>>=26,Wr+=ii/67108864|0,Wr+=oi>>>26,this.words[ri]=oi&67108863}return Wr!==0&&(this.words[ri]=Wr,this.length++),Br?this.ineg():this},Ie.prototype.muln=function(X){return this.clone().imuln(X)},Ie.prototype.sqr=function(){return this.mul(this)},Ie.prototype.isqr=function(){return this.imul(this.clone())},Ie.prototype.pow=function(X){var Br=ln(X);if(Br.length===0)return new Ie(1);for(var Wr=this,ri=0;ri<Br.length&&Br[ri]===0;ri++,Wr=Wr.sqr());if(++ri<Br.length)for(var ii=Wr.sqr();ri<Br.length;ri++,ii=ii.sqr())Br[ri]!==0&&(Wr=Wr.mul(ii));return Wr},Ie.prototype.iushln=function(X){Te(typeof X=="number"&&X>=0);var Br=X%26,Wr=(X-Br)/26,ri=67108863>>>26-Br<<26-Br,ii;if(Br!==0){var oi=0;for(ii=0;ii<this.length;ii++){var ei=this.words[ii]&ri,Y=(this.words[ii]|0)-ei<<Br;this.words[ii]=Y|oi,oi=ei>>>26-Br}oi&&(this.words[ii]=oi,this.length++)}if(Wr!==0){for(ii=this.length-1;ii>=0;ii--)this.words[ii+Wr]=this.words[ii];for(ii=0;ii<Wr;ii++)this.words[ii]=0;this.length+=Wr}return this._strip()},Ie.prototype.ishln=function(X){return Te(this.negative===0),this.iushln(X)},Ie.prototype.iushrn=function(X,Br,Wr){Te(typeof X=="number"&&X>=0);var ri;Br?ri=(Br-Br%26)/26:ri=0;var ii=X%26,oi=Math.min((X-ii)/26,this.length),ei=67108863^67108863>>>ii<<ii,Y=Wr;if(ri-=oi,ri=Math.max(0,ri),Y){for(var Xr=0;Xr<oi;Xr++)Y.words[Xr]=this.words[Xr];Y.length=oi}if(oi!==0)if(this.length>oi)for(this.length-=oi,Xr=0;Xr<this.length;Xr++)this.words[Xr]=this.words[Xr+oi];else this.words[0]=0,this.length=1;var on=0;for(Xr=this.length-1;Xr>=0&&(on!==0||Xr>=ri);Xr--){var Mn=this.words[Xr]|0;this.words[Xr]=on<<26-ii|Mn>>>ii,on=Mn&ei}return Y&&on!==0&&(Y.words[Y.length++]=on),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},Ie.prototype.ishrn=function(X,Br,Wr){return Te(this.negative===0),this.iushrn(X,Br,Wr)},Ie.prototype.shln=function(X){return this.clone().ishln(X)},Ie.prototype.ushln=function(X){return this.clone().iushln(X)},Ie.prototype.shrn=function(X){return this.clone().ishrn(X)},Ie.prototype.ushrn=function(X){return this.clone().iushrn(X)},Ie.prototype.testn=function(X){Te(typeof X=="number"&&X>=0);var Br=X%26,Wr=(X-Br)/26,ri=1<<Br;if(this.length<=Wr)return!1;var ii=this.words[Wr];return!!(ii&ri)},Ie.prototype.imaskn=function(X){Te(typeof X=="number"&&X>=0);var Br=X%26,Wr=(X-Br)/26;if(Te(this.negative===0,"imaskn works only with positive numbers"),this.length<=Wr)return this;if(Br!==0&&Wr++,this.length=Math.min(Wr,this.length),Br!==0){var ri=67108863^67108863>>>Br<<Br;this.words[this.length-1]&=ri}return this._strip()},Ie.prototype.maskn=function(X){return this.clone().imaskn(X)},Ie.prototype.iaddn=function(X){return Te(typeof X=="number"),Te(X<67108864),X<0?this.isubn(-X):this.negative!==0?this.length===1&&(this.words[0]|0)<=X?(this.words[0]=X-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(X),this.negative=1,this):this._iaddn(X)},Ie.prototype._iaddn=function(X){this.words[0]+=X;for(var Br=0;Br<this.length&&this.words[Br]>=67108864;Br++)this.words[Br]-=67108864,Br===this.length-1?this.words[Br+1]=1:this.words[Br+1]++;return this.length=Math.max(this.length,Br+1),this},Ie.prototype.isubn=function(X){if(Te(typeof X=="number"),Te(X<67108864),X<0)return this.iaddn(-X);if(this.negative!==0)return this.negative=0,this.iaddn(X),this.negative=1,this;if(this.words[0]-=X,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Br=0;Br<this.length&&this.words[Br]<0;Br++)this.words[Br]+=67108864,this.words[Br+1]-=1;return this._strip()},Ie.prototype.addn=function(X){return this.clone().iaddn(X)},Ie.prototype.subn=function(X){return this.clone().isubn(X)},Ie.prototype.iabs=function(){return this.negative=0,this},Ie.prototype.abs=function(){return this.clone().iabs()},Ie.prototype._ishlnsubmul=function(X,Br,Wr){var ri=X.length+Wr,ii;this._expand(ri);var oi,ei=0;for(ii=0;ii<X.length;ii++){oi=(this.words[ii+Wr]|0)+ei;var Y=(X.words[ii]|0)*Br;oi-=Y&67108863,ei=(oi>>26)-(Y/67108864|0),this.words[ii+Wr]=oi&67108863}for(;ii<this.length-Wr;ii++)oi=(this.words[ii+Wr]|0)+ei,ei=oi>>26,this.words[ii+Wr]=oi&67108863;if(ei===0)return this._strip();for(Te(ei===-1),ei=0,ii=0;ii<this.length;ii++)oi=-(this.words[ii]|0)+ei,ei=oi>>26,this.words[ii]=oi&67108863;return this.negative=1,this._strip()},Ie.prototype._wordDiv=function(X,Br){var Wr=this.length-X.length,ri=this.clone(),ii=X,oi=ii.words[ii.length-1]|0,ei=this._countBits(oi);Wr=26-ei,Wr!==0&&(ii=ii.ushln(Wr),ri.iushln(Wr),oi=ii.words[ii.length-1]|0);var Y=ri.length-ii.length,Xr;if(Br!=="mod"){Xr=new Ie(null),Xr.length=Y+1,Xr.words=new Array(Xr.length);for(var on=0;on<Xr.length;on++)Xr.words[on]=0}var Mn=ri.clone()._ishlnsubmul(ii,1,Y);Mn.negative===0&&(ri=Mn,Xr&&(Xr.words[Y]=1));for(var Bn=Y-1;Bn>=0;Bn--){var fn=(ri.words[ii.length+Bn]|0)*67108864+(ri.words[ii.length+Bn-1]|0);for(fn=Math.min(fn/oi|0,67108863),ri._ishlnsubmul(ii,fn,Bn);ri.negative!==0;)fn--,ri.negative=0,ri._ishlnsubmul(ii,1,Bn),ri.isZero()||(ri.negative^=1);Xr&&(Xr.words[Bn]=fn)}return Xr&&Xr._strip(),ri._strip(),Br!=="div"&&Wr!==0&&ri.iushrn(Wr),{div:Xr||null,mod:ri}},Ie.prototype.divmod=function(X,Br,Wr){if(Te(!X.isZero()),this.isZero())return{div:new Ie(0),mod:new Ie(0)};var ri,ii,oi;return this.negative!==0&&X.negative===0?(oi=this.neg().divmod(X,Br),Br!=="mod"&&(ri=oi.div.neg()),Br!=="div"&&(ii=oi.mod.neg(),Wr&&ii.negative!==0&&ii.iadd(X)),{div:ri,mod:ii}):this.negative===0&&X.negative!==0?(oi=this.divmod(X.neg(),Br),Br!=="mod"&&(ri=oi.div.neg()),{div:ri,mod:oi.mod}):this.negative&X.negative?(oi=this.neg().divmod(X.neg(),Br),Br!=="div"&&(ii=oi.mod.neg(),Wr&&ii.negative!==0&&ii.isub(X)),{div:oi.div,mod:ii}):X.length>this.length||this.cmp(X)<0?{div:new Ie(0),mod:this}:X.length===1?Br==="div"?{div:this.divn(X.words[0]),mod:null}:Br==="mod"?{div:null,mod:new Ie(this.modrn(X.words[0]))}:{div:this.divn(X.words[0]),mod:new Ie(this.modrn(X.words[0]))}:this._wordDiv(X,Br)},Ie.prototype.div=function(X){return this.divmod(X,"div",!1).div},Ie.prototype.mod=function(X){return this.divmod(X,"mod",!1).mod},Ie.prototype.umod=function(X){return this.divmod(X,"mod",!0).mod},Ie.prototype.divRound=function(X){var Br=this.divmod(X);if(Br.mod.isZero())return Br.div;var Wr=Br.div.negative!==0?Br.mod.isub(X):Br.mod,ri=X.ushrn(1),ii=X.andln(1),oi=Wr.cmp(ri);return oi<0||ii===1&&oi===0?Br.div:Br.div.negative!==0?Br.div.isubn(1):Br.div.iaddn(1)},Ie.prototype.modrn=function(X){var Br=X<0;Br&&(X=-X),Te(X<=67108863);for(var Wr=(1<<26)%X,ri=0,ii=this.length-1;ii>=0;ii--)ri=(Wr*ri+(this.words[ii]|0))%X;return Br?-ri:ri},Ie.prototype.modn=function(X){return this.modrn(X)},Ie.prototype.idivn=function(X){var Br=X<0;Br&&(X=-X),Te(X<=67108863);for(var Wr=0,ri=this.length-1;ri>=0;ri--){var ii=(this.words[ri]|0)+Wr*67108864;this.words[ri]=ii/X|0,Wr=ii%X}return this._strip(),Br?this.ineg():this},Ie.prototype.divn=function(X){return this.clone().idivn(X)},Ie.prototype.egcd=function(X){Te(X.negative===0),Te(!X.isZero());var Br=this,Wr=X.clone();Br.negative!==0?Br=Br.umod(X):Br=Br.clone();for(var ri=new Ie(1),ii=new Ie(0),oi=new Ie(0),ei=new Ie(1),Y=0;Br.isEven()&&Wr.isEven();)Br.iushrn(1),Wr.iushrn(1),++Y;for(var Xr=Wr.clone(),on=Br.clone();!Br.isZero();){for(var Mn=0,Bn=1;!(Br.words[0]&Bn)&&Mn<26;++Mn,Bn<<=1);if(Mn>0)for(Br.iushrn(Mn);Mn-- >0;)(ri.isOdd()||ii.isOdd())&&(ri.iadd(Xr),ii.isub(on)),ri.iushrn(1),ii.iushrn(1);for(var fn=0,uo=1;!(Wr.words[0]&uo)&&fn<26;++fn,uo<<=1);if(fn>0)for(Wr.iushrn(fn);fn-- >0;)(oi.isOdd()||ei.isOdd())&&(oi.iadd(Xr),ei.isub(on)),oi.iushrn(1),ei.iushrn(1);Br.cmp(Wr)>=0?(Br.isub(Wr),ri.isub(oi),ii.isub(ei)):(Wr.isub(Br),oi.isub(ri),ei.isub(ii))}return{a:oi,b:ei,gcd:Wr.iushln(Y)}},Ie.prototype._invmp=function(X){Te(X.negative===0),Te(!X.isZero());var Br=this,Wr=X.clone();Br.negative!==0?Br=Br.umod(X):Br=Br.clone();for(var ri=new Ie(1),ii=new Ie(0),oi=Wr.clone();Br.cmpn(1)>0&&Wr.cmpn(1)>0;){for(var ei=0,Y=1;!(Br.words[0]&Y)&&ei<26;++ei,Y<<=1);if(ei>0)for(Br.iushrn(ei);ei-- >0;)ri.isOdd()&&ri.iadd(oi),ri.iushrn(1);for(var Xr=0,on=1;!(Wr.words[0]&on)&&Xr<26;++Xr,on<<=1);if(Xr>0)for(Wr.iushrn(Xr);Xr-- >0;)ii.isOdd()&&ii.iadd(oi),ii.iushrn(1);Br.cmp(Wr)>=0?(Br.isub(Wr),ri.isub(ii)):(Wr.isub(Br),ii.isub(ri))}var Mn;return Br.cmpn(1)===0?Mn=ri:Mn=ii,Mn.cmpn(0)<0&&Mn.iadd(X),Mn},Ie.prototype.gcd=function(X){if(this.isZero())return X.abs();if(X.isZero())return this.abs();var Br=this.clone(),Wr=X.clone();Br.negative=0,Wr.negative=0;for(var ri=0;Br.isEven()&&Wr.isEven();ri++)Br.iushrn(1),Wr.iushrn(1);do{for(;Br.isEven();)Br.iushrn(1);for(;Wr.isEven();)Wr.iushrn(1);var ii=Br.cmp(Wr);if(ii<0){var oi=Br;Br=Wr,Wr=oi}else if(ii===0||Wr.cmpn(1)===0)break;Br.isub(Wr)}while(!0);return Wr.iushln(ri)},Ie.prototype.invm=function(X){return this.egcd(X).a.umod(X)},Ie.prototype.isEven=function(){return(this.words[0]&1)===0},Ie.prototype.isOdd=function(){return(this.words[0]&1)===1},Ie.prototype.andln=function(X){return this.words[0]&X},Ie.prototype.bincn=function(X){Te(typeof X=="number");var Br=X%26,Wr=(X-Br)/26,ri=1<<Br;if(this.length<=Wr)return this._expand(Wr+1),this.words[Wr]|=ri,this;for(var ii=ri,oi=Wr;ii!==0&&oi<this.length;oi++){var ei=this.words[oi]|0;ei+=ii,ii=ei>>>26,ei&=67108863,this.words[oi]=ei}return ii!==0&&(this.words[oi]=ii,this.length++),this},Ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ie.prototype.cmpn=function(X){var Br=X<0;if(this.negative!==0&&!Br)return-1;if(this.negative===0&&Br)return 1;this._strip();var Wr;if(this.length>1)Wr=1;else{Br&&(X=-X),Te(X<=67108863,"Number is too big");var ri=this.words[0]|0;Wr=ri===X?0:ri<X?-1:1}return this.negative!==0?-Wr|0:Wr},Ie.prototype.cmp=function(X){if(this.negative!==0&&X.negative===0)return-1;if(this.negative===0&&X.negative!==0)return 1;var Br=this.ucmp(X);return this.negative!==0?-Br|0:Br},Ie.prototype.ucmp=function(X){if(this.length>X.length)return 1;if(this.length<X.length)return-1;for(var Br=0,Wr=this.length-1;Wr>=0;Wr--){var ri=this.words[Wr]|0,ii=X.words[Wr]|0;if(ri!==ii){ri<ii?Br=-1:ri>ii&&(Br=1);break}}return Br},Ie.prototype.gtn=function(X){return this.cmpn(X)===1},Ie.prototype.gt=function(X){return this.cmp(X)===1},Ie.prototype.gten=function(X){return this.cmpn(X)>=0},Ie.prototype.gte=function(X){return this.cmp(X)>=0},Ie.prototype.ltn=function(X){return this.cmpn(X)===-1},Ie.prototype.lt=function(X){return this.cmp(X)===-1},Ie.prototype.lten=function(X){return this.cmpn(X)<=0},Ie.prototype.lte=function(X){return this.cmp(X)<=0},Ie.prototype.eqn=function(X){return this.cmpn(X)===0},Ie.prototype.eq=function(X){return this.cmp(X)===0},Ie.red=function(X){return new ui(X)},Ie.prototype.toRed=function(X){return Te(!this.red,"Already a number in reduction context"),Te(this.negative===0,"red works only with positives"),X.convertTo(this)._forceRed(X)},Ie.prototype.fromRed=function(){return Te(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ie.prototype._forceRed=function(X){return this.red=X,this},Ie.prototype.forceRed=function(X){return Te(!this.red,"Already a number in reduction context"),this._forceRed(X)},Ie.prototype.redAdd=function(X){return Te(this.red,"redAdd works only with red numbers"),this.red.add(this,X)},Ie.prototype.redIAdd=function(X){return Te(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,X)},Ie.prototype.redSub=function(X){return Te(this.red,"redSub works only with red numbers"),this.red.sub(this,X)},Ie.prototype.redISub=function(X){return Te(this.red,"redISub works only with red numbers"),this.red.isub(this,X)},Ie.prototype.redShl=function(X){return Te(this.red,"redShl works only with red numbers"),this.red.shl(this,X)},Ie.prototype.redMul=function(X){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,X),this.red.mul(this,X)},Ie.prototype.redIMul=function(X){return Te(this.red,"redMul works only with red numbers"),this.red._verify2(this,X),this.red.imul(this,X)},Ie.prototype.redSqr=function(){return Te(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ie.prototype.redISqr=function(){return Te(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ie.prototype.redSqrt=function(){return Te(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ie.prototype.redInvm=function(){return Te(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ie.prototype.redNeg=function(){return Te(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ie.prototype.redPow=function(X){return Te(this.red&&!X.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,X)};var Cn={k256:null,p224:null,p192:null,p25519:null};function ho(X,Br){this.name=X,this.p=new Ie(Br,16),this.n=this.p.bitLength(),this.k=new Ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ho.prototype._tmp=function(){var X=new Ie(null);return X.words=new Array(Math.ceil(this.n/13)),X},ho.prototype.ireduce=function(X){var Br=X,Wr;do this.split(Br,this.tmp),Br=this.imulK(Br),Br=Br.iadd(this.tmp),Wr=Br.bitLength();while(Wr>this.n);var ri=Wr<this.n?-1:Br.ucmp(this.p);return ri===0?(Br.words[0]=0,Br.length=1):ri>0?Br.isub(this.p):Br.strip!==void 0?Br.strip():Br._strip(),Br},ho.prototype.split=function(X,Br){X.iushrn(this.n,0,Br)},ho.prototype.imulK=function(X){return X.imul(this.k)};function hn(){ho.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Zr(hn,ho),hn.prototype.split=function(X,Br){for(var Wr=4194303,ri=Math.min(X.length,9),ii=0;ii<ri;ii++)Br.words[ii]=X.words[ii];if(Br.length=ri,X.length<=9){X.words[0]=0,X.length=1;return}var oi=X.words[9];for(Br.words[Br.length++]=oi&Wr,ii=10;ii<X.length;ii++){var ei=X.words[ii]|0;X.words[ii-10]=(ei&Wr)<<4|oi>>>22,oi=ei}oi>>>=22,X.words[ii-10]=oi,oi===0&&X.length>10?X.length-=10:X.length-=9},hn.prototype.imulK=function(X){X.words[X.length]=0,X.words[X.length+1]=0,X.length+=2;for(var Br=0,Wr=0;Wr<X.length;Wr++){var ri=X.words[Wr]|0;Br+=ri*977,X.words[Wr]=Br&67108863,Br=ri*64+(Br/67108864|0)}return X.words[X.length-1]===0&&(X.length--,X.words[X.length-1]===0&&X.length--),X};function Zn(){ho.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Zr(Zn,ho);function Do(){ho.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Zr(Do,ho);function Yo(){ho.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Zr(Yo,ho),Yo.prototype.imulK=function(X){for(var Br=0,Wr=0;Wr<X.length;Wr++){var ri=(X.words[Wr]|0)*19+Br,ii=ri&67108863;ri>>>=26,X.words[Wr]=ii,Br=ri}return Br!==0&&(X.words[X.length++]=Br),X},Ie._prime=function(X){if(Cn[X])return Cn[X];var Br;if(X==="k256")Br=new hn;else if(X==="p224")Br=new Zn;else if(X==="p192")Br=new Do;else if(X==="p25519")Br=new Yo;else throw new Error("Unknown prime "+X);return Cn[X]=Br,Br};function ui(X){if(typeof X=="string"){var Br=Ie._prime(X);this.m=Br.p,this.prime=Br}else Te(X.gtn(1),"modulus must be greater than 1"),this.m=X,this.prime=null}ui.prototype._verify1=function(X){Te(X.negative===0,"red works only with positives"),Te(X.red,"red works only with red numbers")},ui.prototype._verify2=function(X,Br){Te((X.negative|Br.negative)===0,"red works only with positives"),Te(X.red&&X.red===Br.red,"red works only with red numbers")},ui.prototype.imod=function(X){return this.prime?this.prime.ireduce(X)._forceRed(this):(si(X,X.umod(this.m)._forceRed(this)),X)},ui.prototype.neg=function(X){return X.isZero()?X.clone():this.m.sub(X)._forceRed(this)},ui.prototype.add=function(X,Br){this._verify2(X,Br);var Wr=X.add(Br);return Wr.cmp(this.m)>=0&&Wr.isub(this.m),Wr._forceRed(this)},ui.prototype.iadd=function(X,Br){this._verify2(X,Br);var Wr=X.iadd(Br);return Wr.cmp(this.m)>=0&&Wr.isub(this.m),Wr},ui.prototype.sub=function(X,Br){this._verify2(X,Br);var Wr=X.sub(Br);return Wr.cmpn(0)<0&&Wr.iadd(this.m),Wr._forceRed(this)},ui.prototype.isub=function(X,Br){this._verify2(X,Br);var Wr=X.isub(Br);return Wr.cmpn(0)<0&&Wr.iadd(this.m),Wr},ui.prototype.shl=function(X,Br){return this._verify1(X),this.imod(X.ushln(Br))},ui.prototype.imul=function(X,Br){return this._verify2(X,Br),this.imod(X.imul(Br))},ui.prototype.mul=function(X,Br){return this._verify2(X,Br),this.imod(X.mul(Br))},ui.prototype.isqr=function(X){return this.imul(X,X.clone())},ui.prototype.sqr=function(X){return this.mul(X,X)},ui.prototype.sqrt=function(X){if(X.isZero())return X.clone();var Br=this.m.andln(3);if(Te(Br%2===1),Br===3){var Wr=this.m.add(new Ie(1)).iushrn(2);return this.pow(X,Wr)}for(var ri=this.m.subn(1),ii=0;!ri.isZero()&&ri.andln(1)===0;)ii++,ri.iushrn(1);Te(!ri.isZero());var oi=new Ie(1).toRed(this),ei=oi.redNeg(),Y=this.m.subn(1).iushrn(1),Xr=this.m.bitLength();for(Xr=new Ie(2*Xr*Xr).toRed(this);this.pow(Xr,Y).cmp(ei)!==0;)Xr.redIAdd(ei);for(var on=this.pow(Xr,ri),Mn=this.pow(X,ri.addn(1).iushrn(1)),Bn=this.pow(X,ri),fn=ii;Bn.cmp(oi)!==0;){for(var uo=Bn,un=0;uo.cmp(oi)!==0;un++)uo=uo.redSqr();Te(un<fn);var gn=this.pow(on,new Ie(1).iushln(fn-un-1));Mn=Mn.redMul(gn),on=gn.redSqr(),Bn=Bn.redMul(on),fn=un}return Mn},ui.prototype.invm=function(X){var Br=X._invmp(this.m);return Br.negative!==0?(Br.negative=0,this.imod(Br).redNeg()):this.imod(Br)},ui.prototype.pow=function(X,Br){if(Br.isZero())return new Ie(1).toRed(this);if(Br.cmpn(1)===0)return X.clone();var Wr=4,ri=new Array(1<<Wr);ri[0]=new Ie(1).toRed(this),ri[1]=X;for(var ii=2;ii<ri.length;ii++)ri[ii]=this.mul(ri[ii-1],X);var oi=ri[0],ei=0,Y=0,Xr=Br.bitLength()%26;for(Xr===0&&(Xr=26),ii=Br.length-1;ii>=0;ii--){for(var on=Br.words[ii],Mn=Xr-1;Mn>=0;Mn--){var Bn=on>>Mn&1;if(oi!==ri[0]&&(oi=this.sqr(oi)),Bn===0&&ei===0){Y=0;continue}ei<<=1,ei|=Bn,Y++,!(Y!==Wr&&(ii!==0||Mn!==0))&&(oi=this.mul(oi,ri[ei]),Y=0,ei=0)}Xr=26}return oi},ui.prototype.convertTo=function(X){var Br=X.umod(this.m);return Br===X?Br.clone():Br},ui.prototype.convertFrom=function(X){var Br=X.clone();return Br.red=null,Br},Ie.mont=function(X){return new H(X)};function H(X){ui.call(this,X),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Zr(H,ui),H.prototype.convertTo=function(X){return this.imod(X.ushln(this.shift))},H.prototype.convertFrom=function(X){var Br=this.imod(X.mul(this.rinv));return Br.red=null,Br},H.prototype.imul=function(X,Br){if(X.isZero()||Br.isZero())return X.words[0]=0,X.length=1,X;var Wr=X.imul(Br),ri=Wr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ii=Wr.isub(ri).iushrn(this.shift),oi=ii;return ii.cmp(this.m)>=0?oi=ii.isub(this.m):ii.cmpn(0)<0&&(oi=ii.iadd(this.m)),oi._forceRed(this)},H.prototype.mul=function(X,Br){if(X.isZero()||Br.isZero())return new Ie(0)._forceRed(this);var Wr=X.mul(Br),ri=Wr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ii=Wr.isub(ri).iushrn(this.shift),oi=ii;return ii.cmp(this.m)>=0?oi=ii.isub(this.m):ii.cmpn(0)<0&&(oi=ii.iadd(this.m)),oi._forceRed(this)},H.prototype.invm=function(X){var Br=this.imod(X._invmp(this.m).mul(this.r2));return Br._forceRed(this)}})(te,On)})(Ln);var K$2=Ln.exports;const jn="bignumber/5.7.0";var Rr$1=K$2.BN;const Ae=new L$4(jn),wi={},Qn=9007199254740991;function C0(te){return te!=null&&(V$1.isBigNumber(te)||typeof te=="number"&&te%1===0||typeof te=="string"&&!!te.match(/^-?[0-9]+$/)||Qt(te)||typeof te=="bigint"||ir$1(te))}let Jn=!1,V$1=class El{constructor(t,G){t!==wi&&Ae.throwError("cannot call constructor directly; use BigNumber.from",L$4.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=G,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Lt$2(j$4(this).fromTwos(t))}toTwos(t){return Lt$2(j$4(this).toTwos(t))}abs(){return this._hex[0]==="-"?El.from(this._hex.substring(1)):this}add(t){return Lt$2(j$4(this).add(j$4(t)))}sub(t){return Lt$2(j$4(this).sub(j$4(t)))}div(t){return El.from(t).isZero()&&Wt$1("division-by-zero","div"),Lt$2(j$4(this).div(j$4(t)))}mul(t){return Lt$2(j$4(this).mul(j$4(t)))}mod(t){const G=j$4(t);return G.isNeg()&&Wt$1("division-by-zero","mod"),Lt$2(j$4(this).umod(G))}pow(t){const G=j$4(t);return G.isNeg()&&Wt$1("negative-power","pow"),Lt$2(j$4(this).pow(G))}and(t){const G=j$4(t);return(this.isNegative()||G.isNeg())&&Wt$1("unbound-bitwise-result","and"),Lt$2(j$4(this).and(G))}or(t){const G=j$4(t);return(this.isNegative()||G.isNeg())&&Wt$1("unbound-bitwise-result","or"),Lt$2(j$4(this).or(G))}xor(t){const G=j$4(t);return(this.isNegative()||G.isNeg())&&Wt$1("unbound-bitwise-result","xor"),Lt$2(j$4(this).xor(G))}mask(t){return(this.isNegative()||t<0)&&Wt$1("negative-width","mask"),Lt$2(j$4(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Wt$1("negative-width","shl"),Lt$2(j$4(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Wt$1("negative-width","shr"),Lt$2(j$4(this).shrn(t))}eq(t){return j$4(this).eq(j$4(t))}lt(t){return j$4(this).lt(j$4(t))}lte(t){return j$4(this).lte(j$4(t))}gt(t){return j$4(this).gt(j$4(t))}gte(t){return j$4(this).gte(j$4(t))}isNegative(){return this._hex[0]==="-"}isZero(){return j$4(this).isZero()}toNumber(){try{return j$4(this).toNumber()}catch{Wt$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ae.throwError("this platform does not support BigInt",L$4.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Jn||(Jn=!0,Ae.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ae.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",L$4.errors.UNEXPECTED_ARGUMENT,{}):Ae.throwError("BigNumber.toString does not accept parameters",L$4.errors.UNEXPECTED_ARGUMENT,{})),j$4(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof El)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new El(wi,vr$1(t)):t.match(/^-?[0-9]+$/)?new El(wi,vr$1(new Rr$1(t))):Ae.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&Wt$1("underflow","BigNumber.from",t),(t>=Qn||t<=-Qn)&&Wt$1("overflow","BigNumber.from",t),El.from(String(t));const G=t;if(typeof G=="bigint")return El.from(G.toString());if(ir$1(G))return El.from(Kt$1(G));if(G)if(G.toHexString){const Te=G.toHexString();if(typeof Te=="string")return El.from(Te)}else{let Te=G._hex;if(Te==null&&G.type==="BigNumber"&&(Te=G.hex),typeof Te=="string"&&(Qt(Te)||Te[0]==="-"&&Qt(Te.substring(1))))return El.from(Te)}return Ae.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}};function vr$1(te){if(typeof te!="string")return vr$1(te.toString(16));if(te[0]==="-")return te=te.substring(1),te[0]==="-"&&Ae.throwArgumentError("invalid hex","value",te),te=vr$1(te),te==="0x00"?te:"-"+te;if(te.substring(0,2)!=="0x"&&(te="0x"+te),te==="0x")return"0x00";for(te.length%2&&(te="0x0"+te.substring(2));te.length>4&&te.substring(0,4)==="0x00";)te="0x"+te.substring(4);return te}function Lt$2(te){return V$1.from(vr$1(te))}function j$4(te){const t=V$1.from(te).toHexString();return t[0]==="-"?new Rr$1("-"+t.substring(3),16):new Rr$1(t.substring(2),16)}function Wt$1(te,t,G){const Te={fault:te,operation:t};return G!=null&&(Te.value=G),Ae.throwError(te,L$4.errors.NUMERIC_FAULT,Te)}function R0(te){return new Rr$1(te,36).toString(16)}const Ht$1=new L$4(jn),mr={},Gn=V$1.from(0),Yn=V$1.from(-1);function Vn(te,t,G,Te){const Zr={fault:t,operation:G};return Te!==void 0&&(Zr.value=Te),Ht$1.throwError(te,L$4.errors.NUMERIC_FAULT,Zr)}let gr$1="0";for(;gr$1.length<256;)gr$1+=gr$1;function xi(te){if(typeof te!="number")try{te=V$1.from(te).toNumber()}catch{}return typeof te=="number"&&te>=0&&te<=256&&!(te%1)?"1"+gr$1.substring(0,te):Ht$1.throwArgumentError("invalid decimal size","decimals",te)}function Mi$1(te,t){t==null&&(t=0);const G=xi(t);te=V$1.from(te);const Te=te.lt(Gn);Te&&(te=te.mul(Yn));let Zr=te.mod(G).toString();for(;Zr.length<G.length-1;)Zr="0"+Zr;Zr=Zr.match(/^([0-9]*[1-9]|0)(0*)/)[1];const Ie=te.div(G).toString();return G.length===1?te=Ie:te=Ie+"."+Zr,Te&&(te="-"+te),te}function be(te,t){t==null&&(t=0);const G=xi(t);(typeof te!="string"||!te.match(/^-?[0-9.]+$/))&&Ht$1.throwArgumentError("invalid decimal value","value",te);const Te=te.substring(0,1)==="-";Te&&(te=te.substring(1)),te==="."&&Ht$1.throwArgumentError("missing value","value",te);const Zr=te.split(".");Zr.length>2&&Ht$1.throwArgumentError("too many decimal points","value",te);let Ie=Zr[0],ni=Zr[1];for(Ie||(Ie="0"),ni||(ni="0");ni[ni.length-1]==="0";)ni=ni.substring(0,ni.length-1);for(ni.length>G.length-1&&Vn("fractional component exceeds decimals","underflow","parseFixed"),ni===""&&(ni="0");ni.length<G.length-1;)ni+="0";const fi=V$1.from(Ie),ci=V$1.from(ni);let ai=fi.mul(G).add(ci);return Te&&(ai=ai.mul(Yn)),ai}let dr$2=class Ev{constructor(t,G,Te,Zr){t!==mr&&Ht$1.throwError("cannot use FixedFormat constructor; use FixedFormat.from",L$4.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=G,this.width=Te,this.decimals=Zr,this.name=(G?"":"u")+"fixed"+String(Te)+"x"+String(Zr),this._multiplier=xi(Zr),Object.freeze(this)}static from(t){if(t instanceof Ev)return t;typeof t=="number"&&(t=`fixed128x${t}`);let G=!0,Te=128,Zr=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")G=!1;else{const Ie=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Ie||Ht$1.throwArgumentError("invalid fixed format","format",t),G=Ie[1]!=="u",Te=parseInt(Ie[2]),Zr=parseInt(Ie[3])}}else if(t){const Ie=(ni,fi,ci)=>t[ni]==null?ci:(typeof t[ni]!==fi&&Ht$1.throwArgumentError("invalid fixed format ("+ni+" not "+fi+")","format."+ni,t[ni]),t[ni]);G=Ie("signed","boolean",G),Te=Ie("width","number",Te),Zr=Ie("decimals","number",Zr)}return Te%8&&Ht$1.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",Te),Zr>80&&Ht$1.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",Zr),new Ev(mr,G,Te,Zr)}},Ut$1=class Xc{constructor(t,G,Te,Zr){t!==mr&&Ht$1.throwError("cannot use FixedNumber constructor; use FixedNumber.from",L$4.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=Zr,this._hex=G,this._value=Te,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Ht$1.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const G=be(this._value,this.format.decimals),Te=be(t._value,t.format.decimals);return Xc.fromValue(G.add(Te),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const G=be(this._value,this.format.decimals),Te=be(t._value,t.format.decimals);return Xc.fromValue(G.sub(Te),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const G=be(this._value,this.format.decimals),Te=be(t._value,t.format.decimals);return Xc.fromValue(G.mul(Te).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const G=be(this._value,this.format.decimals),Te=be(t._value,t.format.decimals);return Xc.fromValue(G.mul(this.format._multiplier).div(Te),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let G=Xc.from(t[0],this.format);const Te=!t[1].match(/^(0*)$/);return this.isNegative()&&Te&&(G=G.subUnsafe(Wn.toFormat(G.format))),G}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let G=Xc.from(t[0],this.format);const Te=!t[1].match(/^(0*)$/);return!this.isNegative()&&Te&&(G=G.addUnsafe(Wn.toFormat(G.format))),G}round(t){t==null&&(t=0);const G=this.toString().split(".");if(G.length===1&&G.push("0"),(t<0||t>80||t%1)&&Ht$1.throwArgumentError("invalid decimal count","decimals",t),G[1].length<=t)return this;const Te=Xc.from("1"+gr$1.substring(0,t),this.format),Zr=O0.toFormat(this.format);return this.mulUnsafe(Te).addUnsafe(Zr).floor().divUnsafe(Te)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&Ht$1.throwArgumentError("invalid byte width","width",t);const G=V$1.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return oe$1(G,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Xc.fromString(this._value,t)}static fromValue(t,G,Te){return Te==null&&G!=null&&!C0(G)&&(Te=G,G=null),G==null&&(G=0),Te==null&&(Te="fixed"),Xc.fromString(Mi$1(t,G),dr$2.from(Te))}static fromString(t,G){G==null&&(G="fixed");const Te=dr$2.from(G),Zr=be(t,Te.decimals);!Te.signed&&Zr.lt(Gn)&&Vn("unsigned value cannot be negative","overflow","value",t);let Ie=null;Te.signed?Ie=Zr.toTwos(Te.width).toHexString():(Ie=Zr.toHexString(),Ie=oe$1(Ie,Te.width/8));const ni=Mi$1(Zr,Te.decimals);return new Xc(mr,Ie,ni,Te)}static fromBytes(t,G){G==null&&(G="fixed");const Te=dr$2.from(G);if(Ot$1(t).length>Te.width/8)throw new Error("overflow");let Zr=V$1.from(t);Te.signed&&(Zr=Zr.fromTwos(Te.width));const Ie=Zr.toTwos((Te.signed?0:1)+Te.width).toHexString(),ni=Mi$1(Zr,Te.decimals);return new Xc(mr,Ie,ni,Te)}static from(t,G){if(typeof t=="string")return Xc.fromString(t,G);if(ir$1(t))return Xc.fromBytes(t,G);try{return Xc.fromValue(t,0,G)}catch(Te){if(Te.code!==L$4.errors.INVALID_ARGUMENT)throw Te}return Ht$1.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}};const Wn=Ut$1.from(1),O0=Ut$1.from("0.5"),P0="strings/5.7.0",Xn=new L$4(P0);var Or$1;(function(te){te.current="",te.NFC="NFC",te.NFD="NFD",te.NFKC="NFKC",te.NFKD="NFKD"})(Or$1||(Or$1={}));var nr$1;(function(te){te.UNEXPECTED_CONTINUE="unexpected continuation byte",te.BAD_PREFIX="bad codepoint prefix",te.OVERRUN="string overrun",te.MISSING_CONTINUE="missing continuation byte",te.OUT_OF_RANGE="out of UTF-8 range",te.UTF16_SURROGATE="UTF-16 surrogate",te.OVERLONG="overlong representation"})(nr$1||(nr$1={}));function Ei(te,t=Or$1.current){t!=Or$1.current&&(Xn.checkNormalize(),te=te.normalize(t));let G=[];for(let Te=0;Te<te.length;Te++){const Zr=te.charCodeAt(Te);if(Zr<128)G.push(Zr);else if(Zr<2048)G.push(Zr>>6|192),G.push(Zr&63|128);else if((Zr&64512)==55296){Te++;const Ie=te.charCodeAt(Te);if(Te>=te.length||(Ie&64512)!==56320)throw new Error("invalid utf-8 string");const ni=65536+((Zr&1023)<<10)+(Ie&1023);G.push(ni>>18|240),G.push(ni>>12&63|128),G.push(ni>>6&63|128),G.push(ni&63|128)}else G.push(Zr>>12|224),G.push(Zr>>6&63|128),G.push(Zr&63|128)}return Ot$1(G)}function T0(te){if(te.length%4!==0)throw new Error("bad data");let t=[];for(let G=0;G<te.length;G+=4)t.push(parseInt(te.substring(G,G+4),16));return t}function Si(te,t){t||(t=function(Zr){return[parseInt(Zr,16)]});let G=0,Te={};return te.split(",").forEach(Zr=>{let Ie=Zr.split(":");G+=parseInt(Ie[0],16),Te[G]=t(Ie[1])}),Te}function $n(te){let t=0;return te.split(",").map(G=>{let Te=G.split("-");Te.length===1?Te[1]="0":Te[1]===""&&(Te[1]="1");let Zr=t+parseInt(Te[0],16);return t=parseInt(Te[1],16),{l:Zr,h:t}})}$n("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(te=>parseInt(te,16)),Si("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Si("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Si("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",T0),$n("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function U0(te){te=atob(te);const t=[];for(let G=0;G<te.length;G++)t.push(te.charCodeAt(G));return Ot$1(t)}function ef(te,t){t==null&&(t=1);const G=[],Te=G.forEach,Zr=function(Ie,ni){Te.call(Ie,function(fi){ni>0&&Array.isArray(fi)?Zr(fi,ni-1):G.push(fi)})};return Zr(te,t),G}function k0(te){const t={};for(let G=0;G<te.length;G++){const Te=te[G];t[Te[0]]=Te[1]}return t}function q0(te){let t=0;function G(){return te[t++]<<8|te[t++]}let Te=G(),Zr=1,Ie=[0,1];for(let Cn=1;Cn<Te;Cn++)Ie.push(Zr+=G());let ni=G(),fi=t;t+=ni;let ci=0,ai=0;function si(){return ci==0&&(ai=ai<<8|te[t++],ci=8),ai>>--ci&1}const li=31,mi=Math.pow(2,li),di=mi>>>1,$i=di>>1,sn=mi-1;let ln=0;for(let Cn=0;Cn<li;Cn++)ln=ln<<1|si();let mn=[],cn=0,Rn=mi;for(;;){let Cn=Math.floor(((ln-cn+1)*Zr-1)/Rn),ho=0,hn=Te;for(;hn-ho>1;){let Yo=ho+hn>>>1;Cn<Ie[Yo]?hn=Yo:ho=Yo}if(ho==0)break;mn.push(ho);let Zn=cn+Math.floor(Rn*Ie[ho]/Zr),Do=cn+Math.floor(Rn*Ie[ho+1]/Zr)-1;for(;!((Zn^Do)&di);)ln=ln<<1&sn|si(),Zn=Zn<<1&sn,Do=Do<<1&sn|1;for(;Zn&~Do&$i;)ln=ln&di|ln<<1&sn>>>1|si(),Zn=Zn<<1^di,Do=(Do^di)<<1|di|1;cn=Zn,Rn=1+Do-Zn}let vn=Te-4;return mn.map(Cn=>{switch(Cn-vn){case 3:return vn+65792+(te[fi++]<<16|te[fi++]<<8|te[fi++]);case 2:return vn+256+(te[fi++]<<8|te[fi++]);case 1:return vn+te[fi++];default:return Cn-1}})}function K0(te){let t=0;return()=>te[t++]}function H0(te){return K0(q0(te))}function z0(te){return te&1?~te>>1:te>>1}function L0(te,t){let G=Array(te);for(let Te=0;Te<te;Te++)G[Te]=1+t();return G}function rf(te,t){let G=Array(te);for(let Te=0,Zr=-1;Te<te;Te++)G[Te]=Zr+=1+t();return G}function j0(te,t){let G=Array(te);for(let Te=0,Zr=0;Te<te;Te++)G[Te]=Zr+=z0(t());return G}function Pr$1(te,t){let G=rf(te(),te),Te=te(),Zr=rf(Te,te),Ie=L0(Te,te);for(let ni=0;ni<Te;ni++)for(let fi=0;fi<Ie[ni];fi++)G.push(Zr[ni]+fi);return t?G.map(ni=>t[ni]):G}function Q0(te){let t=[];for(;;){let G=te();if(G==0)break;t.push(G0(G,te))}for(;;){let G=te()-1;if(G<0)break;t.push(Y0(G,te))}return k0(ef(t))}function J0(te){let t=[];for(;;){let G=te();if(G==0)break;t.push(G)}return t}function nf(te,t,G){let Te=Array(te).fill(void 0).map(()=>[]);for(let Zr=0;Zr<t;Zr++)j0(te,G).forEach((Ie,ni)=>Te[ni].push(Ie));return Te}function G0(te,t){let G=1+t(),Te=t(),Zr=J0(t),Ie=nf(Zr.length,1+te,t);return ef(Ie.map((ni,fi)=>{const ci=ni[0],ai=ni.slice(1);return Array(Zr[fi]).fill(void 0).map((si,li)=>{let mi=li*Te;return[ci+li*G,ai.map(di=>di+mi)]})}))}function Y0(te,t){let G=1+t();return nf(G,1+te,t).map(Te=>[Te[0],Te.slice(1)])}function V0(te){let t=Pr$1(te).sort((Te,Zr)=>Te-Zr);return G();function G(){let Te=[];for(;;){let ai=Pr$1(te,t);if(ai.length==0)break;Te.push({set:new Set(ai),node:G()})}Te.sort((ai,si)=>si.set.size-ai.set.size);let Zr=te(),Ie=Zr%3;Zr=Zr/3|0;let ni=!!(Zr&1);Zr>>=1;let fi=Zr==1,ci=Zr==2;return{branches:Te,valid:Ie,fe0f:ni,save:fi,check:ci}}}function W0(){return H0(U0("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Dr$1=W0();new Set(Pr$1(Dr$1)),new Set(Pr$1(Dr$1)),Q0(Dr$1),V0(Dr$1);const X0=new Uint8Array(32);X0.fill(0);const Z0=`Ethereum Signed Message:
`;function ff(te){return typeof te=="string"&&(te=Ei(te)),yi(E0([Ei(Z0),Ei(String(te.length)),te]))}const ts$2="address/5.7.0",Ar$1=new L$4(ts$2);function of(te){Qt(te,20)||Ar$1.throwArgumentError("invalid address","address",te),te=te.toLowerCase();const t=te.substring(2).split(""),G=new Uint8Array(40);for(let Zr=0;Zr<40;Zr++)G[Zr]=t[Zr].charCodeAt(0);const Te=Ot$1(yi(G));for(let Zr=0;Zr<40;Zr+=2)Te[Zr>>1]>>4>=8&&(t[Zr]=t[Zr].toUpperCase()),(Te[Zr>>1]&15)>=8&&(t[Zr+1]=t[Zr+1].toUpperCase());return"0x"+t.join("")}const es$2=9007199254740991;function rs$2(te){return Math.log10?Math.log10(te):Math.log(te)/Math.LN10}const Ni={};for(let te=0;te<10;te++)Ni[String(te)]=String(te);for(let te=0;te<26;te++)Ni[String.fromCharCode(65+te)]=String(10+te);const sf=Math.floor(rs$2(es$2));function is$2(te){te=te.toUpperCase(),te=te.substring(4)+te.substring(0,2)+"00";let t=te.split("").map(Te=>Ni[Te]).join("");for(;t.length>=sf;){let Te=t.substring(0,sf);t=parseInt(Te,10)%97+t.substring(Te.length)}let G=String(98-parseInt(t,10)%97);for(;G.length<2;)G="0"+G;return G}function ns$2(te){let t=null;if(typeof te!="string"&&Ar$1.throwArgumentError("invalid address","address",te),te.match(/^(0x)?[0-9a-fA-F]{40}$/))te.substring(0,2)!=="0x"&&(te="0x"+te),t=of(te),te.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==te&&Ar$1.throwArgumentError("bad address checksum","address",te);else if(te.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(te.substring(2,4)!==is$2(te)&&Ar$1.throwArgumentError("bad icap checksum","address",te),t=R0(te.substring(4));t.length<40;)t="0"+t;t=of("0x"+t)}else Ar$1.throwArgumentError("invalid address","address",te);return t}function br(te,t,G){Object.defineProperty(te,t,{enumerable:!0,value:G,writable:!1})}const os$1=new Uint8Array(32);os$1.fill(0),V$1.from(-1);const ss$2=V$1.from(0),as$1=V$1.from(1);V$1.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),oe$1(as$1.toHexString(),32),oe$1(ss$2.toHexString(),32);var se={},Q$2={},yr=af;function af(te,t){if(!te)throw new Error(t||"Assertion failed")}af.equal=function(te,t,G){if(te!=t)throw new Error(G||"Assertion failed: "+te+" != "+t)};var Ii={exports:{}};typeof Object.create=="function"?Ii.exports=function(te,t){t&&(te.super_=t,te.prototype=Object.create(t.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}))}:Ii.exports=function(te,t){if(t){te.super_=t;var G=function(){};G.prototype=t.prototype,te.prototype=new G,te.prototype.constructor=te}};var us$1=yr,hs$1=Ii.exports;Q$2.inherits=hs$1;function cs$1(te,t){return(te.charCodeAt(t)&64512)!==55296||t<0||t+1>=te.length?!1:(te.charCodeAt(t+1)&64512)===56320}function ls$1(te,t){if(Array.isArray(te))return te.slice();if(!te)return[];var G=[];if(typeof te=="string")if(t){if(t==="hex")for(te=te.replace(/[^a-z0-9]+/ig,""),te.length%2!==0&&(te="0"+te),Zr=0;Zr<te.length;Zr+=2)G.push(parseInt(te[Zr]+te[Zr+1],16))}else for(var Te=0,Zr=0;Zr<te.length;Zr++){var Ie=te.charCodeAt(Zr);Ie<128?G[Te++]=Ie:Ie<2048?(G[Te++]=Ie>>6|192,G[Te++]=Ie&63|128):cs$1(te,Zr)?(Ie=65536+((Ie&1023)<<10)+(te.charCodeAt(++Zr)&1023),G[Te++]=Ie>>18|240,G[Te++]=Ie>>12&63|128,G[Te++]=Ie>>6&63|128,G[Te++]=Ie&63|128):(G[Te++]=Ie>>12|224,G[Te++]=Ie>>6&63|128,G[Te++]=Ie&63|128)}else for(Zr=0;Zr<te.length;Zr++)G[Zr]=te[Zr]|0;return G}Q$2.toArray=ls$1;function ds$1(te){for(var t="",G=0;G<te.length;G++)t+=hf(te[G].toString(16));return t}Q$2.toHex=ds$1;function uf(te){var t=te>>>24|te>>>8&65280|te<<8&16711680|(te&255)<<24;return t>>>0}Q$2.htonl=uf;function ps$1(te,t){for(var G="",Te=0;Te<te.length;Te++){var Zr=te[Te];t==="little"&&(Zr=uf(Zr)),G+=cf(Zr.toString(16))}return G}Q$2.toHex32=ps$1;function hf(te){return te.length===1?"0"+te:te}Q$2.zero2=hf;function cf(te){return te.length===7?"0"+te:te.length===6?"00"+te:te.length===5?"000"+te:te.length===4?"0000"+te:te.length===3?"00000"+te:te.length===2?"000000"+te:te.length===1?"0000000"+te:te}Q$2.zero8=cf;function vs$1(te,t,G,Te){var Zr=G-t;us$1(Zr%4===0);for(var Ie=new Array(Zr/4),ni=0,fi=t;ni<Ie.length;ni++,fi+=4){var ci;Te==="big"?ci=te[fi]<<24|te[fi+1]<<16|te[fi+2]<<8|te[fi+3]:ci=te[fi+3]<<24|te[fi+2]<<16|te[fi+1]<<8|te[fi],Ie[ni]=ci>>>0}return Ie}Q$2.join32=vs$1;function ms$1(te,t){for(var G=new Array(te.length*4),Te=0,Zr=0;Te<te.length;Te++,Zr+=4){var Ie=te[Te];t==="big"?(G[Zr]=Ie>>>24,G[Zr+1]=Ie>>>16&255,G[Zr+2]=Ie>>>8&255,G[Zr+3]=Ie&255):(G[Zr+3]=Ie>>>24,G[Zr+2]=Ie>>>16&255,G[Zr+1]=Ie>>>8&255,G[Zr]=Ie&255)}return G}Q$2.split32=ms$1;function gs$1(te,t){return te>>>t|te<<32-t}Q$2.rotr32=gs$1;function As$1(te,t){return te<<t|te>>>32-t}Q$2.rotl32=As$1;function bs$1(te,t){return te+t>>>0}Q$2.sum32=bs$1;function ys$1(te,t,G){return te+t+G>>>0}Q$2.sum32_3=ys$1;function ws$1(te,t,G,Te){return te+t+G+Te>>>0}Q$2.sum32_4=ws$1;function xs$1(te,t,G,Te,Zr){return te+t+G+Te+Zr>>>0}Q$2.sum32_5=xs$1;function Ms$1(te,t,G,Te){var Zr=te[t],Ie=te[t+1],ni=Te+Ie>>>0,fi=(ni<Te?1:0)+G+Zr;te[t]=fi>>>0,te[t+1]=ni}Q$2.sum64=Ms$1;function Es$1(te,t,G,Te){var Zr=t+Te>>>0,Ie=(Zr<t?1:0)+te+G;return Ie>>>0}Q$2.sum64_hi=Es$1;function Ss$1(te,t,G,Te){var Zr=t+Te;return Zr>>>0}Q$2.sum64_lo=Ss$1;function Ns$1(te,t,G,Te,Zr,Ie,ni,fi){var ci=0,ai=t;ai=ai+Te>>>0,ci+=ai<t?1:0,ai=ai+Ie>>>0,ci+=ai<Ie?1:0,ai=ai+fi>>>0,ci+=ai<fi?1:0;var si=te+G+Zr+ni+ci;return si>>>0}Q$2.sum64_4_hi=Ns$1;function Is$1(te,t,G,Te,Zr,Ie,ni,fi){var ci=t+Te+Ie+fi;return ci>>>0}Q$2.sum64_4_lo=Is$1;function _s$1(te,t,G,Te,Zr,Ie,ni,fi,ci,ai){var si=0,li=t;li=li+Te>>>0,si+=li<t?1:0,li=li+Ie>>>0,si+=li<Ie?1:0,li=li+fi>>>0,si+=li<fi?1:0,li=li+ai>>>0,si+=li<ai?1:0;var mi=te+G+Zr+ni+ci+si;return mi>>>0}Q$2.sum64_5_hi=_s$1;function Bs$1(te,t,G,Te,Zr,Ie,ni,fi,ci,ai){var si=t+Te+Ie+fi+ai;return si>>>0}Q$2.sum64_5_lo=Bs$1;function Cs$1(te,t,G){var Te=t<<32-G|te>>>G;return Te>>>0}Q$2.rotr64_hi=Cs$1;function Rs$1(te,t,G){var Te=te<<32-G|t>>>G;return Te>>>0}Q$2.rotr64_lo=Rs$1;function Os$1(te,t,G){return te>>>G}Q$2.shr64_hi=Os$1;function Ps$1(te,t,G){var Te=te<<32-G|t>>>G;return Te>>>0}Q$2.shr64_lo=Ps$1;var fr={},lf=Q$2,Ds$1=yr;function Fr$1(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}fr.BlockHash=Fr$1,Fr$1.prototype.update=function(te,t){if(te=lf.toArray(te,t),this.pending?this.pending=this.pending.concat(te):this.pending=te,this.pendingTotal+=te.length,this.pending.length>=this._delta8){te=this.pending;var G=te.length%this._delta8;this.pending=te.slice(te.length-G,te.length),this.pending.length===0&&(this.pending=null),te=lf.join32(te,0,te.length-G,this.endian);for(var Te=0;Te<te.length;Te+=this._delta32)this._update(te,Te,Te+this._delta32)}return this},Fr$1.prototype.digest=function(te){return this.update(this._pad()),Ds$1(this.pending===null),this._digest(te)},Fr$1.prototype._pad=function(){var te=this.pendingTotal,t=this._delta8,G=t-(te+this.padLength)%t,Te=new Array(G+this.padLength);Te[0]=128;for(var Zr=1;Zr<G;Zr++)Te[Zr]=0;if(te<<=3,this.endian==="big"){for(var Ie=8;Ie<this.padLength;Ie++)Te[Zr++]=0;Te[Zr++]=0,Te[Zr++]=0,Te[Zr++]=0,Te[Zr++]=0,Te[Zr++]=te>>>24&255,Te[Zr++]=te>>>16&255,Te[Zr++]=te>>>8&255,Te[Zr++]=te&255}else for(Te[Zr++]=te&255,Te[Zr++]=te>>>8&255,Te[Zr++]=te>>>16&255,Te[Zr++]=te>>>24&255,Te[Zr++]=0,Te[Zr++]=0,Te[Zr++]=0,Te[Zr++]=0,Ie=8;Ie<this.padLength;Ie++)Te[Zr++]=0;return Te};var or$1={},ae={},Fs$1=Q$2,ue$1=Fs$1.rotr32;function Ts$1(te,t,G,Te){if(te===0)return df(t,G,Te);if(te===1||te===3)return vf(t,G,Te);if(te===2)return pf(t,G,Te)}ae.ft_1=Ts$1;function df(te,t,G){return te&t^~te&G}ae.ch32=df;function pf(te,t,G){return te&t^te&G^t&G}ae.maj32=pf;function vf(te,t,G){return te^t^G}ae.p32=vf;function Us$1(te){return ue$1(te,2)^ue$1(te,13)^ue$1(te,22)}ae.s0_256=Us$1;function ks$1(te){return ue$1(te,6)^ue$1(te,11)^ue$1(te,25)}ae.s1_256=ks$1;function qs$1(te){return ue$1(te,7)^ue$1(te,18)^te>>>3}ae.g0_256=qs$1;function Ks$1(te){return ue$1(te,17)^ue$1(te,19)^te>>>10}ae.g1_256=Ks$1;var sr$1=Q$2,Hs$1=fr,zs$1=ae,_i=sr$1.rotl32,wr$1=sr$1.sum32,Ls$1=sr$1.sum32_5,js$1=zs$1.ft_1,mf=Hs$1.BlockHash,Qs$1=[1518500249,1859775393,2400959708,3395469782];function he(){if(!(this instanceof he))return new he;mf.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}sr$1.inherits(he,mf);var Js$1=he;he.blockSize=512,he.outSize=160,he.hmacStrength=80,he.padLength=64,he.prototype._update=function(te,t){for(var G=this.W,Te=0;Te<16;Te++)G[Te]=te[t+Te];for(;Te<G.length;Te++)G[Te]=_i(G[Te-3]^G[Te-8]^G[Te-14]^G[Te-16],1);var Zr=this.h[0],Ie=this.h[1],ni=this.h[2],fi=this.h[3],ci=this.h[4];for(Te=0;Te<G.length;Te++){var ai=~~(Te/20),si=Ls$1(_i(Zr,5),js$1(ai,Ie,ni,fi),ci,G[Te],Qs$1[ai]);ci=fi,fi=ni,ni=_i(Ie,30),Ie=Zr,Zr=si}this.h[0]=wr$1(this.h[0],Zr),this.h[1]=wr$1(this.h[1],Ie),this.h[2]=wr$1(this.h[2],ni),this.h[3]=wr$1(this.h[3],fi),this.h[4]=wr$1(this.h[4],ci)},he.prototype._digest=function(te){return te==="hex"?sr$1.toHex32(this.h,"big"):sr$1.split32(this.h,"big")};var ar$1=Q$2,Gs$1=fr,ur$1=ae,Ys$1=yr,ie$1=ar$1.sum32,Vs$1=ar$1.sum32_4,Ws$1=ar$1.sum32_5,Xs$1=ur$1.ch32,Zs$1=ur$1.maj32,$s$1=ur$1.s0_256,ta=ur$1.s1_256,ea=ur$1.g0_256,ra=ur$1.g1_256,gf=Gs$1.BlockHash,ia=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ce(){if(!(this instanceof ce))return new ce;gf.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ia,this.W=new Array(64)}ar$1.inherits(ce,gf);var Af=ce;ce.blockSize=512,ce.outSize=256,ce.hmacStrength=192,ce.padLength=64,ce.prototype._update=function(te,t){for(var G=this.W,Te=0;Te<16;Te++)G[Te]=te[t+Te];for(;Te<G.length;Te++)G[Te]=Vs$1(ra(G[Te-2]),G[Te-7],ea(G[Te-15]),G[Te-16]);var Zr=this.h[0],Ie=this.h[1],ni=this.h[2],fi=this.h[3],ci=this.h[4],ai=this.h[5],si=this.h[6],li=this.h[7];for(Ys$1(this.k.length===G.length),Te=0;Te<G.length;Te++){var mi=Ws$1(li,ta(ci),Xs$1(ci,ai,si),this.k[Te],G[Te]),di=ie$1($s$1(Zr),Zs$1(Zr,Ie,ni));li=si,si=ai,ai=ci,ci=ie$1(fi,mi),fi=ni,ni=Ie,Ie=Zr,Zr=ie$1(mi,di)}this.h[0]=ie$1(this.h[0],Zr),this.h[1]=ie$1(this.h[1],Ie),this.h[2]=ie$1(this.h[2],ni),this.h[3]=ie$1(this.h[3],fi),this.h[4]=ie$1(this.h[4],ci),this.h[5]=ie$1(this.h[5],ai),this.h[6]=ie$1(this.h[6],si),this.h[7]=ie$1(this.h[7],li)},ce.prototype._digest=function(te){return te==="hex"?ar$1.toHex32(this.h,"big"):ar$1.split32(this.h,"big")};var Bi$1=Q$2,bf=Af;function ye$1(){if(!(this instanceof ye$1))return new ye$1;bf.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Bi$1.inherits(ye$1,bf);var na=ye$1;ye$1.blockSize=512,ye$1.outSize=224,ye$1.hmacStrength=192,ye$1.padLength=64,ye$1.prototype._digest=function(te){return te==="hex"?Bi$1.toHex32(this.h.slice(0,7),"big"):Bi$1.split32(this.h.slice(0,7),"big")};var jt$1=Q$2,fa=fr,oa=yr,le=jt$1.rotr64_hi,de$1=jt$1.rotr64_lo,yf=jt$1.shr64_hi,wf=jt$1.shr64_lo,Be$2=jt$1.sum64,Ci=jt$1.sum64_hi,Ri=jt$1.sum64_lo,sa=jt$1.sum64_4_hi,aa=jt$1.sum64_4_lo,ua=jt$1.sum64_5_hi,ha=jt$1.sum64_5_lo,xf=fa.BlockHash,ca=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ne$1(){if(!(this instanceof ne$1))return new ne$1;xf.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ca,this.W=new Array(160)}jt$1.inherits(ne$1,xf);var Mf=ne$1;ne$1.blockSize=1024,ne$1.outSize=512,ne$1.hmacStrength=192,ne$1.padLength=128,ne$1.prototype._prepareBlock=function(te,t){for(var G=this.W,Te=0;Te<32;Te++)G[Te]=te[t+Te];for(;Te<G.length;Te+=2){var Zr=xa(G[Te-4],G[Te-3]),Ie=Ma(G[Te-4],G[Te-3]),ni=G[Te-14],fi=G[Te-13],ci=ya$1(G[Te-30],G[Te-29]),ai=wa(G[Te-30],G[Te-29]),si=G[Te-32],li=G[Te-31];G[Te]=sa(Zr,Ie,ni,fi,ci,ai,si,li),G[Te+1]=aa(Zr,Ie,ni,fi,ci,ai,si,li)}},ne$1.prototype._update=function(te,t){this._prepareBlock(te,t);var G=this.W,Te=this.h[0],Zr=this.h[1],Ie=this.h[2],ni=this.h[3],fi=this.h[4],ci=this.h[5],ai=this.h[6],si=this.h[7],li=this.h[8],mi=this.h[9],di=this.h[10],$i=this.h[11],sn=this.h[12],ln=this.h[13],mn=this.h[14],cn=this.h[15];oa(this.k.length===G.length);for(var Rn=0;Rn<G.length;Rn+=2){var vn=mn,Cn=cn,ho=Aa(li,mi),hn=ba$1(li,mi),Zn=la(li,mi,di,$i,sn),Do=da(li,mi,di,$i,sn,ln),Yo=this.k[Rn],ui=this.k[Rn+1],H=G[Rn],X=G[Rn+1],Br=ua(vn,Cn,ho,hn,Zn,Do,Yo,ui,H,X),Wr=ha(vn,Cn,ho,hn,Zn,Do,Yo,ui,H,X);vn=ma(Te,Zr),Cn=ga(Te,Zr),ho=pa(Te,Zr,Ie,ni,fi),hn=va(Te,Zr,Ie,ni,fi,ci);var ri=Ci(vn,Cn,ho,hn),ii=Ri(vn,Cn,ho,hn);mn=sn,cn=ln,sn=di,ln=$i,di=li,$i=mi,li=Ci(ai,si,Br,Wr),mi=Ri(si,si,Br,Wr),ai=fi,si=ci,fi=Ie,ci=ni,Ie=Te,ni=Zr,Te=Ci(Br,Wr,ri,ii),Zr=Ri(Br,Wr,ri,ii)}Be$2(this.h,0,Te,Zr),Be$2(this.h,2,Ie,ni),Be$2(this.h,4,fi,ci),Be$2(this.h,6,ai,si),Be$2(this.h,8,li,mi),Be$2(this.h,10,di,$i),Be$2(this.h,12,sn,ln),Be$2(this.h,14,mn,cn)},ne$1.prototype._digest=function(te){return te==="hex"?jt$1.toHex32(this.h,"big"):jt$1.split32(this.h,"big")};function la(te,t,G,Te,Zr){var Ie=te&G^~te&Zr;return Ie<0&&(Ie+=4294967296),Ie}function da(te,t,G,Te,Zr,Ie){var ni=t&Te^~t&Ie;return ni<0&&(ni+=4294967296),ni}function pa(te,t,G,Te,Zr){var Ie=te&G^te&Zr^G&Zr;return Ie<0&&(Ie+=4294967296),Ie}function va(te,t,G,Te,Zr,Ie){var ni=t&Te^t&Ie^Te&Ie;return ni<0&&(ni+=4294967296),ni}function ma(te,t){var G=le(te,t,28),Te=le(t,te,2),Zr=le(t,te,7),Ie=G^Te^Zr;return Ie<0&&(Ie+=4294967296),Ie}function ga(te,t){var G=de$1(te,t,28),Te=de$1(t,te,2),Zr=de$1(t,te,7),Ie=G^Te^Zr;return Ie<0&&(Ie+=4294967296),Ie}function Aa(te,t){var G=le(te,t,14),Te=le(te,t,18),Zr=le(t,te,9),Ie=G^Te^Zr;return Ie<0&&(Ie+=4294967296),Ie}function ba$1(te,t){var G=de$1(te,t,14),Te=de$1(te,t,18),Zr=de$1(t,te,9),Ie=G^Te^Zr;return Ie<0&&(Ie+=4294967296),Ie}function ya$1(te,t){var G=le(te,t,1),Te=le(te,t,8),Zr=yf(te,t,7),Ie=G^Te^Zr;return Ie<0&&(Ie+=4294967296),Ie}function wa(te,t){var G=de$1(te,t,1),Te=de$1(te,t,8),Zr=wf(te,t,7),Ie=G^Te^Zr;return Ie<0&&(Ie+=4294967296),Ie}function xa(te,t){var G=le(te,t,19),Te=le(t,te,29),Zr=yf(te,t,6),Ie=G^Te^Zr;return Ie<0&&(Ie+=4294967296),Ie}function Ma(te,t){var G=de$1(te,t,19),Te=de$1(t,te,29),Zr=wf(te,t,6),Ie=G^Te^Zr;return Ie<0&&(Ie+=4294967296),Ie}var Oi=Q$2,Ef=Mf;function we(){if(!(this instanceof we))return new we;Ef.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Oi.inherits(we,Ef);var Ea=we;we.blockSize=1024,we.outSize=384,we.hmacStrength=192,we.padLength=128,we.prototype._digest=function(te){return te==="hex"?Oi.toHex32(this.h.slice(0,12),"big"):Oi.split32(this.h.slice(0,12),"big")},or$1.sha1=Js$1,or$1.sha224=na,or$1.sha256=Af,or$1.sha384=Ea,or$1.sha512=Mf;var Sf={},Xe$2=Q$2,Sa$1=fr,Tr$1=Xe$2.rotl32,Nf=Xe$2.sum32,xr$1=Xe$2.sum32_3,If=Xe$2.sum32_4,_f=Sa$1.BlockHash;function pe$1(){if(!(this instanceof pe$1))return new pe$1;_f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Xe$2.inherits(pe$1,_f),Sf.ripemd160=pe$1,pe$1.blockSize=512,pe$1.outSize=160,pe$1.hmacStrength=192,pe$1.padLength=64,pe$1.prototype._update=function(te,t){for(var G=this.h[0],Te=this.h[1],Zr=this.h[2],Ie=this.h[3],ni=this.h[4],fi=G,ci=Te,ai=Zr,si=Ie,li=ni,mi=0;mi<80;mi++){var di=Nf(Tr$1(If(G,Bf(mi,Te,Zr,Ie),te[_a[mi]+t],Na$1(mi)),Ca[mi]),ni);G=ni,ni=Ie,Ie=Tr$1(Zr,10),Zr=Te,Te=di,di=Nf(Tr$1(If(fi,Bf(79-mi,ci,ai,si),te[Ba[mi]+t],Ia(mi)),Ra$1[mi]),li),fi=li,li=si,si=Tr$1(ai,10),ai=ci,ci=di}di=xr$1(this.h[1],Zr,si),this.h[1]=xr$1(this.h[2],Ie,li),this.h[2]=xr$1(this.h[3],ni,fi),this.h[3]=xr$1(this.h[4],G,ci),this.h[4]=xr$1(this.h[0],Te,ai),this.h[0]=di},pe$1.prototype._digest=function(te){return te==="hex"?Xe$2.toHex32(this.h,"little"):Xe$2.split32(this.h,"little")};function Bf(te,t,G,Te){return te<=15?t^G^Te:te<=31?t&G|~t&Te:te<=47?(t|~G)^Te:te<=63?t&Te|G&~Te:t^(G|~Te)}function Na$1(te){return te<=15?0:te<=31?1518500249:te<=47?1859775393:te<=63?2400959708:2840853838}function Ia(te){return te<=15?1352829926:te<=31?1548603684:te<=47?1836072691:te<=63?2053994217:0}var _a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ba=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ca=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ra$1=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Oa$1=Q$2,Pa=yr;function hr$1(te,t,G){if(!(this instanceof hr$1))return new hr$1(te,t,G);this.Hash=te,this.blockSize=te.blockSize/8,this.outSize=te.outSize/8,this.inner=null,this.outer=null,this._init(Oa$1.toArray(t,G))}var Da$1=hr$1;hr$1.prototype._init=function(te){te.length>this.blockSize&&(te=new this.Hash().update(te).digest()),Pa(te.length<=this.blockSize);for(var t=te.length;t<this.blockSize;t++)te.push(0);for(t=0;t<te.length;t++)te[t]^=54;for(this.inner=new this.Hash().update(te),t=0;t<te.length;t++)te[t]^=106;this.outer=new this.Hash().update(te)},hr$1.prototype.update=function(te,t){return this.inner.update(te,t),this},hr$1.prototype.digest=function(te){return this.outer.update(this.inner.digest()),this.outer.digest(te)},function(te){var t=te;t.utils=Q$2,t.common=fr,t.sha=or$1,t.ripemd=Sf,t.hmac=Da$1,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(se);function cr$1(te,t,G){return G={path:t,exports:{},require:function(Te,Zr){return Fa$1(Te,Zr??G.path)}},te(G,G.exports),G.exports}function Fa$1(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Pi=Cf;function Cf(te,t){if(!te)throw new Error(t||"Assertion failed")}Cf.equal=function(te,t,G){if(te!=t)throw new Error(G||"Assertion failed: "+te+" != "+t)};var fe$1=cr$1(function(te,t){var G=t;function Te(ni,fi){if(Array.isArray(ni))return ni.slice();if(!ni)return[];var ci=[];if(typeof ni!="string"){for(var ai=0;ai<ni.length;ai++)ci[ai]=ni[ai]|0;return ci}if(fi==="hex"){ni=ni.replace(/[^a-z0-9]+/ig,""),ni.length%2!==0&&(ni="0"+ni);for(var ai=0;ai<ni.length;ai+=2)ci.push(parseInt(ni[ai]+ni[ai+1],16))}else for(var ai=0;ai<ni.length;ai++){var si=ni.charCodeAt(ai),li=si>>8,mi=si&255;li?ci.push(li,mi):ci.push(mi)}return ci}G.toArray=Te;function Zr(ni){return ni.length===1?"0"+ni:ni}G.zero2=Zr;function Ie(ni){for(var fi="",ci=0;ci<ni.length;ci++)fi+=Zr(ni[ci].toString(16));return fi}G.toHex=Ie,G.encode=function(ni,fi){return fi==="hex"?Ie(ni):ni}}),Jt$2=cr$1(function(te,t){var G=t;G.assert=Pi,G.toArray=fe$1.toArray,G.zero2=fe$1.zero2,G.toHex=fe$1.toHex,G.encode=fe$1.encode;function Te(ci,ai,si){var li=new Array(Math.max(ci.bitLength(),si)+1);li.fill(0);for(var mi=1<<ai+1,di=ci.clone(),$i=0;$i<li.length;$i++){var sn,ln=di.andln(mi-1);di.isOdd()?(ln>(mi>>1)-1?sn=(mi>>1)-ln:sn=ln,di.isubn(sn)):sn=0,li[$i]=sn,di.iushrn(1)}return li}G.getNAF=Te;function Zr(ci,ai){var si=[[],[]];ci=ci.clone(),ai=ai.clone();for(var li=0,mi=0,di;ci.cmpn(-li)>0||ai.cmpn(-mi)>0;){var $i=ci.andln(3)+li&3,sn=ai.andln(3)+mi&3;$i===3&&($i=-1),sn===3&&(sn=-1);var ln;$i&1?(di=ci.andln(7)+li&7,(di===3||di===5)&&sn===2?ln=-$i:ln=$i):ln=0,si[0].push(ln);var mn;sn&1?(di=ai.andln(7)+mi&7,(di===3||di===5)&&$i===2?mn=-sn:mn=sn):mn=0,si[1].push(mn),2*li===ln+1&&(li=1-li),2*mi===mn+1&&(mi=1-mi),ci.iushrn(1),ai.iushrn(1)}return si}G.getJSF=Zr;function Ie(ci,ai,si){var li="_"+ai;ci.prototype[ai]=function(){return this[li]!==void 0?this[li]:this[li]=si.call(this)}}G.cachedProperty=Ie;function ni(ci){return typeof ci=="string"?G.toArray(ci,"hex"):ci}G.parseBytes=ni;function fi(ci){return new K$2(ci,"hex","le")}G.intFromLE=fi}),Ur$1=Jt$2.getNAF,Ta$1=Jt$2.getJSF,kr=Jt$2.assert;function Ce(te,t){this.type=te,this.p=new K$2(t.p,16),this.red=t.prime?K$2.red(t.prime):K$2.mont(this.p),this.zero=new K$2(0).toRed(this.red),this.one=new K$2(1).toRed(this.red),this.two=new K$2(2).toRed(this.red),this.n=t.n&&new K$2(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var G=this.n&&this.p.div(this.n);!G||G.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ze$2=Ce;Ce.prototype.point=function(){throw new Error("Not implemented")},Ce.prototype.validate=function(){throw new Error("Not implemented")},Ce.prototype._fixedNafMul=function(te,t){kr(te.precomputed);var G=te._getDoubles(),Te=Ur$1(t,1,this._bitLength),Zr=(1<<G.step+1)-(G.step%2===0?2:1);Zr/=3;var Ie=[],ni,fi;for(ni=0;ni<Te.length;ni+=G.step){fi=0;for(var ci=ni+G.step-1;ci>=ni;ci--)fi=(fi<<1)+Te[ci];Ie.push(fi)}for(var ai=this.jpoint(null,null,null),si=this.jpoint(null,null,null),li=Zr;li>0;li--){for(ni=0;ni<Ie.length;ni++)fi=Ie[ni],fi===li?si=si.mixedAdd(G.points[ni]):fi===-li&&(si=si.mixedAdd(G.points[ni].neg()));ai=ai.add(si)}return ai.toP()},Ce.prototype._wnafMul=function(te,t){var G=4,Te=te._getNAFPoints(G);G=Te.wnd;for(var Zr=Te.points,Ie=Ur$1(t,G,this._bitLength),ni=this.jpoint(null,null,null),fi=Ie.length-1;fi>=0;fi--){for(var ci=0;fi>=0&&Ie[fi]===0;fi--)ci++;if(fi>=0&&ci++,ni=ni.dblp(ci),fi<0)break;var ai=Ie[fi];kr(ai!==0),te.type==="affine"?ai>0?ni=ni.mixedAdd(Zr[ai-1>>1]):ni=ni.mixedAdd(Zr[-ai-1>>1].neg()):ai>0?ni=ni.add(Zr[ai-1>>1]):ni=ni.add(Zr[-ai-1>>1].neg())}return te.type==="affine"?ni.toP():ni},Ce.prototype._wnafMulAdd=function(te,t,G,Te,Zr){var Ie=this._wnafT1,ni=this._wnafT2,fi=this._wnafT3,ci=0,ai,si,li;for(ai=0;ai<Te;ai++){li=t[ai];var mi=li._getNAFPoints(te);Ie[ai]=mi.wnd,ni[ai]=mi.points}for(ai=Te-1;ai>=1;ai-=2){var di=ai-1,$i=ai;if(Ie[di]!==1||Ie[$i]!==1){fi[di]=Ur$1(G[di],Ie[di],this._bitLength),fi[$i]=Ur$1(G[$i],Ie[$i],this._bitLength),ci=Math.max(fi[di].length,ci),ci=Math.max(fi[$i].length,ci);continue}var sn=[t[di],null,null,t[$i]];t[di].y.cmp(t[$i].y)===0?(sn[1]=t[di].add(t[$i]),sn[2]=t[di].toJ().mixedAdd(t[$i].neg())):t[di].y.cmp(t[$i].y.redNeg())===0?(sn[1]=t[di].toJ().mixedAdd(t[$i]),sn[2]=t[di].add(t[$i].neg())):(sn[1]=t[di].toJ().mixedAdd(t[$i]),sn[2]=t[di].toJ().mixedAdd(t[$i].neg()));var ln=[-3,-1,-5,-7,0,7,5,1,3],mn=Ta$1(G[di],G[$i]);for(ci=Math.max(mn[0].length,ci),fi[di]=new Array(ci),fi[$i]=new Array(ci),si=0;si<ci;si++){var cn=mn[0][si]|0,Rn=mn[1][si]|0;fi[di][si]=ln[(cn+1)*3+(Rn+1)],fi[$i][si]=0,ni[di]=sn}}var vn=this.jpoint(null,null,null),Cn=this._wnafT4;for(ai=ci;ai>=0;ai--){for(var ho=0;ai>=0;){var hn=!0;for(si=0;si<Te;si++)Cn[si]=fi[si][ai]|0,Cn[si]!==0&&(hn=!1);if(!hn)break;ho++,ai--}if(ai>=0&&ho++,vn=vn.dblp(ho),ai<0)break;for(si=0;si<Te;si++){var Zn=Cn[si];Zn!==0&&(Zn>0?li=ni[si][Zn-1>>1]:Zn<0&&(li=ni[si][-Zn-1>>1].neg()),li.type==="affine"?vn=vn.mixedAdd(li):vn=vn.add(li))}}for(ai=0;ai<Te;ai++)ni[ai]=null;return Zr?vn:vn.toP()};function Xt$1(te,t){this.curve=te,this.type=t,this.precomputed=null}Ce.BasePoint=Xt$1,Xt$1.prototype.eq=function(){throw new Error("Not implemented")},Xt$1.prototype.validate=function(){return this.curve.validate(this)},Ce.prototype.decodePoint=function(te,t){te=Jt$2.toArray(te,t);var G=this.p.byteLength();if((te[0]===4||te[0]===6||te[0]===7)&&te.length-1===2*G){te[0]===6?kr(te[te.length-1]%2===0):te[0]===7&&kr(te[te.length-1]%2===1);var Te=this.point(te.slice(1,1+G),te.slice(1+G,1+2*G));return Te}else if((te[0]===2||te[0]===3)&&te.length-1===G)return this.pointFromX(te.slice(1,1+G),te[0]===3);throw new Error("Unknown point format")},Xt$1.prototype.encodeCompressed=function(te){return this.encode(te,!0)},Xt$1.prototype._encode=function(te){var t=this.curve.p.byteLength(),G=this.getX().toArray("be",t);return te?[this.getY().isEven()?2:3].concat(G):[4].concat(G,this.getY().toArray("be",t))},Xt$1.prototype.encode=function(te,t){return Jt$2.encode(this._encode(t),te)},Xt$1.prototype.precompute=function(te){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,te),t.beta=this._getBeta(),this.precomputed=t,this},Xt$1.prototype._hasDoubles=function(te){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((te.bitLength()+1)/t.step):!1},Xt$1.prototype._getDoubles=function(te,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var G=[this],Te=this,Zr=0;Zr<t;Zr+=te){for(var Ie=0;Ie<te;Ie++)Te=Te.dbl();G.push(Te)}return{step:te,points:G}},Xt$1.prototype._getNAFPoints=function(te){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],G=(1<<te)-1,Te=G===1?null:this.dbl(),Zr=1;Zr<G;Zr++)t[Zr]=t[Zr-1].add(Te);return{wnd:te,points:t}},Xt$1.prototype._getBeta=function(){return null},Xt$1.prototype.dblp=function(te){for(var t=this,G=0;G<te;G++)t=t.dbl();return t};var Di=cr$1(function(te){typeof Object.create=="function"?te.exports=function(t,G){G&&(t.super_=G,t.prototype=Object.create(G.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:te.exports=function(t,G){if(G){t.super_=G;var Te=function(){};Te.prototype=G.prototype,t.prototype=new Te,t.prototype.constructor=t}}}),Ua$1=Jt$2.assert;function Zt$1(te){Ze$2.call(this,"short",te),this.a=new K$2(te.a,16).toRed(this.red),this.b=new K$2(te.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(te),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Di(Zt$1,Ze$2);var ka=Zt$1;Zt$1.prototype._getEndomorphism=function(te){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,G;if(te.beta)t=new K$2(te.beta,16).toRed(this.red);else{var Te=this._getEndoRoots(this.p);t=Te[0].cmp(Te[1])<0?Te[0]:Te[1],t=t.toRed(this.red)}if(te.lambda)G=new K$2(te.lambda,16);else{var Zr=this._getEndoRoots(this.n);this.g.mul(Zr[0]).x.cmp(this.g.x.redMul(t))===0?G=Zr[0]:(G=Zr[1],Ua$1(this.g.mul(G).x.cmp(this.g.x.redMul(t))===0))}var Ie;return te.basis?Ie=te.basis.map(function(ni){return{a:new K$2(ni.a,16),b:new K$2(ni.b,16)}}):Ie=this._getEndoBasis(G),{beta:t,lambda:G,basis:Ie}}},Zt$1.prototype._getEndoRoots=function(te){var t=te===this.p?this.red:K$2.mont(te),G=new K$2(2).toRed(t).redInvm(),Te=G.redNeg(),Zr=new K$2(3).toRed(t).redNeg().redSqrt().redMul(G),Ie=Te.redAdd(Zr).fromRed(),ni=Te.redSub(Zr).fromRed();return[Ie,ni]},Zt$1.prototype._getEndoBasis=function(te){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),G=te,Te=this.n.clone(),Zr=new K$2(1),Ie=new K$2(0),ni=new K$2(0),fi=new K$2(1),ci,ai,si,li,mi,di,$i,sn=0,ln,mn;G.cmpn(0)!==0;){var cn=Te.div(G);ln=Te.sub(cn.mul(G)),mn=ni.sub(cn.mul(Zr));var Rn=fi.sub(cn.mul(Ie));if(!si&&ln.cmp(t)<0)ci=$i.neg(),ai=Zr,si=ln.neg(),li=mn;else if(si&&++sn===2)break;$i=ln,Te=G,G=ln,ni=Zr,Zr=mn,fi=Ie,Ie=Rn}mi=ln.neg(),di=mn;var vn=si.sqr().add(li.sqr()),Cn=mi.sqr().add(di.sqr());return Cn.cmp(vn)>=0&&(mi=ci,di=ai),si.negative&&(si=si.neg(),li=li.neg()),mi.negative&&(mi=mi.neg(),di=di.neg()),[{a:si,b:li},{a:mi,b:di}]},Zt$1.prototype._endoSplit=function(te){var t=this.endo.basis,G=t[0],Te=t[1],Zr=Te.b.mul(te).divRound(this.n),Ie=G.b.neg().mul(te).divRound(this.n),ni=Zr.mul(G.a),fi=Ie.mul(Te.a),ci=Zr.mul(G.b),ai=Ie.mul(Te.b),si=te.sub(ni).sub(fi),li=ci.add(ai).neg();return{k1:si,k2:li}},Zt$1.prototype.pointFromX=function(te,t){te=new K$2(te,16),te.red||(te=te.toRed(this.red));var G=te.redSqr().redMul(te).redIAdd(te.redMul(this.a)).redIAdd(this.b),Te=G.redSqrt();if(Te.redSqr().redSub(G).cmp(this.zero)!==0)throw new Error("invalid point");var Zr=Te.fromRed().isOdd();return(t&&!Zr||!t&&Zr)&&(Te=Te.redNeg()),this.point(te,Te)},Zt$1.prototype.validate=function(te){if(te.inf)return!0;var t=te.x,G=te.y,Te=this.a.redMul(t),Zr=t.redSqr().redMul(t).redIAdd(Te).redIAdd(this.b);return G.redSqr().redISub(Zr).cmpn(0)===0},Zt$1.prototype._endoWnafMulAdd=function(te,t,G){for(var Te=this._endoWnafT1,Zr=this._endoWnafT2,Ie=0;Ie<te.length;Ie++){var ni=this._endoSplit(t[Ie]),fi=te[Ie],ci=fi._getBeta();ni.k1.negative&&(ni.k1.ineg(),fi=fi.neg(!0)),ni.k2.negative&&(ni.k2.ineg(),ci=ci.neg(!0)),Te[Ie*2]=fi,Te[Ie*2+1]=ci,Zr[Ie*2]=ni.k1,Zr[Ie*2+1]=ni.k2}for(var ai=this._wnafMulAdd(1,Te,Zr,Ie*2,G),si=0;si<Ie*2;si++)Te[si]=null,Zr[si]=null;return ai};function Ft$1(te,t,G,Te){Ze$2.BasePoint.call(this,te,"affine"),t===null&&G===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new K$2(t,16),this.y=new K$2(G,16),Te&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Di(Ft$1,Ze$2.BasePoint),Zt$1.prototype.point=function(te,t,G){return new Ft$1(this,te,t,G)},Zt$1.prototype.pointFromJSON=function(te,t){return Ft$1.fromJSON(this,te,t)},Ft$1.prototype._getBeta=function(){if(this.curve.endo){var te=this.precomputed;if(te&&te.beta)return te.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(te){var G=this.curve,Te=function(Zr){return G.point(Zr.x.redMul(G.endo.beta),Zr.y)};te.beta=t,t.precomputed={beta:null,naf:te.naf&&{wnd:te.naf.wnd,points:te.naf.points.map(Te)},doubles:te.doubles&&{step:te.doubles.step,points:te.doubles.points.map(Te)}}}return t}},Ft$1.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Ft$1.fromJSON=function(te,t,G){typeof t=="string"&&(t=JSON.parse(t));var Te=te.point(t[0],t[1],G);if(!t[2])return Te;function Zr(ni){return te.point(ni[0],ni[1],G)}var Ie=t[2];return Te.precomputed={beta:null,doubles:Ie.doubles&&{step:Ie.doubles.step,points:[Te].concat(Ie.doubles.points.map(Zr))},naf:Ie.naf&&{wnd:Ie.naf.wnd,points:[Te].concat(Ie.naf.points.map(Zr))}},Te},Ft$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Ft$1.prototype.isInfinity=function(){return this.inf},Ft$1.prototype.add=function(te){if(this.inf)return te;if(te.inf)return this;if(this.eq(te))return this.dbl();if(this.neg().eq(te))return this.curve.point(null,null);if(this.x.cmp(te.x)===0)return this.curve.point(null,null);var t=this.y.redSub(te.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(te.x).redInvm()));var G=t.redSqr().redISub(this.x).redISub(te.x),Te=t.redMul(this.x.redSub(G)).redISub(this.y);return this.curve.point(G,Te)},Ft$1.prototype.dbl=function(){if(this.inf)return this;var te=this.y.redAdd(this.y);if(te.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,G=this.x.redSqr(),Te=te.redInvm(),Zr=G.redAdd(G).redIAdd(G).redIAdd(t).redMul(Te),Ie=Zr.redSqr().redISub(this.x.redAdd(this.x)),ni=Zr.redMul(this.x.redSub(Ie)).redISub(this.y);return this.curve.point(Ie,ni)},Ft$1.prototype.getX=function(){return this.x.fromRed()},Ft$1.prototype.getY=function(){return this.y.fromRed()},Ft$1.prototype.mul=function(te){return te=new K$2(te,16),this.isInfinity()?this:this._hasDoubles(te)?this.curve._fixedNafMul(this,te):this.curve.endo?this.curve._endoWnafMulAdd([this],[te]):this.curve._wnafMul(this,te)},Ft$1.prototype.mulAdd=function(te,t,G){var Te=[this,t],Zr=[te,G];return this.curve.endo?this.curve._endoWnafMulAdd(Te,Zr):this.curve._wnafMulAdd(1,Te,Zr,2)},Ft$1.prototype.jmulAdd=function(te,t,G){var Te=[this,t],Zr=[te,G];return this.curve.endo?this.curve._endoWnafMulAdd(Te,Zr,!0):this.curve._wnafMulAdd(1,Te,Zr,2,!0)},Ft$1.prototype.eq=function(te){return this===te||this.inf===te.inf&&(this.inf||this.x.cmp(te.x)===0&&this.y.cmp(te.y)===0)},Ft$1.prototype.neg=function(te){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(te&&this.precomputed){var G=this.precomputed,Te=function(Zr){return Zr.neg()};t.precomputed={naf:G.naf&&{wnd:G.naf.wnd,points:G.naf.points.map(Te)},doubles:G.doubles&&{step:G.doubles.step,points:G.doubles.points.map(Te)}}}return t},Ft$1.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var te=this.curve.jpoint(this.x,this.y,this.curve.one);return te};function Tt$2(te,t,G,Te){Ze$2.BasePoint.call(this,te,"jacobian"),t===null&&G===null&&Te===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new K$2(0)):(this.x=new K$2(t,16),this.y=new K$2(G,16),this.z=new K$2(Te,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Di(Tt$2,Ze$2.BasePoint),Zt$1.prototype.jpoint=function(te,t,G){return new Tt$2(this,te,t,G)},Tt$2.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var te=this.z.redInvm(),t=te.redSqr(),G=this.x.redMul(t),Te=this.y.redMul(t).redMul(te);return this.curve.point(G,Te)},Tt$2.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Tt$2.prototype.add=function(te){if(this.isInfinity())return te;if(te.isInfinity())return this;var t=te.z.redSqr(),G=this.z.redSqr(),Te=this.x.redMul(t),Zr=te.x.redMul(G),Ie=this.y.redMul(t.redMul(te.z)),ni=te.y.redMul(G.redMul(this.z)),fi=Te.redSub(Zr),ci=Ie.redSub(ni);if(fi.cmpn(0)===0)return ci.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ai=fi.redSqr(),si=ai.redMul(fi),li=Te.redMul(ai),mi=ci.redSqr().redIAdd(si).redISub(li).redISub(li),di=ci.redMul(li.redISub(mi)).redISub(Ie.redMul(si)),$i=this.z.redMul(te.z).redMul(fi);return this.curve.jpoint(mi,di,$i)},Tt$2.prototype.mixedAdd=function(te){if(this.isInfinity())return te.toJ();if(te.isInfinity())return this;var t=this.z.redSqr(),G=this.x,Te=te.x.redMul(t),Zr=this.y,Ie=te.y.redMul(t).redMul(this.z),ni=G.redSub(Te),fi=Zr.redSub(Ie);if(ni.cmpn(0)===0)return fi.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ci=ni.redSqr(),ai=ci.redMul(ni),si=G.redMul(ci),li=fi.redSqr().redIAdd(ai).redISub(si).redISub(si),mi=fi.redMul(si.redISub(li)).redISub(Zr.redMul(ai)),di=this.z.redMul(ni);return this.curve.jpoint(li,mi,di)},Tt$2.prototype.dblp=function(te){if(te===0)return this;if(this.isInfinity())return this;if(!te)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var G=this;for(t=0;t<te;t++)G=G.dbl();return G}var Te=this.curve.a,Zr=this.curve.tinv,Ie=this.x,ni=this.y,fi=this.z,ci=fi.redSqr().redSqr(),ai=ni.redAdd(ni);for(t=0;t<te;t++){var si=Ie.redSqr(),li=ai.redSqr(),mi=li.redSqr(),di=si.redAdd(si).redIAdd(si).redIAdd(Te.redMul(ci)),$i=Ie.redMul(li),sn=di.redSqr().redISub($i.redAdd($i)),ln=$i.redISub(sn),mn=di.redMul(ln);mn=mn.redIAdd(mn).redISub(mi);var cn=ai.redMul(fi);t+1<te&&(ci=ci.redMul(mi)),Ie=sn,fi=cn,ai=mn}return this.curve.jpoint(Ie,ai.redMul(Zr),fi)},Tt$2.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Tt$2.prototype._zeroDbl=function(){var te,t,G;if(this.zOne){var Te=this.x.redSqr(),Zr=this.y.redSqr(),Ie=Zr.redSqr(),ni=this.x.redAdd(Zr).redSqr().redISub(Te).redISub(Ie);ni=ni.redIAdd(ni);var fi=Te.redAdd(Te).redIAdd(Te),ci=fi.redSqr().redISub(ni).redISub(ni),ai=Ie.redIAdd(Ie);ai=ai.redIAdd(ai),ai=ai.redIAdd(ai),te=ci,t=fi.redMul(ni.redISub(ci)).redISub(ai),G=this.y.redAdd(this.y)}else{var si=this.x.redSqr(),li=this.y.redSqr(),mi=li.redSqr(),di=this.x.redAdd(li).redSqr().redISub(si).redISub(mi);di=di.redIAdd(di);var $i=si.redAdd(si).redIAdd(si),sn=$i.redSqr(),ln=mi.redIAdd(mi);ln=ln.redIAdd(ln),ln=ln.redIAdd(ln),te=sn.redISub(di).redISub(di),t=$i.redMul(di.redISub(te)).redISub(ln),G=this.y.redMul(this.z),G=G.redIAdd(G)}return this.curve.jpoint(te,t,G)},Tt$2.prototype._threeDbl=function(){var te,t,G;if(this.zOne){var Te=this.x.redSqr(),Zr=this.y.redSqr(),Ie=Zr.redSqr(),ni=this.x.redAdd(Zr).redSqr().redISub(Te).redISub(Ie);ni=ni.redIAdd(ni);var fi=Te.redAdd(Te).redIAdd(Te).redIAdd(this.curve.a),ci=fi.redSqr().redISub(ni).redISub(ni);te=ci;var ai=Ie.redIAdd(Ie);ai=ai.redIAdd(ai),ai=ai.redIAdd(ai),t=fi.redMul(ni.redISub(ci)).redISub(ai),G=this.y.redAdd(this.y)}else{var si=this.z.redSqr(),li=this.y.redSqr(),mi=this.x.redMul(li),di=this.x.redSub(si).redMul(this.x.redAdd(si));di=di.redAdd(di).redIAdd(di);var $i=mi.redIAdd(mi);$i=$i.redIAdd($i);var sn=$i.redAdd($i);te=di.redSqr().redISub(sn),G=this.y.redAdd(this.z).redSqr().redISub(li).redISub(si);var ln=li.redSqr();ln=ln.redIAdd(ln),ln=ln.redIAdd(ln),ln=ln.redIAdd(ln),t=di.redMul($i.redISub(te)).redISub(ln)}return this.curve.jpoint(te,t,G)},Tt$2.prototype._dbl=function(){var te=this.curve.a,t=this.x,G=this.y,Te=this.z,Zr=Te.redSqr().redSqr(),Ie=t.redSqr(),ni=G.redSqr(),fi=Ie.redAdd(Ie).redIAdd(Ie).redIAdd(te.redMul(Zr)),ci=t.redAdd(t);ci=ci.redIAdd(ci);var ai=ci.redMul(ni),si=fi.redSqr().redISub(ai.redAdd(ai)),li=ai.redISub(si),mi=ni.redSqr();mi=mi.redIAdd(mi),mi=mi.redIAdd(mi),mi=mi.redIAdd(mi);var di=fi.redMul(li).redISub(mi),$i=G.redAdd(G).redMul(Te);return this.curve.jpoint(si,di,$i)},Tt$2.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var te=this.x.redSqr(),t=this.y.redSqr(),G=this.z.redSqr(),Te=t.redSqr(),Zr=te.redAdd(te).redIAdd(te),Ie=Zr.redSqr(),ni=this.x.redAdd(t).redSqr().redISub(te).redISub(Te);ni=ni.redIAdd(ni),ni=ni.redAdd(ni).redIAdd(ni),ni=ni.redISub(Ie);var fi=ni.redSqr(),ci=Te.redIAdd(Te);ci=ci.redIAdd(ci),ci=ci.redIAdd(ci),ci=ci.redIAdd(ci);var ai=Zr.redIAdd(ni).redSqr().redISub(Ie).redISub(fi).redISub(ci),si=t.redMul(ai);si=si.redIAdd(si),si=si.redIAdd(si);var li=this.x.redMul(fi).redISub(si);li=li.redIAdd(li),li=li.redIAdd(li);var mi=this.y.redMul(ai.redMul(ci.redISub(ai)).redISub(ni.redMul(fi)));mi=mi.redIAdd(mi),mi=mi.redIAdd(mi),mi=mi.redIAdd(mi);var di=this.z.redAdd(ni).redSqr().redISub(G).redISub(fi);return this.curve.jpoint(li,mi,di)},Tt$2.prototype.mul=function(te,t){return te=new K$2(te,t),this.curve._wnafMul(this,te)},Tt$2.prototype.eq=function(te){if(te.type==="affine")return this.eq(te.toJ());if(this===te)return!0;var t=this.z.redSqr(),G=te.z.redSqr();if(this.x.redMul(G).redISub(te.x.redMul(t)).cmpn(0)!==0)return!1;var Te=t.redMul(this.z),Zr=G.redMul(te.z);return this.y.redMul(Zr).redISub(te.y.redMul(Te)).cmpn(0)===0},Tt$2.prototype.eqXToP=function(te){var t=this.z.redSqr(),G=te.toRed(this.curve.red).redMul(t);if(this.x.cmp(G)===0)return!0;for(var Te=te.clone(),Zr=this.curve.redN.redMul(t);;){if(Te.iadd(this.curve.n),Te.cmp(this.curve.p)>=0)return!1;if(G.redIAdd(Zr),this.x.cmp(G)===0)return!0}},Tt$2.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Tt$2.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var qr=cr$1(function(te,t){var G=t;G.base=Ze$2,G.short=ka,G.mont=null,G.edwards=null}),Kr=cr$1(function(te,t){var G=t,Te=Jt$2.assert;function Zr(fi){fi.type==="short"?this.curve=new qr.short(fi):fi.type==="edwards"?this.curve=new qr.edwards(fi):this.curve=new qr.mont(fi),this.g=this.curve.g,this.n=this.curve.n,this.hash=fi.hash,Te(this.g.validate(),"Invalid curve"),Te(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}G.PresetCurve=Zr;function Ie(fi,ci){Object.defineProperty(G,fi,{configurable:!0,enumerable:!0,get:function(){var ai=new Zr(ci);return Object.defineProperty(G,fi,{configurable:!0,enumerable:!0,value:ai}),ai}})}Ie("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:se.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),Ie("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:se.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),Ie("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:se.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),Ie("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:se.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),Ie("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:se.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),Ie("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:se.sha256,gRed:!1,g:["9"]}),Ie("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:se.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var ni;try{ni=null.crash()}catch{ni=void 0}Ie("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:se.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",ni]})});function Re(te){if(!(this instanceof Re))return new Re(te);this.hash=te.hash,this.predResist=!!te.predResist,this.outLen=this.hash.outSize,this.minEntropy=te.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=fe$1.toArray(te.entropy,te.entropyEnc||"hex"),G=fe$1.toArray(te.nonce,te.nonceEnc||"hex"),Te=fe$1.toArray(te.pers,te.persEnc||"hex");Pi(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,G,Te)}var Rf=Re;Re.prototype._init=function(te,t,G){var Te=te.concat(t).concat(G);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var Zr=0;Zr<this.V.length;Zr++)this.K[Zr]=0,this.V[Zr]=1;this._update(Te),this._reseed=1,this.reseedInterval=281474976710656},Re.prototype._hmac=function(){return new se.hmac(this.hash,this.K)},Re.prototype._update=function(te){var t=this._hmac().update(this.V).update([0]);te&&(t=t.update(te)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),te&&(this.K=this._hmac().update(this.V).update([1]).update(te).digest(),this.V=this._hmac().update(this.V).digest())},Re.prototype.reseed=function(te,t,G,Te){typeof t!="string"&&(Te=G,G=t,t=null),te=fe$1.toArray(te,t),G=fe$1.toArray(G,Te),Pi(te.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(te.concat(G||[])),this._reseed=1},Re.prototype.generate=function(te,t,G,Te){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(Te=G,G=t,t=null),G&&(G=fe$1.toArray(G,Te||"hex"),this._update(G));for(var Zr=[];Zr.length<te;)this.V=this._hmac().update(this.V).digest(),Zr=Zr.concat(this.V);var Ie=Zr.slice(0,te);return this._update(G),this._reseed++,fe$1.encode(Ie,t)};var Fi$1=Jt$2.assert;function kt$1(te,t){this.ec=te,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Ti=kt$1;kt$1.fromPublic=function(te,t,G){return t instanceof kt$1?t:new kt$1(te,{pub:t,pubEnc:G})},kt$1.fromPrivate=function(te,t,G){return t instanceof kt$1?t:new kt$1(te,{priv:t,privEnc:G})},kt$1.prototype.validate=function(){var te=this.getPublic();return te.isInfinity()?{result:!1,reason:"Invalid public key"}:te.validate()?te.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},kt$1.prototype.getPublic=function(te,t){return typeof te=="string"&&(t=te,te=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,te):this.pub},kt$1.prototype.getPrivate=function(te){return te==="hex"?this.priv.toString(16,2):this.priv},kt$1.prototype._importPrivate=function(te,t){this.priv=new K$2(te,t||16),this.priv=this.priv.umod(this.ec.curve.n)},kt$1.prototype._importPublic=function(te,t){if(te.x||te.y){this.ec.curve.type==="mont"?Fi$1(te.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Fi$1(te.x&&te.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(te.x,te.y);return}this.pub=this.ec.curve.decodePoint(te,t)},kt$1.prototype.derive=function(te){return te.validate()||Fi$1(te.validate(),"public point not validated"),te.mul(this.priv).getX()},kt$1.prototype.sign=function(te,t,G){return this.ec.sign(te,this,t,G)},kt$1.prototype.verify=function(te,t){return this.ec.verify(te,t,this)},kt$1.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var qa$1=Jt$2.assert;function Hr(te,t){if(te instanceof Hr)return te;this._importDER(te,t)||(qa$1(te.r&&te.s,"Signature without r or s"),this.r=new K$2(te.r,16),this.s=new K$2(te.s,16),te.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=te.recoveryParam)}var zr$1=Hr;function Ka(){this.place=0}function Ui$1(te,t){var G=te[t.place++];if(!(G&128))return G;var Te=G&15;if(Te===0||Te>4)return!1;for(var Zr=0,Ie=0,ni=t.place;Ie<Te;Ie++,ni++)Zr<<=8,Zr|=te[ni],Zr>>>=0;return Zr<=127?!1:(t.place=ni,Zr)}function Of(te){for(var t=0,G=te.length-1;!te[t]&&!(te[t+1]&128)&&t<G;)t++;return t===0?te:te.slice(t)}Hr.prototype._importDER=function(te,t){te=Jt$2.toArray(te,t);var G=new Ka;if(te[G.place++]!==48)return!1;var Te=Ui$1(te,G);if(Te===!1||Te+G.place!==te.length||te[G.place++]!==2)return!1;var Zr=Ui$1(te,G);if(Zr===!1)return!1;var Ie=te.slice(G.place,Zr+G.place);if(G.place+=Zr,te[G.place++]!==2)return!1;var ni=Ui$1(te,G);if(ni===!1||te.length!==ni+G.place)return!1;var fi=te.slice(G.place,ni+G.place);if(Ie[0]===0)if(Ie[1]&128)Ie=Ie.slice(1);else return!1;if(fi[0]===0)if(fi[1]&128)fi=fi.slice(1);else return!1;return this.r=new K$2(Ie),this.s=new K$2(fi),this.recoveryParam=null,!0};function ki(te,t){if(t<128){te.push(t);return}var G=1+(Math.log(t)/Math.LN2>>>3);for(te.push(G|128);--G;)te.push(t>>>(G<<3)&255);te.push(t)}Hr.prototype.toDER=function(te){var t=this.r.toArray(),G=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),G[0]&128&&(G=[0].concat(G)),t=Of(t),G=Of(G);!G[0]&&!(G[1]&128);)G=G.slice(1);var Te=[2];ki(Te,t.length),Te=Te.concat(t),Te.push(2),ki(Te,G.length);var Zr=Te.concat(G),Ie=[48];return ki(Ie,Zr.length),Ie=Ie.concat(Zr),Jt$2.encode(Ie,te)};var Ha$1=function(){throw new Error("unsupported")},Pf=Jt$2.assert;function $t$1(te){if(!(this instanceof $t$1))return new $t$1(te);typeof te=="string"&&(Pf(Object.prototype.hasOwnProperty.call(Kr,te),"Unknown curve "+te),te=Kr[te]),te instanceof Kr.PresetCurve&&(te={curve:te}),this.curve=te.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=te.curve.g,this.g.precompute(te.curve.n.bitLength()+1),this.hash=te.hash||te.curve.hash}var za=$t$1;$t$1.prototype.keyPair=function(te){return new Ti(this,te)},$t$1.prototype.keyFromPrivate=function(te,t){return Ti.fromPrivate(this,te,t)},$t$1.prototype.keyFromPublic=function(te,t){return Ti.fromPublic(this,te,t)},$t$1.prototype.genKeyPair=function(te){te||(te={});for(var t=new Rf({hash:this.hash,pers:te.pers,persEnc:te.persEnc||"utf8",entropy:te.entropy||Ha$1(this.hash.hmacStrength),entropyEnc:te.entropy&&te.entropyEnc||"utf8",nonce:this.n.toArray()}),G=this.n.byteLength(),Te=this.n.sub(new K$2(2));;){var Zr=new K$2(t.generate(G));if(!(Zr.cmp(Te)>0))return Zr.iaddn(1),this.keyFromPrivate(Zr)}},$t$1.prototype._truncateToN=function(te,t){var G=te.byteLength()*8-this.n.bitLength();return G>0&&(te=te.ushrn(G)),!t&&te.cmp(this.n)>=0?te.sub(this.n):te},$t$1.prototype.sign=function(te,t,G,Te){typeof G=="object"&&(Te=G,G=null),Te||(Te={}),t=this.keyFromPrivate(t,G),te=this._truncateToN(new K$2(te,16));for(var Zr=this.n.byteLength(),Ie=t.getPrivate().toArray("be",Zr),ni=te.toArray("be",Zr),fi=new Rf({hash:this.hash,entropy:Ie,nonce:ni,pers:Te.pers,persEnc:Te.persEnc||"utf8"}),ci=this.n.sub(new K$2(1)),ai=0;;ai++){var si=Te.k?Te.k(ai):new K$2(fi.generate(this.n.byteLength()));if(si=this._truncateToN(si,!0),!(si.cmpn(1)<=0||si.cmp(ci)>=0)){var li=this.g.mul(si);if(!li.isInfinity()){var mi=li.getX(),di=mi.umod(this.n);if(di.cmpn(0)!==0){var $i=si.invm(this.n).mul(di.mul(t.getPrivate()).iadd(te));if($i=$i.umod(this.n),$i.cmpn(0)!==0){var sn=(li.getY().isOdd()?1:0)|(mi.cmp(di)!==0?2:0);return Te.canonical&&$i.cmp(this.nh)>0&&($i=this.n.sub($i),sn^=1),new zr$1({r:di,s:$i,recoveryParam:sn})}}}}}},$t$1.prototype.verify=function(te,t,G,Te){te=this._truncateToN(new K$2(te,16)),G=this.keyFromPublic(G,Te),t=new zr$1(t,"hex");var Zr=t.r,Ie=t.s;if(Zr.cmpn(1)<0||Zr.cmp(this.n)>=0||Ie.cmpn(1)<0||Ie.cmp(this.n)>=0)return!1;var ni=Ie.invm(this.n),fi=ni.mul(te).umod(this.n),ci=ni.mul(Zr).umod(this.n),ai;return this.curve._maxwellTrick?(ai=this.g.jmulAdd(fi,G.getPublic(),ci),ai.isInfinity()?!1:ai.eqXToP(Zr)):(ai=this.g.mulAdd(fi,G.getPublic(),ci),ai.isInfinity()?!1:ai.getX().umod(this.n).cmp(Zr)===0)},$t$1.prototype.recoverPubKey=function(te,t,G,Te){Pf((3&G)===G,"The recovery param is more than two bits"),t=new zr$1(t,Te);var Zr=this.n,Ie=new K$2(te),ni=t.r,fi=t.s,ci=G&1,ai=G>>1;if(ni.cmp(this.curve.p.umod(this.curve.n))>=0&&ai)throw new Error("Unable to find sencond key candinate");ai?ni=this.curve.pointFromX(ni.add(this.curve.n),ci):ni=this.curve.pointFromX(ni,ci);var si=t.r.invm(Zr),li=Zr.sub(Ie).mul(si).umod(Zr),mi=fi.mul(si).umod(Zr);return this.g.mulAdd(li,ni,mi)},$t$1.prototype.getKeyRecoveryParam=function(te,t,G,Te){if(t=new zr$1(t,Te),t.recoveryParam!==null)return t.recoveryParam;for(var Zr=0;Zr<4;Zr++){var Ie;try{Ie=this.recoverPubKey(te,t,Zr)}catch{continue}if(Ie.eq(G))return Zr}throw new Error("Unable to find valid recovery factor")};var La$1=cr$1(function(te,t){var G=t;G.version="6.5.4",G.utils=Jt$2,G.rand=function(){throw new Error("unsupported")},G.curve=qr,G.curves=Kr,G.ec=za,G.eddsa=null}),ja=La$1.ec;const Qa="signing-key/5.7.0",qi=new L$4(Qa);let Ki=null;function ve(){return Ki||(Ki=new ja("secp256k1")),Ki}class Ja{constructor(t){br(this,"curve","secp256k1"),br(this,"privateKey",Kt$1(t)),N0(this.privateKey)!==32&&qi.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const G=ve().keyFromPrivate(Ot$1(this.privateKey));br(this,"publicKey","0x"+G.getPublic(!1,"hex")),br(this,"compressedPublicKey","0x"+G.getPublic(!0,"hex")),br(this,"_isSigningKey",!0)}_addPoint(t){const G=ve().keyFromPublic(Ot$1(this.publicKey)),Te=ve().keyFromPublic(Ot$1(t));return"0x"+G.pub.add(Te.pub).encodeCompressed("hex")}signDigest(t){const G=ve().keyFromPrivate(Ot$1(this.privateKey)),Te=Ot$1(t);Te.length!==32&&qi.throwArgumentError("bad digest length","digest",t);const Zr=G.sign(Te,{canonical:!0});return zn({recoveryParam:Zr.recoveryParam,r:oe$1("0x"+Zr.r.toString(16),32),s:oe$1("0x"+Zr.s.toString(16),32)})}computeSharedSecret(t){const G=ve().keyFromPrivate(Ot$1(this.privateKey)),Te=ve().keyFromPublic(Ot$1(Df(t)));return oe$1("0x"+G.derive(Te.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function Ga(te,t){const G=zn(t),Te={r:Ot$1(G.r),s:Ot$1(G.s)};return"0x"+ve().recoverPubKey(Ot$1(te),Te,G.recoveryParam).encode("hex",!1)}function Df(te,t){const G=Ot$1(te);return G.length===32?new Ja(G).publicKey:G.length===33?"0x"+ve().keyFromPublic(G).getPublic(!1,"hex"):G.length===65?Kt$1(G):qi.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Ff;(function(te){te[te.legacy=0]="legacy",te[te.eip2930=1]="eip2930",te[te.eip1559=2]="eip1559"})(Ff||(Ff={}));function Va(te){const t=Df(te);return ns$2(Hn(yi(Hn(t,1)),12))}function Wa(te,t){return Va(Ga(Ot$1(te),t))}const Xa="https://rpc.walletconnect.com/v1";async function Tf(te,t,G,Te,Zr,Ie){switch(G.t){case"eip191":return Uf(te,t,G.s);case"eip1271":return await kf(te,t,G.s,Te,Zr,Ie);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${G.t}`)}}function Uf(te,t,G){return Wa(ff(t),G).toLowerCase()===te.toLowerCase()}async function kf(te,t,G,Te,Zr,Ie){try{const ni="0x1626ba7e",fi="0000000000000000000000000000000000000000000000000000000000000040",ci="0000000000000000000000000000000000000000000000000000000000000041",ai=G.substring(2),si=ff(t).substring(2),li=ni+si+fi+ci+ai,mi=await fetch(`${Ie||Xa}/?chainId=${Te}&projectId=${Zr}`,{method:"POST",body:JSON.stringify({id:Za(),jsonrpc:"2.0",method:"eth_call",params:[{to:te,data:li},"latest"]})}),{result:di}=await mi.json();return di?di.slice(0,ni.length).toLowerCase()===ni.toLowerCase():!1}catch(ni){return console.error("isValidEip1271Signature: ",ni),!1}}function Za(){return Date.now()+Math.floor(Math.random()*1e3)}var $a$1=Object.defineProperty,tu=Object.defineProperties,eu=Object.getOwnPropertyDescriptors,qf=Object.getOwnPropertySymbols,ru=Object.prototype.hasOwnProperty,iu=Object.prototype.propertyIsEnumerable,Kf=(te,t,G)=>t in te?$a$1(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,Hi$1=(te,t)=>{for(var G in t||(t={}))ru.call(t,G)&&Kf(te,G,t[G]);if(qf)for(var G of qf(t))iu.call(t,G)&&Kf(te,G,t[G]);return te},Hf=(te,t)=>tu(te,eu(t));const nu="did:pkh:",Lr$1=te=>te==null?void 0:te.split(":"),zi=te=>{const t=te&&Lr$1(te);if(t)return te.includes(nu)?t[3]:t[1]},fu=te=>{const t=te&&Lr$1(te);if(t)return t[2]+":"+t[3]},Li=te=>{const t=te&&Lr$1(te);if(t)return t.pop()};async function ou(te){const{cacao:t,projectId:G}=te,{s:Te,p:Zr}=t,Ie=zf(Zr,Zr.iss),ni=Li(Zr.iss);return await Tf(ni,Ie,Te,zi(Zr.iss),G)}const zf=(te,t)=>{const G=`${te.domain} wants you to sign in with your Ethereum account:`,Te=Li(t);if(!te.aud&&!te.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let Zr=te.statement||void 0;const Ie=`URI: ${te.aud||te.uri}`,ni=`Version: ${te.version}`,fi=`Chain ID: ${zi(t)}`,ci=`Nonce: ${te.nonce}`,ai=`Issued At: ${te.iat}`,si=te.exp?`Expiration Time: ${te.exp}`:void 0,li=te.nbf?`Not Before: ${te.nbf}`:void 0,mi=te.requestId?`Request ID: ${te.requestId}`:void 0,di=te.resources?`Resources:${te.resources.map(sn=>`
- ${sn}`).join("")}`:void 0,$i=Qr(te.resources);if($i){const sn=Oe($i);Zr=Ji$1(Zr,sn)}return[G,Te,"",Zr,"",Ie,ni,fi,ci,ai,si,li,mi,di].filter(sn=>sn!=null).join(`
`)};function Jf(te){return Buffer.from(JSON.stringify(te)).toString("base64")}function Gf(te){return JSON.parse(Buffer.from(te,"base64").toString("utf-8"))}function me$1(te){if(!te)throw new Error("No recap provided, value is undefined");if(!te.att)throw new Error("No `att` property found");const t=Object.keys(te.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(G=>{const Te=te.att[G];if(Array.isArray(Te))throw new Error(`Resource must be an object: ${G}`);if(typeof Te!="object")throw new Error(`Resource must be an object: ${G}`);if(!Object.keys(Te).length)throw new Error(`Resource object is empty: ${G}`);Object.keys(Te).forEach(Zr=>{const Ie=Te[Zr];if(!Array.isArray(Ie))throw new Error(`Ability limits ${Zr} must be an array of objects, found: ${Ie}`);if(!Ie.length)throw new Error(`Value of ${Zr} is empty array, must be an array with objects`);Ie.forEach(ni=>{if(typeof ni!="object")throw new Error(`Ability limits (${Zr}) must be an array of objects, found: ${ni}`)})})})}function Yf(te,t,G,Te={}){return G==null||G.sort((Zr,Ie)=>Zr.localeCompare(Ie)),{att:{[te]:ji$1(t,G,Te)}}}function ji$1(te,t,G={}){t=t==null?void 0:t.sort((Zr,Ie)=>Zr.localeCompare(Ie));const Te=t.map(Zr=>({[`${te}/${Zr}`]:[G]}));return Object.assign({},...Te)}function jr(te){return me$1(te),`urn:recap:${Jf(te).replace(/=/g,"")}`}function Oe(te){const t=Gf(te.replace("urn:recap:",""));return me$1(t),t}function cu(te,t,G){const Te=Yf(te,t,G);return jr(Te)}function Qi$1(te){return te&&te.includes("urn:recap:")}function lu(te,t){const G=Oe(te),Te=Oe(t),Zr=Wf(G,Te);return jr(Zr)}function Wf(te,t){me$1(te),me$1(t);const G=Object.keys(te.att).concat(Object.keys(t.att)).sort((Zr,Ie)=>Zr.localeCompare(Ie)),Te={att:{}};return G.forEach(Zr=>{var Ie,ni;Object.keys(((Ie=te.att)==null?void 0:Ie[Zr])||{}).concat(Object.keys(((ni=t.att)==null?void 0:ni[Zr])||{})).sort((fi,ci)=>fi.localeCompare(ci)).forEach(fi=>{var ci,ai;Te.att[Zr]=Hf(Hi$1({},Te.att[Zr]),{[fi]:((ci=te.att[Zr])==null?void 0:ci[fi])||((ai=t.att[Zr])==null?void 0:ai[fi])})})}),Te}function Ji$1(te="",t){me$1(t);const G="I further authorize the stated URI to perform the following actions on my behalf: ";if(te.includes(G))return te;const Te=[];let Zr=0;Object.keys(t.att).forEach(fi=>{const ci=Object.keys(t.att[fi]).map(li=>({ability:li.split("/")[0],action:li.split("/")[1]}));ci.sort((li,mi)=>li.action.localeCompare(mi.action));const ai={};ci.forEach(li=>{ai[li.ability]||(ai[li.ability]=[]),ai[li.ability].push(li.action)});const si=Object.keys(ai).map(li=>(Zr++,`(${Zr}) '${li}': '${ai[li].join("', '")}' for '${fi}'.`));Te.push(si.join(", ").replace(".,","."))});const Ie=Te.join(" "),ni=`${G}${Ie}`;return`${te?te+" ":""}${ni}`}function du(te){var t;const G=Oe(te);me$1(G);const Te=(t=G.att)==null?void 0:t.eip155;return Te?Object.keys(Te).map(Zr=>Zr.split("/")[1]):[]}function pu(te){const t=Oe(te);me$1(t);const G=[];return Object.values(t.att).forEach(Te=>{Object.values(Te).forEach(Zr=>{var Ie;(Ie=Zr==null?void 0:Zr[0])!=null&&Ie.chains&&G.push(Zr[0].chains)})}),[...new Set(G.flat())]}function Qr(te){if(!te)return;const t=te==null?void 0:te[te.length-1];return Qi$1(t)?t:void 0}const Gi$1="base10",zt$1="base16",Jr="base64pad",Gr="utf8",Yi$1=0,lr$2=1,vu=0,Zf=1,Vi=12,Wi$2=32;function mu(){const te=x25519.generateKeyPair();return{privateKey:toString(te.secretKey,zt$1),publicKey:toString(te.publicKey,zt$1)}}function gu(){const te=random.randomBytes(Wi$2);return toString(te,zt$1)}function Au(te,t){const G=x25519.sharedKey(fromString(te,zt$1),fromString(t,zt$1),!0),Te=new HKDF_1(sha256.SHA256,G).expand(Wi$2);return toString(Te,zt$1)}function bu(te){const t=sha256.hash(fromString(te,zt$1));return toString(t,zt$1)}function yu(te){const t=sha256.hash(fromString(te,Gr));return toString(t,zt$1)}function $f(te){return fromString(`${te}`,Gi$1)}function Mr(te){return Number(toString(te,Gi$1))}function wu(te){const t=$f(typeof te.type<"u"?te.type:Yi$1);if(Mr(t)===lr$2&&typeof te.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const G=typeof te.senderPublicKey<"u"?fromString(te.senderPublicKey,zt$1):void 0,Te=typeof te.iv<"u"?fromString(te.iv,zt$1):random.randomBytes(Vi),Zr=new chacha20poly1305.ChaCha20Poly1305(fromString(te.symKey,zt$1)).seal(Te,fromString(te.message,Gr));return to({type:t,sealed:Zr,iv:Te,senderPublicKey:G})}function xu(te){const t=new chacha20poly1305.ChaCha20Poly1305(fromString(te.symKey,zt$1)),{sealed:G,iv:Te}=Xi$1(te.encoded),Zr=t.open(Te,G);if(Zr===null)throw new Error("Failed to decrypt");return toString(Zr,Gr)}function to(te){if(Mr(te.type)===lr$2){if(typeof te.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return toString(concat([te.type,te.senderPublicKey,te.iv,te.sealed]),Jr)}return toString(concat([te.type,te.iv,te.sealed]),Jr)}function Xi$1(te){const t=fromString(te,Jr),G=t.slice(vu,Zf),Te=Zf;if(Mr(G)===lr$2){const fi=Te+Wi$2,ci=fi+Vi,ai=t.slice(Te,fi),si=t.slice(fi,ci),li=t.slice(ci);return{type:G,sealed:li,iv:si,senderPublicKey:ai}}const Zr=Te+Vi,Ie=t.slice(Te,Zr),ni=t.slice(Zr);return{type:G,sealed:ni,iv:Ie}}function Mu(te,t){const G=Xi$1(te);return eo({type:Mr(G.type),senderPublicKey:typeof G.senderPublicKey<"u"?toString(G.senderPublicKey,zt$1):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function eo(te){const t=(te==null?void 0:te.type)||Yi$1;if(t===lr$2){if(typeof(te==null?void 0:te.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(te==null?void 0:te.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:te==null?void 0:te.senderPublicKey,receiverPublicKey:te==null?void 0:te.receiverPublicKey}}function Eu(te){return te.type===lr$2&&typeof te.senderPublicKey=="string"&&typeof te.receiverPublicKey=="string"}const ro="irn";function Su(te){return(te==null?void 0:te.relay)||{protocol:ro}}function Nu(te){const t=C$3[te];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${te}`);return t}var Iu=Object.defineProperty,_u=Object.defineProperties,Bu=Object.getOwnPropertyDescriptors,io=Object.getOwnPropertySymbols,Cu=Object.prototype.hasOwnProperty,Ru=Object.prototype.propertyIsEnumerable,no=(te,t,G)=>t in te?Iu(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,fo=(te,t)=>{for(var G in t||(t={}))Cu.call(t,G)&&no(te,G,t[G]);if(io)for(var G of io(t))Ru.call(t,G)&&no(te,G,t[G]);return te},Ou=(te,t)=>_u(te,Bu(t));function oo(te,t="-"){const G={},Te="relay"+t;return Object.keys(te).forEach(Zr=>{if(Zr.startsWith(Te)){const Ie=Zr.replace(Te,""),ni=te[Zr];G[Ie]=ni}}),G}function Pu(te){te=te.includes("wc://")?te.replace("wc://",""):te,te=te.includes("wc:")?te.replace("wc:",""):te;const t=te.indexOf(":"),G=te.indexOf("?")!==-1?te.indexOf("?"):void 0,Te=te.substring(0,t),Zr=te.substring(t+1,G).split("@"),Ie=typeof G<"u"?te.substring(G):"",ni=queryString.parse(Ie),fi=typeof ni.methods=="string"?ni.methods.split(","):void 0;return{protocol:Te,topic:so(Zr[0]),version:parseInt(Zr[1],10),symKey:ni.symKey,relay:oo(ni),methods:fi,expiryTimestamp:ni.expiryTimestamp?parseInt(ni.expiryTimestamp,10):void 0}}function so(te){return te.startsWith("//")?te.substring(2):te}function ao(te,t="-"){const G="relay",Te={};return Object.keys(te).forEach(Zr=>{const Ie=G+t+Zr;te[Zr]&&(Te[Ie]=te[Zr])}),Te}function Du(te){return`${te.protocol}:${te.topic}@${te.version}?`+queryString.stringify(fo(Ou(fo({symKey:te.symKey},ao(te.relay)),{expiryTimestamp:te.expiryTimestamp}),te.methods?{methods:te.methods.join(",")}:{}))}function $e$1(te){const t=[];return te.forEach(G=>{const[Te,Zr]=G.split(":");t.push(`${Te}:${Zr}`)}),t}function co(te){const t=[];return Object.values(te).forEach(G=>{t.push(...$e$1(G.accounts))}),t}function lo(te,t){const G=[];return Object.values(te).forEach(Te=>{$e$1(Te.accounts).includes(t)&&G.push(...Te.methods)}),G}function po(te,t){const G=[];return Object.values(te).forEach(Te=>{$e$1(Te.accounts).includes(t)&&G.push(...Te.events)}),G}function Zi$1(te){return te.includes(":")}function vo(te){return Zi$1(te)?te.split(":")[0]:te}function mo(te){const t={};return te==null||te.forEach(G=>{const[Te,Zr]=G.split(":");t[Te]||(t[Te]={accounts:[],chains:[],events:[]}),t[Te].accounts.push(G),t[Te].chains.push(`${Te}:${Zr}`)}),t}function ju(te,t){t=t.map(Te=>Te.replace("did:pkh:",""));const G=mo(t);for(const[Te,Zr]of Object.entries(G))Zr.methods?Zr.methods=ge$1(Zr.methods,te):Zr.methods=te,Zr.events=["chainChanged","accountsChanged"];return G}const go={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Ao={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function xe(te,t){const{message:G,code:Te}=Ao[te];return{message:t?`${G} ${t}`:G,code:Te}}function tr$1(te,t){const{message:G,code:Te}=go[te];return{message:t?`${G} ${t}`:G,code:Te}}function Er$1(te,t){return!!Array.isArray(te)}function Yr(te){return Object.getPrototypeOf(te)===Object.prototype&&Object.keys(te).length}function Pe(te){return typeof te>"u"}function Gt$1(te,t){return t&&Pe(te)?!0:typeof te=="string"&&!!te.trim().length}function Vr(te,t){return typeof te=="number"&&!isNaN(te)}function Qu(te,t){const{requiredNamespaces:G}=t,Te=Object.keys(te.namespaces),Zr=Object.keys(G);let Ie=!0;return _e$2(Zr,Te)?(Te.forEach(ni=>{const{accounts:fi,methods:ci,events:ai}=te.namespaces[ni],si=$e$1(fi),li=G[ni];(!_e$2(_r$1(ni,li),si)||!_e$2(li.methods,ci)||!_e$2(li.events,ai))&&(Ie=!1)}),Ie):!1}function Sr$1(te){return Gt$1(te,!1)&&te.includes(":")?te.split(":").length===2:!1}function bo(te){if(Gt$1(te,!1)&&te.includes(":")){const t=te.split(":");if(t.length===3){const G=t[0]+":"+t[1];return!!t[2]&&Sr$1(G)}}return!1}function Ju(te){if(Gt$1(te,!1))try{return typeof new URL(te)<"u"}catch{return!1}return!1}function Gu(te){var t;return(t=te==null?void 0:te.proposer)==null?void 0:t.publicKey}function Yu(te){return te==null?void 0:te.topic}function Vu(te,t){let G=null;return Gt$1(te==null?void 0:te.publicKey,!1)||(G=xe("MISSING_OR_INVALID",`${t} controller public key should be a string`)),G}function tn(te){let t=!0;return Er$1(te)?te.length&&(t=te.every(G=>Gt$1(G,!1))):t=!1,t}function yo(te,t,G){let Te=null;return Er$1(t)&&t.length?t.forEach(Zr=>{Te||Sr$1(Zr)||(Te=tr$1("UNSUPPORTED_CHAINS",`${G}, chain ${Zr} should be a string and conform to "namespace:chainId" format`))}):Sr$1(te)||(Te=tr$1("UNSUPPORTED_CHAINS",`${G}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),Te}function wo(te,t,G){let Te=null;return Object.entries(te).forEach(([Zr,Ie])=>{if(Te)return;const ni=yo(Zr,_r$1(Zr,Ie),`${t} ${G}`);ni&&(Te=ni)}),Te}function xo(te,t){let G=null;return Er$1(te)?te.forEach(Te=>{G||bo(Te)||(G=tr$1("UNSUPPORTED_ACCOUNTS",`${t}, account ${Te} should be a string and conform to "namespace:chainId:address" format`))}):G=tr$1("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),G}function Mo(te,t){let G=null;return Object.values(te).forEach(Te=>{if(G)return;const Zr=xo(Te==null?void 0:Te.accounts,`${t} namespace`);Zr&&(G=Zr)}),G}function Eo(te,t){let G=null;return tn(te==null?void 0:te.methods)?tn(te==null?void 0:te.events)||(G=tr$1("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):G=tr$1("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),G}function en(te,t){let G=null;return Object.values(te).forEach(Te=>{if(G)return;const Zr=Eo(Te,`${t}, namespace`);Zr&&(G=Zr)}),G}function Wu(te,t,G){let Te=null;if(te&&Yr(te)){const Zr=en(te,t);Zr&&(Te=Zr);const Ie=wo(te,t,G);Ie&&(Te=Ie)}else Te=xe("MISSING_OR_INVALID",`${t}, ${G} should be an object with data`);return Te}function So(te,t){let G=null;if(te&&Yr(te)){const Te=en(te,t);Te&&(G=Te);const Zr=Mo(te,t);Zr&&(G=Zr)}else G=xe("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return G}function No(te){return Gt$1(te.protocol,!0)}function Xu(te,t){let G=!1;return te?te&&Er$1(te)&&te.length&&te.forEach(Te=>{G=No(Te)}):G=!0,G}function Zu(te){return typeof te=="number"}function $u(te){return typeof te<"u"&&typeof te!==null}function th(te){return!(!te||typeof te!="object"||!te.code||!Vr(te.code)||!te.message||!Gt$1(te.message,!1))}function eh(te){return!(Pe(te)||!Gt$1(te.method,!1))}function rh(te){return!(Pe(te)||Pe(te.result)&&Pe(te.error)||!Vr(te.id)||!Gt$1(te.jsonrpc,!1))}function ih(te){return!(Pe(te)||!Gt$1(te.name,!1))}function nh(te,t){return!(!Sr$1(t)||!co(te).includes(t))}function fh(te,t,G){return Gt$1(G,!1)?lo(te,t).includes(G):!1}function oh(te,t,G){return Gt$1(G,!1)?po(te,t).includes(G):!1}function Io(te,t,G){let Te=null;const Zr=sh(te),Ie=ah(t),ni=Object.keys(Zr),fi=Object.keys(Ie),ci=_o(Object.keys(te)),ai=_o(Object.keys(t)),si=ci.filter(li=>!ai.includes(li));return si.length&&(Te=xe("NON_CONFORMING_NAMESPACES",`${G} namespaces keys don't satisfy requiredNamespaces.
      Required: ${si.toString()}
      Received: ${Object.keys(t).toString()}`)),_e$2(ni,fi)||(Te=xe("NON_CONFORMING_NAMESPACES",`${G} namespaces chains don't satisfy required namespaces.
      Required: ${ni.toString()}
      Approved: ${fi.toString()}`)),Object.keys(t).forEach(li=>{if(!li.includes(":")||Te)return;const mi=$e$1(t[li].accounts);mi.includes(li)||(Te=xe("NON_CONFORMING_NAMESPACES",`${G} namespaces accounts don't satisfy namespace accounts for ${li}
        Required: ${li}
        Approved: ${mi.toString()}`))}),ni.forEach(li=>{Te||(_e$2(Zr[li].methods,Ie[li].methods)?_e$2(Zr[li].events,Ie[li].events)||(Te=xe("NON_CONFORMING_NAMESPACES",`${G} namespaces events don't satisfy namespace events for ${li}`)):Te=xe("NON_CONFORMING_NAMESPACES",`${G} namespaces methods don't satisfy namespace methods for ${li}`))}),Te}function sh(te){const t={};return Object.keys(te).forEach(G=>{var Te;G.includes(":")?t[G]=te[G]:(Te=te[G].chains)==null||Te.forEach(Zr=>{t[Zr]={methods:te[G].methods,events:te[G].events}})}),t}function _o(te){return[...new Set(te.map(t=>t.includes(":")?t.split(":")[0]:t))]}function ah(te){const t={};return Object.keys(te).forEach(G=>{if(G.includes(":"))t[G]=te[G];else{const Te=$e$1(te[G].accounts);Te==null||Te.forEach(Zr=>{t[Zr]={accounts:te[G].accounts.filter(Ie=>Ie.includes(`${Zr}:`)),methods:te[G].methods,events:te[G].events}})}}),t}function uh(te,t){return Vr(te)&&te<=t.max&&te>=t.min}function hh(){const te=We$2();return new Promise(t=>{switch(te){case qt$1.browser:t(Bo());break;case qt$1.reactNative:t(Co());break;case qt$1.node:t(Ro());break;default:t(!0)}})}function Bo(){return pr$2()&&(navigator==null?void 0:navigator.onLine)}async function Co(){if(er$1()&&typeof global<"u"&&global!=null&&global.NetInfo){const te=await(global==null?void 0:global.NetInfo.fetch());return te==null?void 0:te.isConnected}return!0}function Ro(){return!0}function ch(te){switch(We$2()){case qt$1.browser:Oo(te);break;case qt$1.reactNative:Po(te);break}}function Oo(te){!er$1()&&pr$2()&&(window.addEventListener("online",()=>te(!0)),window.addEventListener("offline",()=>te(!1)))}function Po(te){er$1()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>te(t==null?void 0:t.isConnected)))}const rn={};class lh{static get(t){return rn[t]}static set(t,G){rn[t]=G}static delete(t){delete rn[t]}}const suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(te,t){if(te==="__proto__"||te==="constructor"&&t&&typeof t=="object"&&"prototype"in t){warnKeyDropped(te);return}return t}function warnKeyDropped(te){console.warn(`[destr] Dropping "${te}" key to prevent prototype pollution.`)}function destr(te,t={}){if(typeof te!="string")return te;const G=te.trim();if(te[0]==='"'&&te.endsWith('"')&&!te.includes("\\"))return G.slice(1,-1);if(G.length<=9){const Te=G.toLowerCase();if(Te==="true")return!0;if(Te==="false")return!1;if(Te==="undefined")return;if(Te==="null")return null;if(Te==="nan")return Number.NaN;if(Te==="infinity")return Number.POSITIVE_INFINITY;if(Te==="-infinity")return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(te)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return te}try{if(suspectProtoRx.test(te)||suspectConstructorRx.test(te)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(te,jsonParseTransform)}return JSON.parse(te)}catch(Te){if(t.strict)throw Te;return te}}function wrapToPromise(te){return!te||typeof te.then!="function"?Promise.resolve(te):te}function asyncCall(te,...t){try{return wrapToPromise(te(...t))}catch(G){return Promise.reject(G)}}function isPrimitive(te){const t=typeof te;return te===null||t!=="object"&&t!=="function"}function isPureObject(te){const t=Object.getPrototypeOf(te);return!t||t.isPrototypeOf(Object)}function stringify(te){if(isPrimitive(te))return String(te);if(isPureObject(te)||Array.isArray(te))return JSON.stringify(te);if(typeof te.toJSON=="function")return stringify(te.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function checkBufferSupport(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const BASE64_PREFIX="base64:";function serializeRaw(te){if(typeof te=="string")return te;checkBufferSupport();const t=Buffer.from(te).toString("base64");return BASE64_PREFIX+t}function deserializeRaw(te){return typeof te!="string"||!te.startsWith(BASE64_PREFIX)?te:(checkBufferSupport(),Buffer.from(te.slice(BASE64_PREFIX.length),"base64"))}function normalizeKey(te){return te?te.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function joinKeys(...te){return normalizeKey(te.join(":"))}function normalizeBaseKey(te){return te=normalizeKey(te),te?te+":":""}function defineDriver(te){return te}const DRIVER_NAME="memory",memory=()=>{const te=new Map;return{name:DRIVER_NAME,options:{},hasItem(t){return te.has(t)},getItem(t){return te.get(t)??null},getItemRaw(t){return te.get(t)??null},setItem(t,G){te.set(t,G)},setItemRaw(t,G){te.set(t,G)},removeItem(t){te.delete(t)},getKeys(){return Array.from(te.keys())},clear(){te.clear()},dispose(){te.clear()}}};function createStorage(te={}){const t={mounts:{"":te.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},G=ai=>{for(const si of t.mountpoints)if(ai.startsWith(si))return{base:si,relativeKey:ai.slice(si.length),driver:t.mounts[si]};return{base:"",relativeKey:ai,driver:t.mounts[""]}},Te=(ai,si)=>t.mountpoints.filter(li=>li.startsWith(ai)||si&&ai.startsWith(li)).map(li=>({relativeBase:ai.length>li.length?ai.slice(li.length):void 0,mountpoint:li,driver:t.mounts[li]})),Zr=(ai,si)=>{if(t.watching){si=normalizeKey(si);for(const li of t.watchListeners)li(ai,si)}},Ie=async()=>{if(!t.watching){t.watching=!0;for(const ai in t.mounts)t.unwatch[ai]=await watch(t.mounts[ai],Zr,ai)}},ni=async()=>{if(t.watching){for(const ai in t.unwatch)await t.unwatch[ai]();t.unwatch={},t.watching=!1}},fi=(ai,si,li)=>{const mi=new Map,di=$i=>{let sn=mi.get($i.base);return sn||(sn={driver:$i.driver,base:$i.base,items:[]},mi.set($i.base,sn)),sn};for(const $i of ai){const sn=typeof $i=="string",ln=normalizeKey(sn?$i:$i.key),mn=sn?void 0:$i.value,cn=sn||!$i.options?si:{...si,...$i.options},Rn=G(ln);di(Rn).items.push({key:ln,value:mn,relativeKey:Rn.relativeKey,options:cn})}return Promise.all([...mi.values()].map($i=>li($i))).then($i=>$i.flat())},ci={hasItem(ai,si={}){ai=normalizeKey(ai);const{relativeKey:li,driver:mi}=G(ai);return asyncCall(mi.hasItem,li,si)},getItem(ai,si={}){ai=normalizeKey(ai);const{relativeKey:li,driver:mi}=G(ai);return asyncCall(mi.getItem,li,si).then(di=>destr(di))},getItems(ai,si){return fi(ai,si,li=>li.driver.getItems?asyncCall(li.driver.getItems,li.items.map(mi=>({key:mi.relativeKey,options:mi.options})),si).then(mi=>mi.map(di=>({key:joinKeys(li.base,di.key),value:destr(di.value)}))):Promise.all(li.items.map(mi=>asyncCall(li.driver.getItem,mi.relativeKey,mi.options).then(di=>({key:mi.key,value:destr(di)})))))},getItemRaw(ai,si={}){ai=normalizeKey(ai);const{relativeKey:li,driver:mi}=G(ai);return mi.getItemRaw?asyncCall(mi.getItemRaw,li,si):asyncCall(mi.getItem,li,si).then(di=>deserializeRaw(di))},async setItem(ai,si,li={}){if(si===void 0)return ci.removeItem(ai);ai=normalizeKey(ai);const{relativeKey:mi,driver:di}=G(ai);di.setItem&&(await asyncCall(di.setItem,mi,stringify(si),li),di.watch||Zr("update",ai))},async setItems(ai,si){await fi(ai,si,async li=>{if(li.driver.setItems)return asyncCall(li.driver.setItems,li.items.map(mi=>({key:mi.relativeKey,value:stringify(mi.value),options:mi.options})),si);li.driver.setItem&&await Promise.all(li.items.map(mi=>asyncCall(li.driver.setItem,mi.relativeKey,stringify(mi.value),mi.options)))})},async setItemRaw(ai,si,li={}){if(si===void 0)return ci.removeItem(ai,li);ai=normalizeKey(ai);const{relativeKey:mi,driver:di}=G(ai);if(di.setItemRaw)await asyncCall(di.setItemRaw,mi,si,li);else if(di.setItem)await asyncCall(di.setItem,mi,serializeRaw(si),li);else return;di.watch||Zr("update",ai)},async removeItem(ai,si={}){typeof si=="boolean"&&(si={removeMeta:si}),ai=normalizeKey(ai);const{relativeKey:li,driver:mi}=G(ai);mi.removeItem&&(await asyncCall(mi.removeItem,li,si),(si.removeMeta||si.removeMata)&&await asyncCall(mi.removeItem,li+"$",si),mi.watch||Zr("remove",ai))},async getMeta(ai,si={}){typeof si=="boolean"&&(si={nativeOnly:si}),ai=normalizeKey(ai);const{relativeKey:li,driver:mi}=G(ai),di=Object.create(null);if(mi.getMeta&&Object.assign(di,await asyncCall(mi.getMeta,li,si)),!si.nativeOnly){const $i=await asyncCall(mi.getItem,li+"$",si).then(sn=>destr(sn));$i&&typeof $i=="object"&&(typeof $i.atime=="string"&&($i.atime=new Date($i.atime)),typeof $i.mtime=="string"&&($i.mtime=new Date($i.mtime)),Object.assign(di,$i))}return di},setMeta(ai,si,li={}){return this.setItem(ai+"$",si,li)},removeMeta(ai,si={}){return this.removeItem(ai+"$",si)},async getKeys(ai,si={}){ai=normalizeBaseKey(ai);const li=Te(ai,!0);let mi=[];const di=[];for(const $i of li){const ln=(await asyncCall($i.driver.getKeys,$i.relativeBase,si)).map(mn=>$i.mountpoint+normalizeKey(mn)).filter(mn=>!mi.some(cn=>mn.startsWith(cn)));di.push(...ln),mi=[$i.mountpoint,...mi.filter(mn=>!mn.startsWith($i.mountpoint))]}return ai?di.filter($i=>$i.startsWith(ai)&&!$i.endsWith("$")):di.filter($i=>!$i.endsWith("$"))},async clear(ai,si={}){ai=normalizeBaseKey(ai),await Promise.all(Te(ai,!1).map(async li=>{if(li.driver.clear)return asyncCall(li.driver.clear,li.relativeBase,si);if(li.driver.removeItem){const mi=await li.driver.getKeys(li.relativeBase||"",si);return Promise.all(mi.map(di=>li.driver.removeItem(di,si)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(ai=>dispose(ai)))},async watch(ai){return await Ie(),t.watchListeners.push(ai),async()=>{t.watchListeners=t.watchListeners.filter(si=>si!==ai),t.watchListeners.length===0&&await ni()}},async unwatch(){t.watchListeners=[],await ni()},mount(ai,si){if(ai=normalizeBaseKey(ai),ai&&t.mounts[ai])throw new Error(`already mounted at ${ai}`);return ai&&(t.mountpoints.push(ai),t.mountpoints.sort((li,mi)=>mi.length-li.length)),t.mounts[ai]=si,t.watching&&Promise.resolve(watch(si,Zr,ai)).then(li=>{t.unwatch[ai]=li}).catch(console.error),ci},async unmount(ai,si=!0){ai=normalizeBaseKey(ai),!(!ai||!t.mounts[ai])&&(t.watching&&ai in t.unwatch&&(t.unwatch[ai](),delete t.unwatch[ai]),si&&await dispose(t.mounts[ai]),t.mountpoints=t.mountpoints.filter(li=>li!==ai),delete t.mounts[ai])},getMount(ai=""){ai=normalizeKey(ai)+":";const si=G(ai);return{driver:si.driver,base:si.base}},getMounts(ai="",si={}){return ai=normalizeKey(ai),Te(ai,si.parents).map(mi=>({driver:mi.driver,base:mi.mountpoint}))}};return ci}function watch(te,t,G){return te.watch?te.watch((Te,Zr)=>t(Te,G+Zr)):()=>{}}async function dispose(te){typeof te.dispose=="function"&&await asyncCall(te.dispose)}function promisifyRequest(te){return new Promise((t,G)=>{te.oncomplete=te.onsuccess=()=>t(te.result),te.onabort=te.onerror=()=>G(te.error)})}function createStore(te,t){const G=indexedDB.open(te);G.onupgradeneeded=()=>G.result.createObjectStore(t);const Te=promisifyRequest(G);return(Zr,Ie)=>Te.then(ni=>Ie(ni.transaction(t,Zr).objectStore(t)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(te,t=defaultGetStore()){return t("readonly",G=>promisifyRequest(G.get(te)))}function set$1(te,t,G=defaultGetStore()){return G("readwrite",Te=>(Te.put(t,te),promisifyRequest(Te.transaction)))}function del(te,t=defaultGetStore()){return t("readwrite",G=>(G.delete(te),promisifyRequest(G.transaction)))}function clear(te=defaultGetStore()){return te("readwrite",t=>(t.clear(),promisifyRequest(t.transaction)))}function eachCursor(te,t){return te.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},promisifyRequest(te.transaction)}function keys(te=defaultGetStore()){return te("readonly",t=>{if(t.getAllKeys)return promisifyRequest(t.getAllKeys());const G=[];return eachCursor(t,Te=>G.push(Te.key)).then(()=>G)})}const JSONStringify=te=>JSON.stringify(te,(t,G)=>typeof G=="bigint"?G.toString()+"n":G),JSONParse=te=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,G=te.replace(t,'$1"$2n"$3');return JSON.parse(G,(Te,Zr)=>typeof Zr=="string"&&Zr.match(/^\d+n$/)?BigInt(Zr.substring(0,Zr.length-1)):Zr)};function safeJsonParse(te){if(typeof te!="string")throw new Error(`Cannot safe json parse value of type ${typeof te}`);try{return JSONParse(te)}catch{return te}}function safeJsonStringify(te){return typeof te=="string"?te:JSONStringify(te)||""}const x$1="idb-keyval";var z$2=(te={})=>{const t=te.base&&te.base.length>0?`${te.base}:`:"",G=Zr=>t+Zr;let Te;return te.dbName&&te.storeName&&(Te=createStore(te.dbName,te.storeName)),{name:x$1,options:te,async hasItem(Zr){return!(typeof await get(G(Zr),Te)>"u")},async getItem(Zr){return await get(G(Zr),Te)??null},setItem(Zr,Ie){return set$1(G(Zr),Ie,Te)},removeItem(Zr){return del(G(Zr),Te)},getKeys(){return keys(Te)},clear(){return clear(Te)}}};const D$2="WALLET_CONNECT_V2_INDEXED_DB",E$5="keyvaluestorage";let _$1=class{constructor(){this.indexedDb=createStorage({driver:z$2({dbName:D$2,storeName:E$5})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const G=await this.indexedDb.getItem(t);if(G!==null)return G}async setItem(t,G){await this.indexedDb.setItem(t,safeJsonStringify(G))}async removeItem(t){await this.indexedDb.removeItem(t)}};var l$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c$2={exports:{}};(function(){let te;function t(){}te=t,te.prototype.getItem=function(G){return this.hasOwnProperty(G)?String(this[G]):null},te.prototype.setItem=function(G,Te){this[G]=String(Te)},te.prototype.removeItem=function(G){delete this[G]},te.prototype.clear=function(){const G=this;Object.keys(G).forEach(function(Te){G[Te]=void 0,delete G[Te]})},te.prototype.key=function(G){return G=G||0,Object.keys(this)[G]},te.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof l$2<"u"&&l$2.localStorage?c$2.exports=l$2.localStorage:typeof window<"u"&&window.localStorage?c$2.exports=window.localStorage:c$2.exports=new t})();function k$1(te){var t;return[te[0],safeJsonParse((t=te[1])!=null?t:"")]}let K$1=class{constructor(){this.localStorage=c$2.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k$1)}async getItem(t){const G=this.localStorage.getItem(t);if(G!==null)return safeJsonParse(G)}async setItem(t,G){this.localStorage.setItem(t,safeJsonStringify(G))}async removeItem(t){this.localStorage.removeItem(t)}};const N$2="wc_storage_version",y$4=1,O$3=async(te,t,G)=>{const Te=N$2,Zr=await t.getItem(Te);if(Zr&&Zr>=y$4){G(t);return}const Ie=await te.getKeys();if(!Ie.length){G(t);return}const ni=[];for(;Ie.length;){const fi=Ie.shift();if(!fi)continue;const ci=fi.toLowerCase();if(ci.includes("wc@")||ci.includes("walletconnect")||ci.includes("wc_")||ci.includes("wallet_connect")){const ai=await te.getItem(fi);await t.setItem(fi,ai),ni.push(fi)}}await t.setItem(Te,y$4),G(t),j$3(te,ni)},j$3=async(te,t)=>{t.length&&t.forEach(async G=>{await te.removeItem(G)})};let h$2=class{constructor(){this.initialized=!1,this.setInitialized=G=>{this.storage=G,this.initialized=!0};const t=new K$1;this.storage=t;try{const G=new _$1;O$3(t,G,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,G){return await this.initialize(),this.storage.setItem(t,G)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const G=setInterval(()=>{this.initialized&&(clearInterval(G),t())},20)})}};class IEvents{}let n$3=class extends IEvents{constructor(t){super()}};const s=cjs$3.FIVE_SECONDS,r$1={pulse:"heartbeat_pulse"};let i$1=class Rg extends n$3{constructor(t){super(t),this.events=new eventsExports.EventEmitter,this.interval=s,this.interval=(t==null?void 0:t.interval)||s}static async init(t){const G=new Rg(t);return await G.init(),G}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,G){this.events.on(t,G)}once(t,G){this.events.once(t,G)}off(t,G){this.events.off(t,G)}removeListener(t,G){this.events.removeListener(t,G)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),cjs$3.toMiliseconds(this.interval))}pulse(){this.events.emit(r$1.pulse)}};function tryStringify(te){try{return JSON.stringify(te)}catch{return'"[Circular]"'}}var quickFormatUnescaped=format$1;function format$1(te,t,G){var Te=G&&G.stringify||tryStringify,Zr=1;if(typeof te=="object"&&te!==null){var Ie=t.length+Zr;if(Ie===1)return te;var ni=new Array(Ie);ni[0]=Te(te);for(var fi=1;fi<Ie;fi++)ni[fi]=Te(t[fi]);return ni.join(" ")}if(typeof te!="string")return te;var ci=t.length;if(ci===0)return te;for(var ai="",si=1-Zr,li=-1,mi=te&&te.length||0,di=0;di<mi;){if(te.charCodeAt(di)===37&&di+1<mi){switch(li=li>-1?li:0,te.charCodeAt(di+1)){case 100:case 102:if(si>=ci||t[si]==null)break;li<di&&(ai+=te.slice(li,di)),ai+=Number(t[si]),li=di+2,di++;break;case 105:if(si>=ci||t[si]==null)break;li<di&&(ai+=te.slice(li,di)),ai+=Math.floor(Number(t[si])),li=di+2,di++;break;case 79:case 111:case 106:if(si>=ci||t[si]===void 0)break;li<di&&(ai+=te.slice(li,di));var $i=typeof t[si];if($i==="string"){ai+="'"+t[si]+"'",li=di+2,di++;break}if($i==="function"){ai+=t[si].name||"<anonymous>",li=di+2,di++;break}ai+=Te(t[si]),li=di+2,di++;break;case 115:if(si>=ci)break;li<di&&(ai+=te.slice(li,di)),ai+=String(t[si]),li=di+2,di++;break;case 37:li<di&&(ai+=te.slice(li,di)),ai+="%",li=di+2,di++,si--;break}++si}++di}return li===-1?te:(li<mi&&(ai+=te.slice(li)),ai)}const format=quickFormatUnescaped;var browser=pino;const _console=pfGlobalThisOrFallback().console||{},stdSerializers={mapHttpRequest:mock,mapHttpResponse:mock,wrapRequestSerializer:passthrough,wrapResponseSerializer:passthrough,wrapErrorSerializer:passthrough,req:mock,res:mock,err:asErrValue};function shouldSerialize(te,t){return Array.isArray(te)?te.filter(function(Te){return Te!=="!stdSerializers.err"}):te===!0?Object.keys(t):!1}function pino(te){te=te||{},te.browser=te.browser||{};const t=te.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const G=te.browser.write||_console;te.browser.write&&(te.browser.asObject=!0);const Te=te.serializers||{},Zr=shouldSerialize(te.browser.serialize,Te);let Ie=te.browser.serialize;Array.isArray(te.browser.serialize)&&te.browser.serialize.indexOf("!stdSerializers.err")>-1&&(Ie=!1);const ni=["error","fatal","warn","info","debug","trace"];typeof G=="function"&&(G.error=G.fatal=G.warn=G.info=G.debug=G.trace=G),te.enabled===!1&&(te.level="silent");const fi=te.level||"info",ci=Object.create(G);ci.log||(ci.log=noop),Object.defineProperty(ci,"levelVal",{get:si}),Object.defineProperty(ci,"level",{get:li,set:mi});const ai={transmit:t,serialize:Zr,asObject:te.browser.asObject,levels:ni,timestamp:getTimeFunction(te)};ci.levels=pino.levels,ci.level=fi,ci.setMaxListeners=ci.getMaxListeners=ci.emit=ci.addListener=ci.on=ci.prependListener=ci.once=ci.prependOnceListener=ci.removeListener=ci.removeAllListeners=ci.listeners=ci.listenerCount=ci.eventNames=ci.write=ci.flush=noop,ci.serializers=Te,ci._serialize=Zr,ci._stdErrSerialize=Ie,ci.child=di,t&&(ci._logEvent=createLogEventShape());function si(){return this.level==="silent"?1/0:this.levels.values[this.level]}function li(){return this._level}function mi($i){if($i!=="silent"&&!this.levels.values[$i])throw Error("unknown level "+$i);this._level=$i,set(ai,ci,"error","log"),set(ai,ci,"fatal","error"),set(ai,ci,"warn","error"),set(ai,ci,"info","log"),set(ai,ci,"debug","log"),set(ai,ci,"trace","log")}function di($i,sn){if(!$i)throw new Error("missing bindings for child Pino");sn=sn||{},Zr&&$i.serializers&&(sn.serializers=$i.serializers);const ln=sn.serializers;if(Zr&&ln){var mn=Object.assign({},Te,ln),cn=te.browser.serialize===!0?Object.keys(mn):Zr;delete $i.serializers,applySerializers([$i],cn,mn,this._stdErrSerialize)}function Rn(vn){this._childLevel=(vn._childLevel|0)+1,this.error=bind(vn,$i,"error"),this.fatal=bind(vn,$i,"fatal"),this.warn=bind(vn,$i,"warn"),this.info=bind(vn,$i,"info"),this.debug=bind(vn,$i,"debug"),this.trace=bind(vn,$i,"trace"),mn&&(this.serializers=mn,this._serialize=cn),t&&(this._logEvent=createLogEventShape([].concat(vn._logEvent.bindings,$i)))}return Rn.prototype=this,new Rn(this)}return ci}pino.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};pino.stdSerializers=stdSerializers;pino.stdTimeFunctions=Object.assign({},{nullTime,epochTime,unixTime,isoTime});function set(te,t,G,Te){const Zr=Object.getPrototypeOf(t);t[G]=t.levelVal>t.levels.values[G]?noop:Zr[G]?Zr[G]:_console[G]||_console[Te]||noop,wrap(te,t,G)}function wrap(te,t,G){!te.transmit&&t[G]===noop||(t[G]=function(Te){return function(){const Ie=te.timestamp(),ni=new Array(arguments.length),fi=Object.getPrototypeOf&&Object.getPrototypeOf(this)===_console?_console:this;for(var ci=0;ci<ni.length;ci++)ni[ci]=arguments[ci];if(te.serialize&&!te.asObject&&applySerializers(ni,this._serialize,this.serializers,this._stdErrSerialize),te.asObject?Te.call(fi,asObject(this,G,ni,Ie)):Te.apply(fi,ni),te.transmit){const ai=te.transmit.level||t.level,si=pino.levels.values[ai],li=pino.levels.values[G];if(li<si)return;transmit(this,{ts:Ie,methodLevel:G,methodValue:li,transmitLevel:ai,transmitValue:pino.levels.values[te.transmit.level||t.level],send:te.transmit.send,val:t.levelVal},ni)}}}(t[G]))}function asObject(te,t,G,Te){te._serialize&&applySerializers(G,te._serialize,te.serializers,te._stdErrSerialize);const Zr=G.slice();let Ie=Zr[0];const ni={};Te&&(ni.time=Te),ni.level=pino.levels.values[t];let fi=(te._childLevel|0)+1;if(fi<1&&(fi=1),Ie!==null&&typeof Ie=="object"){for(;fi--&&typeof Zr[0]=="object";)Object.assign(ni,Zr.shift());Ie=Zr.length?format(Zr.shift(),Zr):void 0}else typeof Ie=="string"&&(Ie=format(Zr.shift(),Zr));return Ie!==void 0&&(ni.msg=Ie),ni}function applySerializers(te,t,G,Te){for(const Zr in te)if(Te&&te[Zr]instanceof Error)te[Zr]=pino.stdSerializers.err(te[Zr]);else if(typeof te[Zr]=="object"&&!Array.isArray(te[Zr]))for(const Ie in te[Zr])t&&t.indexOf(Ie)>-1&&Ie in G&&(te[Zr][Ie]=G[Ie](te[Zr][Ie]))}function bind(te,t,G){return function(){const Te=new Array(1+arguments.length);Te[0]=t;for(var Zr=1;Zr<Te.length;Zr++)Te[Zr]=arguments[Zr-1];return te[G].apply(this,Te)}}function transmit(te,t,G){const Te=t.send,Zr=t.ts,Ie=t.methodLevel,ni=t.methodValue,fi=t.val,ci=te._logEvent.bindings;applySerializers(G,te._serialize||Object.keys(te.serializers),te.serializers,te._stdErrSerialize===void 0?!0:te._stdErrSerialize),te._logEvent.ts=Zr,te._logEvent.messages=G.filter(function(ai){return ci.indexOf(ai)===-1}),te._logEvent.level.label=Ie,te._logEvent.level.value=ni,Te(Ie,te._logEvent,fi),te._logEvent=createLogEventShape(ci)}function createLogEventShape(te){return{ts:0,messages:[],bindings:te||[],level:{label:"",value:0}}}function asErrValue(te){const t={type:te.constructor.name,msg:te.message,stack:te.stack};for(const G in te)t[G]===void 0&&(t[G]=te[G]);return t}function getTimeFunction(te){return typeof te.timestamp=="function"?te.timestamp:te.timestamp===!1?nullTime:epochTime}function mock(){return{}}function passthrough(te){return te}function noop(){}function nullTime(){return!1}function epochTime(){return Date.now()}function unixTime(){return Math.round(Date.now()/1e3)}function isoTime(){return new Date(Date.now()).toISOString()}function pfGlobalThisOrFallback(){function te(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return te(self)||te(window)||te(this)||{}}}const Wg=getDefaultExportFromCjs(browser),c$1={level:"info"},n$2="custom_context",l$1=1e3*1024;let O$2=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},d$2=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const G=new O$2(t);if(G.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${G.size}`);for(;this.size+G.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=G),this.tail=G):(this.head=G,this.tail=G),this.lengthInNodes++,this.sizeInBytes+=G.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let G=this.head;for(;G!==null;)t.push(G.value),G=G.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const G=t.value;return t=t.next,{done:!1,value:G}}}}},L$3=class{constructor(t,G=l$1){this.level=t??"error",this.levelValue=browser.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=G,this.logs=new d$2(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,G){G===browser.levels.values.error?console.error(t):G===browser.levels.values.warn?console.warn(t):G===browser.levels.values.debug?console.debug(t):G===browser.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(safeJsonStringify({timestamp:new Date().toISOString(),log:t}));const G=typeof t=="string"?JSON.parse(t).level:t.level;G>=this.levelValue&&this.forwardToConsole(t,G)}getLogs(){return this.logs}clearLogs(){this.logs=new d$2(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const G=this.getLogArray();return G.push(safeJsonStringify({extraMetadata:t})),new Blob(G,{type:"application/json"})}},m$2=class{constructor(t,G=l$1){this.baseChunkLogger=new L$3(t,G)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const G=URL.createObjectURL(this.logsToBlob(t)),Te=document.createElement("a");Te.href=G,Te.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(G)}},B$1=class{constructor(t,G=l$1){this.baseChunkLogger=new L$3(t,G)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var x=Object.defineProperty,S$3=Object.defineProperties,_=Object.getOwnPropertyDescriptors,p$3=Object.getOwnPropertySymbols,T$2=Object.prototype.hasOwnProperty,z$1=Object.prototype.propertyIsEnumerable,f$3=(te,t,G)=>t in te?x(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,i=(te,t)=>{for(var G in t||(t={}))T$2.call(t,G)&&f$3(te,G,t[G]);if(p$3)for(var G of p$3(t))z$1.call(t,G)&&f$3(te,G,t[G]);return te},g$3=(te,t)=>S$3(te,_(t));function k(te){return g$3(i({},te),{level:(te==null?void 0:te.level)||c$1.level})}function v$3(te,t=n$2){return te[t]||""}function b$3(te,t,G=n$2){return te[G]=t,te}function y$3(te,t=n$2){let G="";return typeof te.bindings>"u"?G=v$3(te,t):G=te.bindings().context||"",G}function w$3(te,t,G=n$2){const Te=y$3(te,G);return Te.trim()?`${Te}/${t}`:t}function E$4(te,t,G=n$2){const Te=w$3(te,t,G),Zr=te.child({context:Te});return b$3(Zr,Te,G)}function C$2(te){var t,G;const Te=new m$2((t=te.opts)==null?void 0:t.level,te.maxSizeInBytes);return{logger:Wg(g$3(i({},te.opts),{level:"trace",browser:g$3(i({},(G=te.opts)==null?void 0:G.browser),{write:Zr=>Te.write(Zr)})})),chunkLoggerController:Te}}function I$1(te){var t;const G=new B$1((t=te.opts)==null?void 0:t.level,te.maxSizeInBytes);return{logger:Wg(g$3(i({},te.opts),{level:"trace"}),G),chunkLoggerController:G}}function A(te){return typeof te.loggerOverride<"u"&&typeof te.loggerOverride!="string"?{logger:te.loggerOverride,chunkLoggerController:null}:typeof window<"u"?C$2(te):I$1(te)}let n$1=class extends IEvents{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}},h$1=class extends IEvents{constructor(t,G){super(),this.core=t,this.logger=G,this.records=new Map}},a$1=class{constructor(t,G){this.logger=t,this.core=G}},u$1=class extends IEvents{constructor(t,G){super(),this.relayer=t,this.logger=G}},g$2=class extends IEvents{constructor(t){super()}},p$2=class{constructor(t,G,Te,Zr){this.core=t,this.logger=G,this.name=Te}},d$1=class extends IEvents{constructor(t,G){super(),this.relayer=t,this.logger=G}},E$3=class extends IEvents{constructor(t,G){super(),this.core=t,this.logger=G}},y$2=class{constructor(t,G){this.projectId=t,this.logger=G}},v$2=class{constructor(t,G){this.projectId=t,this.logger=G}},b$2=class{constructor(t){this.opts=t,this.protocol="wc",this.version=2}},w$2=class{constructor(t){this.client=t}};var ed25519={},sha512={};(function(te){Object.defineProperty(te,"__esModule",{value:!0});var t=binary,G=wipe$1;te.DIGEST_LENGTH=64,te.BLOCK_SIZE=128;var Te=function(){function fi(){this.digestLength=te.DIGEST_LENGTH,this.blockSize=te.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return fi.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},fi.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},fi.prototype.clean=function(){G.wipe(this._buffer),G.wipe(this._tempHi),G.wipe(this._tempLo),this.reset()},fi.prototype.update=function(ci,ai){if(ai===void 0&&(ai=ci.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var si=0;if(this._bytesHashed+=ai,this._bufferLength>0){for(;this._bufferLength<te.BLOCK_SIZE&&ai>0;)this._buffer[this._bufferLength++]=ci[si++],ai--;this._bufferLength===this.blockSize&&(Ie(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(ai>=this.blockSize&&(si=Ie(this._tempHi,this._tempLo,this._stateHi,this._stateLo,ci,si,ai),ai%=this.blockSize);ai>0;)this._buffer[this._bufferLength++]=ci[si++],ai--;return this},fi.prototype.finish=function(ci){if(!this._finished){var ai=this._bytesHashed,si=this._bufferLength,li=ai/536870912|0,mi=ai<<3,di=ai%128<112?128:256;this._buffer[si]=128;for(var $i=si+1;$i<di-8;$i++)this._buffer[$i]=0;t.writeUint32BE(li,this._buffer,di-8),t.writeUint32BE(mi,this._buffer,di-4),Ie(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,di),this._finished=!0}for(var $i=0;$i<this.digestLength/8;$i++)t.writeUint32BE(this._stateHi[$i],ci,$i*8),t.writeUint32BE(this._stateLo[$i],ci,$i*8+4);return this},fi.prototype.digest=function(){var ci=new Uint8Array(this.digestLength);return this.finish(ci),ci},fi.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},fi.prototype.restoreState=function(ci){return this._stateHi.set(ci.stateHi),this._stateLo.set(ci.stateLo),this._bufferLength=ci.bufferLength,ci.buffer&&this._buffer.set(ci.buffer),this._bytesHashed=ci.bytesHashed,this._finished=!1,this},fi.prototype.cleanSavedState=function(ci){G.wipe(ci.stateHi),G.wipe(ci.stateLo),ci.buffer&&G.wipe(ci.buffer),ci.bufferLength=0,ci.bytesHashed=0},fi}();te.SHA512=Te;var Zr=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function Ie(fi,ci,ai,si,li,mi,di){for(var $i=ai[0],sn=ai[1],ln=ai[2],mn=ai[3],cn=ai[4],Rn=ai[5],vn=ai[6],Cn=ai[7],ho=si[0],hn=si[1],Zn=si[2],Do=si[3],Yo=si[4],ui=si[5],H=si[6],X=si[7],Br,Wr,ri,ii,oi,ei,Y,Xr;di>=128;){for(var on=0;on<16;on++){var Mn=8*on+mi;fi[on]=t.readUint32BE(li,Mn),ci[on]=t.readUint32BE(li,Mn+4)}for(var on=0;on<80;on++){var Bn=$i,fn=sn,uo=ln,un=mn,gn=cn,An=Rn,an=vn,qo=Cn,ko=ho,Uo=hn,kh=Zn,Vo=Do,tf=Yo,Wh=ui,Rh=H,vh=X;if(Br=Cn,Wr=X,oi=Wr&65535,ei=Wr>>>16,Y=Br&65535,Xr=Br>>>16,Br=(cn>>>14|Yo<<18)^(cn>>>18|Yo<<14)^(Yo>>>9|cn<<23),Wr=(Yo>>>14|cn<<18)^(Yo>>>18|cn<<14)^(cn>>>9|Yo<<23),oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,Br=cn&Rn^~cn&vn,Wr=Yo&ui^~Yo&H,oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,Br=Zr[on*2],Wr=Zr[on*2+1],oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,Br=fi[on%16],Wr=ci[on%16],oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ei+=oi>>>16,Y+=ei>>>16,Xr+=Y>>>16,ri=Y&65535|Xr<<16,ii=oi&65535|ei<<16,Br=ri,Wr=ii,oi=Wr&65535,ei=Wr>>>16,Y=Br&65535,Xr=Br>>>16,Br=($i>>>28|ho<<4)^(ho>>>2|$i<<30)^(ho>>>7|$i<<25),Wr=(ho>>>28|$i<<4)^($i>>>2|ho<<30)^($i>>>7|ho<<25),oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,Br=$i&sn^$i&ln^sn&ln,Wr=ho&hn^ho&Zn^hn&Zn,oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ei+=oi>>>16,Y+=ei>>>16,Xr+=Y>>>16,qo=Y&65535|Xr<<16,vh=oi&65535|ei<<16,Br=un,Wr=Vo,oi=Wr&65535,ei=Wr>>>16,Y=Br&65535,Xr=Br>>>16,Br=ri,Wr=ii,oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ei+=oi>>>16,Y+=ei>>>16,Xr+=Y>>>16,un=Y&65535|Xr<<16,Vo=oi&65535|ei<<16,sn=Bn,ln=fn,mn=uo,cn=un,Rn=gn,vn=An,Cn=an,$i=qo,hn=ko,Zn=Uo,Do=kh,Yo=Vo,ui=tf,H=Wh,X=Rh,ho=vh,on%16===15)for(var Mn=0;Mn<16;Mn++)Br=fi[Mn],Wr=ci[Mn],oi=Wr&65535,ei=Wr>>>16,Y=Br&65535,Xr=Br>>>16,Br=fi[(Mn+9)%16],Wr=ci[(Mn+9)%16],oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ri=fi[(Mn+1)%16],ii=ci[(Mn+1)%16],Br=(ri>>>1|ii<<31)^(ri>>>8|ii<<24)^ri>>>7,Wr=(ii>>>1|ri<<31)^(ii>>>8|ri<<24)^(ii>>>7|ri<<25),oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ri=fi[(Mn+14)%16],ii=ci[(Mn+14)%16],Br=(ri>>>19|ii<<13)^(ii>>>29|ri<<3)^ri>>>6,Wr=(ii>>>19|ri<<13)^(ri>>>29|ii<<3)^(ii>>>6|ri<<26),oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ei+=oi>>>16,Y+=ei>>>16,Xr+=Y>>>16,fi[Mn]=Y&65535|Xr<<16,ci[Mn]=oi&65535|ei<<16}Br=$i,Wr=ho,oi=Wr&65535,ei=Wr>>>16,Y=Br&65535,Xr=Br>>>16,Br=ai[0],Wr=si[0],oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ei+=oi>>>16,Y+=ei>>>16,Xr+=Y>>>16,ai[0]=$i=Y&65535|Xr<<16,si[0]=ho=oi&65535|ei<<16,Br=sn,Wr=hn,oi=Wr&65535,ei=Wr>>>16,Y=Br&65535,Xr=Br>>>16,Br=ai[1],Wr=si[1],oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ei+=oi>>>16,Y+=ei>>>16,Xr+=Y>>>16,ai[1]=sn=Y&65535|Xr<<16,si[1]=hn=oi&65535|ei<<16,Br=ln,Wr=Zn,oi=Wr&65535,ei=Wr>>>16,Y=Br&65535,Xr=Br>>>16,Br=ai[2],Wr=si[2],oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ei+=oi>>>16,Y+=ei>>>16,Xr+=Y>>>16,ai[2]=ln=Y&65535|Xr<<16,si[2]=Zn=oi&65535|ei<<16,Br=mn,Wr=Do,oi=Wr&65535,ei=Wr>>>16,Y=Br&65535,Xr=Br>>>16,Br=ai[3],Wr=si[3],oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ei+=oi>>>16,Y+=ei>>>16,Xr+=Y>>>16,ai[3]=mn=Y&65535|Xr<<16,si[3]=Do=oi&65535|ei<<16,Br=cn,Wr=Yo,oi=Wr&65535,ei=Wr>>>16,Y=Br&65535,Xr=Br>>>16,Br=ai[4],Wr=si[4],oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ei+=oi>>>16,Y+=ei>>>16,Xr+=Y>>>16,ai[4]=cn=Y&65535|Xr<<16,si[4]=Yo=oi&65535|ei<<16,Br=Rn,Wr=ui,oi=Wr&65535,ei=Wr>>>16,Y=Br&65535,Xr=Br>>>16,Br=ai[5],Wr=si[5],oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ei+=oi>>>16,Y+=ei>>>16,Xr+=Y>>>16,ai[5]=Rn=Y&65535|Xr<<16,si[5]=ui=oi&65535|ei<<16,Br=vn,Wr=H,oi=Wr&65535,ei=Wr>>>16,Y=Br&65535,Xr=Br>>>16,Br=ai[6],Wr=si[6],oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ei+=oi>>>16,Y+=ei>>>16,Xr+=Y>>>16,ai[6]=vn=Y&65535|Xr<<16,si[6]=H=oi&65535|ei<<16,Br=Cn,Wr=X,oi=Wr&65535,ei=Wr>>>16,Y=Br&65535,Xr=Br>>>16,Br=ai[7],Wr=si[7],oi+=Wr&65535,ei+=Wr>>>16,Y+=Br&65535,Xr+=Br>>>16,ei+=oi>>>16,Y+=ei>>>16,Xr+=Y>>>16,ai[7]=Cn=Y&65535|Xr<<16,si[7]=X=oi&65535|ei<<16,mi+=128,di-=128}return mi}function ni(fi){var ci=new Te;ci.update(fi);var ai=ci.digest();return ci.clean(),ai}te.hash=ni})(sha512);(function(te){Object.defineProperty(te,"__esModule",{value:!0}),te.convertSecretKeyToX25519=te.convertPublicKeyToX25519=te.verify=te.sign=te.extractPublicKeyFromSecretKey=te.generateKeyPair=te.generateKeyPairFromSeed=te.SEED_LENGTH=te.SECRET_KEY_LENGTH=te.PUBLIC_KEY_LENGTH=te.SIGNATURE_LENGTH=void 0;const t=random,G=sha512,Te=wipe$1;te.SIGNATURE_LENGTH=64,te.PUBLIC_KEY_LENGTH=32,te.SECRET_KEY_LENGTH=64,te.SEED_LENGTH=32;function Zr(un){const gn=new Float64Array(16);if(un)for(let An=0;An<un.length;An++)gn[An]=un[An];return gn}const Ie=new Uint8Array(32);Ie[0]=9;const ni=Zr(),fi=Zr([1]),ci=Zr([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),ai=Zr([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),si=Zr([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),li=Zr([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),mi=Zr([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function di(un,gn){for(let An=0;An<16;An++)un[An]=gn[An]|0}function $i(un){let gn=1;for(let An=0;An<16;An++){let an=un[An]+gn+65535;gn=Math.floor(an/65536),un[An]=an-gn*65536}un[0]+=gn-1+37*(gn-1)}function sn(un,gn,An){const an=~(An-1);for(let qo=0;qo<16;qo++){const ko=an&(un[qo]^gn[qo]);un[qo]^=ko,gn[qo]^=ko}}function ln(un,gn){const An=Zr(),an=Zr();for(let qo=0;qo<16;qo++)an[qo]=gn[qo];$i(an),$i(an),$i(an);for(let qo=0;qo<2;qo++){An[0]=an[0]-65517;for(let Uo=1;Uo<15;Uo++)An[Uo]=an[Uo]-65535-(An[Uo-1]>>16&1),An[Uo-1]&=65535;An[15]=an[15]-32767-(An[14]>>16&1);const ko=An[15]>>16&1;An[14]&=65535,sn(an,An,1-ko)}for(let qo=0;qo<16;qo++)un[2*qo]=an[qo]&255,un[2*qo+1]=an[qo]>>8}function mn(un,gn){let An=0;for(let an=0;an<32;an++)An|=un[an]^gn[an];return(1&An-1>>>8)-1}function cn(un,gn){const An=new Uint8Array(32),an=new Uint8Array(32);return ln(An,un),ln(an,gn),mn(An,an)}function Rn(un){const gn=new Uint8Array(32);return ln(gn,un),gn[0]&1}function vn(un,gn){for(let An=0;An<16;An++)un[An]=gn[2*An]+(gn[2*An+1]<<8);un[15]&=32767}function Cn(un,gn,An){for(let an=0;an<16;an++)un[an]=gn[an]+An[an]}function ho(un,gn,An){for(let an=0;an<16;an++)un[an]=gn[an]-An[an]}function hn(un,gn,An){let an,qo,ko=0,Uo=0,kh=0,Vo=0,tf=0,Wh=0,Rh=0,vh=0,Jh=0,Vf=0,Zo=0,Vh=0,Qf=0,Ko=0,Zh=0,Xf=0,Lf=0,Qh=0,bh=0,jf=0,Yh=0,Sh=0,ph=0,Xh=0,Th=0,$h=0,zu=0,Nh=0,Ih=0,Ku=0,Lh=0,wh=An[0],hu=An[1],qh=An[2],_h=An[3],qu=An[4],Dh=An[5],xh=An[6],Lu=An[7],Bh=An[8],Eh=An[9],ku=An[10],Ch=An[11],Mh=An[12],au=An[13],Oh=An[14],Ah=An[15];an=gn[0],ko+=an*wh,Uo+=an*hu,kh+=an*qh,Vo+=an*_h,tf+=an*qu,Wh+=an*Dh,Rh+=an*xh,vh+=an*Lu,Jh+=an*Bh,Vf+=an*Eh,Zo+=an*ku,Vh+=an*Ch,Qf+=an*Mh,Ko+=an*au,Zh+=an*Oh,Xf+=an*Ah,an=gn[1],Uo+=an*wh,kh+=an*hu,Vo+=an*qh,tf+=an*_h,Wh+=an*qu,Rh+=an*Dh,vh+=an*xh,Jh+=an*Lu,Vf+=an*Bh,Zo+=an*Eh,Vh+=an*ku,Qf+=an*Ch,Ko+=an*Mh,Zh+=an*au,Xf+=an*Oh,Lf+=an*Ah,an=gn[2],kh+=an*wh,Vo+=an*hu,tf+=an*qh,Wh+=an*_h,Rh+=an*qu,vh+=an*Dh,Jh+=an*xh,Vf+=an*Lu,Zo+=an*Bh,Vh+=an*Eh,Qf+=an*ku,Ko+=an*Ch,Zh+=an*Mh,Xf+=an*au,Lf+=an*Oh,Qh+=an*Ah,an=gn[3],Vo+=an*wh,tf+=an*hu,Wh+=an*qh,Rh+=an*_h,vh+=an*qu,Jh+=an*Dh,Vf+=an*xh,Zo+=an*Lu,Vh+=an*Bh,Qf+=an*Eh,Ko+=an*ku,Zh+=an*Ch,Xf+=an*Mh,Lf+=an*au,Qh+=an*Oh,bh+=an*Ah,an=gn[4],tf+=an*wh,Wh+=an*hu,Rh+=an*qh,vh+=an*_h,Jh+=an*qu,Vf+=an*Dh,Zo+=an*xh,Vh+=an*Lu,Qf+=an*Bh,Ko+=an*Eh,Zh+=an*ku,Xf+=an*Ch,Lf+=an*Mh,Qh+=an*au,bh+=an*Oh,jf+=an*Ah,an=gn[5],Wh+=an*wh,Rh+=an*hu,vh+=an*qh,Jh+=an*_h,Vf+=an*qu,Zo+=an*Dh,Vh+=an*xh,Qf+=an*Lu,Ko+=an*Bh,Zh+=an*Eh,Xf+=an*ku,Lf+=an*Ch,Qh+=an*Mh,bh+=an*au,jf+=an*Oh,Yh+=an*Ah,an=gn[6],Rh+=an*wh,vh+=an*hu,Jh+=an*qh,Vf+=an*_h,Zo+=an*qu,Vh+=an*Dh,Qf+=an*xh,Ko+=an*Lu,Zh+=an*Bh,Xf+=an*Eh,Lf+=an*ku,Qh+=an*Ch,bh+=an*Mh,jf+=an*au,Yh+=an*Oh,Sh+=an*Ah,an=gn[7],vh+=an*wh,Jh+=an*hu,Vf+=an*qh,Zo+=an*_h,Vh+=an*qu,Qf+=an*Dh,Ko+=an*xh,Zh+=an*Lu,Xf+=an*Bh,Lf+=an*Eh,Qh+=an*ku,bh+=an*Ch,jf+=an*Mh,Yh+=an*au,Sh+=an*Oh,ph+=an*Ah,an=gn[8],Jh+=an*wh,Vf+=an*hu,Zo+=an*qh,Vh+=an*_h,Qf+=an*qu,Ko+=an*Dh,Zh+=an*xh,Xf+=an*Lu,Lf+=an*Bh,Qh+=an*Eh,bh+=an*ku,jf+=an*Ch,Yh+=an*Mh,Sh+=an*au,ph+=an*Oh,Xh+=an*Ah,an=gn[9],Vf+=an*wh,Zo+=an*hu,Vh+=an*qh,Qf+=an*_h,Ko+=an*qu,Zh+=an*Dh,Xf+=an*xh,Lf+=an*Lu,Qh+=an*Bh,bh+=an*Eh,jf+=an*ku,Yh+=an*Ch,Sh+=an*Mh,ph+=an*au,Xh+=an*Oh,Th+=an*Ah,an=gn[10],Zo+=an*wh,Vh+=an*hu,Qf+=an*qh,Ko+=an*_h,Zh+=an*qu,Xf+=an*Dh,Lf+=an*xh,Qh+=an*Lu,bh+=an*Bh,jf+=an*Eh,Yh+=an*ku,Sh+=an*Ch,ph+=an*Mh,Xh+=an*au,Th+=an*Oh,$h+=an*Ah,an=gn[11],Vh+=an*wh,Qf+=an*hu,Ko+=an*qh,Zh+=an*_h,Xf+=an*qu,Lf+=an*Dh,Qh+=an*xh,bh+=an*Lu,jf+=an*Bh,Yh+=an*Eh,Sh+=an*ku,ph+=an*Ch,Xh+=an*Mh,Th+=an*au,$h+=an*Oh,zu+=an*Ah,an=gn[12],Qf+=an*wh,Ko+=an*hu,Zh+=an*qh,Xf+=an*_h,Lf+=an*qu,Qh+=an*Dh,bh+=an*xh,jf+=an*Lu,Yh+=an*Bh,Sh+=an*Eh,ph+=an*ku,Xh+=an*Ch,Th+=an*Mh,$h+=an*au,zu+=an*Oh,Nh+=an*Ah,an=gn[13],Ko+=an*wh,Zh+=an*hu,Xf+=an*qh,Lf+=an*_h,Qh+=an*qu,bh+=an*Dh,jf+=an*xh,Yh+=an*Lu,Sh+=an*Bh,ph+=an*Eh,Xh+=an*ku,Th+=an*Ch,$h+=an*Mh,zu+=an*au,Nh+=an*Oh,Ih+=an*Ah,an=gn[14],Zh+=an*wh,Xf+=an*hu,Lf+=an*qh,Qh+=an*_h,bh+=an*qu,jf+=an*Dh,Yh+=an*xh,Sh+=an*Lu,ph+=an*Bh,Xh+=an*Eh,Th+=an*ku,$h+=an*Ch,zu+=an*Mh,Nh+=an*au,Ih+=an*Oh,Ku+=an*Ah,an=gn[15],Xf+=an*wh,Lf+=an*hu,Qh+=an*qh,bh+=an*_h,jf+=an*qu,Yh+=an*Dh,Sh+=an*xh,ph+=an*Lu,Xh+=an*Bh,Th+=an*Eh,$h+=an*ku,zu+=an*Ch,Nh+=an*Mh,Ih+=an*au,Ku+=an*Oh,Lh+=an*Ah,ko+=38*Lf,Uo+=38*Qh,kh+=38*bh,Vo+=38*jf,tf+=38*Yh,Wh+=38*Sh,Rh+=38*ph,vh+=38*Xh,Jh+=38*Th,Vf+=38*$h,Zo+=38*zu,Vh+=38*Nh,Qf+=38*Ih,Ko+=38*Ku,Zh+=38*Lh,qo=1,an=ko+qo+65535,qo=Math.floor(an/65536),ko=an-qo*65536,an=Uo+qo+65535,qo=Math.floor(an/65536),Uo=an-qo*65536,an=kh+qo+65535,qo=Math.floor(an/65536),kh=an-qo*65536,an=Vo+qo+65535,qo=Math.floor(an/65536),Vo=an-qo*65536,an=tf+qo+65535,qo=Math.floor(an/65536),tf=an-qo*65536,an=Wh+qo+65535,qo=Math.floor(an/65536),Wh=an-qo*65536,an=Rh+qo+65535,qo=Math.floor(an/65536),Rh=an-qo*65536,an=vh+qo+65535,qo=Math.floor(an/65536),vh=an-qo*65536,an=Jh+qo+65535,qo=Math.floor(an/65536),Jh=an-qo*65536,an=Vf+qo+65535,qo=Math.floor(an/65536),Vf=an-qo*65536,an=Zo+qo+65535,qo=Math.floor(an/65536),Zo=an-qo*65536,an=Vh+qo+65535,qo=Math.floor(an/65536),Vh=an-qo*65536,an=Qf+qo+65535,qo=Math.floor(an/65536),Qf=an-qo*65536,an=Ko+qo+65535,qo=Math.floor(an/65536),Ko=an-qo*65536,an=Zh+qo+65535,qo=Math.floor(an/65536),Zh=an-qo*65536,an=Xf+qo+65535,qo=Math.floor(an/65536),Xf=an-qo*65536,ko+=qo-1+37*(qo-1),qo=1,an=ko+qo+65535,qo=Math.floor(an/65536),ko=an-qo*65536,an=Uo+qo+65535,qo=Math.floor(an/65536),Uo=an-qo*65536,an=kh+qo+65535,qo=Math.floor(an/65536),kh=an-qo*65536,an=Vo+qo+65535,qo=Math.floor(an/65536),Vo=an-qo*65536,an=tf+qo+65535,qo=Math.floor(an/65536),tf=an-qo*65536,an=Wh+qo+65535,qo=Math.floor(an/65536),Wh=an-qo*65536,an=Rh+qo+65535,qo=Math.floor(an/65536),Rh=an-qo*65536,an=vh+qo+65535,qo=Math.floor(an/65536),vh=an-qo*65536,an=Jh+qo+65535,qo=Math.floor(an/65536),Jh=an-qo*65536,an=Vf+qo+65535,qo=Math.floor(an/65536),Vf=an-qo*65536,an=Zo+qo+65535,qo=Math.floor(an/65536),Zo=an-qo*65536,an=Vh+qo+65535,qo=Math.floor(an/65536),Vh=an-qo*65536,an=Qf+qo+65535,qo=Math.floor(an/65536),Qf=an-qo*65536,an=Ko+qo+65535,qo=Math.floor(an/65536),Ko=an-qo*65536,an=Zh+qo+65535,qo=Math.floor(an/65536),Zh=an-qo*65536,an=Xf+qo+65535,qo=Math.floor(an/65536),Xf=an-qo*65536,ko+=qo-1+37*(qo-1),un[0]=ko,un[1]=Uo,un[2]=kh,un[3]=Vo,un[4]=tf,un[5]=Wh,un[6]=Rh,un[7]=vh,un[8]=Jh,un[9]=Vf,un[10]=Zo,un[11]=Vh,un[12]=Qf,un[13]=Ko,un[14]=Zh,un[15]=Xf}function Zn(un,gn){hn(un,gn,gn)}function Do(un,gn){const An=Zr();let an;for(an=0;an<16;an++)An[an]=gn[an];for(an=253;an>=0;an--)Zn(An,An),an!==2&&an!==4&&hn(An,An,gn);for(an=0;an<16;an++)un[an]=An[an]}function Yo(un,gn){const An=Zr();let an;for(an=0;an<16;an++)An[an]=gn[an];for(an=250;an>=0;an--)Zn(An,An),an!==1&&hn(An,An,gn);for(an=0;an<16;an++)un[an]=An[an]}function ui(un,gn){const An=Zr(),an=Zr(),qo=Zr(),ko=Zr(),Uo=Zr(),kh=Zr(),Vo=Zr(),tf=Zr(),Wh=Zr();ho(An,un[1],un[0]),ho(Wh,gn[1],gn[0]),hn(An,An,Wh),Cn(an,un[0],un[1]),Cn(Wh,gn[0],gn[1]),hn(an,an,Wh),hn(qo,un[3],gn[3]),hn(qo,qo,ai),hn(ko,un[2],gn[2]),Cn(ko,ko,ko),ho(Uo,an,An),ho(kh,ko,qo),Cn(Vo,ko,qo),Cn(tf,an,An),hn(un[0],Uo,kh),hn(un[1],tf,Vo),hn(un[2],Vo,kh),hn(un[3],Uo,tf)}function H(un,gn,An){for(let an=0;an<4;an++)sn(un[an],gn[an],An)}function X(un,gn){const An=Zr(),an=Zr(),qo=Zr();Do(qo,gn[2]),hn(An,gn[0],qo),hn(an,gn[1],qo),ln(un,an),un[31]^=Rn(An)<<7}function Br(un,gn,An){di(un[0],ni),di(un[1],fi),di(un[2],fi),di(un[3],ni);for(let an=255;an>=0;--an){const qo=An[an/8|0]>>(an&7)&1;H(un,gn,qo),ui(gn,un),ui(un,un),H(un,gn,qo)}}function Wr(un,gn){const An=[Zr(),Zr(),Zr(),Zr()];di(An[0],si),di(An[1],li),di(An[2],fi),hn(An[3],si,li),Br(un,An,gn)}function ri(un){if(un.length!==te.SEED_LENGTH)throw new Error(`ed25519: seed must be ${te.SEED_LENGTH} bytes`);const gn=(0,G.hash)(un);gn[0]&=248,gn[31]&=127,gn[31]|=64;const An=new Uint8Array(32),an=[Zr(),Zr(),Zr(),Zr()];Wr(an,gn),X(An,an);const qo=new Uint8Array(64);return qo.set(un),qo.set(An,32),{publicKey:An,secretKey:qo}}te.generateKeyPairFromSeed=ri;function ii(un){const gn=(0,t.randomBytes)(32,un),An=ri(gn);return(0,Te.wipe)(gn),An}te.generateKeyPair=ii;function oi(un){if(un.length!==te.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${te.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(un.subarray(32))}te.extractPublicKeyFromSecretKey=oi;const ei=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Y(un,gn){let An,an,qo,ko;for(an=63;an>=32;--an){for(An=0,qo=an-32,ko=an-12;qo<ko;++qo)gn[qo]+=An-16*gn[an]*ei[qo-(an-32)],An=Math.floor((gn[qo]+128)/256),gn[qo]-=An*256;gn[qo]+=An,gn[an]=0}for(An=0,qo=0;qo<32;qo++)gn[qo]+=An-(gn[31]>>4)*ei[qo],An=gn[qo]>>8,gn[qo]&=255;for(qo=0;qo<32;qo++)gn[qo]-=An*ei[qo];for(an=0;an<32;an++)gn[an+1]+=gn[an]>>8,un[an]=gn[an]&255}function Xr(un){const gn=new Float64Array(64);for(let An=0;An<64;An++)gn[An]=un[An];for(let An=0;An<64;An++)un[An]=0;Y(un,gn)}function on(un,gn){const An=new Float64Array(64),an=[Zr(),Zr(),Zr(),Zr()],qo=(0,G.hash)(un.subarray(0,32));qo[0]&=248,qo[31]&=127,qo[31]|=64;const ko=new Uint8Array(64);ko.set(qo.subarray(32),32);const Uo=new G.SHA512;Uo.update(ko.subarray(32)),Uo.update(gn);const kh=Uo.digest();Uo.clean(),Xr(kh),Wr(an,kh),X(ko,an),Uo.reset(),Uo.update(ko.subarray(0,32)),Uo.update(un.subarray(32)),Uo.update(gn);const Vo=Uo.digest();Xr(Vo);for(let tf=0;tf<32;tf++)An[tf]=kh[tf];for(let tf=0;tf<32;tf++)for(let Wh=0;Wh<32;Wh++)An[tf+Wh]+=Vo[tf]*qo[Wh];return Y(ko.subarray(32),An),ko}te.sign=on;function Mn(un,gn){const An=Zr(),an=Zr(),qo=Zr(),ko=Zr(),Uo=Zr(),kh=Zr(),Vo=Zr();return di(un[2],fi),vn(un[1],gn),Zn(qo,un[1]),hn(ko,qo,ci),ho(qo,qo,un[2]),Cn(ko,un[2],ko),Zn(Uo,ko),Zn(kh,Uo),hn(Vo,kh,Uo),hn(An,Vo,qo),hn(An,An,ko),Yo(An,An),hn(An,An,qo),hn(An,An,ko),hn(An,An,ko),hn(un[0],An,ko),Zn(an,un[0]),hn(an,an,ko),cn(an,qo)&&hn(un[0],un[0],mi),Zn(an,un[0]),hn(an,an,ko),cn(an,qo)?-1:(Rn(un[0])===gn[31]>>7&&ho(un[0],ni,un[0]),hn(un[3],un[0],un[1]),0)}function Bn(un,gn,An){const an=new Uint8Array(32),qo=[Zr(),Zr(),Zr(),Zr()],ko=[Zr(),Zr(),Zr(),Zr()];if(An.length!==te.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${te.SIGNATURE_LENGTH} bytes`);if(Mn(ko,un))return!1;const Uo=new G.SHA512;Uo.update(An.subarray(0,32)),Uo.update(un),Uo.update(gn);const kh=Uo.digest();return Xr(kh),Br(qo,ko,kh),Wr(ko,An.subarray(32)),ui(qo,ko),X(an,qo),!mn(An,an)}te.verify=Bn;function fn(un){let gn=[Zr(),Zr(),Zr(),Zr()];if(Mn(gn,un))throw new Error("Ed25519: invalid public key");let An=Zr(),an=Zr(),qo=gn[1];Cn(An,fi,qo),ho(an,fi,qo),Do(an,an),hn(An,An,an);let ko=new Uint8Array(32);return ln(ko,An),ko}te.convertPublicKeyToX25519=fn;function uo(un){const gn=(0,G.hash)(un.subarray(0,32));gn[0]&=248,gn[31]&=127,gn[31]|=64;const An=new Uint8Array(gn.subarray(0,32));return(0,Te.wipe)(gn),An}te.convertSecretKeyToX25519=uo})(ed25519);const JWT_IRIDIUM_ALG="EdDSA",JWT_IRIDIUM_TYP="JWT",JWT_DELIMITER=".",JWT_ENCODING="base64url",JSON_ENCODING="utf8",DATA_ENCODING="utf8",DID_DELIMITER=":",DID_PREFIX="did",DID_METHOD="key",MULTICODEC_ED25519_ENCODING="base58btc",MULTICODEC_ED25519_BASE="z",MULTICODEC_ED25519_HEADER="K36",KEY_PAIR_SEED_LENGTH=32;function encodeJSON(te){return toString(fromString(safeJsonStringify(te),JSON_ENCODING),JWT_ENCODING)}function encodeIss(te){const t=fromString(MULTICODEC_ED25519_HEADER,MULTICODEC_ED25519_ENCODING),G=MULTICODEC_ED25519_BASE+toString(concat([t,te]),MULTICODEC_ED25519_ENCODING);return[DID_PREFIX,DID_METHOD,G].join(DID_DELIMITER)}function encodeSig(te){return toString(te,JWT_ENCODING)}function encodeData(te){return fromString([encodeJSON(te.header),encodeJSON(te.payload)].join(JWT_DELIMITER),DATA_ENCODING)}function encodeJWT(te){return[encodeJSON(te.header),encodeJSON(te.payload),encodeSig(te.signature)].join(JWT_DELIMITER)}function generateKeyPair(te=random.randomBytes(KEY_PAIR_SEED_LENGTH)){return ed25519.generateKeyPairFromSeed(te)}async function signJWT(te,t,G,Te,Zr=cjs$3.fromMiliseconds(Date.now())){const Ie={alg:JWT_IRIDIUM_ALG,typ:JWT_IRIDIUM_TYP},ni=encodeIss(Te.publicKey),fi=Zr+G,ci={iss:ni,sub:te,aud:t,iat:Zr,exp:fi},ai=encodeData({header:Ie,payload:ci}),si=ed25519.sign(Te.secretKey,ai);return encodeJWT({header:Ie,payload:ci,signature:si})}const PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}},DEFAULT_ERROR=SERVER_ERROR;function isReservedErrorCode(te){return RESERVED_ERROR_CODES.includes(te)}function getError(te){return Object.keys(STANDARD_ERROR_MAP).includes(te)?STANDARD_ERROR_MAP[te]:STANDARD_ERROR_MAP[DEFAULT_ERROR]}function getErrorByCode(te){const t=Object.values(STANDARD_ERROR_MAP).find(G=>G.code===te);return t||STANDARD_ERROR_MAP[DEFAULT_ERROR]}function parseConnectionError(te,t,G){return te.message.includes("getaddrinfo ENOTFOUND")||te.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${G} RPC url at ${t}`):te}var cjs={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(te,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Te){G.__proto__=Te}||function(G,Te){for(var Zr in Te)Te.hasOwnProperty(Zr)&&(G[Zr]=Te[Zr])},extendStatics(te,t)};function __extends(te,t){extendStatics(te,t);function G(){this.constructor=te}te.prototype=t===null?Object.create(t):(G.prototype=t.prototype,new G)}var __assign=function(){return __assign=Object.assign||function(t){for(var G,Te=1,Zr=arguments.length;Te<Zr;Te++){G=arguments[Te];for(var Ie in G)Object.prototype.hasOwnProperty.call(G,Ie)&&(t[Ie]=G[Ie])}return t},__assign.apply(this,arguments)};function __rest(te,t){var G={};for(var Te in te)Object.prototype.hasOwnProperty.call(te,Te)&&t.indexOf(Te)<0&&(G[Te]=te[Te]);if(te!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Zr=0,Te=Object.getOwnPropertySymbols(te);Zr<Te.length;Zr++)t.indexOf(Te[Zr])<0&&Object.prototype.propertyIsEnumerable.call(te,Te[Zr])&&(G[Te[Zr]]=te[Te[Zr]]);return G}function __decorate(te,t,G,Te){var Zr=arguments.length,Ie=Zr<3?t:Te===null?Te=Object.getOwnPropertyDescriptor(t,G):Te,ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ie=Reflect.decorate(te,t,G,Te);else for(var fi=te.length-1;fi>=0;fi--)(ni=te[fi])&&(Ie=(Zr<3?ni(Ie):Zr>3?ni(t,G,Ie):ni(t,G))||Ie);return Zr>3&&Ie&&Object.defineProperty(t,G,Ie),Ie}function __param(te,t){return function(G,Te){t(G,Te,te)}}function __metadata(te,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(te,t)}function __awaiter(te,t,G,Te){function Zr(Ie){return Ie instanceof G?Ie:new G(function(ni){ni(Ie)})}return new(G||(G=Promise))(function(Ie,ni){function fi(si){try{ai(Te.next(si))}catch(li){ni(li)}}function ci(si){try{ai(Te.throw(si))}catch(li){ni(li)}}function ai(si){si.done?Ie(si.value):Zr(si.value).then(fi,ci)}ai((Te=Te.apply(te,t||[])).next())})}function __generator(te,t){var G={label:0,sent:function(){if(Ie[0]&1)throw Ie[1];return Ie[1]},trys:[],ops:[]},Te,Zr,Ie,ni;return ni={next:fi(0),throw:fi(1),return:fi(2)},typeof Symbol=="function"&&(ni[Symbol.iterator]=function(){return this}),ni;function fi(ai){return function(si){return ci([ai,si])}}function ci(ai){if(Te)throw new TypeError("Generator is already executing.");for(;G;)try{if(Te=1,Zr&&(Ie=ai[0]&2?Zr.return:ai[0]?Zr.throw||((Ie=Zr.return)&&Ie.call(Zr),0):Zr.next)&&!(Ie=Ie.call(Zr,ai[1])).done)return Ie;switch(Zr=0,Ie&&(ai=[ai[0]&2,Ie.value]),ai[0]){case 0:case 1:Ie=ai;break;case 4:return G.label++,{value:ai[1],done:!1};case 5:G.label++,Zr=ai[1],ai=[0];continue;case 7:ai=G.ops.pop(),G.trys.pop();continue;default:if(Ie=G.trys,!(Ie=Ie.length>0&&Ie[Ie.length-1])&&(ai[0]===6||ai[0]===2)){G=0;continue}if(ai[0]===3&&(!Ie||ai[1]>Ie[0]&&ai[1]<Ie[3])){G.label=ai[1];break}if(ai[0]===6&&G.label<Ie[1]){G.label=Ie[1],Ie=ai;break}if(Ie&&G.label<Ie[2]){G.label=Ie[2],G.ops.push(ai);break}Ie[2]&&G.ops.pop(),G.trys.pop();continue}ai=t.call(te,G)}catch(si){ai=[6,si],Zr=0}finally{Te=Ie=0}if(ai[0]&5)throw ai[1];return{value:ai[0]?ai[1]:void 0,done:!0}}}function __createBinding(te,t,G,Te){Te===void 0&&(Te=G),te[Te]=t[G]}function __exportStar(te,t){for(var G in te)G!=="default"&&!t.hasOwnProperty(G)&&(t[G]=te[G])}function __values(te){var t=typeof Symbol=="function"&&Symbol.iterator,G=t&&te[t],Te=0;if(G)return G.call(te);if(te&&typeof te.length=="number")return{next:function(){return te&&Te>=te.length&&(te=void 0),{value:te&&te[Te++],done:!te}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(te,t){var G=typeof Symbol=="function"&&te[Symbol.iterator];if(!G)return te;var Te=G.call(te),Zr,Ie=[],ni;try{for(;(t===void 0||t-- >0)&&!(Zr=Te.next()).done;)Ie.push(Zr.value)}catch(fi){ni={error:fi}}finally{try{Zr&&!Zr.done&&(G=Te.return)&&G.call(Te)}finally{if(ni)throw ni.error}}return Ie}function __spread(){for(var te=[],t=0;t<arguments.length;t++)te=te.concat(__read(arguments[t]));return te}function __spreadArrays(){for(var te=0,t=0,G=arguments.length;t<G;t++)te+=arguments[t].length;for(var Te=Array(te),Zr=0,t=0;t<G;t++)for(var Ie=arguments[t],ni=0,fi=Ie.length;ni<fi;ni++,Zr++)Te[Zr]=Ie[ni];return Te}function __await(te){return this instanceof __await?(this.v=te,this):new __await(te)}function __asyncGenerator(te,t,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te=G.apply(te,t||[]),Zr,Ie=[];return Zr={},ni("next"),ni("throw"),ni("return"),Zr[Symbol.asyncIterator]=function(){return this},Zr;function ni(mi){Te[mi]&&(Zr[mi]=function(di){return new Promise(function($i,sn){Ie.push([mi,di,$i,sn])>1||fi(mi,di)})})}function fi(mi,di){try{ci(Te[mi](di))}catch($i){li(Ie[0][3],$i)}}function ci(mi){mi.value instanceof __await?Promise.resolve(mi.value.v).then(ai,si):li(Ie[0][2],mi)}function ai(mi){fi("next",mi)}function si(mi){fi("throw",mi)}function li(mi,di){mi(di),Ie.shift(),Ie.length&&fi(Ie[0][0],Ie[0][1])}}function __asyncDelegator(te){var t,G;return t={},Te("next"),Te("throw",function(Zr){throw Zr}),Te("return"),t[Symbol.iterator]=function(){return this},t;function Te(Zr,Ie){t[Zr]=te[Zr]?function(ni){return(G=!G)?{value:__await(te[Zr](ni)),done:Zr==="return"}:Ie?Ie(ni):ni}:Ie}}function __asyncValues(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=te[Symbol.asyncIterator],G;return t?t.call(te):(te=typeof __values=="function"?__values(te):te[Symbol.iterator](),G={},Te("next"),Te("throw"),Te("return"),G[Symbol.asyncIterator]=function(){return this},G);function Te(Ie){G[Ie]=te[Ie]&&function(ni){return new Promise(function(fi,ci){ni=te[Ie](ni),Zr(fi,ci,ni.done,ni.value)})}}function Zr(Ie,ni,fi,ci){Promise.resolve(ci).then(function(ai){Ie({value:ai,done:fi})},ni)}}function __makeTemplateObject(te,t){return Object.defineProperty?Object.defineProperty(te,"raw",{value:t}):te.raw=t,te}function __importStar(te){if(te&&te.__esModule)return te;var t={};if(te!=null)for(var G in te)Object.hasOwnProperty.call(te,G)&&(t[G]=te[G]);return t.default=te,t}function __importDefault(te){return te&&te.__esModule?te:{default:te}}function __classPrivateFieldGet(te,t){if(!t.has(te))throw new TypeError("attempted to get private field on non-instance");return t.get(te)}function __classPrivateFieldSet(te,t,G){if(!t.has(te))throw new TypeError("attempted to set private field on non-instance");return t.set(te,G),G}const tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldSet,__createBinding,__decorate,__exportStar,__extends,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__read,__rest,__spread,__spreadArrays,__values},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(tslib_es6);var crypto$1={},hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$1;hasRequiredCrypto=1,Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function te(){return(commonjsGlobal===null||commonjsGlobal===void 0?void 0:commonjsGlobal.crypto)||(commonjsGlobal===null||commonjsGlobal===void 0?void 0:commonjsGlobal.msCrypto)||{}}crypto$1.getBrowerCrypto=te;function t(){const Te=te();return Te.subtle||Te.webkitSubtle}crypto$1.getSubtleCrypto=t;function G(){return!!te()&&!!t()}return crypto$1.isBrowserCryptoAvailable=G,crypto$1}var env={},hasRequiredEnv;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1,Object.defineProperty(env,"__esModule",{value:!0}),env.isBrowser=env.isNode=env.isReactNative=void 0;function te(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env.isReactNative=te;function t(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}env.isNode=t;function G(){return!te()&&!t()}return env.isBrowser=G,env}(function(te){Object.defineProperty(te,"__esModule",{value:!0});const t=require$$0;t.__exportStar(requireCrypto(),te),t.__exportStar(requireEnv(),te)})(cjs);function payloadId(te=3){const t=Date.now()*Math.pow(10,te),G=Math.floor(Math.random()*Math.pow(10,te));return t+G}function getBigIntRpcId(te=6){return BigInt(payloadId(te))}function formatJsonRpcRequest(te,t,G){return{id:G||payloadId(),jsonrpc:"2.0",method:te,params:t}}function formatJsonRpcResult(te,t){return{id:te,jsonrpc:"2.0",result:t}}function formatJsonRpcError(te,t,G){return{id:te,jsonrpc:"2.0",error:formatErrorMessage(t)}}function formatErrorMessage(te,t){return typeof te>"u"?getError(INTERNAL_ERROR):(typeof te=="string"&&(te=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:te})),isReservedErrorCode(te.code)&&(te=getErrorByCode(te.code)),te)}class e{}class n extends e{constructor(){super()}}class r extends n{constructor(t){super()}}const HTTP_REGEX="^https?:",WS_REGEX="^wss?:";function getUrlProtocol(te){const t=te.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function matchRegexProtocol(te,t){const G=getUrlProtocol(te);return typeof G>"u"?!1:new RegExp(t).test(G)}function isHttpUrl(te){return matchRegexProtocol(te,HTTP_REGEX)}function isWsUrl(te){return matchRegexProtocol(te,WS_REGEX)}function isLocalhostUrl(te){return new RegExp("wss?://localhost(:d{2,5})?").test(te)}function isJsonRpcPayload(te){return typeof te=="object"&&"id"in te&&"jsonrpc"in te&&te.jsonrpc==="2.0"}function isJsonRpcRequest(te){return isJsonRpcPayload(te)&&"method"in te}function isJsonRpcResponse(te){return isJsonRpcPayload(te)&&(isJsonRpcResult(te)||isJsonRpcError(te))}function isJsonRpcResult(te){return"result"in te}function isJsonRpcError(te){return"error"in te}let o$1=class extends r{constructor(t){super(t),this.events=new eventsExports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,G){this.events.on(t,G)}once(t,G){this.events.once(t,G)}off(t,G){this.events.off(t,G)}removeListener(t,G){this.events.removeListener(t,G)}async request(t,G){return this.requestStrict(formatJsonRpcRequest(t.method,t.params||[],t.id||getBigIntRpcId().toString()),G)}async requestStrict(t,G){return new Promise(async(Te,Zr)=>{if(!this.connection.connected)try{await this.open()}catch(Ie){Zr(Ie)}this.events.on(`${t.id}`,Ie=>{isJsonRpcError(Ie)?Zr(Ie.error):Te(Ie.result)});try{await this.connection.send(t,G)}catch(Ie){Zr(Ie)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),isJsonRpcResponse(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const w$1=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),b$1=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",a=te=>te.split("?")[0],h=10,S$2=w$1();let f$2=class{constructor(t){if(this.url=t,this.events=new eventsExports.EventEmitter,this.registering=!1,!isWsUrl(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,G){this.events.on(t,G)}once(t,G){this.events.once(t,G)}off(t,G){this.events.off(t,G)}removeListener(t,G){this.events.removeListener(t,G)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,G)=>{if(typeof this.socket>"u"){G(new Error("Connection already closed"));return}this.socket.onclose=Te=>{this.onClose(Te),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(t))}catch(G){this.onError(t.id,G)}}register(t=this.url){if(!isWsUrl(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const G=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=G||this.events.listenerCount("open")>=G)&&this.events.setMaxListeners(G+1),new Promise((Te,Zr)=>{this.events.once("register_error",Ie=>{this.resetMaxListeners(),Zr(Ie)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return Zr(new Error("WebSocket connection is missing or invalid"));Te(this.socket)})})}return this.url=t,this.registering=!0,new Promise((G,Te)=>{const Zr=new URLSearchParams(t).get("origin"),Ie=cjs.isReactNative()?{headers:{origin:Zr}}:{rejectUnauthorized:!isLocalhostUrl(t)},ni=new S$2(t,[],Ie);b$1()?ni.onerror=fi=>{const ci=fi;Te(this.emitError(ci.error))}:ni.on("error",fi=>{Te(this.emitError(fi))}),ni.onopen=()=>{this.onOpen(ni),G(ni)}})}onOpen(t){t.onmessage=G=>this.onPayload(G),t.onclose=G=>this.onClose(G),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const G=typeof t.data=="string"?safeJsonParse(t.data):t.data;this.events.emit("payload",G)}onError(t,G){const Te=this.parseError(G),Zr=Te.message||Te.toString(),Ie=formatJsonRpcError(t,Zr);this.events.emit("payload",Ie)}parseError(t,G=this.url){return parseConnectionError(t,a(G),"WS")}resetMaxListeners(){this.events.getMaxListeners()>h&&this.events.setMaxListeners(h)}emitError(t){const G=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${a(this.url)}`));return this.events.emit("register_error",G),G}};var lodash_isequal={exports:{}};lodash_isequal.exports;(function(te,t){var G=200,Te="__lodash_hash_undefined__",Zr=1,Ie=2,ni=9007199254740991,fi="[object Arguments]",ci="[object Array]",ai="[object AsyncFunction]",si="[object Boolean]",li="[object Date]",mi="[object Error]",di="[object Function]",$i="[object GeneratorFunction]",sn="[object Map]",ln="[object Number]",mn="[object Null]",cn="[object Object]",Rn="[object Promise]",vn="[object Proxy]",Cn="[object RegExp]",ho="[object Set]",hn="[object String]",Zn="[object Symbol]",Do="[object Undefined]",Yo="[object WeakMap]",ui="[object ArrayBuffer]",H="[object DataView]",X="[object Float32Array]",Br="[object Float64Array]",Wr="[object Int8Array]",ri="[object Int16Array]",ii="[object Int32Array]",oi="[object Uint8Array]",ei="[object Uint8ClampedArray]",Y="[object Uint16Array]",Xr="[object Uint32Array]",on=/[\\^$.*+?()[\]{}|]/g,Mn=/^\[object .+?Constructor\]$/,Bn=/^(?:0|[1-9]\d*)$/,fn={};fn[X]=fn[Br]=fn[Wr]=fn[ri]=fn[ii]=fn[oi]=fn[ei]=fn[Y]=fn[Xr]=!0,fn[fi]=fn[ci]=fn[ui]=fn[si]=fn[H]=fn[li]=fn[mi]=fn[di]=fn[sn]=fn[ln]=fn[cn]=fn[Cn]=fn[ho]=fn[hn]=fn[Yo]=!1;var uo=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,un=typeof self=="object"&&self&&self.Object===Object&&self,gn=uo||un||Function("return this")(),An=t&&!t.nodeType&&t,an=An&&!0&&te&&!te.nodeType&&te,qo=an&&an.exports===An,ko=qo&&uo.process,Uo=function(){try{return ko&&ko.binding&&ko.binding("util")}catch{}}(),kh=Uo&&Uo.isTypedArray;function Vo(jo,mh){for(var Hh=-1,uu=jo==null?0:jo.length,Rc=0,o0=[];++Hh<uu;){var qc=jo[Hh];mh(qc,Hh,jo)&&(o0[Rc++]=qc)}return o0}function tf(jo,mh){for(var Hh=-1,uu=mh.length,Rc=jo.length;++Hh<uu;)jo[Rc+Hh]=mh[Hh];return jo}function Wh(jo,mh){for(var Hh=-1,uu=jo==null?0:jo.length;++Hh<uu;)if(mh(jo[Hh],Hh,jo))return!0;return!1}function Rh(jo,mh){for(var Hh=-1,uu=Array(jo);++Hh<jo;)uu[Hh]=mh(Hh);return uu}function vh(jo){return function(mh){return jo(mh)}}function Jh(jo,mh){return jo.has(mh)}function Vf(jo,mh){return jo==null?void 0:jo[mh]}function Zo(jo){var mh=-1,Hh=Array(jo.size);return jo.forEach(function(uu,Rc){Hh[++mh]=[Rc,uu]}),Hh}function Vh(jo,mh){return function(Hh){return jo(mh(Hh))}}function Qf(jo){var mh=-1,Hh=Array(jo.size);return jo.forEach(function(uu){Hh[++mh]=uu}),Hh}var Ko=Array.prototype,Zh=Function.prototype,Xf=Object.prototype,Lf=gn["__core-js_shared__"],Qh=Zh.toString,bh=Xf.hasOwnProperty,jf=function(){var jo=/[^.]+$/.exec(Lf&&Lf.keys&&Lf.keys.IE_PROTO||"");return jo?"Symbol(src)_1."+jo:""}(),Yh=Xf.toString,Sh=RegExp("^"+Qh.call(bh).replace(on,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ph=qo?gn.Buffer:void 0,Xh=gn.Symbol,Th=gn.Uint8Array,$h=Xf.propertyIsEnumerable,zu=Ko.splice,Nh=Xh?Xh.toStringTag:void 0,Ih=Object.getOwnPropertySymbols,Ku=ph?ph.isBuffer:void 0,Lh=Vh(Object.keys,Object),wh=sl(gn,"DataView"),hu=sl(gn,"Map"),qh=sl(gn,"Promise"),_h=sl(gn,"Set"),qu=sl(gn,"WeakMap"),Dh=sl(Object,"create"),xh=Dl(wh),Lu=Dl(hu),Bh=Dl(qh),Eh=Dl(_h),ku=Dl(qu),Ch=Xh?Xh.prototype:void 0,Mh=Ch?Ch.valueOf:void 0;function au(jo){var mh=-1,Hh=jo==null?0:jo.length;for(this.clear();++mh<Hh;){var uu=jo[mh];this.set(uu[0],uu[1])}}function Oh(){this.__data__=Dh?Dh(null):{},this.size=0}function Ah(jo){var mh=this.has(jo)&&delete this.__data__[jo];return this.size-=mh?1:0,mh}function r0(jo){var mh=this.__data__;if(Dh){var Hh=mh[jo];return Hh===Te?void 0:Hh}return bh.call(mh,jo)?mh[jo]:void 0}function jh(jo){var mh=this.__data__;return Dh?mh[jo]!==void 0:bh.call(mh,jo)}function Ph(jo,mh){var Hh=this.__data__;return this.size+=this.has(jo)?0:1,Hh[jo]=Dh&&mh===void 0?Te:mh,this}au.prototype.clear=Oh,au.prototype.delete=Ah,au.prototype.get=r0,au.prototype.has=jh,au.prototype.set=Ph;function Uu(jo){var mh=-1,Hh=jo==null?0:jo.length;for(this.clear();++mh<Hh;){var uu=jo[mh];this.set(uu[0],uu[1])}}function nc(){this.__data__=[],this.size=0}function sc(jo){var mh=this.__data__,Hh=Ql(mh,jo);if(Hh<0)return!1;var uu=mh.length-1;return Hh==uu?mh.pop():zu.call(mh,Hh,1),--this.size,!0}function ac(jo){var mh=this.__data__,Hh=Ql(mh,jo);return Hh<0?void 0:mh[Hh][1]}function oc(jo){return Ql(this.__data__,jo)>-1}function fc(jo,mh){var Hh=this.__data__,uu=Ql(Hh,jo);return uu<0?(++this.size,Hh.push([jo,mh])):Hh[uu][1]=mh,this}Uu.prototype.clear=nc,Uu.prototype.delete=sc,Uu.prototype.get=ac,Uu.prototype.has=oc,Uu.prototype.set=fc;function $0(jo){var mh=-1,Hh=jo==null?0:jo.length;for(this.clear();++mh<Hh;){var uu=jo[mh];this.set(uu[0],uu[1])}}function lc(){this.size=0,this.__data__={hash:new au,map:new(hu||Uu),string:new au}}function gc(jo){var mh=Ul(this,jo).delete(jo);return this.size-=mh?1:0,mh}function dc(jo){return Ul(this,jo).get(jo)}function bc(jo){return Ul(this,jo).has(jo)}function yc(jo,mh){var Hh=Ul(this,jo),uu=Hh.size;return Hh.set(jo,mh),this.size+=Hh.size==uu?0:1,this}$0.prototype.clear=lc,$0.prototype.delete=gc,$0.prototype.get=dc,$0.prototype.has=bc,$0.prototype.set=yc;function pc(jo){var mh=-1,Hh=jo==null?0:jo.length;for(this.__data__=new $0;++mh<Hh;)this.add(jo[mh])}function vc(jo){return this.__data__.set(jo,Te),this}function mc(jo){return this.__data__.has(jo)}pc.prototype.add=pc.prototype.push=vc,pc.prototype.has=mc;function tc(jo){var mh=this.__data__=new Uu(jo);this.size=mh.size}function wc(){this.__data__=new Uu,this.size=0}function _c(jo){var mh=this.__data__,Hh=mh.delete(jo);return this.size=mh.size,Hh}function Mc(jo){return this.__data__.get(jo)}function Zl(jo){return this.__data__.has(jo)}function Gd(jo,mh){var Hh=this.__data__;if(Hh instanceof Uu){var uu=Hh.__data__;if(!hu||uu.length<G-1)return uu.push([jo,mh]),this.size=++Hh.size,this;Hh=this.__data__=new $0(uu)}return Hh.set(jo,mh),this.size=Hh.size,this}tc.prototype.clear=wc,tc.prototype.delete=_c,tc.prototype.get=Mc,tc.prototype.has=Zl,tc.prototype.set=Gd;function Vd(jo,mh){var Hh=ld(jo),uu=!Hh&&s1(jo),Rc=!Hh&&!uu&&Id(jo),o0=!Hh&&!uu&&!Rc&&f1(jo),qc=Hh||uu||Rc||o0,Lc=qc?Rh(jo.length,String):[],uc=Lc.length;for(var Ic in jo)bh.call(jo,Ic)&&!(qc&&(Ic=="length"||Rc&&(Ic=="offset"||Ic=="parent")||o0&&(Ic=="buffer"||Ic=="byteLength"||Ic=="byteOffset")||e1(Ic,uc)))&&Lc.push(Ic);return Lc}function Ql(jo,mh){for(var Hh=jo.length;Hh--;)if(n1(jo[Hh][0],mh))return Hh;return-1}function $d(jo,mh,Hh){var uu=mh(jo);return ld(jo)?uu:tf(uu,Hh(jo))}function Yl(jo){return jo==null?jo===void 0?Do:mn:Nh&&Nh in Object(jo)?Yd(jo):Q1(jo)}function Rd(jo){return ed(jo)&&Yl(jo)==fi}function Xl(jo,mh,Hh,uu,Rc){return jo===mh?!0:jo==null||mh==null||!ed(jo)&&!ed(mh)?jo!==jo&&mh!==mh:Wd(jo,mh,Hh,uu,Xl,Rc)}function Wd(jo,mh,Hh,uu,Rc,o0){var qc=ld(jo),Lc=ld(mh),uc=qc?ci:Al(jo),Ic=Lc?ci:Al(mh);uc=uc==fi?cn:uc,Ic=Ic==fi?cn:Ic;var Tc=uc==cn,el=Ic==cn,Uc=uc==Ic;if(Uc&&Id(jo)){if(!Id(mh))return!1;qc=!0,Tc=!1}if(Uc&&!Tc)return o0||(o0=new tc),qc||f1(jo)?ud(jo,mh,Hh,uu,Rc,o0):Z1(jo,mh,uc,Hh,uu,Rc,o0);if(!(Hh&Zr)){var Bc=Tc&&bh.call(jo,"__wrapped__"),Jc=el&&bh.call(mh,"__wrapped__");if(Bc||Jc){var yl=Bc?jo.value():jo,cl=Jc?mh.value():mh;return o0||(o0=new tc),Rc(yl,cl,Hh,uu,o0)}}return Uc?(o0||(o0=new tc),Qd(jo,mh,Hh,uu,Rc,o0)):!1}function J1(jo){if(!o1(jo)||r1(jo))return!1;var mh=dd(jo)?Sh:Mn;return mh.test(Dl(jo))}function Jd(jo){return ed(jo)&&a1(jo.length)&&!!fn[Yl(jo)]}function Zd(jo){if(!i1(jo))return Lh(jo);var mh=[];for(var Hh in Object(jo))bh.call(jo,Hh)&&Hh!="constructor"&&mh.push(Hh);return mh}function ud(jo,mh,Hh,uu,Rc,o0){var qc=Hh&Zr,Lc=jo.length,uc=mh.length;if(Lc!=uc&&!(qc&&uc>Lc))return!1;var Ic=o0.get(jo);if(Ic&&o0.get(mh))return Ic==mh;var Tc=-1,el=!0,Uc=Hh&Ie?new pc:void 0;for(o0.set(jo,mh),o0.set(mh,jo);++Tc<Lc;){var Bc=jo[Tc],Jc=mh[Tc];if(uu)var yl=qc?uu(Jc,Bc,Tc,mh,jo,o0):uu(Bc,Jc,Tc,jo,mh,o0);if(yl!==void 0){if(yl)continue;el=!1;break}if(Uc){if(!Wh(mh,function(cl,Sl){if(!Jh(Uc,Sl)&&(Bc===cl||Rc(Bc,cl,Hh,uu,o0)))return Uc.push(Sl)})){el=!1;break}}else if(!(Bc===Jc||Rc(Bc,Jc,Hh,uu,o0))){el=!1;break}}return o0.delete(jo),o0.delete(mh),el}function Z1(jo,mh,Hh,uu,Rc,o0,qc){switch(Hh){case H:if(jo.byteLength!=mh.byteLength||jo.byteOffset!=mh.byteOffset)return!1;jo=jo.buffer,mh=mh.buffer;case ui:return!(jo.byteLength!=mh.byteLength||!o0(new Th(jo),new Th(mh)));case si:case li:case ln:return n1(+jo,+mh);case mi:return jo.name==mh.name&&jo.message==mh.message;case Cn:case hn:return jo==mh+"";case sn:var Lc=Zo;case ho:var uc=uu&Zr;if(Lc||(Lc=Qf),jo.size!=mh.size&&!uc)return!1;var Ic=qc.get(jo);if(Ic)return Ic==mh;uu|=Ie,qc.set(jo,mh);var Tc=ud(Lc(jo),Lc(mh),uu,Rc,o0,qc);return qc.delete(jo),Tc;case Zn:if(Mh)return Mh.call(jo)==Mh.call(mh)}return!1}function Qd(jo,mh,Hh,uu,Rc,o0){var qc=Hh&Zr,Lc=cd(jo),uc=Lc.length,Ic=cd(mh),Tc=Ic.length;if(uc!=Tc&&!qc)return!1;for(var el=uc;el--;){var Uc=Lc[el];if(!(qc?Uc in mh:bh.call(mh,Uc)))return!1}var Bc=o0.get(jo);if(Bc&&o0.get(mh))return Bc==mh;var Jc=!0;o0.set(jo,mh),o0.set(mh,jo);for(var yl=qc;++el<uc;){Uc=Lc[el];var cl=jo[Uc],Sl=mh[Uc];if(uu)var Dd=qc?uu(Sl,cl,Uc,mh,jo,o0):uu(cl,Sl,Uc,jo,mh,o0);if(!(Dd===void 0?cl===Sl||Rc(cl,Sl,Hh,uu,o0):Dd)){Jc=!1;break}yl||(yl=Uc=="constructor")}if(Jc&&!yl){var td=jo.constructor,Kc=mh.constructor;td!=Kc&&"constructor"in jo&&"constructor"in mh&&!(typeof td=="function"&&td instanceof td&&typeof Kc=="function"&&Kc instanceof Kc)&&(Jc=!1)}return o0.delete(jo),o0.delete(mh),Jc}function cd(jo){return $d(jo,ep,Xd)}function Ul(jo,mh){var Hh=jo.__data__;return t1(mh)?Hh[typeof mh=="string"?"string":"hash"]:Hh.map}function sl(jo,mh){var Hh=Vf(jo,mh);return J1(Hh)?Hh:void 0}function Yd(jo){var mh=bh.call(jo,Nh),Hh=jo[Nh];try{jo[Nh]=void 0;var uu=!0}catch{}var Rc=Yh.call(jo);return uu&&(mh?jo[Nh]=Hh:delete jo[Nh]),Rc}var Xd=Ih?function(jo){return jo==null?[]:(jo=Object(jo),Vo(Ih(jo),function(mh){return $h.call(jo,mh)}))}:$c,Al=Yl;(wh&&Al(new wh(new ArrayBuffer(1)))!=H||hu&&Al(new hu)!=sn||qh&&Al(qh.resolve())!=Rn||_h&&Al(new _h)!=ho||qu&&Al(new qu)!=Yo)&&(Al=function(jo){var mh=Yl(jo),Hh=mh==cn?jo.constructor:void 0,uu=Hh?Dl(Hh):"";if(uu)switch(uu){case xh:return H;case Lu:return sn;case Bh:return Rn;case Eh:return ho;case ku:return Yo}return mh});function e1(jo,mh){return mh=mh??ni,!!mh&&(typeof jo=="number"||Bn.test(jo))&&jo>-1&&jo%1==0&&jo<mh}function t1(jo){var mh=typeof jo;return mh=="string"||mh=="number"||mh=="symbol"||mh=="boolean"?jo!=="__proto__":jo===null}function r1(jo){return!!jf&&jf in jo}function i1(jo){var mh=jo&&jo.constructor,Hh=typeof mh=="function"&&mh.prototype||Xf;return jo===Hh}function Q1(jo){return Yh.call(jo)}function Dl(jo){if(jo!=null){try{return Qh.call(jo)}catch{}try{return jo+""}catch{}}return""}function n1(jo,mh){return jo===mh||jo!==jo&&mh!==mh}var s1=Rd(function(){return arguments}())?Rd:function(jo){return ed(jo)&&bh.call(jo,"callee")&&!$h.call(jo,"callee")},ld=Array.isArray;function Y1(jo){return jo!=null&&a1(jo.length)&&!dd(jo)}var Id=Ku||Sc;function X1(jo,mh){return Xl(jo,mh)}function dd(jo){if(!o1(jo))return!1;var mh=Yl(jo);return mh==di||mh==$i||mh==ai||mh==vn}function a1(jo){return typeof jo=="number"&&jo>-1&&jo%1==0&&jo<=ni}function o1(jo){var mh=typeof jo;return jo!=null&&(mh=="object"||mh=="function")}function ed(jo){return jo!=null&&typeof jo=="object"}var f1=kh?vh(kh):Jd;function ep(jo){return Y1(jo)?Vd(jo):Zd(jo)}function $c(){return[]}function Sc(){return!1}te.exports=X1})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports;const ji=getDefaultExportFromCjs(lodash_isequalExports);var define_process_env_default={};function Gi(te,t){if(te.length>=255)throw new TypeError("Alphabet too long");for(var G=new Uint8Array(256),Te=0;Te<G.length;Te++)G[Te]=255;for(var Zr=0;Zr<te.length;Zr++){var Ie=te.charAt(Zr),ni=Ie.charCodeAt(0);if(G[ni]!==255)throw new TypeError(Ie+" is ambiguous");G[ni]=Zr}var fi=te.length,ci=te.charAt(0),ai=Math.log(fi)/Math.log(256),si=Math.log(256)/Math.log(fi);function li($i){if($i instanceof Uint8Array||(ArrayBuffer.isView($i)?$i=new Uint8Array($i.buffer,$i.byteOffset,$i.byteLength):Array.isArray($i)&&($i=Uint8Array.from($i))),!($i instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($i.length===0)return"";for(var sn=0,ln=0,mn=0,cn=$i.length;mn!==cn&&$i[mn]===0;)mn++,sn++;for(var Rn=(cn-mn)*si+1>>>0,vn=new Uint8Array(Rn);mn!==cn;){for(var Cn=$i[mn],ho=0,hn=Rn-1;(Cn!==0||ho<ln)&&hn!==-1;hn--,ho++)Cn+=256*vn[hn]>>>0,vn[hn]=Cn%fi>>>0,Cn=Cn/fi>>>0;if(Cn!==0)throw new Error("Non-zero carry");ln=ho,mn++}for(var Zn=Rn-ln;Zn!==Rn&&vn[Zn]===0;)Zn++;for(var Do=ci.repeat(sn);Zn<Rn;++Zn)Do+=te.charAt(vn[Zn]);return Do}function mi($i){if(typeof $i!="string")throw new TypeError("Expected String");if($i.length===0)return new Uint8Array;var sn=0;if($i[sn]!==" "){for(var ln=0,mn=0;$i[sn]===ci;)ln++,sn++;for(var cn=($i.length-sn)*ai+1>>>0,Rn=new Uint8Array(cn);$i[sn];){var vn=G[$i.charCodeAt(sn)];if(vn===255)return;for(var Cn=0,ho=cn-1;(vn!==0||Cn<mn)&&ho!==-1;ho--,Cn++)vn+=fi*Rn[ho]>>>0,Rn[ho]=vn%256>>>0,vn=vn/256>>>0;if(vn!==0)throw new Error("Non-zero carry");mn=Cn,sn++}if($i[sn]!==" "){for(var hn=cn-mn;hn!==cn&&Rn[hn]===0;)hn++;for(var Zn=new Uint8Array(ln+(cn-hn)),Do=ln;hn!==cn;)Zn[Do++]=Rn[hn++];return Zn}}}function di($i){var sn=mi($i);if(sn)return sn;throw new Error(`Non-${t} character`)}return{encode:li,decodeUnsafe:mi,decode:di}}var Hi=Gi,Yi=Hi;const Ne=te=>{if(te instanceof Uint8Array&&te.constructor.name==="Uint8Array")return te;if(te instanceof ArrayBuffer)return new Uint8Array(te);if(ArrayBuffer.isView(te))return new Uint8Array(te.buffer,te.byteOffset,te.byteLength);throw new Error("Unknown type, must be binary type")},Ji=te=>new TextEncoder().encode(te),Xi=te=>new TextDecoder().decode(te);let Wi$1=class{constructor(t,G,Te){this.name=t,this.prefix=G,this.baseEncode=Te}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}};class Qi{constructor(t,G,Te){if(this.name=t,this.prefix=G,G.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=G.codePointAt(0),this.baseDecode=Te}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Le(this,t)}}class Zi{constructor(t){this.decoders=t}or(t){return Le(this,t)}decode(t){const G=t[0],Te=this.decoders[G];if(Te)return Te.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Le=(te,t)=>new Zi({...te.decoders||{[te.prefix]:te},...t.decoders||{[t.prefix]:t}});let es$1=class{constructor(t,G,Te,Zr){this.name=t,this.prefix=G,this.baseEncode=Te,this.baseDecode=Zr,this.encoder=new Wi$1(t,G,Te),this.decoder=new Qi(t,G,Zr)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const W=({name:te,prefix:t,encode:G,decode:Te})=>new es$1(te,t,G,Te),K=({prefix:te,name:t,alphabet:G})=>{const{encode:Te,decode:Zr}=Yi(G,t);return W({prefix:te,name:t,encode:Te,decode:Ie=>Ne(Zr(Ie))})},ts$1=(te,t,G,Te)=>{const Zr={};for(let si=0;si<t.length;++si)Zr[t[si]]=si;let Ie=te.length;for(;te[Ie-1]==="=";)--Ie;const ni=new Uint8Array(Ie*G/8|0);let fi=0,ci=0,ai=0;for(let si=0;si<Ie;++si){const li=Zr[te[si]];if(li===void 0)throw new SyntaxError(`Non-${Te} character`);ci=ci<<G|li,fi+=G,fi>=8&&(fi-=8,ni[ai++]=255&ci>>fi)}if(fi>=G||255&ci<<8-fi)throw new SyntaxError("Unexpected end of data");return ni},is$1=(te,t,G)=>{const Te=t[t.length-1]==="=",Zr=(1<<G)-1;let Ie="",ni=0,fi=0;for(let ci=0;ci<te.length;++ci)for(fi=fi<<8|te[ci],ni+=8;ni>G;)ni-=G,Ie+=t[Zr&fi>>ni];if(ni&&(Ie+=t[Zr&fi<<G-ni]),Te)for(;Ie.length*G&7;)Ie+="=";return Ie},y$1=({name:te,prefix:t,bitsPerChar:G,alphabet:Te})=>W({prefix:t,name:te,encode(Zr){return is$1(Zr,Te,G)},decode(Zr){return ts$1(Zr,Te,G,te)}}),ss$1=W({prefix:"\0",name:"identity",encode:te=>Xi(te),decode:te=>Ji(te)});var rs$1=Object.freeze({__proto__:null,identity:ss$1});const ns$1=y$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var os=Object.freeze({__proto__:null,base2:ns$1});const as=y$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var hs=Object.freeze({__proto__:null,base8:as});const cs=K({prefix:"9",name:"base10",alphabet:"0123456789"});var ls=Object.freeze({__proto__:null,base10:cs});const us=y$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ds=y$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var gs=Object.freeze({__proto__:null,base16:us,base16upper:ds});const ps=y$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ds=y$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ys=y$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ms=y$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),bs=y$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),fs=y$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Es=y$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ws=y$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vs=y$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Is=Object.freeze({__proto__:null,base32:ps,base32upper:Ds,base32pad:ys,base32padupper:ms,base32hex:bs,base32hexupper:fs,base32hexpad:Es,base32hexpadupper:ws,base32z:vs});const Cs=K({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ts=K({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var _s=Object.freeze({__proto__:null,base36:Cs,base36upper:Ts});const Rs=K({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ss=K({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ps=Object.freeze({__proto__:null,base58btc:Rs,base58flickr:Ss});const xs=y$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Os=y$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),As=y$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zs=y$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ns=Object.freeze({__proto__:null,base64:xs,base64pad:Os,base64url:As,base64urlpad:zs});const Ue$1=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Ls=Ue$1.reduce((te,t,G)=>(te[G]=t,te),[]),Us=Ue$1.reduce((te,t,G)=>(te[t.codePointAt(0)]=G,te),[]);function Fs(te){return te.reduce((t,G)=>(t+=Ls[G],t),"")}function $s(te){const t=[];for(const G of te){const Te=Us[G.codePointAt(0)];if(Te===void 0)throw new Error(`Non-base256emoji character: ${G}`);t.push(Te)}return new Uint8Array(t)}const Ms=W({prefix:"🚀",name:"base256emoji",encode:Fs,decode:$s});var Bs=Object.freeze({__proto__:null,base256emoji:Ms}),ks=$e,Fe$1=128,Ks=127,qs=~Ks,Vs=Math.pow(2,31);function $e(te,t,G){t=t||[],G=G||0;for(var Te=G;te>=Vs;)t[G++]=te&255|Fe$1,te/=128;for(;te&qs;)t[G++]=te&255|Fe$1,te>>>=7;return t[G]=te|0,$e.bytes=G-Te+1,t}var js=ue,Gs=128,Me=127;function ue(te,Te){var G=0,Te=Te||0,Zr=0,Ie=Te,ni,fi=te.length;do{if(Ie>=fi)throw ue.bytes=0,new RangeError("Could not decode varint");ni=te[Ie++],G+=Zr<28?(ni&Me)<<Zr:(ni&Me)*Math.pow(2,Zr),Zr+=7}while(ni>=Gs);return ue.bytes=Ie-Te,G}var Hs=Math.pow(2,7),Ys=Math.pow(2,14),Js=Math.pow(2,21),Xs=Math.pow(2,28),Ws=Math.pow(2,35),Qs=Math.pow(2,42),Zs=Math.pow(2,49),er=Math.pow(2,56),tr=Math.pow(2,63),ir=function(te){return te<Hs?1:te<Ys?2:te<Js?3:te<Xs?4:te<Ws?5:te<Qs?6:te<Zs?7:te<er?8:te<tr?9:10},sr={encode:ks,decode:js,encodingLength:ir},Be$1=sr;const ke$1=(te,t,G=0)=>(Be$1.encode(te,t,G),t),Ke=te=>Be$1.encodingLength(te),de=(te,t)=>{const G=t.byteLength,Te=Ke(te),Zr=Te+Ke(G),Ie=new Uint8Array(Zr+G);return ke$1(te,Ie,0),ke$1(G,Ie,Te),Ie.set(t,Zr),new rr(te,G,t,Ie)};class rr{constructor(t,G,Te,Zr){this.code=t,this.size=G,this.digest=Te,this.bytes=Zr}}const qe=({name:te,code:t,encode:G})=>new nr(te,t,G);class nr{constructor(t,G,Te){this.name=t,this.code=G,this.encode=Te}digest(t){if(t instanceof Uint8Array){const G=this.encode(t);return G instanceof Uint8Array?de(this.code,G):G.then(Te=>de(this.code,Te))}else throw Error("Unknown type, must be binary type")}}const Ve=te=>async t=>new Uint8Array(await crypto.subtle.digest(te,t)),or=qe({name:"sha2-256",code:18,encode:Ve("SHA-256")}),ar=qe({name:"sha2-512",code:19,encode:Ve("SHA-512")});var hr=Object.freeze({__proto__:null,sha256:or,sha512:ar});const je$1=0,cr="identity",Ge$1=Ne,lr$1=te=>de(je$1,Ge$1(te)),ur={code:je$1,name:cr,encode:Ge$1,digest:lr$1};var dr$1=Object.freeze({__proto__:null,identity:ur});new TextEncoder,new TextDecoder;const He$1={...rs$1,...os,...hs,...ls,...gs,...Is,..._s,...Ps,...Ns,...Bs};({...hr,...dr$1});function gr(te=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(te):new Uint8Array(te)}function Ye$1(te,t,G,Te){return{name:te,prefix:t,encoder:{name:te,prefix:t,encode:G},decoder:{decode:Te}}}const Je$1=Ye$1("utf8","u",te=>"u"+new TextDecoder("utf8").decode(te),te=>new TextEncoder().encode(te.substring(1))),ge=Ye$1("ascii","a",te=>{let t="a";for(let G=0;G<te.length;G++)t+=String.fromCharCode(te[G]);return t},te=>{te=te.substring(1);const t=gr(te.length);for(let G=0;G<te.length;G++)t[G]=te.charCodeAt(G);return t}),pr$1={utf8:Je$1,"utf-8":Je$1,hex:He$1.base16,latin1:ge,ascii:ge,binary:ge,...He$1};function Dr(te,t="utf8"){const G=pr$1[t];if(!G)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(te,"utf8"):G.decoder.decode(`${G.prefix}${te}`)}const pe="wc",Xe$1=2,Q$1="core",N$1=`${pe}@2:${Q$1}:`,We$1={name:Q$1,logger:"error"},Qe$1={database:":memory:"},Ze$1="crypto",De="client_ed25519_seed",et=cjs$3.ONE_DAY,tt="keychain",it="0.3",st="messages",rt="0.3",nt=cjs$3.SIX_HOURS,ot="publisher",at="irn",ht="error",ye="wss://relay.walletconnect.org",ct="relayer",f$1={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},lt="_subscription",E$2={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},ut=.1,dt="2.15.1",gt=1e4,pt="0.3",Dt="WALLETCONNECT_CLIENT_ID",S$1={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},yt="subscription",mt="0.3",bt=cjs$3.FIVE_SECONDS*1e3,ft="pairing",Et="0.3",M$1={wc_pairingDelete:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjs$3.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjs$3.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:0}}},q$1={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},I={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},wt="history",vt="0.3",It="expirer",C$1={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Ct="0.3",Z="verify-api",Er="https://verify.walletconnect.com",Tt$1="https://verify.walletconnect.org",V=Tt$1,_t=[Er,Tt$1],Rt="echo",St="https://echo.walletconnect.com";class Pt{constructor(t,G){this.core=t,this.logger=G,this.keychain=new Map,this.name=tt,this.version=it,this.initialized=!1,this.storagePrefix=N$1,this.init=async()=>{if(!this.initialized){const Te=await this.getKeyChain();typeof Te<"u"&&(this.keychain=Te),this.initialized=!0}},this.has=Te=>(this.isInitialized(),this.keychain.has(Te)),this.set=async(Te,Zr)=>{this.isInitialized(),this.keychain.set(Te,Zr),await this.persist()},this.get=Te=>{this.isInitialized();const Zr=this.keychain.get(Te);if(typeof Zr>"u"){const{message:Ie}=xe("NO_MATCHING_KEY",`${this.name}: ${Te}`);throw new Error(Ie)}return Zr},this.del=async Te=>{this.isInitialized(),this.keychain.delete(Te),await this.persist()},this.core=t,this.logger=E$4(G,this.name)}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,i0(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?n0(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=xe("NOT_INITIALIZED",this.name);throw new Error(t)}}}class xt{constructor(t,G,Te){this.core=t,this.logger=G,this.name=Ze$1,this.randomSessionIdentifier=gu(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=Zr=>(this.isInitialized(),this.keychain.has(Zr)),this.getClientId=async()=>{this.isInitialized();const Zr=await this.getClientSeed(),Ie=generateKeyPair(Zr);return encodeIss(Ie.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const Zr=mu();return this.setPrivateKey(Zr.publicKey,Zr.privateKey)},this.signJWT=async Zr=>{this.isInitialized();const Ie=await this.getClientSeed(),ni=generateKeyPair(Ie),fi=this.randomSessionIdentifier;return await signJWT(fi,Zr,et,ni)},this.generateSharedKey=(Zr,Ie,ni)=>{this.isInitialized();const fi=this.getPrivateKey(Zr),ci=Au(fi,Ie);return this.setSymKey(ci,ni)},this.setSymKey=async(Zr,Ie)=>{this.isInitialized();const ni=Ie||bu(Zr);return await this.keychain.set(ni,Zr),ni},this.deleteKeyPair=async Zr=>{this.isInitialized(),await this.keychain.del(Zr)},this.deleteSymKey=async Zr=>{this.isInitialized(),await this.keychain.del(Zr)},this.encode=async(Zr,Ie,ni)=>{this.isInitialized();const fi=eo(ni),ci=safeJsonStringify(Ie);if(Eu(fi)){const mi=fi.senderPublicKey,di=fi.receiverPublicKey;Zr=await this.generateSharedKey(mi,di)}const ai=this.getSymKey(Zr),{type:si,senderPublicKey:li}=fi;return wu({type:si,symKey:ai,message:ci,senderPublicKey:li})},this.decode=async(Zr,Ie,ni)=>{this.isInitialized();const fi=Mu(Ie,ni);if(Eu(fi)){const ci=fi.receiverPublicKey,ai=fi.senderPublicKey;Zr=await this.generateSharedKey(ci,ai)}try{const ci=this.getSymKey(Zr),ai=xu({symKey:ci,encoded:Ie});return safeJsonParse(ai)}catch(ci){this.logger.error(`Failed to decode message from topic: '${Zr}', clientId: '${await this.getClientId()}'`),this.logger.error(ci)}},this.getPayloadType=Zr=>{const Ie=Xi$1(Zr);return Mr(Ie.type)},this.getPayloadSenderPublicKey=Zr=>{const Ie=Xi$1(Zr);return Ie.senderPublicKey?toString(Ie.senderPublicKey,zt$1):void 0},this.core=t,this.logger=E$4(G,this.name),this.keychain=Te||new Pt(this.core,this.logger)}get context(){return y$3(this.logger)}async setPrivateKey(t,G){return await this.keychain.set(t,G),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(De)}catch{t=gu(),await this.keychain.set(De,t)}return Dr(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=xe("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Ot extends a$1{constructor(t,G){super(t,G),this.logger=t,this.core=G,this.messages=new Map,this.name=st,this.version=rt,this.initialized=!1,this.storagePrefix=N$1,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const Te=await this.getRelayerMessages();typeof Te<"u"&&(this.messages=Te),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(Te){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(Te)}finally{this.initialized=!0}}},this.set=async(Te,Zr)=>{this.isInitialized();const Ie=yu(Zr);let ni=this.messages.get(Te);return typeof ni>"u"&&(ni={}),typeof ni[Ie]<"u"||(ni[Ie]=Zr,this.messages.set(Te,ni),await this.persist()),Ie},this.get=Te=>{this.isInitialized();let Zr=this.messages.get(Te);return typeof Zr>"u"&&(Zr={}),Zr},this.has=(Te,Zr)=>{this.isInitialized();const Ie=this.get(Te),ni=yu(Zr);return typeof Ie[ni]<"u"},this.del=async Te=>{this.isInitialized(),this.messages.delete(Te),await this.persist()},this.logger=E$4(t,this.name),this.core=G}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,i0(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?n0(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=xe("NOT_INITIALIZED",this.name);throw new Error(t)}}}class wr extends u$1{constructor(t,G){super(t,G),this.relayer=t,this.logger=G,this.events=new eventsExports.EventEmitter,this.name=ot,this.queue=new Map,this.publishTimeout=cjs$3.toMiliseconds(cjs$3.ONE_MINUTE),this.failedPublishTimeout=cjs$3.toMiliseconds(cjs$3.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(Te,Zr,Ie)=>{var ni;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:Te,message:Zr,opts:Ie}});const fi=(Ie==null?void 0:Ie.ttl)||nt,ci=Su(Ie),ai=(Ie==null?void 0:Ie.prompt)||!1,si=(Ie==null?void 0:Ie.tag)||0,li=(Ie==null?void 0:Ie.id)||getBigIntRpcId().toString(),mi={topic:Te,message:Zr,opts:{ttl:fi,relay:ci,prompt:ai,tag:si,id:li,attestation:Ie==null?void 0:Ie.attestation}},di=`Failed to publish payload, please try again. id:${li} tag:${si}`,$i=Date.now();let sn,ln=1;try{for(;sn===void 0;){if(Date.now()-$i>this.publishTimeout)throw new Error(di);this.logger.trace({id:li,attempts:ln},`publisher.publish - attempt ${ln}`),sn=await await u0(this.rpcPublish(Te,Zr,fi,ci,ai,si,li,Ie==null?void 0:Ie.attestation).catch(mn=>this.logger.warn(mn)),this.publishTimeout,di),ln++,sn||await new Promise(mn=>setTimeout(mn,this.failedPublishTimeout))}this.relayer.events.emit(f$1.publish,mi),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:li,topic:Te,message:Zr,opts:Ie}})}catch(mn){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(mn),(ni=Ie==null?void 0:Ie.internal)!=null&&ni.throwOnFailedPublish)throw mn;this.queue.set(li,mi)}},this.on=(Te,Zr)=>{this.events.on(Te,Zr)},this.once=(Te,Zr)=>{this.events.once(Te,Zr)},this.off=(Te,Zr)=>{this.events.off(Te,Zr)},this.removeListener=(Te,Zr)=>{this.events.removeListener(Te,Zr)},this.relayer=t,this.logger=E$4(G,this.name),this.registerEventListeners()}get context(){return y$3(this.logger)}rpcPublish(t,G,Te,Zr,Ie,ni,fi,ci){var ai,si,li,mi;const di={method:Nu(Zr.protocol).publish,params:{topic:t,message:G,ttl:Te,prompt:Ie,tag:ni,attestation:ci},id:fi};return Pe((ai=di.params)==null?void 0:ai.prompt)&&((si=di.params)==null||delete si.prompt),Pe((li=di.params)==null?void 0:li.tag)&&((mi=di.params)==null||delete mi.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:di}),this.relayer.request(di)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:G,message:Te,opts:Zr}=t;await this.publish(G,Te,Zr)})}registerEventListeners(){this.relayer.core.heartbeat.on(r$1.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(f$1.connection_stalled);return}this.checkQueue()}),this.relayer.on(f$1.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}class vr{constructor(){this.map=new Map,this.set=(t,G)=>{const Te=this.get(t);this.exists(t,G)||this.map.set(t,[...Te,G])},this.get=t=>this.map.get(t)||[],this.exists=(t,G)=>this.get(t).includes(G),this.delete=(t,G)=>{if(typeof G>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const Te=this.get(t);if(!this.exists(t,G))return;const Zr=Te.filter(Ie=>Ie!==G);if(!Zr.length){this.map.delete(t);return}this.map.set(t,Zr)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Ir=Object.defineProperty,Cr=Object.defineProperties,Tr=Object.getOwnPropertyDescriptors,At=Object.getOwnPropertySymbols,_r=Object.prototype.hasOwnProperty,Rr=Object.prototype.propertyIsEnumerable,zt=(te,t,G)=>t in te?Ir(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,j$2=(te,t)=>{for(var G in t||(t={}))_r.call(t,G)&&zt(te,G,t[G]);if(At)for(var G of At(t))Rr.call(t,G)&&zt(te,G,t[G]);return te},me=(te,t)=>Cr(te,Tr(t));class Nt extends d$1{constructor(t,G){super(t,G),this.relayer=t,this.logger=G,this.subscriptions=new Map,this.topicMap=new vr,this.events=new eventsExports.EventEmitter,this.name=yt,this.version=mt,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=N$1,this.subscribeTimeout=cjs$3.toMiliseconds(cjs$3.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(Te,Zr)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:Te,opts:Zr}});try{const Ie=Su(Zr),ni={topic:Te,relay:Ie};this.pending.set(Te,ni);const fi=await this.rpcSubscribe(Te,Ie);return typeof fi=="string"&&(this.onSubscribe(fi,ni),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:Te,opts:Zr}})),fi}catch(Ie){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(Ie),Ie}},this.unsubscribe=async(Te,Zr)=>{await this.restartToComplete(),this.isInitialized(),typeof(Zr==null?void 0:Zr.id)<"u"?await this.unsubscribeById(Te,Zr.id,Zr):await this.unsubscribeByTopic(Te,Zr)},this.isSubscribed=async Te=>{if(this.topics.includes(Te))return!0;const Zr=`${this.pendingSubscriptionWatchLabel}_${Te}`;return await new Promise((Ie,ni)=>{const fi=new cjs$3.Watch;fi.start(Zr);const ci=setInterval(()=>{!this.pending.has(Te)&&this.topics.includes(Te)&&(clearInterval(ci),fi.stop(Zr),Ie(!0)),fi.elapsed(Zr)>=bt&&(clearInterval(ci),fi.stop(Zr),ni(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(Te,Zr)=>{this.events.on(Te,Zr)},this.once=(Te,Zr)=>{this.events.once(Te,Zr)},this.off=(Te,Zr)=>{this.events.off(Te,Zr)},this.removeListener=(Te,Zr)=>{this.events.removeListener(Te,Zr)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=E$4(G,this.name),this.clientId=""}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,G){let Te=!1;try{Te=this.getSubscription(t).topic===G}catch{}return Te}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,G){const Te=this.topicMap.get(t);await Promise.all(Te.map(async Zr=>await this.unsubscribeById(t,Zr,G)))}async unsubscribeById(t,G,Te){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:G,opts:Te}});try{const Zr=Su(Te);await this.rpcUnsubscribe(t,G,Zr);const Ie=tr$1("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,G,Ie),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:G,opts:Te}})}catch(Zr){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(Zr),Zr}}async rpcSubscribe(t,G){const Te={method:Nu(G.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:Te});try{return await await u0(this.relayer.request(Te).catch(Zr=>this.logger.warn(Zr)),this.subscribeTimeout)?yu(t+this.clientId):null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(f$1.connection_stalled)}return null}async rpcBatchSubscribe(t){if(!t.length)return;const G=t[0].relay,Te={method:Nu(G.protocol).batchSubscribe,params:{topics:t.map(Zr=>Zr.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:Te});try{return await await u0(this.relayer.request(Te).catch(Zr=>this.logger.warn(Zr)),this.subscribeTimeout)}catch{this.relayer.events.emit(f$1.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const G=t[0].relay,Te={method:Nu(G.protocol).batchFetchMessages,params:{topics:t.map(Ie=>Ie.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:Te});let Zr;try{Zr=await await u0(this.relayer.request(Te).catch(Ie=>this.logger.warn(Ie)),this.subscribeTimeout)}catch{this.relayer.events.emit(f$1.connection_stalled)}return Zr}rpcUnsubscribe(t,G,Te){const Zr={method:Nu(Te.protocol).unsubscribe,params:{topic:t,id:G}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:Zr}),this.relayer.request(Zr)}onSubscribe(t,G){this.setSubscription(t,me(j$2({},G),{id:t})),this.pending.delete(G.topic)}onBatchSubscribe(t){t.length&&t.forEach(G=>{this.setSubscription(G.id,j$2({},G)),this.pending.delete(G.topic)})}async onUnsubscribe(t,G,Te){this.events.removeAllListeners(G),this.hasSubscription(G,t)&&this.deleteSubscription(G,Te),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,G){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:G}),this.addSubscription(t,G)}addSubscription(t,G){this.subscriptions.set(t,j$2({},G)),this.topicMap.set(G.topic,t),this.events.emit(S$1.created,G)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const G=this.subscriptions.get(t);if(!G){const{message:Te}=xe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(Te)}return G}deleteSubscription(t,G){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:G});const Te=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(Te.topic,t),this.events.emit(S$1.deleted,me(j$2({},Te),{reason:G}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(S$1.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let G=0;G<t;G++){const Te=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(Te),await this.batchSubscribe(Te)}}this.events.emit(S$1.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:G}=xe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(G),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(G)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const G=await this.rpcBatchSubscribe(t);Er$1(G)&&this.onBatchSubscribe(G.map((Te,Zr)=>me(j$2({},t[Zr]),{id:Te})))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const G=await this.rpcBatchFetchMessages(t);G&&G.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(G.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const t=[];this.pending.forEach(G=>{t.push(G)}),await this.batchSubscribe(t),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(r$1.pulse,async()=>{await this.checkPending()}),this.events.on(S$1.created,async t=>{const G=S$1.created;this.logger.info(`Emitting ${G}`),this.logger.debug({type:"event",event:G,data:t}),await this.persist()}),this.events.on(S$1.deleted,async t=>{const G=S$1.deleted;this.logger.info(`Emitting ${G}`),this.logger.debug({type:"event",event:G,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=xe("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise(t=>{const G=setInterval(()=>{this.restartInProgress||(clearInterval(G),t())},this.pollingInterval)})}}var Sr=Object.defineProperty,Lt$1=Object.getOwnPropertySymbols,Pr=Object.prototype.hasOwnProperty,xr=Object.prototype.propertyIsEnumerable,Ut=(te,t,G)=>t in te?Sr(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,Or=(te,t)=>{for(var G in t||(t={}))Pr.call(t,G)&&Ut(te,G,t[G]);if(Lt$1)for(var G of Lt$1(t))xr.call(t,G)&&Ut(te,G,t[G]);return te};class Ft extends g$2{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new eventsExports.EventEmitter,this.name=ct,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=cjs$3.toMiliseconds(cjs$3.THIRTY_SECONDS+cjs$3.ONE_SECOND),this.request=async G=>{var Te,Zr;this.logger.debug("Publishing Request Payload");const Ie=G.id||getBigIntRpcId().toString();await this.toEstablishConnection();try{const ni=this.provider.request(G);this.requestsInFlight.set(Ie,{promise:ni,request:G}),this.logger.trace({id:Ie,method:G.method,topic:(Te=G.params)==null?void 0:Te.topic},"relayer.request - attempt to publish...");const fi=await new Promise(async(ci,ai)=>{const si=()=>{ai(new Error(`relayer.request - publish interrupted, id: ${Ie}`))};this.provider.on(E$2.disconnect,si);const li=await ni;this.provider.off(E$2.disconnect,si),ci(li)});return this.logger.trace({id:Ie,method:G.method,topic:(Zr=G.params)==null?void 0:Zr.topic},"relayer.request - published"),fi}catch(ni){throw this.logger.debug(`Failed to Publish Request: ${Ie}`),ni}finally{this.requestsInFlight.delete(Ie)}},this.resetPingTimeout=()=>{if(pi())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var G,Te,Zr;(Zr=(Te=(G=this.provider)==null?void 0:G.connection)==null?void 0:Te.socket)==null||Zr.terminate()},this.heartBeatTimeout)}catch(G){this.logger.warn(G)}},this.onPayloadHandler=G=>{this.onProviderPayload(G),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(f$1.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=G=>{this.logger.error(G),this.events.emit(f$1.error,G),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(E$2.payload,this.onPayloadHandler),this.provider.on(E$2.connect,this.onConnectHandler),this.provider.on(E$2.disconnect,this.onDisconnectHandler),this.provider.on(E$2.error,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?E$4(t.logger,this.name):Wg(k({level:t.logger||ht})),this.messages=new Ot(this.logger,t.core),this.subscriber=new Nt(this,this.logger),this.publisher=new wr(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||ye,this.projectId=t.projectId,this.bundleId=Wo(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),await this.transportOpen(),this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&this.subscriber.pending.size===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},gt)}get context(){return y$3(this.logger)}get connected(){var t,G,Te;return((Te=(G=(t=this.provider)==null?void 0:t.connection)==null?void 0:G.socket)==null?void 0:Te.readyState)===1}get connecting(){var t,G,Te;return((Te=(G=(t=this.provider)==null?void 0:t.connection)==null?void 0:G.socket)==null?void 0:Te.readyState)===0}async publish(t,G,Te){this.isInitialized(),await this.publisher.publish(t,G,Te),await this.recordMessageEvent({topic:t,message:G,publishedAt:Date.now()})}async subscribe(t,G){var Te;this.isInitialized();let Zr=((Te=this.subscriber.topicMap.get(t))==null?void 0:Te[0])||"",Ie;const ni=fi=>{fi.topic===t&&(this.subscriber.off(S$1.created,ni),Ie())};return await Promise.all([new Promise(fi=>{Ie=fi,this.subscriber.on(S$1.created,ni)}),new Promise(async fi=>{Zr=await this.subscriber.subscribe(t,G)||Zr,fi()})]),Zr}async unsubscribe(t,G){this.isInitialized(),await this.subscriber.unsubscribe(t,G)}on(t,G){this.events.on(t,G)}once(t,G){this.events.once(t,G)}off(t,G){this.events.off(t,G)}removeListener(t,G){this.events.removeListener(t,G)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(t=>t.promise))}catch(t){this.logger.warn(t)}this.hasExperiencedNetworkDisruption||this.connected?await u0(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(G,Te)=>{const Zr=()=>{this.provider.off(E$2.disconnect,Zr),Te(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(E$2.disconnect,Zr),await u0(this.provider.connect(),cjs$3.toMiliseconds(cjs$3.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(Ie=>{Te(Ie)}),this.subscriber.start().catch(Ie=>{this.logger.error(Ie),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,G()})}catch(G){this.logger.error(G);const Te=G;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(Te.message))throw G}finally{this.connectionAttemptInProgress=!1}}async restartTransport(t){this.connectionAttemptInProgress||(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await hh())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if((t==null?void 0:t.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const G=t.sort((Te,Zr)=>Te.publishedAt-Zr.publishedAt);this.logger.trace(`Batch of ${G.length} message events sorted`);for(const Te of G)try{await this.onMessageEvent(Te)}catch(Zr){this.logger.warn(Zr)}this.logger.trace(`Batch of ${G.length} message events processed`)}startPingTimeout(){var t,G,Te,Zr,Ie;if(pi())try{(G=(t=this.provider)==null?void 0:t.connection)!=null&&G.socket&&((Ie=(Zr=(Te=this.provider)==null?void 0:Te.connection)==null?void 0:Zr.socket)==null||Ie.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(ni){this.logger.warn(ni)}}isConnectionStalled(t){return this.staleConnectionErrors.some(G=>t.includes(G))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new o$1(new f$2($o({sdkVersion:dt,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:G,message:Te}=t;await this.messages.set(G,Te)}async shouldIgnoreMessageEvent(t){const{topic:G,message:Te}=t;if(!Te||Te.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${Te}`),!0;if(!await this.subscriber.isSubscribed(G))return this.logger.debug(`Ignoring message for non-subscribed topic ${G}`),!0;const Zr=this.messages.has(G,Te);return Zr&&this.logger.debug(`Ignoring duplicate message: ${Te}`),Zr}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),isJsonRpcRequest(t)){if(!t.method.endsWith(lt))return;const G=t.params,{topic:Te,message:Zr,publishedAt:Ie,attestation:ni}=G.data,fi={topic:Te,message:Zr,publishedAt:Ie,attestation:ni};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Or({type:"event",event:G.id},fi)),this.events.emit(G.id,fi),await this.acknowledgePayload(t),await this.onMessageEvent(fi)}else isJsonRpcResponse(t)&&this.events.emit(f$1.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(f$1.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const G=formatJsonRpcResult(t.id,!0);await this.provider.connection.send(G)}unregisterProviderListeners(){this.provider.off(E$2.payload,this.onPayloadHandler),this.provider.off(E$2.connect,this.onConnectHandler),this.provider.off(E$2.disconnect,this.onDisconnectHandler),this.provider.off(E$2.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await hh();ch(async G=>{t!==G&&(t=G,G?await this.restartTransport().catch(Te=>this.logger.error(Te)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(f$1.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t))},cjs$3.toMiliseconds(ut))}isInitialized(){if(!this.initialized){const{message:t}=xe("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(t=>{const G=setInterval(()=>{this.connected&&(clearInterval(G),t())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var Ar=Object.defineProperty,$t=Object.getOwnPropertySymbols,zr=Object.prototype.hasOwnProperty,Nr=Object.prototype.propertyIsEnumerable,Mt=(te,t,G)=>t in te?Ar(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,Bt$1=(te,t)=>{for(var G in t||(t={}))zr.call(t,G)&&Mt(te,G,t[G]);if($t)for(var G of $t(t))Nr.call(t,G)&&Mt(te,G,t[G]);return te};class kt extends p$2{constructor(t,G,Te,Zr=N$1,Ie=void 0){super(t,G,Te,Zr),this.core=t,this.logger=G,this.name=Te,this.map=new Map,this.version=pt,this.cached=[],this.initialized=!1,this.storagePrefix=N$1,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(ni=>{this.getKey&&ni!==null&&!Pe(ni)?this.map.set(this.getKey(ni),ni):Gu(ni)?this.map.set(ni.id,ni):Yu(ni)&&this.map.set(ni.topic,ni)}),this.cached=[],this.initialized=!0)},this.set=async(ni,fi)=>{this.isInitialized(),this.map.has(ni)?await this.update(ni,fi):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:ni,value:fi}),this.map.set(ni,fi),await this.persist())},this.get=ni=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:ni}),this.getData(ni)),this.getAll=ni=>(this.isInitialized(),ni?this.values.filter(fi=>Object.keys(ni).every(ci=>ji(fi[ci],ni[ci]))):this.values),this.update=async(ni,fi)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:ni,update:fi});const ci=Bt$1(Bt$1({},this.getData(ni)),fi);this.map.set(ni,ci),await this.persist()},this.delete=async(ni,fi)=>{this.isInitialized(),this.map.has(ni)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:ni,reason:fi}),this.map.delete(ni),this.addToRecentlyDeleted(ni),await this.persist())},this.logger=E$4(G,this.name),this.storagePrefix=Zr,this.getKey=Ie}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const G=this.map.get(t);if(!G){if(this.recentlyDeleted.includes(t)){const{message:Zr}=xe("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(Zr),new Error(Zr)}const{message:Te}=xe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(Te),new Error(Te)}return G}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:G}=xe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(G),new Error(G)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=xe("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Kt{constructor(t,G){this.core=t,this.logger=G,this.name=ft,this.version=Et,this.events=new Gg,this.initialized=!1,this.storagePrefix=N$1,this.ignoredPayloadTypes=[lr$2],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:Te})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...Te])]},this.create=async Te=>{this.isInitialized();const Zr=gu(),Ie=await this.core.crypto.setSymKey(Zr),ni=d0(cjs$3.FIVE_MINUTES),fi={protocol:at},ci={topic:Ie,expiry:ni,relay:fi,active:!1},ai=Du({protocol:this.core.protocol,version:this.core.version,topic:Ie,symKey:Zr,relay:fi,expiryTimestamp:ni,methods:Te==null?void 0:Te.methods});return this.core.expirer.set(Ie,ni),await this.pairings.set(Ie,ci),await this.core.relayer.subscribe(Ie),{topic:Ie,uri:ai}},this.pair=async Te=>{this.isInitialized(),this.isValidPair(Te);const{topic:Zr,symKey:Ie,relay:ni,expiryTimestamp:fi,methods:ci}=Pu(Te.uri);let ai;if(this.pairings.keys.includes(Zr)&&(ai=this.pairings.get(Zr),ai.active))throw new Error(`Pairing already exists: ${Zr}. Please try again with a new connection URI.`);const si=fi||d0(cjs$3.FIVE_MINUTES),li={topic:Zr,relay:ni,expiry:si,active:!1,methods:ci};return this.core.expirer.set(Zr,si),await this.pairings.set(Zr,li),Te.activatePairing&&await this.activate({topic:Zr}),this.events.emit(q$1.create,li),this.core.crypto.keychain.has(Zr)||await this.core.crypto.setSymKey(Ie,Zr),await this.core.relayer.subscribe(Zr,{relay:ni}),li},this.activate=async({topic:Te})=>{this.isInitialized();const Zr=d0(cjs$3.THIRTY_DAYS);this.core.expirer.set(Te,Zr),await this.pairings.update(Te,{active:!0,expiry:Zr})},this.ping=async Te=>{this.isInitialized(),await this.isValidPing(Te);const{topic:Zr}=Te;if(this.pairings.keys.includes(Zr)){const Ie=await this.sendRequest(Zr,"wc_pairingPing",{}),{done:ni,resolve:fi,reject:ci}=a0();this.events.once(v0("pairing_ping",Ie),({error:ai})=>{ai?ci(ai):fi()}),await ni()}},this.updateExpiry=async({topic:Te,expiry:Zr})=>{this.isInitialized(),await this.pairings.update(Te,{expiry:Zr})},this.updateMetadata=async({topic:Te,metadata:Zr})=>{this.isInitialized(),await this.pairings.update(Te,{peerMetadata:Zr})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async Te=>{this.isInitialized(),await this.isValidDisconnect(Te);const{topic:Zr}=Te;this.pairings.keys.includes(Zr)&&(await this.sendRequest(Zr,"wc_pairingDelete",tr$1("USER_DISCONNECTED")),await this.deletePairing(Zr))},this.sendRequest=async(Te,Zr,Ie)=>{const ni=formatJsonRpcRequest(Zr,Ie),fi=await this.core.crypto.encode(Te,ni),ci=M$1[Zr].req;return this.core.history.set(Te,ni),this.core.relayer.publish(Te,fi,ci),ni.id},this.sendResult=async(Te,Zr,Ie)=>{const ni=formatJsonRpcResult(Te,Ie),fi=await this.core.crypto.encode(Zr,ni),ci=await this.core.history.get(Zr,Te),ai=M$1[ci.request.method].res;await this.core.relayer.publish(Zr,fi,ai),await this.core.history.resolve(ni)},this.sendError=async(Te,Zr,Ie)=>{const ni=formatJsonRpcError(Te,Ie),fi=await this.core.crypto.encode(Zr,ni),ci=await this.core.history.get(Zr,Te),ai=M$1[ci.request.method]?M$1[ci.request.method].res:M$1.unregistered_method.res;await this.core.relayer.publish(Zr,fi,ai),await this.core.history.resolve(ni)},this.deletePairing=async(Te,Zr)=>{await this.core.relayer.unsubscribe(Te),await Promise.all([this.pairings.delete(Te,tr$1("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(Te),Zr?Promise.resolve():this.core.expirer.del(Te)])},this.cleanup=async()=>{const Te=this.pairings.getAll().filter(Zr=>p0(Zr.expiry));await Promise.all(Te.map(Zr=>this.deletePairing(Zr.topic)))},this.onRelayEventRequest=Te=>{const{topic:Zr,payload:Ie}=Te;switch(Ie.method){case"wc_pairingPing":return this.onPairingPingRequest(Zr,Ie);case"wc_pairingDelete":return this.onPairingDeleteRequest(Zr,Ie);default:return this.onUnknownRpcMethodRequest(Zr,Ie)}},this.onRelayEventResponse=async Te=>{const{topic:Zr,payload:Ie}=Te,ni=(await this.core.history.get(Zr,Ie.id)).request.method;switch(ni){case"wc_pairingPing":return this.onPairingPingResponse(Zr,Ie);default:return this.onUnknownRpcMethodResponse(ni)}},this.onPairingPingRequest=async(Te,Zr)=>{const{id:Ie}=Zr;try{this.isValidPing({topic:Te}),await this.sendResult(Ie,Te,!0),this.events.emit(q$1.ping,{id:Ie,topic:Te})}catch(ni){await this.sendError(Ie,Te,ni),this.logger.error(ni)}},this.onPairingPingResponse=(Te,Zr)=>{const{id:Ie}=Zr;setTimeout(()=>{isJsonRpcResult(Zr)?this.events.emit(v0("pairing_ping",Ie),{}):isJsonRpcError(Zr)&&this.events.emit(v0("pairing_ping",Ie),{error:Zr.error})},500)},this.onPairingDeleteRequest=async(Te,Zr)=>{const{id:Ie}=Zr;try{this.isValidDisconnect({topic:Te}),await this.deletePairing(Te),this.events.emit(q$1.delete,{id:Ie,topic:Te})}catch(ni){await this.sendError(Ie,Te,ni),this.logger.error(ni)}},this.onUnknownRpcMethodRequest=async(Te,Zr)=>{const{id:Ie,method:ni}=Zr;try{if(this.registeredMethods.includes(ni))return;const fi=tr$1("WC_METHOD_UNSUPPORTED",ni);await this.sendError(Ie,Te,fi),this.logger.error(fi)}catch(fi){await this.sendError(Ie,Te,fi),this.logger.error(fi)}},this.onUnknownRpcMethodResponse=Te=>{this.registeredMethods.includes(Te)||this.logger.error(tr$1("WC_METHOD_UNSUPPORTED",Te))},this.isValidPair=Te=>{var Zr;if(!$u(Te)){const{message:ni}=xe("MISSING_OR_INVALID",`pair() params: ${Te}`);throw new Error(ni)}if(!Ju(Te.uri)){const{message:ni}=xe("MISSING_OR_INVALID",`pair() uri: ${Te.uri}`);throw new Error(ni)}const Ie=Pu(Te.uri);if(!((Zr=Ie==null?void 0:Ie.relay)!=null&&Zr.protocol)){const{message:ni}=xe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(ni)}if(!(Ie!=null&&Ie.symKey)){const{message:ni}=xe("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(ni)}if(Ie!=null&&Ie.expiryTimestamp&&cjs$3.toMiliseconds(Ie==null?void 0:Ie.expiryTimestamp)<Date.now()){const{message:ni}=xe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(ni)}},this.isValidPing=async Te=>{if(!$u(Te)){const{message:Ie}=xe("MISSING_OR_INVALID",`ping() params: ${Te}`);throw new Error(Ie)}const{topic:Zr}=Te;await this.isValidPairingTopic(Zr)},this.isValidDisconnect=async Te=>{if(!$u(Te)){const{message:Ie}=xe("MISSING_OR_INVALID",`disconnect() params: ${Te}`);throw new Error(Ie)}const{topic:Zr}=Te;await this.isValidPairingTopic(Zr)},this.isValidPairingTopic=async Te=>{if(!Gt$1(Te,!1)){const{message:Zr}=xe("MISSING_OR_INVALID",`pairing topic should be a string: ${Te}`);throw new Error(Zr)}if(!this.pairings.keys.includes(Te)){const{message:Zr}=xe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${Te}`);throw new Error(Zr)}if(p0(this.pairings.get(Te).expiry)){await this.deletePairing(Te);const{message:Zr}=xe("EXPIRED",`pairing topic: ${Te}`);throw new Error(Zr)}},this.core=t,this.logger=E$4(G,this.name),this.pairings=new kt(this.core,this.logger,this.name,this.storagePrefix)}get context(){return y$3(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=xe("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(f$1.message,async t=>{const{topic:G,message:Te}=t;if(!this.pairings.keys.includes(G)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(Te)))return;const Zr=await this.core.crypto.decode(G,Te);try{isJsonRpcRequest(Zr)?(this.core.history.set(G,Zr),this.onRelayEventRequest({topic:G,payload:Zr})):isJsonRpcResponse(Zr)&&(await this.core.history.resolve(Zr),await this.onRelayEventResponse({topic:G,payload:Zr}),this.core.history.delete(G,Zr.id))}catch(Ie){this.logger.error(Ie)}})}registerExpirerEvents(){this.core.expirer.on(C$1.expired,async t=>{const{topic:G}=l0(t.target);G&&this.pairings.keys.includes(G)&&(await this.deletePairing(G,!0),this.events.emit(q$1.expire,{topic:G}))})}}class qt extends h$1{constructor(t,G){super(t,G),this.core=t,this.logger=G,this.records=new Map,this.events=new eventsExports.EventEmitter,this.name=wt,this.version=vt,this.cached=[],this.initialized=!1,this.storagePrefix=N$1,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(Te=>this.records.set(Te.id,Te)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(Te,Zr,Ie)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:Te,request:Zr,chainId:Ie}),this.records.has(Zr.id))return;const ni={id:Zr.id,topic:Te,request:{method:Zr.method,params:Zr.params||null},chainId:Ie,expiry:d0(cjs$3.THIRTY_DAYS)};this.records.set(ni.id,ni),this.persist(),this.events.emit(I.created,ni)},this.resolve=async Te=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:Te}),!this.records.has(Te.id))return;const Zr=await this.getRecord(Te.id);typeof Zr.response>"u"&&(Zr.response=isJsonRpcError(Te)?{error:Te.error}:{result:Te.result},this.records.set(Zr.id,Zr),this.persist(),this.events.emit(I.updated,Zr))},this.get=async(Te,Zr)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:Te,id:Zr}),await this.getRecord(Zr)),this.delete=(Te,Zr)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:Zr}),this.values.forEach(Ie=>{if(Ie.topic===Te){if(typeof Zr<"u"&&Ie.id!==Zr)return;this.records.delete(Ie.id),this.events.emit(I.deleted,Ie)}}),this.persist()},this.exists=async(Te,Zr)=>(this.isInitialized(),this.records.has(Zr)?(await this.getRecord(Zr)).topic===Te:!1),this.on=(Te,Zr)=>{this.events.on(Te,Zr)},this.once=(Te,Zr)=>{this.events.once(Te,Zr)},this.off=(Te,Zr)=>{this.events.off(Te,Zr)},this.removeListener=(Te,Zr)=>{this.events.removeListener(Te,Zr)},this.logger=E$4(G,this.name)}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(G=>{if(typeof G.response<"u")return;const Te={topic:G.topic,request:formatJsonRpcRequest(G.request.method,G.request.params,G.id),chainId:G.chainId};return t.push(Te)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const G=this.records.get(t);if(!G){const{message:Te}=xe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(Te)}return G}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(I.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:G}=xe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(G),new Error(G)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(I.created,t=>{const G=I.created;this.logger.info(`Emitting ${G}`),this.logger.debug({type:"event",event:G,record:t})}),this.events.on(I.updated,t=>{const G=I.updated;this.logger.info(`Emitting ${G}`),this.logger.debug({type:"event",event:G,record:t})}),this.events.on(I.deleted,t=>{const G=I.deleted;this.logger.info(`Emitting ${G}`),this.logger.debug({type:"event",event:G,record:t})}),this.core.heartbeat.on(r$1.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(G=>{cjs$3.toMiliseconds(G.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${G.id}`),this.records.delete(G.id),this.events.emit(I.deleted,G,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=xe("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Vt extends E$3{constructor(t,G){super(t,G),this.core=t,this.logger=G,this.expirations=new Map,this.events=new eventsExports.EventEmitter,this.name=It,this.version=Ct,this.cached=[],this.initialized=!1,this.storagePrefix=N$1,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(Te=>this.expirations.set(Te.target,Te)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=Te=>{try{const Zr=this.formatTarget(Te);return typeof this.getExpiration(Zr)<"u"}catch{return!1}},this.set=(Te,Zr)=>{this.isInitialized();const Ie=this.formatTarget(Te),ni={target:Ie,expiry:Zr};this.expirations.set(Ie,ni),this.checkExpiry(Ie,ni),this.events.emit(C$1.created,{target:Ie,expiration:ni})},this.get=Te=>{this.isInitialized();const Zr=this.formatTarget(Te);return this.getExpiration(Zr)},this.del=Te=>{if(this.isInitialized(),this.has(Te)){const Zr=this.formatTarget(Te),Ie=this.getExpiration(Zr);this.expirations.delete(Zr),this.events.emit(C$1.deleted,{target:Zr,expiration:Ie})}},this.on=(Te,Zr)=>{this.events.on(Te,Zr)},this.once=(Te,Zr)=>{this.events.once(Te,Zr)},this.off=(Te,Zr)=>{this.events.off(Te,Zr)},this.removeListener=(Te,Zr)=>{this.events.removeListener(Te,Zr)},this.logger=E$4(G,this.name)}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return h0(t);if(typeof t=="number")return c0(t);const{message:G}=xe("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(G)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(C$1.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:G}=xe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(G),new Error(G)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const G=this.expirations.get(t);if(!G){const{message:Te}=xe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(Te),new Error(Te)}return G}checkExpiry(t,G){const{expiry:Te}=G;cjs$3.toMiliseconds(Te)-Date.now()<=0&&this.expire(t,G)}expire(t,G){this.expirations.delete(t),this.events.emit(C$1.expired,{target:t,expiration:G})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,G)=>this.checkExpiry(G,t))}registerEventListeners(){this.core.heartbeat.on(r$1.pulse,()=>this.checkExpirations()),this.events.on(C$1.created,t=>{const G=C$1.created;this.logger.info(`Emitting ${G}`),this.logger.debug({type:"event",event:G,data:t}),this.persist()}),this.events.on(C$1.expired,t=>{const G=C$1.expired;this.logger.info(`Emitting ${G}`),this.logger.debug({type:"event",event:G,data:t}),this.persist()}),this.events.on(C$1.deleted,t=>{const G=C$1.deleted;this.logger.info(`Emitting ${G}`),this.logger.debug({type:"event",event:G,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=xe("NOT_INITIALIZED",this.name);throw new Error(t)}}}class jt extends y$2{constructor(t,G){super(t,G),this.projectId=t,this.logger=G,this.name=Z,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async Te=>{if(this.verifyDisabled||er$1()||!pr$2())return;const Zr=this.getVerifyUrl(Te==null?void 0:Te.verifyUrl);this.verifyUrl!==Zr&&this.removeIframe(),this.verifyUrl=Zr;try{await this.createIframe()}catch(Ie){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(Ie),this.verifyDisabled=!0}},this.register=async Te=>{this.initialized?this.sendPost(Te.attestationId):(this.addToQueue(Te.attestationId),await this.init())},this.resolve=async Te=>{if(this.isDevEnv)return"";const Zr=this.getVerifyUrl(Te==null?void 0:Te.verifyUrl);return this.fetchAttestation(Te.attestationId,Zr)},this.fetchAttestation=async(Te,Zr)=>{this.logger.info(`resolving attestation: ${Te} from url: ${Zr}`);const Ie=this.startAbortTimer(cjs$3.ONE_SECOND*5),ni=await fetch(`${Zr}/attestation/${Te}`,{signal:this.abortController.signal});return clearTimeout(Ie),ni.status===200?await ni.json():void 0},this.addToQueue=Te=>{this.queue.push(Te)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(Te=>this.sendPost(Te)),this.queue=[])},this.sendPost=Te=>{var Zr;try{if(!this.iframe)return;(Zr=this.iframe.contentWindow)==null||Zr.postMessage(Te,"*"),this.logger.info(`postMessage sent: ${Te} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let Te;const Zr=Ie=>{Ie.data==="verify_ready"&&(this.onInit(),window.removeEventListener("message",Zr),Te())};await Promise.race([new Promise(Ie=>{const ni=document.getElementById(Z);if(ni)return this.iframe=ni,this.onInit(),Ie();window.addEventListener("message",Zr);const fi=document.createElement("iframe");fi.id=Z,fi.src=`${this.verifyUrl}/${this.projectId}`,fi.style.display="none",document.body.append(fi),this.iframe=fi,Te=Ie}),new Promise((Ie,ni)=>setTimeout(()=>{window.removeEventListener("message",Zr),ni("verify iframe load timeout")},cjs$3.toMiliseconds(cjs$3.FIVE_SECONDS)))])},this.onInit=()=>{this.initialized=!0,this.processQueue()},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=Te=>{let Zr=Te||V;return _t.includes(Zr)||(this.logger.info(`verify url: ${Zr}, not included in trusted list, assigning default: ${V}`),Zr=V),Zr},this.logger=E$4(G,this.name),this.verifyUrl=V,this.abortController=new AbortController,this.isDevEnv=pi()&&define_process_env_default.IS_VITEST}get context(){return y$3(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjs$3.toMiliseconds(t))}}class Gt extends v$2{constructor(t,G){super(t,G),this.projectId=t,this.logger=G,this.context=Rt,this.registerDeviceToken=async Te=>{const{clientId:Zr,token:Ie,notificationType:ni,enableEncrypted:fi=!1}=Te,ci=`${St}/${this.projectId}/clients`;await fetch(ci,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:Zr,type:ni,token:Ie,always_raw:fi})})},this.logger=E$4(G,this.context)}}var Lr=Object.defineProperty,Ht=Object.getOwnPropertySymbols,Ur=Object.prototype.hasOwnProperty,Fr=Object.prototype.propertyIsEnumerable,Yt$1=(te,t,G)=>t in te?Lr(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,Jt$1=(te,t)=>{for(var G in t||(t={}))Ur.call(t,G)&&Yt$1(te,G,t[G]);if(Ht)for(var G of Ht(t))Fr.call(t,G)&&Yt$1(te,G,t[G]);return te};class ee extends n$1{constructor(t){var G;super(t),this.protocol=pe,this.version=Xe$1,this.name=Q$1,this.events=new eventsExports.EventEmitter,this.initialized=!1,this.on=(ni,fi)=>this.events.on(ni,fi),this.once=(ni,fi)=>this.events.once(ni,fi),this.off=(ni,fi)=>this.events.off(ni,fi),this.removeListener=(ni,fi)=>this.events.removeListener(ni,fi),this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||ye,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const Te=k({level:typeof(t==null?void 0:t.logger)=="string"&&t.logger?t.logger:We$1.logger}),{logger:Zr,chunkLoggerController:Ie}=A({opts:Te,maxSizeInBytes:t==null?void 0:t.maxLogBlobSizeInBytes,loggerOverride:t==null?void 0:t.logger});this.logChunkController=Ie,(G=this.logChunkController)!=null&&G.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var ni,fi;(ni=this.logChunkController)!=null&&ni.downloadLogsBlobInBrowser&&((fi=this.logChunkController)==null||fi.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=E$4(Zr,this.name),this.heartbeat=new i$1,this.crypto=new xt(this,this.logger,t==null?void 0:t.keychain),this.history=new qt(this,this.logger),this.expirer=new Vt(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new h$2(Jt$1(Jt$1({},Qe$1),t==null?void 0:t.storageOptions)),this.relayer=new Ft({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Kt(this,this.logger),this.verify=new jt(this.projectId||"",this.logger),this.echoClient=new Gt(this.projectId||"",this.logger)}static async init(t){const G=new ee(t);await G.initialize();const Te=await G.crypto.getClientId();return await G.storage.setItem(Dt,Te),G}get context(){return y$3(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const $r=ee,Se="wc",Ee=2,_e$1="client",ie=`${Se}@${Ee}:${_e$1}:`,re={name:_e$1,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},fe="WALLETCONNECT_DEEPLINK_CHOICE",Ue="proposal",Ge="Proposal expired",ke="session",$$1=cjs$3.SEVEN_DAYS,je="engine",R={wc_sessionPropose:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1114},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:cjs$3.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:cjs$3.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1119}}},ne={min:cjs$3.FIVE_MINUTES,max:cjs$3.SEVEN_DAYS},D$1={idle:"IDLE",active:"ACTIVE"},Fe="request",Qe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],ze="wc",He="auth",Ye="authKeys",Xe="pairingTopics",Je="requests",J=`${ze}@${1.5}:${He}:`,B=`${J}:PUB_KEY`;var Yt=Object.defineProperty,Xt=Object.defineProperties,Jt=Object.getOwnPropertyDescriptors,Be=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable,We=(te,t,G)=>t in te?Yt(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,m$1=(te,t)=>{for(var G in t||(t={}))Bt.call(t,G)&&We(te,G,t[G]);if(Be)for(var G of Be(t))Wt.call(t,G)&&We(te,G,t[G]);return te},L$2=(te,t)=>Xt(te,Jt(t));class Zt extends w$2{constructor(t){super(t),this.name=je,this.events=new Gg,this.initialized=!1,this.requestQueue={state:D$1.idle,queue:[]},this.sessionRequestQueue={state:D$1.idle,queue:[]},this.requestQueueDelay=cjs$3.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(R)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},cjs$3.toMiliseconds(this.requestQueueDelay)))},this.connect=async G=>{await this.isInitialized();const Te=L$2(m$1({},G),{requiredNamespaces:G.requiredNamespaces||{},optionalNamespaces:G.optionalNamespaces||{}});await this.isValidConnect(Te);const{pairingTopic:Zr,requiredNamespaces:Ie,optionalNamespaces:ni,sessionProperties:fi,relays:ci}=Te;let ai=Zr,si,li=!1;try{ai&&(li=this.client.core.pairing.pairings.get(ai).active)}catch(vn){throw this.client.logger.error(`connect() -> pairing.get(${ai}) failed`),vn}if(!ai||!li){const{topic:vn,uri:Cn}=await this.client.core.pairing.create();ai=vn,si=Cn}if(!ai){const{message:vn}=xe("NO_MATCHING_KEY",`connect() pairing topic: ${ai}`);throw new Error(vn)}const mi=await this.client.core.crypto.generateKeyPair(),di=R.wc_sessionPropose.req.ttl||cjs$3.FIVE_MINUTES,$i=d0(di),sn=m$1({requiredNamespaces:Ie,optionalNamespaces:ni,relays:ci??[{protocol:at}],proposer:{publicKey:mi,metadata:this.client.metadata},expiryTimestamp:$i,pairingTopic:ai},fi&&{sessionProperties:fi}),{reject:ln,resolve:mn,done:cn}=a0(di,Ge);this.events.once(v0("session_connect"),async({error:vn,session:Cn})=>{if(vn)ln(vn);else if(Cn){Cn.self.publicKey=mi;const ho=L$2(m$1({},Cn),{pairingTopic:sn.pairingTopic,requiredNamespaces:sn.requiredNamespaces,optionalNamespaces:sn.optionalNamespaces});await this.client.session.set(Cn.topic,ho),await this.setExpiry(Cn.topic,Cn.expiry),ai&&await this.client.core.pairing.updateMetadata({topic:ai,metadata:Cn.peer.metadata}),this.cleanupDuplicatePairings(ho),mn(ho)}});const Rn=await this.sendRequest({topic:ai,method:"wc_sessionPropose",params:sn,throwOnFailedPublish:!0});return await this.setProposal(Rn,m$1({id:Rn},sn)),{uri:si,approval:cn}},this.pair=async G=>{await this.isInitialized();try{return await this.client.core.pairing.pair(G)}catch(Te){throw this.client.logger.error("pair() failed"),Te}},this.approve=async G=>{await this.isInitialized();try{await this.isValidApprove(G)}catch(cn){throw this.client.logger.error("approve() -> isValidApprove() failed"),cn}const{id:Te,relayProtocol:Zr,namespaces:Ie,sessionProperties:ni,sessionConfig:fi}=G;let ci;try{ci=this.client.proposal.get(Te)}catch(cn){throw this.client.logger.error(`approve() -> proposal.get(${Te}) failed`),cn}const{pairingTopic:ai,proposer:si,requiredNamespaces:li,optionalNamespaces:mi}=ci,di=await this.client.core.crypto.generateKeyPair(),$i=si.publicKey,sn=await this.client.core.crypto.generateSharedKey(di,$i),ln=m$1(m$1({relay:{protocol:Zr??"irn"},namespaces:Ie,controller:{publicKey:di,metadata:this.client.metadata},expiry:d0($$1)},ni&&{sessionProperties:ni}),fi&&{sessionConfig:fi});await this.client.core.relayer.subscribe(sn);const mn=L$2(m$1({},ln),{topic:sn,requiredNamespaces:li,optionalNamespaces:mi,pairingTopic:ai,acknowledged:!1,self:ln.controller,peer:{publicKey:si.publicKey,metadata:si.metadata},controller:di});await this.client.session.set(sn,mn);try{await this.sendRequest({topic:sn,method:"wc_sessionSettle",params:ln,throwOnFailedPublish:!0}),await this.sendResult({id:Te,topic:ai,result:{relay:{protocol:Zr??"irn"},responderPublicKey:di},throwOnFailedPublish:!0})}catch(cn){throw this.client.logger.error(cn),this.client.session.delete(sn,tr$1("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(sn),cn}return await this.client.core.pairing.updateMetadata({topic:ai,metadata:si.metadata}),await this.client.proposal.delete(Te,tr$1("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:ai}),await this.setExpiry(sn,d0($$1)),{topic:sn,acknowledged:()=>Promise.resolve(this.client.session.get(sn))}},this.reject=async G=>{await this.isInitialized();try{await this.isValidReject(G)}catch(ni){throw this.client.logger.error("reject() -> isValidReject() failed"),ni}const{id:Te,reason:Zr}=G;let Ie;try{Ie=this.client.proposal.get(Te).pairingTopic}catch(ni){throw this.client.logger.error(`reject() -> proposal.get(${Te}) failed`),ni}Ie&&(await this.sendError({id:Te,topic:Ie,error:Zr,rpcOpts:R.wc_sessionPropose.reject}),await this.client.proposal.delete(Te,tr$1("USER_DISCONNECTED")))},this.update=async G=>{await this.isInitialized();try{await this.isValidUpdate(G)}catch(li){throw this.client.logger.error("update() -> isValidUpdate() failed"),li}const{topic:Te,namespaces:Zr}=G,{done:Ie,resolve:ni,reject:fi}=a0(),ci=payloadId(),ai=getBigIntRpcId().toString(),si=this.client.session.get(Te).namespaces;return this.events.once(v0("session_update",ci),({error:li})=>{li?fi(li):ni()}),await this.client.session.update(Te,{namespaces:Zr}),await this.sendRequest({topic:Te,method:"wc_sessionUpdate",params:{namespaces:Zr},throwOnFailedPublish:!0,clientRpcId:ci,relayRpcId:ai}).catch(li=>{this.client.logger.error(li),this.client.session.update(Te,{namespaces:si}),fi(li)}),{acknowledged:Ie}},this.extend=async G=>{await this.isInitialized();try{await this.isValidExtend(G)}catch(ci){throw this.client.logger.error("extend() -> isValidExtend() failed"),ci}const{topic:Te}=G,Zr=payloadId(),{done:Ie,resolve:ni,reject:fi}=a0();return this.events.once(v0("session_extend",Zr),({error:ci})=>{ci?fi(ci):ni()}),await this.setExpiry(Te,d0($$1)),this.sendRequest({topic:Te,method:"wc_sessionExtend",params:{},clientRpcId:Zr,throwOnFailedPublish:!0}).catch(ci=>{fi(ci)}),{acknowledged:Ie}},this.request=async G=>{await this.isInitialized();try{await this.isValidRequest(G)}catch(di){throw this.client.logger.error("request() -> isValidRequest() failed"),di}const{chainId:Te,request:Zr,topic:Ie,expiry:ni=R.wc_sessionRequest.req.ttl}=G,fi=this.client.session.get(Ie),ci=payloadId(),ai=getBigIntRpcId().toString(),{done:si,resolve:li,reject:mi}=a0(ni,"Request expired. Please try again.");return this.events.once(v0("session_request",ci),({error:di,result:$i})=>{di?mi(di):li($i)}),await Promise.all([new Promise(async di=>{await this.sendRequest({clientRpcId:ci,relayRpcId:ai,topic:Ie,method:"wc_sessionRequest",params:{request:L$2(m$1({},Zr),{expiryTimestamp:d0(ni)}),chainId:Te},expiry:ni,throwOnFailedPublish:!0}).catch($i=>mi($i)),this.client.events.emit("session_request_sent",{topic:Ie,request:Zr,chainId:Te,id:ci}),di()}),new Promise(async di=>{var $i;if(!(($i=fi.sessionConfig)!=null&&$i.disableDeepLink)){const sn=await g0(this.client.core.storage,fe);m0({id:ci,topic:Ie,wcDeepLink:sn})}di()}),si()]).then(di=>di[2])},this.respond=async G=>{await this.isInitialized(),await this.isValidRespond(G);const{topic:Te,response:Zr}=G,{id:Ie}=Zr;isJsonRpcResult(Zr)?await this.sendResult({id:Ie,topic:Te,result:Zr.result,throwOnFailedPublish:!0}):isJsonRpcError(Zr)&&await this.sendError({id:Ie,topic:Te,error:Zr.error}),this.cleanupAfterResponse(G)},this.ping=async G=>{await this.isInitialized();try{await this.isValidPing(G)}catch(Zr){throw this.client.logger.error("ping() -> isValidPing() failed"),Zr}const{topic:Te}=G;if(this.client.session.keys.includes(Te)){const Zr=payloadId(),Ie=getBigIntRpcId().toString(),{done:ni,resolve:fi,reject:ci}=a0();this.events.once(v0("session_ping",Zr),({error:ai})=>{ai?ci(ai):fi()}),await Promise.all([this.sendRequest({topic:Te,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:Zr,relayRpcId:Ie}),ni()])}else this.client.core.pairing.pairings.keys.includes(Te)&&await this.client.core.pairing.ping({topic:Te})},this.emit=async G=>{await this.isInitialized(),await this.isValidEmit(G);const{topic:Te,event:Zr,chainId:Ie}=G,ni=getBigIntRpcId().toString();await this.sendRequest({topic:Te,method:"wc_sessionEvent",params:{event:Zr,chainId:Ie},throwOnFailedPublish:!0,relayRpcId:ni})},this.disconnect=async G=>{await this.isInitialized(),await this.isValidDisconnect(G);const{topic:Te}=G;if(this.client.session.keys.includes(Te))await this.sendRequest({topic:Te,method:"wc_sessionDelete",params:tr$1("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:Te,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(Te))await this.client.core.pairing.disconnect({topic:Te});else{const{message:Zr}=xe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${Te}`);throw new Error(Zr)}},this.find=G=>(this.isInitialized(),this.client.session.getAll().filter(Te=>Qu(Te,G))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async G=>{this.isInitialized(),this.isValidAuthenticate(G);const{chains:Te,statement:Zr="",uri:Ie,domain:ni,nonce:fi,type:ci,exp:ai,nbf:si,methods:li=[],expiry:mi}=G,di=[...G.resources||[]],{topic:$i,uri:sn}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"]});this.client.logger.info({message:"Generated new pairing",pairing:{topic:$i,uri:sn}});const ln=await this.client.core.crypto.generateKeyPair(),mn=bu(ln);if(await Promise.all([this.client.auth.authKeys.set(B,{responseTopic:mn,publicKey:ln}),this.client.auth.pairingTopics.set(mn,{topic:mn,pairingTopic:$i})]),await this.client.core.relayer.subscribe(mn),this.client.logger.info(`sending request to new pairing topic: ${$i}`),li.length>0){const{namespace:X}=dn(Te[0]);let Br=cu(X,"request",li);Qr(di)&&(Br=lu(Br,di.pop())),di.push(Br)}const cn=mi&&mi>R.wc_sessionAuthenticate.req.ttl?mi:R.wc_sessionAuthenticate.req.ttl,Rn={authPayload:{type:ci??"caip122",chains:Te,statement:Zr,aud:Ie,domain:ni,version:"1",nonce:fi,iat:new Date().toISOString(),exp:ai,nbf:si,resources:di},requester:{publicKey:ln,metadata:this.client.metadata},expiryTimestamp:d0(cn)},vn={eip155:{chains:Te,methods:[...new Set(["personal_sign",...li])],events:["chainChanged","accountsChanged"]}},Cn={requiredNamespaces:{},optionalNamespaces:vn,relays:[{protocol:"irn"}],pairingTopic:$i,proposer:{publicKey:ln,metadata:this.client.metadata},expiryTimestamp:d0(R.wc_sessionPropose.req.ttl)},{done:ho,resolve:hn,reject:Zn}=a0(cn,"Request expired"),Do=async({error:X,session:Br})=>{if(this.events.off(v0("session_request",ui),Yo),X)Zn(X);else if(Br){Br.self.publicKey=ln,await this.client.session.set(Br.topic,Br),await this.setExpiry(Br.topic,Br.expiry),$i&&await this.client.core.pairing.updateMetadata({topic:$i,metadata:Br.peer.metadata});const Wr=this.client.session.get(Br.topic);await this.deleteProposal(H),hn({session:Wr})}},Yo=async X=>{if(await this.deletePendingAuthRequest(ui,{message:"fulfilled",code:0}),X.error){const Y=tr$1("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return X.error.code===Y.code?void 0:(this.events.off(v0("session_connect"),Do),Zn(X.error.message))}await this.deleteProposal(H),this.events.off(v0("session_connect"),Do);const{cacaos:Br,responder:Wr}=X.result,ri=[],ii=[];for(const Y of Br){await ou({cacao:Y,projectId:this.client.core.projectId})||(this.client.logger.error(Y,"Signature verification failed"),Zn(tr$1("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Xr}=Y,on=Qr(Xr.resources),Mn=[fu(Xr.iss)],Bn=Li(Xr.iss);if(on){const fn=du(on),uo=pu(on);ri.push(...fn),Mn.push(...uo)}for(const fn of Mn)ii.push(`${fn}:${Bn}`)}const oi=await this.client.core.crypto.generateSharedKey(ln,Wr.publicKey);let ei;ri.length>0&&(ei={topic:oi,acknowledged:!0,self:{publicKey:ln,metadata:this.client.metadata},peer:Wr,controller:Wr.publicKey,expiry:d0($$1),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:$i,namespaces:ju([...new Set(ri)],[...new Set(ii)])},await this.client.core.relayer.subscribe(oi),await this.client.session.set(oi,ei),$i&&await this.client.core.pairing.updateMetadata({topic:$i,metadata:Wr.metadata}),ei=this.client.session.get(oi)),hn({auths:Br,session:ei})},ui=payloadId(),H=payloadId();this.events.once(v0("session_connect"),Do),this.events.once(v0("session_request",ui),Yo);try{await Promise.all([this.sendRequest({topic:$i,method:"wc_sessionAuthenticate",params:Rn,expiry:G.expiry,throwOnFailedPublish:!0,clientRpcId:ui}),this.sendRequest({topic:$i,method:"wc_sessionPropose",params:Cn,expiry:R.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:H})])}catch(X){throw this.events.off(v0("session_connect"),Do),this.events.off(v0("session_request",ui),Yo),X}return await this.setProposal(H,m$1({id:H},Cn)),await this.setAuthRequest(ui,{request:L$2(m$1({},Rn),{verifyContext:{}}),pairingTopic:$i}),{uri:sn,response:ho}},this.approveSessionAuthenticate=async G=>{this.isInitialized();const{id:Te,auths:Zr}=G,Ie=this.getPendingAuthRequest(Te);if(!Ie)throw new Error(`Could not find pending auth request with id ${Te}`);const ni=Ie.requester.publicKey,fi=await this.client.core.crypto.generateKeyPair(),ci=bu(ni),ai={type:lr$2,receiverPublicKey:ni,senderPublicKey:fi},si=[],li=[];for(const $i of Zr){if(!await ou({cacao:$i,projectId:this.client.core.projectId})){const Rn=tr$1("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:Te,topic:ci,error:Rn,encodeOpts:ai}),new Error(Rn.message)}const{p:sn}=$i,ln=Qr(sn.resources),mn=[fu(sn.iss)],cn=Li(sn.iss);if(ln){const Rn=du(ln),vn=pu(ln);si.push(...Rn),mn.push(...vn)}for(const Rn of mn)li.push(`${Rn}:${cn}`)}const mi=await this.client.core.crypto.generateSharedKey(fi,ni);let di;return(si==null?void 0:si.length)>0&&(di={topic:mi,acknowledged:!0,self:{publicKey:fi,metadata:this.client.metadata},peer:{publicKey:ni,metadata:Ie.requester.metadata},controller:ni,expiry:d0($$1),authentication:Zr,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:Ie.pairingTopic,namespaces:ju([...new Set(si)],[...new Set(li)])},await this.client.core.relayer.subscribe(mi),await this.client.session.set(mi,di),await this.client.core.pairing.updateMetadata({topic:Ie.pairingTopic,metadata:Ie.requester.metadata})),await this.sendResult({topic:ci,id:Te,result:{cacaos:Zr,responder:{publicKey:fi,metadata:this.client.metadata}},encodeOpts:ai,throwOnFailedPublish:!0}),await this.client.auth.requests.delete(Te,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:Ie.pairingTopic}),{session:di}},this.rejectSessionAuthenticate=async G=>{await this.isInitialized();const{id:Te,reason:Zr}=G,Ie=this.getPendingAuthRequest(Te);if(!Ie)throw new Error(`Could not find pending auth request with id ${Te}`);const ni=Ie.requester.publicKey,fi=await this.client.core.crypto.generateKeyPair(),ci=bu(ni),ai={type:lr$2,receiverPublicKey:ni,senderPublicKey:fi};await this.sendError({id:Te,topic:ci,error:Zr,encodeOpts:ai,rpcOpts:R.wc_sessionAuthenticate.reject}),await this.client.auth.requests.delete(Te,{message:"rejected",code:0}),await this.client.proposal.delete(Te,tr$1("USER_DISCONNECTED"))},this.formatAuthMessage=G=>{this.isInitialized();const{request:Te,iss:Zr}=G;return zf(Te,Zr)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const G=this.relayMessageCache.shift();G&&await this.onRelayMessage(G)}catch(G){this.client.logger.error(G)}},50)},this.cleanupDuplicatePairings=async G=>{if(G.pairingTopic)try{const Te=this.client.core.pairing.pairings.get(G.pairingTopic),Zr=this.client.core.pairing.pairings.getAll().filter(Ie=>{var ni,fi;return((ni=Ie.peerMetadata)==null?void 0:ni.url)&&((fi=Ie.peerMetadata)==null?void 0:fi.url)===G.peer.metadata.url&&Ie.topic&&Ie.topic!==Te.topic});if(Zr.length===0)return;this.client.logger.info(`Cleaning up ${Zr.length} duplicate pairing(s)`),await Promise.all(Zr.map(Ie=>this.client.core.pairing.disconnect({topic:Ie.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(Te){this.client.logger.error(Te)}},this.deleteSession=async G=>{var Te;const{topic:Zr,expirerHasDeleted:Ie=!1,emitEvent:ni=!0,id:fi=0}=G,{self:ci}=this.client.session.get(Zr);await this.client.core.relayer.unsubscribe(Zr),await this.client.session.delete(Zr,tr$1("USER_DISCONNECTED")),this.addToRecentlyDeleted(Zr,"session"),this.client.core.crypto.keychain.has(ci.publicKey)&&await this.client.core.crypto.deleteKeyPair(ci.publicKey),this.client.core.crypto.keychain.has(Zr)&&await this.client.core.crypto.deleteSymKey(Zr),Ie||this.client.core.expirer.del(Zr),this.client.core.storage.removeItem(fe).catch(ai=>this.client.logger.warn(ai)),this.getPendingSessionRequests().forEach(ai=>{ai.topic===Zr&&this.deletePendingSessionRequest(ai.id,tr$1("USER_DISCONNECTED"))}),Zr===((Te=this.sessionRequestQueue.queue[0])==null?void 0:Te.topic)&&(this.sessionRequestQueue.state=D$1.idle),ni&&this.client.events.emit("session_delete",{id:fi,topic:Zr})},this.deleteProposal=async(G,Te)=>{await Promise.all([this.client.proposal.delete(G,tr$1("USER_DISCONNECTED")),Te?Promise.resolve():this.client.core.expirer.del(G)]),this.addToRecentlyDeleted(G,"proposal")},this.deletePendingSessionRequest=async(G,Te,Zr=!1)=>{await Promise.all([this.client.pendingRequest.delete(G,Te),Zr?Promise.resolve():this.client.core.expirer.del(G)]),this.addToRecentlyDeleted(G,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(Ie=>Ie.id!==G),Zr&&(this.sessionRequestQueue.state=D$1.idle,this.client.events.emit("session_request_expire",{id:G}))},this.deletePendingAuthRequest=async(G,Te,Zr=!1)=>{await Promise.all([this.client.auth.requests.delete(G,Te),Zr?Promise.resolve():this.client.core.expirer.del(G)])},this.setExpiry=async(G,Te)=>{this.client.session.keys.includes(G)&&(this.client.core.expirer.set(G,Te),await this.client.session.update(G,{expiry:Te}))},this.setProposal=async(G,Te)=>{this.client.core.expirer.set(G,d0(R.wc_sessionPropose.req.ttl)),await this.client.proposal.set(G,Te)},this.setAuthRequest=async(G,Te)=>{const{request:Zr,pairingTopic:Ie}=Te;this.client.core.expirer.set(G,Zr.expiryTimestamp),await this.client.auth.requests.set(G,{authPayload:Zr.authPayload,requester:Zr.requester,expiryTimestamp:Zr.expiryTimestamp,id:G,pairingTopic:Ie,verifyContext:Zr.verifyContext})},this.setPendingSessionRequest=async G=>{const{id:Te,topic:Zr,params:Ie,verifyContext:ni}=G,fi=Ie.request.expiryTimestamp||d0(R.wc_sessionRequest.req.ttl);this.client.core.expirer.set(Te,fi),await this.client.pendingRequest.set(Te,{id:Te,topic:Zr,params:Ie,verifyContext:ni})},this.sendRequest=async G=>{const{topic:Te,method:Zr,params:Ie,expiry:ni,relayRpcId:fi,clientRpcId:ci,throwOnFailedPublish:ai}=G,si=formatJsonRpcRequest(Zr,Ie,ci);if(pr$2()&&Qe.includes(Zr)){const di=yu(JSON.stringify(si));this.client.core.verify.register({attestationId:di})}let li;try{li=await this.client.core.crypto.encode(Te,si)}catch(di){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${Te} failed`),di}const mi=R[Zr].req;return ni&&(mi.ttl=ni),fi&&(mi.id=fi),this.client.core.history.set(Te,si),ai?(mi.internal=L$2(m$1({},mi.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(Te,li,mi)):this.client.core.relayer.publish(Te,li,mi).catch(di=>this.client.logger.error(di)),si.id},this.sendResult=async G=>{const{id:Te,topic:Zr,result:Ie,throwOnFailedPublish:ni,encodeOpts:fi}=G,ci=formatJsonRpcResult(Te,Ie);let ai;try{ai=await this.client.core.crypto.encode(Zr,ci,fi)}catch(mi){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${Zr} failed`),mi}let si;try{si=await this.client.core.history.get(Zr,Te)}catch(mi){throw this.client.logger.error(`sendResult() -> history.get(${Zr}, ${Te}) failed`),mi}const li=R[si.request.method].res;ni?(li.internal=L$2(m$1({},li.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(Zr,ai,li)):this.client.core.relayer.publish(Zr,ai,li).catch(mi=>this.client.logger.error(mi)),await this.client.core.history.resolve(ci)},this.sendError=async G=>{const{id:Te,topic:Zr,error:Ie,encodeOpts:ni,rpcOpts:fi}=G,ci=formatJsonRpcError(Te,Ie);let ai;try{ai=await this.client.core.crypto.encode(Zr,ci,ni)}catch(mi){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${Zr} failed`),mi}let si;try{si=await this.client.core.history.get(Zr,Te)}catch(mi){throw this.client.logger.error(`sendError() -> history.get(${Zr}, ${Te}) failed`),mi}const li=fi||R[si.request.method].res;this.client.core.relayer.publish(Zr,ai,li),await this.client.core.history.resolve(ci)},this.cleanup=async()=>{const G=[],Te=[];this.client.session.getAll().forEach(Zr=>{let Ie=!1;p0(Zr.expiry)&&(Ie=!0),this.client.core.crypto.keychain.has(Zr.topic)||(Ie=!0),Ie&&G.push(Zr.topic)}),this.client.proposal.getAll().forEach(Zr=>{p0(Zr.expiryTimestamp)&&Te.push(Zr.id)}),await Promise.all([...G.map(Zr=>this.deleteSession({topic:Zr})),...Te.map(Zr=>this.deleteProposal(Zr))])},this.onRelayEventRequest=async G=>{this.requestQueue.queue.push(G),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===D$1.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=D$1.active;const G=this.requestQueue.queue.shift();if(G)try{await this.processRequest(G)}catch(Te){this.client.logger.warn(Te)}}this.requestQueue.state=D$1.idle},this.processRequest=async G=>{const{topic:Te,payload:Zr}=G,Ie=Zr.method;if(!this.shouldIgnorePairingRequest({topic:Te,requestMethod:Ie}))switch(Ie){case"wc_sessionPropose":return await this.onSessionProposeRequest(Te,Zr);case"wc_sessionSettle":return await this.onSessionSettleRequest(Te,Zr);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(Te,Zr);case"wc_sessionExtend":return await this.onSessionExtendRequest(Te,Zr);case"wc_sessionPing":return await this.onSessionPingRequest(Te,Zr);case"wc_sessionDelete":return await this.onSessionDeleteRequest(Te,Zr);case"wc_sessionRequest":return await this.onSessionRequest(Te,Zr);case"wc_sessionEvent":return await this.onSessionEventRequest(Te,Zr);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest(Te,Zr);default:return this.client.logger.info(`Unsupported request method ${Ie}`)}},this.onRelayEventResponse=async G=>{const{topic:Te,payload:Zr}=G,Ie=(await this.client.core.history.get(Te,Zr.id)).request.method;switch(Ie){case"wc_sessionPropose":return this.onSessionProposeResponse(Te,Zr);case"wc_sessionSettle":return this.onSessionSettleResponse(Te,Zr);case"wc_sessionUpdate":return this.onSessionUpdateResponse(Te,Zr);case"wc_sessionExtend":return this.onSessionExtendResponse(Te,Zr);case"wc_sessionPing":return this.onSessionPingResponse(Te,Zr);case"wc_sessionRequest":return this.onSessionRequestResponse(Te,Zr);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(Te,Zr);default:return this.client.logger.info(`Unsupported response method ${Ie}`)}},this.onRelayEventUnknownPayload=G=>{const{topic:Te}=G,{message:Zr}=xe("MISSING_OR_INVALID",`Decoded payload on topic ${Te} is not identifiable as a JSON-RPC request or a response.`);throw new Error(Zr)},this.shouldIgnorePairingRequest=G=>{const{topic:Te,requestMethod:Zr}=G,Ie=this.expectedPairingMethodMap.get(Te);return!Ie||Ie.includes(Zr)?!1:!!(Ie.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async(G,Te)=>{const{params:Zr,id:Ie}=Te;try{this.isValidConnect(m$1({},Te.params));const ni=Zr.expiryTimestamp||d0(R.wc_sessionPropose.req.ttl),fi=m$1({id:Ie,pairingTopic:G,expiryTimestamp:ni},Zr);await this.setProposal(Ie,fi);const ci=yu(JSON.stringify(Te)),ai=await this.getVerifyContext(ci,fi.proposer.metadata);this.client.events.emit("session_proposal",{id:Ie,params:fi,verifyContext:ai})}catch(ni){await this.sendError({id:Ie,topic:G,error:ni,rpcOpts:R.wc_sessionPropose.autoReject}),this.client.logger.error(ni)}},this.onSessionProposeResponse=async(G,Te)=>{const{id:Zr}=Te;if(isJsonRpcResult(Te)){const{result:Ie}=Te;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:Ie});const ni=this.client.proposal.get(Zr);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:ni});const fi=ni.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:fi});const ci=Ie.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:ci});const ai=await this.client.core.crypto.generateSharedKey(fi,ci);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:ai});const si=await this.client.core.relayer.subscribe(ai);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:si}),await this.client.core.pairing.activate({topic:G})}else if(isJsonRpcError(Te)){await this.client.proposal.delete(Zr,tr$1("USER_DISCONNECTED"));const Ie=v0("session_connect");if(this.events.listenerCount(Ie)===0)throw new Error(`emitting ${Ie} without any listeners, 954`);this.events.emit(v0("session_connect"),{error:Te.error})}},this.onSessionSettleRequest=async(G,Te)=>{const{id:Zr,params:Ie}=Te;try{this.isValidSessionSettleRequest(Ie);const{relay:ni,controller:fi,expiry:ci,namespaces:ai,sessionProperties:si,sessionConfig:li}=Te.params,mi=m$1(m$1({topic:G,relay:ni,expiry:ci,namespaces:ai,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:fi.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:fi.publicKey,metadata:fi.metadata}},si&&{sessionProperties:si}),li&&{sessionConfig:li}),di=v0("session_connect");if(this.events.listenerCount(di)===0)throw new Error(`emitting ${di} without any listeners 997`);this.events.emit(v0("session_connect"),{session:mi}),await this.sendResult({id:Te.id,topic:G,result:!0,throwOnFailedPublish:!0})}catch(ni){await this.sendError({id:Zr,topic:G,error:ni}),this.client.logger.error(ni)}},this.onSessionSettleResponse=async(G,Te)=>{const{id:Zr}=Te;isJsonRpcResult(Te)?(await this.client.session.update(G,{acknowledged:!0}),this.events.emit(v0("session_approve",Zr),{})):isJsonRpcError(Te)&&(await this.client.session.delete(G,tr$1("USER_DISCONNECTED")),this.events.emit(v0("session_approve",Zr),{error:Te.error}))},this.onSessionUpdateRequest=async(G,Te)=>{const{params:Zr,id:Ie}=Te;try{const ni=`${G}_session_update`,fi=lh.get(ni);if(fi&&this.isRequestOutOfSync(fi,Ie)){this.client.logger.info(`Discarding out of sync request - ${Ie}`),this.sendError({id:Ie,topic:G,error:tr$1("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(m$1({topic:G},Zr));try{lh.set(ni,Ie),await this.client.session.update(G,{namespaces:Zr.namespaces}),await this.sendResult({id:Ie,topic:G,result:!0,throwOnFailedPublish:!0})}catch(ci){throw lh.delete(ni),ci}this.client.events.emit("session_update",{id:Ie,topic:G,params:Zr})}catch(ni){await this.sendError({id:Ie,topic:G,error:ni}),this.client.logger.error(ni)}},this.isRequestOutOfSync=(G,Te)=>parseInt(Te.toString().slice(0,-3))<=parseInt(G.toString().slice(0,-3)),this.onSessionUpdateResponse=(G,Te)=>{const{id:Zr}=Te,Ie=v0("session_update",Zr);if(this.events.listenerCount(Ie)===0)throw new Error(`emitting ${Ie} without any listeners`);isJsonRpcResult(Te)?this.events.emit(v0("session_update",Zr),{}):isJsonRpcError(Te)&&this.events.emit(v0("session_update",Zr),{error:Te.error})},this.onSessionExtendRequest=async(G,Te)=>{const{id:Zr}=Te;try{this.isValidExtend({topic:G}),await this.setExpiry(G,d0($$1)),await this.sendResult({id:Zr,topic:G,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:Zr,topic:G})}catch(Ie){await this.sendError({id:Zr,topic:G,error:Ie}),this.client.logger.error(Ie)}},this.onSessionExtendResponse=(G,Te)=>{const{id:Zr}=Te,Ie=v0("session_extend",Zr);if(this.events.listenerCount(Ie)===0)throw new Error(`emitting ${Ie} without any listeners`);isJsonRpcResult(Te)?this.events.emit(v0("session_extend",Zr),{}):isJsonRpcError(Te)&&this.events.emit(v0("session_extend",Zr),{error:Te.error})},this.onSessionPingRequest=async(G,Te)=>{const{id:Zr}=Te;try{this.isValidPing({topic:G}),await this.sendResult({id:Zr,topic:G,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:Zr,topic:G})}catch(Ie){await this.sendError({id:Zr,topic:G,error:Ie}),this.client.logger.error(Ie)}},this.onSessionPingResponse=(G,Te)=>{const{id:Zr}=Te,Ie=v0("session_ping",Zr);if(this.events.listenerCount(Ie)===0)throw new Error(`emitting ${Ie} without any listeners`);setTimeout(()=>{isJsonRpcResult(Te)?this.events.emit(v0("session_ping",Zr),{}):isJsonRpcError(Te)&&this.events.emit(v0("session_ping",Zr),{error:Te.error})},500)},this.onSessionDeleteRequest=async(G,Te)=>{const{id:Zr}=Te;try{this.isValidDisconnect({topic:G,reason:Te.params}),await Promise.all([new Promise(Ie=>{this.client.core.relayer.once(f$1.publish,async()=>{Ie(await this.deleteSession({topic:G,id:Zr}))})}),this.sendResult({id:Zr,topic:G,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:G,error:tr$1("USER_DISCONNECTED")})])}catch(Ie){this.client.logger.error(Ie)}},this.onSessionRequest=async(G,Te)=>{var Zr;const{id:Ie,params:ni}=Te;try{await this.isValidRequest(m$1({topic:G},ni));const fi=yu(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",ni,Ie))),ci=this.client.session.get(G),ai=await this.getVerifyContext(fi,ci.peer.metadata),si={id:Ie,topic:G,params:ni,verifyContext:ai};await this.setPendingSessionRequest(si),(Zr=this.client.signConfig)!=null&&Zr.disableRequestQueue?this.emitSessionRequest(si):(this.addSessionRequestToSessionRequestQueue(si),this.processSessionRequestQueue())}catch(fi){await this.sendError({id:Ie,topic:G,error:fi}),this.client.logger.error(fi)}},this.onSessionRequestResponse=(G,Te)=>{const{id:Zr}=Te,Ie=v0("session_request",Zr);if(this.events.listenerCount(Ie)===0)throw new Error(`emitting ${Ie} without any listeners`);isJsonRpcResult(Te)?this.events.emit(v0("session_request",Zr),{result:Te.result}):isJsonRpcError(Te)&&this.events.emit(v0("session_request",Zr),{error:Te.error})},this.onSessionEventRequest=async(G,Te)=>{const{id:Zr,params:Ie}=Te;try{const ni=`${G}_session_event_${Ie.event.name}`,fi=lh.get(ni);if(fi&&this.isRequestOutOfSync(fi,Zr)){this.client.logger.info(`Discarding out of sync request - ${Zr}`);return}this.isValidEmit(m$1({topic:G},Ie)),this.client.events.emit("session_event",{id:Zr,topic:G,params:Ie}),lh.set(ni,Zr)}catch(ni){await this.sendError({id:Zr,topic:G,error:ni}),this.client.logger.error(ni)}},this.onSessionAuthenticateResponse=(G,Te)=>{const{id:Zr}=Te;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:G,payload:Te}),isJsonRpcResult(Te)?this.events.emit(v0("session_request",Zr),{result:Te.result}):isJsonRpcError(Te)&&this.events.emit(v0("session_request",Zr),{error:Te.error})},this.onSessionAuthenticateRequest=async(G,Te)=>{try{const{requester:Zr,authPayload:Ie,expiryTimestamp:ni}=Te.params,fi=yu(JSON.stringify(Te)),ci=await this.getVerifyContext(fi,this.client.metadata),ai={requester:Zr,pairingTopic:G,id:Te.id,authPayload:Ie,verifyContext:ci,expiryTimestamp:ni};await this.setAuthRequest(Te.id,{request:ai,pairingTopic:G}),this.client.events.emit("session_authenticate",{topic:G,params:Te.params,id:Te.id,verifyContext:ci})}catch(Zr){this.client.logger.error(Zr);const Ie=Te.params.requester.publicKey,ni=await this.client.core.crypto.generateKeyPair(),fi={type:lr$2,receiverPublicKey:Ie,senderPublicKey:ni};await this.sendError({id:Te.id,topic:G,error:Zr,encodeOpts:fi,rpcOpts:R.wc_sessionAuthenticate.autoReject})}},this.addSessionRequestToSessionRequestQueue=G=>{this.sessionRequestQueue.queue.push(G)},this.cleanupAfterResponse=G=>{this.deletePendingSessionRequest(G.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=D$1.idle,this.processSessionRequestQueue()},cjs$3.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:G,error:Te})=>{const Zr=this.client.core.history.pending;Zr.length>0&&Zr.filter(Ie=>Ie.topic===G&&Ie.request.method==="wc_sessionRequest").forEach(Ie=>{const ni=Ie.request.id,fi=v0("session_request",ni);if(this.events.listenerCount(fi)===0)throw new Error(`emitting ${fi} without any listeners`);this.events.emit(v0("session_request",Ie.request.id),{error:Te})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===D$1.active){this.client.logger.info("session request queue is already active.");return}const G=this.sessionRequestQueue.queue[0];if(!G){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=D$1.active,this.emitSessionRequest(G)}catch(Te){this.client.logger.error(Te)}},this.emitSessionRequest=G=>{this.client.events.emit("session_request",G)},this.onPairingCreated=G=>{if(G.methods&&this.expectedPairingMethodMap.set(G.topic,G.methods),G.active)return;const Te=this.client.proposal.getAll().find(Zr=>Zr.pairingTopic===G.topic);Te&&this.onSessionProposeRequest(G.topic,formatJsonRpcRequest("wc_sessionPropose",{requiredNamespaces:Te.requiredNamespaces,optionalNamespaces:Te.optionalNamespaces,relays:Te.relays,proposer:Te.proposer,sessionProperties:Te.sessionProperties},Te.id))},this.isValidConnect=async G=>{if(!$u(G)){const{message:ci}=xe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(G)}`);throw new Error(ci)}const{pairingTopic:Te,requiredNamespaces:Zr,optionalNamespaces:Ie,sessionProperties:ni,relays:fi}=G;if(Pe(Te)||await this.isValidPairingTopic(Te),!Xu(fi)){const{message:ci}=xe("MISSING_OR_INVALID",`connect() relays: ${fi}`);throw new Error(ci)}!Pe(Zr)&&Yr(Zr)!==0&&this.validateNamespaces(Zr,"requiredNamespaces"),!Pe(Ie)&&Yr(Ie)!==0&&this.validateNamespaces(Ie,"optionalNamespaces"),Pe(ni)||this.validateSessionProps(ni,"sessionProperties")},this.validateNamespaces=(G,Te)=>{const Zr=Wu(G,"connect()",Te);if(Zr)throw new Error(Zr.message)},this.isValidApprove=async G=>{if(!$u(G))throw new Error(xe("MISSING_OR_INVALID",`approve() params: ${G}`).message);const{id:Te,namespaces:Zr,relayProtocol:Ie,sessionProperties:ni}=G;this.checkRecentlyDeleted(Te),await this.isValidProposalId(Te);const fi=this.client.proposal.get(Te),ci=So(Zr,"approve()");if(ci)throw new Error(ci.message);const ai=Io(fi.requiredNamespaces,Zr,"approve()");if(ai)throw new Error(ai.message);if(!Gt$1(Ie,!0)){const{message:si}=xe("MISSING_OR_INVALID",`approve() relayProtocol: ${Ie}`);throw new Error(si)}Pe(ni)||this.validateSessionProps(ni,"sessionProperties")},this.isValidReject=async G=>{if(!$u(G)){const{message:Ie}=xe("MISSING_OR_INVALID",`reject() params: ${G}`);throw new Error(Ie)}const{id:Te,reason:Zr}=G;if(this.checkRecentlyDeleted(Te),await this.isValidProposalId(Te),!th(Zr)){const{message:Ie}=xe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(Zr)}`);throw new Error(Ie)}},this.isValidSessionSettleRequest=G=>{if(!$u(G)){const{message:ai}=xe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${G}`);throw new Error(ai)}const{relay:Te,controller:Zr,namespaces:Ie,expiry:ni}=G;if(!No(Te)){const{message:ai}=xe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(ai)}const fi=Vu(Zr,"onSessionSettleRequest()");if(fi)throw new Error(fi.message);const ci=So(Ie,"onSessionSettleRequest()");if(ci)throw new Error(ci.message);if(p0(ni)){const{message:ai}=xe("EXPIRED","onSessionSettleRequest()");throw new Error(ai)}},this.isValidUpdate=async G=>{if(!$u(G)){const{message:ci}=xe("MISSING_OR_INVALID",`update() params: ${G}`);throw new Error(ci)}const{topic:Te,namespaces:Zr}=G;this.checkRecentlyDeleted(Te),await this.isValidSessionTopic(Te);const Ie=this.client.session.get(Te),ni=So(Zr,"update()");if(ni)throw new Error(ni.message);const fi=Io(Ie.requiredNamespaces,Zr,"update()");if(fi)throw new Error(fi.message)},this.isValidExtend=async G=>{if(!$u(G)){const{message:Zr}=xe("MISSING_OR_INVALID",`extend() params: ${G}`);throw new Error(Zr)}const{topic:Te}=G;this.checkRecentlyDeleted(Te),await this.isValidSessionTopic(Te)},this.isValidRequest=async G=>{if(!$u(G)){const{message:ci}=xe("MISSING_OR_INVALID",`request() params: ${G}`);throw new Error(ci)}const{topic:Te,request:Zr,chainId:Ie,expiry:ni}=G;this.checkRecentlyDeleted(Te),await this.isValidSessionTopic(Te);const{namespaces:fi}=this.client.session.get(Te);if(!nh(fi,Ie)){const{message:ci}=xe("MISSING_OR_INVALID",`request() chainId: ${Ie}`);throw new Error(ci)}if(!eh(Zr)){const{message:ci}=xe("MISSING_OR_INVALID",`request() ${JSON.stringify(Zr)}`);throw new Error(ci)}if(!fh(fi,Ie,Zr.method)){const{message:ci}=xe("MISSING_OR_INVALID",`request() method: ${Zr.method}`);throw new Error(ci)}if(ni&&!uh(ni,ne)){const{message:ci}=xe("MISSING_OR_INVALID",`request() expiry: ${ni}. Expiry must be a number (in seconds) between ${ne.min} and ${ne.max}`);throw new Error(ci)}},this.isValidRespond=async G=>{var Te;if(!$u(G)){const{message:ni}=xe("MISSING_OR_INVALID",`respond() params: ${G}`);throw new Error(ni)}const{topic:Zr,response:Ie}=G;try{await this.isValidSessionTopic(Zr)}catch(ni){throw(Te=G==null?void 0:G.response)!=null&&Te.id&&this.cleanupAfterResponse(G),ni}if(!rh(Ie)){const{message:ni}=xe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(Ie)}`);throw new Error(ni)}},this.isValidPing=async G=>{if(!$u(G)){const{message:Zr}=xe("MISSING_OR_INVALID",`ping() params: ${G}`);throw new Error(Zr)}const{topic:Te}=G;await this.isValidSessionOrPairingTopic(Te)},this.isValidEmit=async G=>{if(!$u(G)){const{message:fi}=xe("MISSING_OR_INVALID",`emit() params: ${G}`);throw new Error(fi)}const{topic:Te,event:Zr,chainId:Ie}=G;await this.isValidSessionTopic(Te);const{namespaces:ni}=this.client.session.get(Te);if(!nh(ni,Ie)){const{message:fi}=xe("MISSING_OR_INVALID",`emit() chainId: ${Ie}`);throw new Error(fi)}if(!ih(Zr)){const{message:fi}=xe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(Zr)}`);throw new Error(fi)}if(!oh(ni,Ie,Zr.name)){const{message:fi}=xe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(Zr)}`);throw new Error(fi)}},this.isValidDisconnect=async G=>{if(!$u(G)){const{message:Zr}=xe("MISSING_OR_INVALID",`disconnect() params: ${G}`);throw new Error(Zr)}const{topic:Te}=G;await this.isValidSessionOrPairingTopic(Te)},this.isValidAuthenticate=G=>{const{chains:Te,uri:Zr,domain:Ie,nonce:ni}=G;if(!Array.isArray(Te)||Te.length===0)throw new Error("chains is required and must be a non-empty array");if(!Gt$1(Zr,!1))throw new Error("uri is required parameter");if(!Gt$1(Ie,!1))throw new Error("domain is required parameter");if(!Gt$1(ni,!1))throw new Error("nonce is required parameter");if([...new Set(Te.map(ci=>dn(ci).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:fi}=dn(Te[0]);if(fi!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async(G,Te)=>{const Zr={verified:{verifyUrl:Te.verifyUrl||V,validation:"UNKNOWN",origin:Te.url||""}};try{const Ie=await this.client.core.verify.resolve({attestationId:G,verifyUrl:Te.verifyUrl});Ie&&(Zr.verified.origin=Ie.origin,Zr.verified.isScam=Ie.isScam,Zr.verified.validation=Ie.origin===new URL(Te.url).origin?"VALID":"INVALID")}catch(Ie){this.client.logger.info(Ie)}return this.client.logger.info(`Verify context: ${JSON.stringify(Zr)}`),Zr},this.validateSessionProps=(G,Te)=>{Object.values(G).forEach(Zr=>{if(!Gt$1(Zr,!1)){const{message:Ie}=xe("MISSING_OR_INVALID",`${Te} must be in Record<string, string> format. Received: ${JSON.stringify(Zr)}`);throw new Error(Ie)}})},this.getPendingAuthRequest=G=>{const Te=this.client.auth.requests.get(G);return typeof Te=="object"?Te:void 0},this.addToRecentlyDeleted=(G,Te)=>{if(this.recentlyDeletedMap.set(G,Te),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let Zr=0;const Ie=this.recentlyDeletedLimit/2;for(const ni of this.recentlyDeletedMap.keys()){if(Zr++>=Ie)break;this.recentlyDeletedMap.delete(ni)}}},this.checkRecentlyDeleted=G=>{const Te=this.recentlyDeletedMap.get(G);if(Te){const{message:Zr}=xe("MISSING_OR_INVALID",`Record was recently deleted - ${Te}: ${G}`);throw new Error(Zr)}}}async isInitialized(){if(!this.initialized){const{message:t}=xe("NOT_INITIALIZED",this.name);throw new Error(t)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(f$1.message,t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):this.onRelayMessage(t)})}async onRelayMessage(t){const{topic:G,message:Te,attestation:Zr}=t,{publicKey:Ie}=this.client.auth.authKeys.keys.includes(B)?this.client.auth.authKeys.get(B):{responseTopic:void 0,publicKey:void 0},ni=await this.client.core.crypto.decode(G,Te,{receiverPublicKey:Ie});try{isJsonRpcRequest(ni)?(this.client.core.history.set(G,ni),this.onRelayEventRequest({topic:G,payload:ni,attestation:Zr})):isJsonRpcResponse(ni)?(await this.client.core.history.resolve(ni),await this.onRelayEventResponse({topic:G,payload:ni}),this.client.core.history.delete(G,ni.id)):this.onRelayEventUnknownPayload({topic:G,payload:ni})}catch(fi){this.client.logger.error(fi)}}registerExpirerEvents(){this.client.core.expirer.on(C$1.expired,async t=>{const{topic:G,id:Te}=l0(t.target);if(Te&&this.client.pendingRequest.keys.includes(Te))return await this.deletePendingSessionRequest(Te,xe("EXPIRED"),!0);if(Te&&this.client.auth.requests.keys.includes(Te))return await this.deletePendingAuthRequest(Te,xe("EXPIRED"),!0);G?this.client.session.keys.includes(G)&&(await this.deleteSession({topic:G,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:G})):Te&&(await this.deleteProposal(Te,!0),this.client.events.emit("proposal_expire",{id:Te}))})}registerPairingEvents(){this.client.core.pairing.events.on(q$1.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(q$1.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!Gt$1(t,!1)){const{message:G}=xe("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(G)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:G}=xe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(G)}if(p0(this.client.core.pairing.pairings.get(t).expiry)){const{message:G}=xe("EXPIRED",`pairing topic: ${t}`);throw new Error(G)}}async isValidSessionTopic(t){if(!Gt$1(t,!1)){const{message:G}=xe("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(G)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:G}=xe("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(G)}if(p0(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:G}=xe("EXPIRED",`session topic: ${t}`);throw new Error(G)}if(!this.client.core.crypto.keychain.has(t)){const{message:G}=xe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(G)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Gt$1(t,!1)){const{message:G}=xe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(G)}else{const{message:G}=xe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(G)}}async isValidProposalId(t){if(!Zu(t)){const{message:G}=xe("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(G)}if(!this.client.proposal.keys.includes(t)){const{message:G}=xe("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(G)}if(p0(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:G}=xe("EXPIRED",`proposal id: ${t}`);throw new Error(G)}}}class es extends kt{constructor(t,G){super(t,G,Ue,ie),this.core=t,this.logger=G}}class Ze extends kt{constructor(t,G){super(t,G,ke,ie),this.core=t,this.logger=G}}class ts extends kt{constructor(t,G){super(t,G,Fe,ie,Te=>Te.id),this.core=t,this.logger=G}}class ss extends kt{constructor(t,G){super(t,G,Ye,J,()=>B),this.core=t,this.logger=G}}class is extends kt{constructor(t,G){super(t,G,Xe,J),this.core=t,this.logger=G}}class rs extends kt{constructor(t,G){super(t,G,Je,J,Te=>Te.id),this.core=t,this.logger=G}}class ns{constructor(t,G){this.core=t,this.logger=G,this.authKeys=new ss(this.core,this.logger),this.pairingTopics=new is(this.core,this.logger),this.requests=new rs(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class oe extends b$2{constructor(t){super(t),this.protocol=Se,this.version=Ee,this.name=re.name,this.events=new eventsExports.EventEmitter,this.on=(Te,Zr)=>this.events.on(Te,Zr),this.once=(Te,Zr)=>this.events.once(Te,Zr),this.off=(Te,Zr)=>this.events.off(Te,Zr),this.removeListener=(Te,Zr)=>this.events.removeListener(Te,Zr),this.removeAllListeners=Te=>this.events.removeAllListeners(Te),this.connect=async Te=>{try{return await this.engine.connect(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.pair=async Te=>{try{return await this.engine.pair(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.approve=async Te=>{try{return await this.engine.approve(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.reject=async Te=>{try{return await this.engine.reject(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.update=async Te=>{try{return await this.engine.update(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.extend=async Te=>{try{return await this.engine.extend(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.request=async Te=>{try{return await this.engine.request(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.respond=async Te=>{try{return await this.engine.respond(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.ping=async Te=>{try{return await this.engine.ping(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.emit=async Te=>{try{return await this.engine.emit(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.disconnect=async Te=>{try{return await this.engine.disconnect(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.find=Te=>{try{return this.engine.find(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(Te){throw this.logger.error(Te.message),Te}},this.authenticate=async Te=>{try{return await this.engine.authenticate(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.formatAuthMessage=Te=>{try{return this.engine.formatAuthMessage(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.approveSessionAuthenticate=async Te=>{try{return await this.engine.approveSessionAuthenticate(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.rejectSessionAuthenticate=async Te=>{try{return await this.engine.rejectSessionAuthenticate(Te)}catch(Zr){throw this.logger.error(Zr.message),Zr}},this.name=(t==null?void 0:t.name)||re.name,this.metadata=(t==null?void 0:t.metadata)||Xo(),this.signConfig=t==null?void 0:t.signConfig;const G=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Wg(k({level:(t==null?void 0:t.logger)||re.logger}));this.core=(t==null?void 0:t.core)||new $r(t),this.logger=E$4(G,this.name),this.session=new Ze(this.core,this.logger),this.proposal=new es(this.core,this.logger),this.pendingRequest=new ts(this.core,this.logger),this.engine=new Zt(this),this.auth=new ns(this.core,this.logger)}static async init(t){const G=new oe(t);return await G.initialize(),G}get context(){return y$3(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),await this.auth.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}var browserPonyfill={exports:{}};(function(te,t){var G=typeof self<"u"?self:commonjsGlobal,Te=function(){function Ie(){this.fetch=!1,this.DOMException=G.DOMException}return Ie.prototype=G,new Ie}();(function(Ie){(function(ni){var fi={searchParams:"URLSearchParams"in Ie,iterable:"Symbol"in Ie&&"iterator"in Symbol,blob:"FileReader"in Ie&&"Blob"in Ie&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Ie,arrayBuffer:"ArrayBuffer"in Ie};function ci(Br){return Br&&DataView.prototype.isPrototypeOf(Br)}if(fi.arrayBuffer)var ai=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],si=ArrayBuffer.isView||function(Br){return Br&&ai.indexOf(Object.prototype.toString.call(Br))>-1};function li(Br){if(typeof Br!="string"&&(Br=String(Br)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Br))throw new TypeError("Invalid character in header field name");return Br.toLowerCase()}function mi(Br){return typeof Br!="string"&&(Br=String(Br)),Br}function di(Br){var Wr={next:function(){var ri=Br.shift();return{done:ri===void 0,value:ri}}};return fi.iterable&&(Wr[Symbol.iterator]=function(){return Wr}),Wr}function $i(Br){this.map={},Br instanceof $i?Br.forEach(function(Wr,ri){this.append(ri,Wr)},this):Array.isArray(Br)?Br.forEach(function(Wr){this.append(Wr[0],Wr[1])},this):Br&&Object.getOwnPropertyNames(Br).forEach(function(Wr){this.append(Wr,Br[Wr])},this)}$i.prototype.append=function(Br,Wr){Br=li(Br),Wr=mi(Wr);var ri=this.map[Br];this.map[Br]=ri?ri+", "+Wr:Wr},$i.prototype.delete=function(Br){delete this.map[li(Br)]},$i.prototype.get=function(Br){return Br=li(Br),this.has(Br)?this.map[Br]:null},$i.prototype.has=function(Br){return this.map.hasOwnProperty(li(Br))},$i.prototype.set=function(Br,Wr){this.map[li(Br)]=mi(Wr)},$i.prototype.forEach=function(Br,Wr){for(var ri in this.map)this.map.hasOwnProperty(ri)&&Br.call(Wr,this.map[ri],ri,this)},$i.prototype.keys=function(){var Br=[];return this.forEach(function(Wr,ri){Br.push(ri)}),di(Br)},$i.prototype.values=function(){var Br=[];return this.forEach(function(Wr){Br.push(Wr)}),di(Br)},$i.prototype.entries=function(){var Br=[];return this.forEach(function(Wr,ri){Br.push([ri,Wr])}),di(Br)},fi.iterable&&($i.prototype[Symbol.iterator]=$i.prototype.entries);function sn(Br){if(Br.bodyUsed)return Promise.reject(new TypeError("Already read"));Br.bodyUsed=!0}function ln(Br){return new Promise(function(Wr,ri){Br.onload=function(){Wr(Br.result)},Br.onerror=function(){ri(Br.error)}})}function mn(Br){var Wr=new FileReader,ri=ln(Wr);return Wr.readAsArrayBuffer(Br),ri}function cn(Br){var Wr=new FileReader,ri=ln(Wr);return Wr.readAsText(Br),ri}function Rn(Br){for(var Wr=new Uint8Array(Br),ri=new Array(Wr.length),ii=0;ii<Wr.length;ii++)ri[ii]=String.fromCharCode(Wr[ii]);return ri.join("")}function vn(Br){if(Br.slice)return Br.slice(0);var Wr=new Uint8Array(Br.byteLength);return Wr.set(new Uint8Array(Br)),Wr.buffer}function Cn(){return this.bodyUsed=!1,this._initBody=function(Br){this._bodyInit=Br,Br?typeof Br=="string"?this._bodyText=Br:fi.blob&&Blob.prototype.isPrototypeOf(Br)?this._bodyBlob=Br:fi.formData&&FormData.prototype.isPrototypeOf(Br)?this._bodyFormData=Br:fi.searchParams&&URLSearchParams.prototype.isPrototypeOf(Br)?this._bodyText=Br.toString():fi.arrayBuffer&&fi.blob&&ci(Br)?(this._bodyArrayBuffer=vn(Br.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):fi.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Br)||si(Br))?this._bodyArrayBuffer=vn(Br):this._bodyText=Br=Object.prototype.toString.call(Br):this._bodyText="",this.headers.get("content-type")||(typeof Br=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):fi.searchParams&&URLSearchParams.prototype.isPrototypeOf(Br)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},fi.blob&&(this.blob=function(){var Br=sn(this);if(Br)return Br;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?sn(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(mn)}),this.text=function(){var Br=sn(this);if(Br)return Br;if(this._bodyBlob)return cn(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Rn(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},fi.formData&&(this.formData=function(){return this.text().then(Do)}),this.json=function(){return this.text().then(JSON.parse)},this}var ho=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function hn(Br){var Wr=Br.toUpperCase();return ho.indexOf(Wr)>-1?Wr:Br}function Zn(Br,Wr){Wr=Wr||{};var ri=Wr.body;if(Br instanceof Zn){if(Br.bodyUsed)throw new TypeError("Already read");this.url=Br.url,this.credentials=Br.credentials,Wr.headers||(this.headers=new $i(Br.headers)),this.method=Br.method,this.mode=Br.mode,this.signal=Br.signal,!ri&&Br._bodyInit!=null&&(ri=Br._bodyInit,Br.bodyUsed=!0)}else this.url=String(Br);if(this.credentials=Wr.credentials||this.credentials||"same-origin",(Wr.headers||!this.headers)&&(this.headers=new $i(Wr.headers)),this.method=hn(Wr.method||this.method||"GET"),this.mode=Wr.mode||this.mode||null,this.signal=Wr.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ri)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(ri)}Zn.prototype.clone=function(){return new Zn(this,{body:this._bodyInit})};function Do(Br){var Wr=new FormData;return Br.trim().split("&").forEach(function(ri){if(ri){var ii=ri.split("="),oi=ii.shift().replace(/\+/g," "),ei=ii.join("=").replace(/\+/g," ");Wr.append(decodeURIComponent(oi),decodeURIComponent(ei))}}),Wr}function Yo(Br){var Wr=new $i,ri=Br.replace(/\r?\n[\t ]+/g," ");return ri.split(/\r?\n/).forEach(function(ii){var oi=ii.split(":"),ei=oi.shift().trim();if(ei){var Y=oi.join(":").trim();Wr.append(ei,Y)}}),Wr}Cn.call(Zn.prototype);function ui(Br,Wr){Wr||(Wr={}),this.type="default",this.status=Wr.status===void 0?200:Wr.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Wr?Wr.statusText:"OK",this.headers=new $i(Wr.headers),this.url=Wr.url||"",this._initBody(Br)}Cn.call(ui.prototype),ui.prototype.clone=function(){return new ui(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new $i(this.headers),url:this.url})},ui.error=function(){var Br=new ui(null,{status:0,statusText:""});return Br.type="error",Br};var H=[301,302,303,307,308];ui.redirect=function(Br,Wr){if(H.indexOf(Wr)===-1)throw new RangeError("Invalid status code");return new ui(null,{status:Wr,headers:{location:Br}})},ni.DOMException=Ie.DOMException;try{new ni.DOMException}catch{ni.DOMException=function(Wr,ri){this.message=Wr,this.name=ri;var ii=Error(Wr);this.stack=ii.stack},ni.DOMException.prototype=Object.create(Error.prototype),ni.DOMException.prototype.constructor=ni.DOMException}function X(Br,Wr){return new Promise(function(ri,ii){var oi=new Zn(Br,Wr);if(oi.signal&&oi.signal.aborted)return ii(new ni.DOMException("Aborted","AbortError"));var ei=new XMLHttpRequest;function Y(){ei.abort()}ei.onload=function(){var Xr={status:ei.status,statusText:ei.statusText,headers:Yo(ei.getAllResponseHeaders()||"")};Xr.url="responseURL"in ei?ei.responseURL:Xr.headers.get("X-Request-URL");var on="response"in ei?ei.response:ei.responseText;ri(new ui(on,Xr))},ei.onerror=function(){ii(new TypeError("Network request failed"))},ei.ontimeout=function(){ii(new TypeError("Network request failed"))},ei.onabort=function(){ii(new ni.DOMException("Aborted","AbortError"))},ei.open(oi.method,oi.url,!0),oi.credentials==="include"?ei.withCredentials=!0:oi.credentials==="omit"&&(ei.withCredentials=!1),"responseType"in ei&&fi.blob&&(ei.responseType="blob"),oi.headers.forEach(function(Xr,on){ei.setRequestHeader(on,Xr)}),oi.signal&&(oi.signal.addEventListener("abort",Y),ei.onreadystatechange=function(){ei.readyState===4&&oi.signal.removeEventListener("abort",Y)}),ei.send(typeof oi._bodyInit>"u"?null:oi._bodyInit)})}return X.polyfill=!0,Ie.fetch||(Ie.fetch=X,Ie.Headers=$i,Ie.Request=Zn,Ie.Response=ui),ni.Headers=$i,ni.Request=Zn,ni.Response=ui,ni.fetch=X,Object.defineProperty(ni,"__esModule",{value:!0}),ni})({})})(Te),Te.fetch.ponyfill=!0,delete Te.fetch.polyfill;var Zr=Te;t=Zr.fetch,t.default=Zr.fetch,t.fetch=Zr.fetch,t.Headers=Zr.Headers,t.Request=Zr.Request,t.Response=Zr.Response,te.exports=t})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const o=getDefaultExportFromCjs(browserPonyfillExports);var P=Object.defineProperty,w=Object.defineProperties,E$1=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,L$1=Object.prototype.hasOwnProperty,O$1=Object.prototype.propertyIsEnumerable,l=(te,t,G)=>t in te?P(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,p$1=(te,t)=>{for(var G in t||(t={}))L$1.call(t,G)&&l(te,G,t[G]);if(c)for(var G of c(t))O$1.call(t,G)&&l(te,G,t[G]);return te},v$1=(te,t)=>w(te,E$1(t));const j$1={Accept:"application/json","Content-Type":"application/json"},T$1="POST",d={headers:j$1,method:T$1},g$1=10;class f{constructor(t,G=!1){if(this.url=t,this.disableProviderPing=G,this.events=new eventsExports.EventEmitter,this.isAvailable=!1,this.registering=!1,!isHttpUrl(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=G}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,G){this.events.on(t,G)}once(t,G){this.events.once(t,G)}off(t,G){this.events.off(t,G)}removeListener(t,G){this.events.removeListener(t,G)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const G=safeJsonStringify(t),Te=await(await o(this.url,v$1(p$1({},d),{body:G}))).json();this.onPayload({data:Te})}catch(G){this.onError(t.id,G)}}async register(t=this.url){if(!isHttpUrl(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const G=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=G||this.events.listenerCount("open")>=G)&&this.events.setMaxListeners(G+1),new Promise((Te,Zr)=>{this.events.once("register_error",Ie=>{this.resetMaxListeners(),Zr(Ie)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return Zr(new Error("HTTP connection is missing or invalid"));Te()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const G=safeJsonStringify({id:1,jsonrpc:"2.0",method:"test",params:[]});await o(t,v$1(p$1({},d),{body:G}))}this.onOpen()}catch(G){const Te=this.parseError(G);throw this.events.emit("register_error",Te),this.onClose(),Te}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const G=typeof t.data=="string"?safeJsonParse(t.data):t.data;this.events.emit("payload",G)}onError(t,G){const Te=this.parseError(G),Zr=Te.message||Te.toString(),Ie=formatJsonRpcError(t,Zr);this.events.emit("payload",Ie)}parseError(t,G=this.url){return parseConnectionError(t,G,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>g$1&&this.events.setMaxListeners(g$1)}}const ya="error",Kg="wss://relay.walletconnect.com",Jg="wc",Yg="universal_provider",Sa=`${Jg}@2:${Yg}:`,Zg="https://rpc.walletconnect.com/v1/",Kn="generic",Tt={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var _e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ui={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(te,t){(function(){var G,Te="4.17.21",Zr=200,Ie="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ni="Expected a function",fi="Invalid `variable` option passed into `_.template`",ci="__lodash_hash_undefined__",ai=500,si="__lodash_placeholder__",li=1,mi=2,di=4,$i=1,sn=2,ln=1,mn=2,cn=4,Rn=8,vn=16,Cn=32,ho=64,hn=128,Zn=256,Do=512,Yo=30,ui="...",H=800,X=16,Br=1,Wr=2,ri=3,ii=1/0,oi=9007199254740991,ei=17976931348623157e292,Y=NaN,Xr=4294967295,on=Xr-1,Mn=Xr>>>1,Bn=[["ary",hn],["bind",ln],["bindKey",mn],["curry",Rn],["curryRight",vn],["flip",Do],["partial",Cn],["partialRight",ho],["rearg",Zn]],fn="[object Arguments]",uo="[object Array]",un="[object AsyncFunction]",gn="[object Boolean]",An="[object Date]",an="[object DOMException]",qo="[object Error]",ko="[object Function]",Uo="[object GeneratorFunction]",kh="[object Map]",Vo="[object Number]",tf="[object Null]",Wh="[object Object]",Rh="[object Promise]",vh="[object Proxy]",Jh="[object RegExp]",Vf="[object Set]",Zo="[object String]",Vh="[object Symbol]",Qf="[object Undefined]",Ko="[object WeakMap]",Zh="[object WeakSet]",Xf="[object ArrayBuffer]",Lf="[object DataView]",Qh="[object Float32Array]",bh="[object Float64Array]",jf="[object Int8Array]",Yh="[object Int16Array]",Sh="[object Int32Array]",ph="[object Uint8Array]",Xh="[object Uint8ClampedArray]",Th="[object Uint16Array]",$h="[object Uint32Array]",zu=/\b__p \+= '';/g,Nh=/\b(__p \+=) '' \+/g,Ih=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ku=/&(?:amp|lt|gt|quot|#39);/g,Lh=/[&<>"']/g,wh=RegExp(Ku.source),hu=RegExp(Lh.source),qh=/<%-([\s\S]+?)%>/g,_h=/<%([\s\S]+?)%>/g,qu=/<%=([\s\S]+?)%>/g,Dh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xh=/^\w*$/,Lu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bh=/[\\^$.*+?()[\]{}|]/g,Eh=RegExp(Bh.source),ku=/^\s+/,Ch=/\s/,Mh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,au=/\{\n\/\* \[wrapped with (.+)\] \*/,Oh=/,? & /,Ah=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,r0=/[()=,{}\[\]\/\s]/,jh=/\\(\\)?/g,Ph=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Uu=/\w*$/,nc=/^[-+]0x[0-9a-f]+$/i,sc=/^0b[01]+$/i,ac=/^\[object .+?Constructor\]$/,oc=/^0o[0-7]+$/i,fc=/^(?:0|[1-9]\d*)$/,$0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lc=/($^)/,gc=/['\n\r\u2028\u2029\\]/g,dc="\\ud800-\\udfff",bc="\\u0300-\\u036f",yc="\\ufe20-\\ufe2f",pc="\\u20d0-\\u20ff",vc=bc+yc+pc,mc="\\u2700-\\u27bf",tc="a-z\\xdf-\\xf6\\xf8-\\xff",wc="\\xac\\xb1\\xd7\\xf7",_c="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Mc="\\u2000-\\u206f",Zl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gd="A-Z\\xc0-\\xd6\\xd8-\\xde",Vd="\\ufe0e\\ufe0f",Ql=wc+_c+Mc+Zl,$d="['’]",Yl="["+dc+"]",Rd="["+Ql+"]",Xl="["+vc+"]",Wd="\\d+",J1="["+mc+"]",Jd="["+tc+"]",Zd="[^"+dc+Ql+Wd+mc+tc+Gd+"]",ud="\\ud83c[\\udffb-\\udfff]",Z1="(?:"+Xl+"|"+ud+")",Qd="[^"+dc+"]",cd="(?:\\ud83c[\\udde6-\\uddff]){2}",Ul="[\\ud800-\\udbff][\\udc00-\\udfff]",sl="["+Gd+"]",Yd="\\u200d",Xd="(?:"+Jd+"|"+Zd+")",Al="(?:"+sl+"|"+Zd+")",e1="(?:"+$d+"(?:d|ll|m|re|s|t|ve))?",t1="(?:"+$d+"(?:D|LL|M|RE|S|T|VE))?",r1=Z1+"?",i1="["+Vd+"]?",Q1="(?:"+Yd+"(?:"+[Qd,cd,Ul].join("|")+")"+i1+r1+")*",Dl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",n1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",s1=i1+r1+Q1,ld="(?:"+[J1,cd,Ul].join("|")+")"+s1,Y1="(?:"+[Qd+Xl+"?",Xl,cd,Ul,Yl].join("|")+")",Id=RegExp($d,"g"),X1=RegExp(Xl,"g"),dd=RegExp(ud+"(?="+ud+")|"+Y1+s1,"g"),a1=RegExp([sl+"?"+Jd+"+"+e1+"(?="+[Rd,sl,"$"].join("|")+")",Al+"+"+t1+"(?="+[Rd,sl+Xd,"$"].join("|")+")",sl+"?"+Xd+"+"+e1,sl+"+"+t1,n1,Dl,Wd,ld].join("|"),"g"),o1=RegExp("["+Yd+dc+vc+Vd+"]"),ed=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,f1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ep=-1,$c={};$c[Qh]=$c[bh]=$c[jf]=$c[Yh]=$c[Sh]=$c[ph]=$c[Xh]=$c[Th]=$c[$h]=!0,$c[fn]=$c[uo]=$c[Xf]=$c[gn]=$c[Lf]=$c[An]=$c[qo]=$c[ko]=$c[kh]=$c[Vo]=$c[Wh]=$c[Jh]=$c[Vf]=$c[Zo]=$c[Ko]=!1;var Sc={};Sc[fn]=Sc[uo]=Sc[Xf]=Sc[Lf]=Sc[gn]=Sc[An]=Sc[Qh]=Sc[bh]=Sc[jf]=Sc[Yh]=Sc[Sh]=Sc[kh]=Sc[Vo]=Sc[Wh]=Sc[Jh]=Sc[Vf]=Sc[Zo]=Sc[Vh]=Sc[ph]=Sc[Xh]=Sc[Th]=Sc[$h]=!0,Sc[qo]=Sc[ko]=Sc[Ko]=!1;var jo={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},mh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},uu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Rc=parseFloat,o0=parseInt,qc=typeof _e=="object"&&_e&&_e.Object===Object&&_e,Lc=typeof self=="object"&&self&&self.Object===Object&&self,uc=qc||Lc||Function("return this")(),Ic=t&&!t.nodeType&&t,Tc=Ic&&!0&&te&&!te.nodeType&&te,el=Tc&&Tc.exports===Ic,Uc=el&&qc.process,Bc=function(){try{var gh=Tc&&Tc.require&&Tc.require("util").types;return gh||Uc&&Uc.binding&&Uc.binding("util")}catch{}}(),Jc=Bc&&Bc.isArrayBuffer,yl=Bc&&Bc.isDate,cl=Bc&&Bc.isMap,Sl=Bc&&Bc.isRegExp,Dd=Bc&&Bc.isSet,td=Bc&&Bc.isTypedArray;function Kc(gh,Fh,Uh){switch(Uh.length){case 0:return gh.call(Fh);case 1:return gh.call(Fh,Uh[0]);case 2:return gh.call(Fh,Uh[0],Uh[1]);case 3:return gh.call(Fh,Uh[0],Uh[1],Uh[2])}return gh.apply(Fh,Uh)}function Ig(gh,Fh,Uh,Tu){for(var s0=-1,xc=gh==null?0:gh.length;++s0<xc;){var jc=gh[s0];Fh(Tu,jc,Uh(jc),gh)}return Tu}function ll(gh,Fh){for(var Uh=-1,Tu=gh==null?0:gh.length;++Uh<Tu&&Fh(gh[Uh],Uh,gh)!==!1;);return gh}function Dg(gh,Fh){for(var Uh=gh==null?0:gh.length;Uh--&&Fh(gh[Uh],Uh,gh)!==!1;);return gh}function Sv(gh,Fh){for(var Uh=-1,Tu=gh==null?0:gh.length;++Uh<Tu;)if(!Fh(gh[Uh],Uh,gh))return!1;return!0}function jl(gh,Fh){for(var Uh=-1,Tu=gh==null?0:gh.length,s0=0,xc=[];++Uh<Tu;){var jc=gh[Uh];Fh(jc,Uh,gh)&&(xc[s0++]=jc)}return xc}function h1(gh,Fh){var Uh=gh==null?0:gh.length;return!!Uh&&pd(gh,Fh,0)>-1}function tp(gh,Fh,Uh){for(var Tu=-1,s0=gh==null?0:gh.length;++Tu<s0;)if(Uh(Fh,gh[Tu]))return!0;return!1}function Cc(gh,Fh){for(var Uh=-1,Tu=gh==null?0:gh.length,s0=Array(Tu);++Uh<Tu;)s0[Uh]=Fh(gh[Uh],Uh,gh);return s0}function Fl(gh,Fh){for(var Uh=-1,Tu=Fh.length,s0=gh.length;++Uh<Tu;)gh[s0+Uh]=Fh[Uh];return gh}function rp(gh,Fh,Uh,Tu){var s0=-1,xc=gh==null?0:gh.length;for(Tu&&xc&&(Uh=gh[++s0]);++s0<xc;)Uh=Fh(Uh,gh[s0],s0,gh);return Uh}function qg(gh,Fh,Uh,Tu){var s0=gh==null?0:gh.length;for(Tu&&s0&&(Uh=gh[--s0]);s0--;)Uh=Fh(Uh,gh[s0],s0,gh);return Uh}function ip(gh,Fh){for(var Uh=-1,Tu=gh==null?0:gh.length;++Uh<Tu;)if(Fh(gh[Uh],Uh,gh))return!0;return!1}var Bg=np("length");function Cg(gh){return gh.split("")}function Pg(gh){return gh.match(Ah)||[]}function $v(gh,Fh,Uh){var Tu;return Uh(gh,function(s0,xc,jc){if(Fh(s0,xc,jc))return Tu=xc,!1}),Tu}function u1(gh,Fh,Uh,Tu){for(var s0=gh.length,xc=Uh+(Tu?1:-1);Tu?xc--:++xc<s0;)if(Fh(gh[xc],xc,gh))return xc;return-1}function pd(gh,Fh,Uh){return Fh===Fh?i2(gh,Fh,Uh):u1(gh,Rv,Uh)}function Og(gh,Fh,Uh,Tu){for(var s0=Uh-1,xc=gh.length;++s0<xc;)if(Tu(gh[s0],Fh))return s0;return-1}function Rv(gh){return gh!==gh}function Dv(gh,Fh){var Uh=gh==null?0:gh.length;return Uh?ap(gh,Fh)/Uh:Y}function np(gh){return function(Fh){return Fh==null?G:Fh[gh]}}function sp(gh){return function(Fh){return gh==null?G:gh[Fh]}}function qv(gh,Fh,Uh,Tu,s0){return s0(gh,function(xc,jc,Dc){Uh=Tu?(Tu=!1,xc):Fh(Uh,xc,jc,Dc)}),Uh}function Tg(gh,Fh){var Uh=gh.length;for(gh.sort(Fh);Uh--;)gh[Uh]=gh[Uh].value;return gh}function ap(gh,Fh){for(var Uh,Tu=-1,s0=gh.length;++Tu<s0;){var xc=Fh(gh[Tu]);xc!==G&&(Uh=Uh===G?xc:Uh+xc)}return Uh}function op(gh,Fh){for(var Uh=-1,Tu=Array(gh);++Uh<gh;)Tu[Uh]=Fh(Uh);return Tu}function Ng(gh,Fh){return Cc(Fh,function(Uh){return[Uh,gh[Uh]]})}function Bv(gh){return gh&&gh.slice(0,kv(gh)+1).replace(ku,"")}function al(gh){return function(Fh){return gh(Fh)}}function fp(gh,Fh){return Cc(Fh,function(Uh){return gh[Uh]})}function qd(gh,Fh){return gh.has(Fh)}function Ov(gh,Fh){for(var Uh=-1,Tu=gh.length;++Uh<Tu&&pd(Fh,gh[Uh],0)>-1;);return Uh}function Tv(gh,Fh){for(var Uh=gh.length;Uh--&&pd(Fh,gh[Uh],0)>-1;);return Uh}function Lg(gh,Fh){for(var Uh=gh.length,Tu=0;Uh--;)gh[Uh]===Fh&&++Tu;return Tu}var Ug=sp(jo),Fg=sp(mh);function zg(gh){return"\\"+uu[gh]}function Hg(gh,Fh){return gh==null?G:gh[Fh]}function vd(gh){return o1.test(gh)}function e2(gh){return ed.test(gh)}function t2(gh){for(var Fh,Uh=[];!(Fh=gh.next()).done;)Uh.push(Fh.value);return Uh}function hp(gh){var Fh=-1,Uh=Array(gh.size);return gh.forEach(function(Tu,s0){Uh[++Fh]=[s0,Tu]}),Uh}function Nv(gh,Fh){return function(Uh){return gh(Fh(Uh))}}function zl(gh,Fh){for(var Uh=-1,Tu=gh.length,s0=0,xc=[];++Uh<Tu;){var jc=gh[Uh];(jc===Fh||jc===si)&&(gh[Uh]=si,xc[s0++]=Uh)}return xc}function c1(gh){var Fh=-1,Uh=Array(gh.size);return gh.forEach(function(Tu){Uh[++Fh]=Tu}),Uh}function r2(gh){var Fh=-1,Uh=Array(gh.size);return gh.forEach(function(Tu){Uh[++Fh]=[Tu,Tu]}),Uh}function i2(gh,Fh,Uh){for(var Tu=Uh-1,s0=gh.length;++Tu<s0;)if(gh[Tu]===Fh)return Tu;return-1}function n2(gh,Fh,Uh){for(var Tu=Uh+1;Tu--;)if(gh[Tu]===Fh)return Tu;return Tu}function md(gh){return vd(gh)?a2(gh):Bg(gh)}function wl(gh){return vd(gh)?o2(gh):Cg(gh)}function kv(gh){for(var Fh=gh.length;Fh--&&Ch.test(gh.charAt(Fh)););return Fh}var s2=sp(Hh);function a2(gh){for(var Fh=dd.lastIndex=0;dd.test(gh);)++Fh;return Fh}function o2(gh){return gh.match(dd)||[]}function f2(gh){return gh.match(a1)||[]}var h2=function gh(Fh){Fh=Fh==null?uc:gd.defaults(uc.Object(),Fh,gd.pick(uc,f1));var Uh=Fh.Array,Tu=Fh.Date,s0=Fh.Error,xc=Fh.Function,jc=Fh.Math,Dc=Fh.Object,up=Fh.RegExp,u2=Fh.String,dl=Fh.TypeError,l1=Uh.prototype,c2=xc.prototype,bd=Dc.prototype,d1=Fh["__core-js_shared__"],p1=c2.toString,Ac=bd.hasOwnProperty,l2=0,Lv=function(){var ti=/[^.]+$/.exec(d1&&d1.keys&&d1.keys.IE_PROTO||"");return ti?"Symbol(src)_1."+ti:""}(),v1=bd.toString,d2=p1.call(Dc),p2=uc._,v2=up("^"+p1.call(Ac).replace(Bh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m1=el?Fh.Buffer:G,Kl=Fh.Symbol,g1=Fh.Uint8Array,Uv=m1?m1.allocUnsafe:G,b1=Nv(Dc.getPrototypeOf,Dc),jv=Dc.create,Fv=bd.propertyIsEnumerable,y1=l1.splice,zv=Kl?Kl.isConcatSpreadable:G,Bd=Kl?Kl.iterator:G,rd=Kl?Kl.toStringTag:G,w1=function(){try{var ti=od(Dc,"defineProperty");return ti({},"",{}),ti}catch{}}(),m2=Fh.clearTimeout!==uc.clearTimeout&&Fh.clearTimeout,g2=Tu&&Tu.now!==uc.Date.now&&Tu.now,b2=Fh.setTimeout!==uc.setTimeout&&Fh.setTimeout,M1=jc.ceil,x1=jc.floor,cp=Dc.getOwnPropertySymbols,y2=m1?m1.isBuffer:G,Kv=Fh.isFinite,w2=l1.join,_2=Nv(Dc.keys,Dc),Fc=jc.max,Vc=jc.min,M2=Tu.now,x2=Fh.parseInt,Hv=jc.random,E2=l1.reverse,lp=od(Fh,"DataView"),Cd=od(Fh,"Map"),dp=od(Fh,"Promise"),yd=od(Fh,"Set"),Pd=od(Fh,"WeakMap"),Od=od(Dc,"create"),E1=Pd&&new Pd,wd={},A2=fd(lp),S2=fd(Cd),$2=fd(dp),R2=fd(yd),I2=fd(Pd),A1=Kl?Kl.prototype:G,Td=A1?A1.valueOf:G,Gv=A1?A1.toString:G;function To(ti){if(Oc(ti)&&!f0(ti)&&!(ti instanceof hc)){if(ti instanceof pl)return ti;if(Ac.call(ti,"__wrapped__"))return Vm(ti)}return new pl(ti)}var _d=function(){function ti(){}return function(hi){if(!Pc(hi))return{};if(jv)return jv(hi);ti.prototype=hi;var nn=new ti;return ti.prototype=G,nn}}();function S1(){}function pl(ti,hi){this.__wrapped__=ti,this.__actions__=[],this.__chain__=!!hi,this.__index__=0,this.__values__=G}To.templateSettings={escape:qh,evaluate:_h,interpolate:qu,variable:"",imports:{_:To}},To.prototype=S1.prototype,To.prototype.constructor=To,pl.prototype=_d(S1.prototype),pl.prototype.constructor=pl;function hc(ti){this.__wrapped__=ti,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Xr,this.__views__=[]}function D2(){var ti=new hc(this.__wrapped__);return ti.__actions__=tl(this.__actions__),ti.__dir__=this.__dir__,ti.__filtered__=this.__filtered__,ti.__iteratees__=tl(this.__iteratees__),ti.__takeCount__=this.__takeCount__,ti.__views__=tl(this.__views__),ti}function q2(){if(this.__filtered__){var ti=new hc(this);ti.__dir__=-1,ti.__filtered__=!0}else ti=this.clone(),ti.__dir__*=-1;return ti}function B2(){var ti=this.__wrapped__.value(),hi=this.__dir__,nn=f0(ti),pn=hi<0,Ya=nn?ti.length:0,Lo=Kb(0,Ya,this.__views__),Fo=Lo.start,Ho=Lo.end,yh=Ho-Fo,zh=pn?Ho:Fo-1,Kh=this.__iteratees__,Gh=Kh.length,su=0,Fu=Vc(yh,this.__takeCount__);if(!nn||!pn&&Ya==yh&&Fu==yh)return mm(ti,this.__actions__);var e0=[];e:for(;yh--&&su<Fu;){zh+=hi;for(var F0=-1,t0=ti[zh];++F0<Gh;){var ic=Kh[F0],cc=ic.iteratee,hl=ic.type,Yc=cc(t0);if(hl==Wr)t0=Yc;else if(!Yc){if(hl==Br)continue e;break e}}e0[su++]=t0}return e0}hc.prototype=_d(S1.prototype),hc.prototype.constructor=hc;function id(ti){var hi=-1,nn=ti==null?0:ti.length;for(this.clear();++hi<nn;){var pn=ti[hi];this.set(pn[0],pn[1])}}function C2(){this.__data__=Od?Od(null):{},this.size=0}function P2(ti){var hi=this.has(ti)&&delete this.__data__[ti];return this.size-=hi?1:0,hi}function O2(ti){var hi=this.__data__;if(Od){var nn=hi[ti];return nn===ci?G:nn}return Ac.call(hi,ti)?hi[ti]:G}function T2(ti){var hi=this.__data__;return Od?hi[ti]!==G:Ac.call(hi,ti)}function N2(ti,hi){var nn=this.__data__;return this.size+=this.has(ti)?0:1,nn[ti]=Od&&hi===G?ci:hi,this}id.prototype.clear=C2,id.prototype.delete=P2,id.prototype.get=O2,id.prototype.has=T2,id.prototype.set=N2;function ql(ti){var hi=-1,nn=ti==null?0:ti.length;for(this.clear();++hi<nn;){var pn=ti[hi];this.set(pn[0],pn[1])}}function k2(){this.__data__=[],this.size=0}function L2(ti){var hi=this.__data__,nn=$1(hi,ti);if(nn<0)return!1;var pn=hi.length-1;return nn==pn?hi.pop():y1.call(hi,nn,1),--this.size,!0}function U2(ti){var hi=this.__data__,nn=$1(hi,ti);return nn<0?G:hi[nn][1]}function j2(ti){return $1(this.__data__,ti)>-1}function F2(ti,hi){var nn=this.__data__,pn=$1(nn,ti);return pn<0?(++this.size,nn.push([ti,hi])):nn[pn][1]=hi,this}ql.prototype.clear=k2,ql.prototype.delete=L2,ql.prototype.get=U2,ql.prototype.has=j2,ql.prototype.set=F2;function Bl(ti){var hi=-1,nn=ti==null?0:ti.length;for(this.clear();++hi<nn;){var pn=ti[hi];this.set(pn[0],pn[1])}}function z2(){this.size=0,this.__data__={hash:new id,map:new(Cd||ql),string:new id}}function K2(ti){var hi=L1(this,ti).delete(ti);return this.size-=hi?1:0,hi}function H2(ti){return L1(this,ti).get(ti)}function G2(ti){return L1(this,ti).has(ti)}function V2(ti,hi){var nn=L1(this,ti),pn=nn.size;return nn.set(ti,hi),this.size+=nn.size==pn?0:1,this}Bl.prototype.clear=z2,Bl.prototype.delete=K2,Bl.prototype.get=H2,Bl.prototype.has=G2,Bl.prototype.set=V2;function nd(ti){var hi=-1,nn=ti==null?0:ti.length;for(this.__data__=new Bl;++hi<nn;)this.add(ti[hi])}function W2(ti){return this.__data__.set(ti,ci),this}function J2(ti){return this.__data__.has(ti)}nd.prototype.add=nd.prototype.push=W2,nd.prototype.has=J2;function _l(ti){var hi=this.__data__=new ql(ti);this.size=hi.size}function Z2(){this.__data__=new ql,this.size=0}function Q2(ti){var hi=this.__data__,nn=hi.delete(ti);return this.size=hi.size,nn}function Y2(ti){return this.__data__.get(ti)}function X2(ti){return this.__data__.has(ti)}function eb(ti,hi){var nn=this.__data__;if(nn instanceof ql){var pn=nn.__data__;if(!Cd||pn.length<Zr-1)return pn.push([ti,hi]),this.size=++nn.size,this;nn=this.__data__=new Bl(pn)}return nn.set(ti,hi),this.size=nn.size,this}_l.prototype.clear=Z2,_l.prototype.delete=Q2,_l.prototype.get=Y2,_l.prototype.has=X2,_l.prototype.set=eb;function Vv(ti,hi){var nn=f0(ti),pn=!nn&&hd(ti),Ya=!nn&&!pn&&Jl(ti),Lo=!nn&&!pn&&!Ya&&Ad(ti),Fo=nn||pn||Ya||Lo,Ho=Fo?op(ti.length,u2):[],yh=Ho.length;for(var zh in ti)(hi||Ac.call(ti,zh))&&!(Fo&&(zh=="length"||Ya&&(zh=="offset"||zh=="parent")||Lo&&(zh=="buffer"||zh=="byteLength"||zh=="byteOffset")||Tl(zh,yh)))&&Ho.push(zh);return Ho}function Wv(ti){var hi=ti.length;return hi?ti[Ep(0,hi-1)]:G}function tb(ti,hi){return U1(tl(ti),sd(hi,0,ti.length))}function rb(ti){return U1(tl(ti))}function pp(ti,hi,nn){(nn!==G&&!Ml(ti[hi],nn)||nn===G&&!(hi in ti))&&Cl(ti,hi,nn)}function Nd(ti,hi,nn){var pn=ti[hi];(!(Ac.call(ti,hi)&&Ml(pn,nn))||nn===G&&!(hi in ti))&&Cl(ti,hi,nn)}function $1(ti,hi){for(var nn=ti.length;nn--;)if(Ml(ti[nn][0],hi))return nn;return-1}function ib(ti,hi,nn,pn){return Hl(ti,function(Ya,Lo,Fo){hi(pn,Ya,nn(Ya),Fo)}),pn}function Jv(ti,hi){return ti&&Rl(hi,Hc(hi),ti)}function nb(ti,hi){return ti&&Rl(hi,il(hi),ti)}function Cl(ti,hi,nn){hi=="__proto__"&&w1?w1(ti,hi,{configurable:!0,enumerable:!0,value:nn,writable:!0}):ti[hi]=nn}function vp(ti,hi){for(var nn=-1,pn=hi.length,Ya=Uh(pn),Lo=ti==null;++nn<pn;)Ya[nn]=Lo?G:Jp(ti,hi[nn]);return Ya}function sd(ti,hi,nn){return ti===ti&&(nn!==G&&(ti=ti<=nn?ti:nn),hi!==G&&(ti=ti>=hi?ti:hi)),ti}function vl(ti,hi,nn,pn,Ya,Lo){var Fo,Ho=hi&li,yh=hi&mi,zh=hi&di;if(nn&&(Fo=Ya?nn(ti,pn,Ya,Lo):nn(ti)),Fo!==G)return Fo;if(!Pc(ti))return ti;var Kh=f0(ti);if(Kh){if(Fo=Gb(ti),!Ho)return tl(ti,Fo)}else{var Gh=Wc(ti),su=Gh==ko||Gh==Uo;if(Jl(ti))return ym(ti,Ho);if(Gh==Wh||Gh==fn||su&&!Ya){if(Fo=yh||su?{}:km(ti),!Ho)return yh?Ob(ti,nb(Fo,ti)):Pb(ti,Jv(Fo,ti))}else{if(!Sc[Gh])return Ya?ti:{};Fo=Vb(ti,Gh,Ho)}}Lo||(Lo=new _l);var Fu=Lo.get(ti);if(Fu)return Fu;Lo.set(ti,Fo),dg(ti)?ti.forEach(function(t0){Fo.add(vl(t0,hi,nn,t0,ti,Lo))}):cg(ti)&&ti.forEach(function(t0,ic){Fo.set(ic,vl(t0,hi,nn,ic,ti,Lo))});var e0=zh?yh?Op:Pp:yh?il:Hc,F0=Kh?G:e0(ti);return ll(F0||ti,function(t0,ic){F0&&(ic=t0,t0=ti[ic]),Nd(Fo,ic,vl(t0,hi,nn,ic,ti,Lo))}),Fo}function sb(ti){var hi=Hc(ti);return function(nn){return Zv(nn,ti,hi)}}function Zv(ti,hi,nn){var pn=nn.length;if(ti==null)return!pn;for(ti=Dc(ti);pn--;){var Ya=nn[pn],Lo=hi[Ya],Fo=ti[Ya];if(Fo===G&&!(Ya in ti)||!Lo(Fo))return!1}return!0}function Qv(ti,hi,nn){if(typeof ti!="function")throw new dl(ni);return Kd(function(){ti.apply(G,nn)},hi)}function kd(ti,hi,nn,pn){var Ya=-1,Lo=h1,Fo=!0,Ho=ti.length,yh=[],zh=hi.length;if(!Ho)return yh;nn&&(hi=Cc(hi,al(nn))),pn?(Lo=tp,Fo=!1):hi.length>=Zr&&(Lo=qd,Fo=!1,hi=new nd(hi));e:for(;++Ya<Ho;){var Kh=ti[Ya],Gh=nn==null?Kh:nn(Kh);if(Kh=pn||Kh!==0?Kh:0,Fo&&Gh===Gh){for(var su=zh;su--;)if(hi[su]===Gh)continue e;yh.push(Kh)}else Lo(hi,Gh,pn)||yh.push(Kh)}return yh}var Hl=Em($l),Yv=Em(gp,!0);function ab(ti,hi){var nn=!0;return Hl(ti,function(pn,Ya,Lo){return nn=!!hi(pn,Ya,Lo),nn}),nn}function R1(ti,hi,nn){for(var pn=-1,Ya=ti.length;++pn<Ya;){var Lo=ti[pn],Fo=hi(Lo);if(Fo!=null&&(Ho===G?Fo===Fo&&!fl(Fo):nn(Fo,Ho)))var Ho=Fo,yh=Lo}return yh}function ob(ti,hi,nn,pn){var Ya=ti.length;for(nn=D0(nn),nn<0&&(nn=-nn>Ya?0:Ya+nn),pn=pn===G||pn>Ya?Ya:D0(pn),pn<0&&(pn+=Ya),pn=nn>pn?0:vg(pn);nn<pn;)ti[nn++]=hi;return ti}function Xv(ti,hi){var nn=[];return Hl(ti,function(pn,Ya,Lo){hi(pn,Ya,Lo)&&nn.push(pn)}),nn}function Gc(ti,hi,nn,pn,Ya){var Lo=-1,Fo=ti.length;for(nn||(nn=Jb),Ya||(Ya=[]);++Lo<Fo;){var Ho=ti[Lo];hi>0&&nn(Ho)?hi>1?Gc(Ho,hi-1,nn,pn,Ya):Fl(Ya,Ho):pn||(Ya[Ya.length]=Ho)}return Ya}var mp=Am(),em=Am(!0);function $l(ti,hi){return ti&&mp(ti,hi,Hc)}function gp(ti,hi){return ti&&em(ti,hi,Hc)}function I1(ti,hi){return jl(hi,function(nn){return Nl(ti[nn])})}function ad(ti,hi){hi=Vl(hi,ti);for(var nn=0,pn=hi.length;ti!=null&&nn<pn;)ti=ti[Il(hi[nn++])];return nn&&nn==pn?ti:G}function tm(ti,hi,nn){var pn=hi(ti);return f0(ti)?pn:Fl(pn,nn(ti))}function Zc(ti){return ti==null?ti===G?Qf:tf:rd&&rd in Dc(ti)?zb(ti):ry(ti)}function bp(ti,hi){return ti>hi}function fb(ti,hi){return ti!=null&&Ac.call(ti,hi)}function hb(ti,hi){return ti!=null&&hi in Dc(ti)}function ub(ti,hi,nn){return ti>=Vc(hi,nn)&&ti<Fc(hi,nn)}function yp(ti,hi,nn){for(var pn=nn?tp:h1,Ya=ti[0].length,Lo=ti.length,Fo=Lo,Ho=Uh(Lo),yh=1/0,zh=[];Fo--;){var Kh=ti[Fo];Fo&&hi&&(Kh=Cc(Kh,al(hi))),yh=Vc(Kh.length,yh),Ho[Fo]=!nn&&(hi||Ya>=120&&Kh.length>=120)?new nd(Fo&&Kh):G}Kh=ti[0];var Gh=-1,su=Ho[0];e:for(;++Gh<Ya&&zh.length<yh;){var Fu=Kh[Gh],e0=hi?hi(Fu):Fu;if(Fu=nn||Fu!==0?Fu:0,!(su?qd(su,e0):pn(zh,e0,nn))){for(Fo=Lo;--Fo;){var F0=Ho[Fo];if(!(F0?qd(F0,e0):pn(ti[Fo],e0,nn)))continue e}su&&su.push(e0),zh.push(Fu)}}return zh}function cb(ti,hi,nn,pn){return $l(ti,function(Ya,Lo,Fo){hi(pn,nn(Ya),Lo,Fo)}),pn}function Ld(ti,hi,nn){hi=Vl(hi,ti),ti=Fm(ti,hi);var pn=ti==null?ti:ti[Il(gl(hi))];return pn==null?G:Kc(pn,ti,nn)}function rm(ti){return Oc(ti)&&Zc(ti)==fn}function lb(ti){return Oc(ti)&&Zc(ti)==Xf}function db(ti){return Oc(ti)&&Zc(ti)==An}function Ud(ti,hi,nn,pn,Ya){return ti===hi?!0:ti==null||hi==null||!Oc(ti)&&!Oc(hi)?ti!==ti&&hi!==hi:pb(ti,hi,nn,pn,Ud,Ya)}function pb(ti,hi,nn,pn,Ya,Lo){var Fo=f0(ti),Ho=f0(hi),yh=Fo?uo:Wc(ti),zh=Ho?uo:Wc(hi);yh=yh==fn?Wh:yh,zh=zh==fn?Wh:zh;var Kh=yh==Wh,Gh=zh==Wh,su=yh==zh;if(su&&Jl(ti)){if(!Jl(hi))return!1;Fo=!0,Kh=!1}if(su&&!Kh)return Lo||(Lo=new _l),Fo||Ad(ti)?Om(ti,hi,nn,pn,Ya,Lo):jb(ti,hi,yh,nn,pn,Ya,Lo);if(!(nn&$i)){var Fu=Kh&&Ac.call(ti,"__wrapped__"),e0=Gh&&Ac.call(hi,"__wrapped__");if(Fu||e0){var F0=Fu?ti.value():ti,t0=e0?hi.value():hi;return Lo||(Lo=new _l),Ya(F0,t0,nn,pn,Lo)}}return su?(Lo||(Lo=new _l),Fb(ti,hi,nn,pn,Ya,Lo)):!1}function vb(ti){return Oc(ti)&&Wc(ti)==kh}function wp(ti,hi,nn,pn){var Ya=nn.length,Lo=Ya,Fo=!pn;if(ti==null)return!Lo;for(ti=Dc(ti);Ya--;){var Ho=nn[Ya];if(Fo&&Ho[2]?Ho[1]!==ti[Ho[0]]:!(Ho[0]in ti))return!1}for(;++Ya<Lo;){Ho=nn[Ya];var yh=Ho[0],zh=ti[yh],Kh=Ho[1];if(Fo&&Ho[2]){if(zh===G&&!(yh in ti))return!1}else{var Gh=new _l;if(pn)var su=pn(zh,Kh,yh,ti,hi,Gh);if(!(su===G?Ud(Kh,zh,$i|sn,pn,Gh):su))return!1}}return!0}function im(ti){if(!Pc(ti)||Qb(ti))return!1;var hi=Nl(ti)?v2:ac;return hi.test(fd(ti))}function mb(ti){return Oc(ti)&&Zc(ti)==Jh}function gb(ti){return Oc(ti)&&Wc(ti)==Vf}function bb(ti){return Oc(ti)&&G1(ti.length)&&!!$c[Zc(ti)]}function nm(ti){return typeof ti=="function"?ti:ti==null?nl:typeof ti=="object"?f0(ti)?om(ti[0],ti[1]):am(ti):Sg(ti)}function _p(ti){if(!zd(ti))return _2(ti);var hi=[];for(var nn in Dc(ti))Ac.call(ti,nn)&&nn!="constructor"&&hi.push(nn);return hi}function yb(ti){if(!Pc(ti))return ty(ti);var hi=zd(ti),nn=[];for(var pn in ti)pn=="constructor"&&(hi||!Ac.call(ti,pn))||nn.push(pn);return nn}function Mp(ti,hi){return ti<hi}function sm(ti,hi){var nn=-1,pn=rl(ti)?Uh(ti.length):[];return Hl(ti,function(Ya,Lo,Fo){pn[++nn]=hi(Ya,Lo,Fo)}),pn}function am(ti){var hi=Np(ti);return hi.length==1&&hi[0][2]?Um(hi[0][0],hi[0][1]):function(nn){return nn===ti||wp(nn,ti,hi)}}function om(ti,hi){return Lp(ti)&&Lm(hi)?Um(Il(ti),hi):function(nn){var pn=Jp(nn,ti);return pn===G&&pn===hi?Zp(nn,ti):Ud(hi,pn,$i|sn)}}function D1(ti,hi,nn,pn,Ya){ti!==hi&&mp(hi,function(Lo,Fo){if(Ya||(Ya=new _l),Pc(Lo))wb(ti,hi,Fo,nn,D1,pn,Ya);else{var Ho=pn?pn(jp(ti,Fo),Lo,Fo+"",ti,hi,Ya):G;Ho===G&&(Ho=Lo),pp(ti,Fo,Ho)}},il)}function wb(ti,hi,nn,pn,Ya,Lo,Fo){var Ho=jp(ti,nn),yh=jp(hi,nn),zh=Fo.get(yh);if(zh){pp(ti,nn,zh);return}var Kh=Lo?Lo(Ho,yh,nn+"",ti,hi,Fo):G,Gh=Kh===G;if(Gh){var su=f0(yh),Fu=!su&&Jl(yh),e0=!su&&!Fu&&Ad(yh);Kh=yh,su||Fu||e0?f0(Ho)?Kh=Ho:Nc(Ho)?Kh=tl(Ho):Fu?(Gh=!1,Kh=ym(yh,!0)):e0?(Gh=!1,Kh=wm(yh,!0)):Kh=[]:Hd(yh)||hd(yh)?(Kh=Ho,hd(Ho)?Kh=mg(Ho):(!Pc(Ho)||Nl(Ho))&&(Kh=km(yh))):Gh=!1}Gh&&(Fo.set(yh,Kh),Ya(Kh,yh,pn,Lo,Fo),Fo.delete(yh)),pp(ti,nn,Kh)}function fm(ti,hi){var nn=ti.length;if(nn)return hi+=hi<0?nn:0,Tl(hi,nn)?ti[hi]:G}function hm(ti,hi,nn){hi.length?hi=Cc(hi,function(Lo){return f0(Lo)?function(Fo){return ad(Fo,Lo.length===1?Lo[0]:Lo)}:Lo}):hi=[nl];var pn=-1;hi=Cc(hi,al(Hu()));var Ya=sm(ti,function(Lo,Fo,Ho){var yh=Cc(hi,function(zh){return zh(Lo)});return{criteria:yh,index:++pn,value:Lo}});return Tg(Ya,function(Lo,Fo){return Cb(Lo,Fo,nn)})}function _b(ti,hi){return um(ti,hi,function(nn,pn){return Zp(ti,pn)})}function um(ti,hi,nn){for(var pn=-1,Ya=hi.length,Lo={};++pn<Ya;){var Fo=hi[pn],Ho=ad(ti,Fo);nn(Ho,Fo)&&jd(Lo,Vl(Fo,ti),Ho)}return Lo}function Mb(ti){return function(hi){return ad(hi,ti)}}function xp(ti,hi,nn,pn){var Ya=pn?Og:pd,Lo=-1,Fo=hi.length,Ho=ti;for(ti===hi&&(hi=tl(hi)),nn&&(Ho=Cc(ti,al(nn)));++Lo<Fo;)for(var yh=0,zh=hi[Lo],Kh=nn?nn(zh):zh;(yh=Ya(Ho,Kh,yh,pn))>-1;)Ho!==ti&&y1.call(Ho,yh,1),y1.call(ti,yh,1);return ti}function cm(ti,hi){for(var nn=ti?hi.length:0,pn=nn-1;nn--;){var Ya=hi[nn];if(nn==pn||Ya!==Lo){var Lo=Ya;Tl(Ya)?y1.call(ti,Ya,1):$p(ti,Ya)}}return ti}function Ep(ti,hi){return ti+x1(Hv()*(hi-ti+1))}function xb(ti,hi,nn,pn){for(var Ya=-1,Lo=Fc(M1((hi-ti)/(nn||1)),0),Fo=Uh(Lo);Lo--;)Fo[pn?Lo:++Ya]=ti,ti+=nn;return Fo}function Ap(ti,hi){var nn="";if(!ti||hi<1||hi>oi)return nn;do hi%2&&(nn+=ti),hi=x1(hi/2),hi&&(ti+=ti);while(hi);return nn}function rc(ti,hi){return Fp(jm(ti,hi,nl),ti+"")}function Eb(ti){return Wv(Sd(ti))}function Ab(ti,hi){var nn=Sd(ti);return U1(nn,sd(hi,0,nn.length))}function jd(ti,hi,nn,pn){if(!Pc(ti))return ti;hi=Vl(hi,ti);for(var Ya=-1,Lo=hi.length,Fo=Lo-1,Ho=ti;Ho!=null&&++Ya<Lo;){var yh=Il(hi[Ya]),zh=nn;if(yh==="__proto__"||yh==="constructor"||yh==="prototype")return ti;if(Ya!=Fo){var Kh=Ho[yh];zh=pn?pn(Kh,yh,Ho):G,zh===G&&(zh=Pc(Kh)?Kh:Tl(hi[Ya+1])?[]:{})}Nd(Ho,yh,zh),Ho=Ho[yh]}return ti}var lm=E1?function(ti,hi){return E1.set(ti,hi),ti}:nl,Sb=w1?function(ti,hi){return w1(ti,"toString",{configurable:!0,enumerable:!1,value:Yp(hi),writable:!0})}:nl;function $b(ti){return U1(Sd(ti))}function ml(ti,hi,nn){var pn=-1,Ya=ti.length;hi<0&&(hi=-hi>Ya?0:Ya+hi),nn=nn>Ya?Ya:nn,nn<0&&(nn+=Ya),Ya=hi>nn?0:nn-hi>>>0,hi>>>=0;for(var Lo=Uh(Ya);++pn<Ya;)Lo[pn]=ti[pn+hi];return Lo}function Rb(ti,hi){var nn;return Hl(ti,function(pn,Ya,Lo){return nn=hi(pn,Ya,Lo),!nn}),!!nn}function q1(ti,hi,nn){var pn=0,Ya=ti==null?pn:ti.length;if(typeof hi=="number"&&hi===hi&&Ya<=Mn){for(;pn<Ya;){var Lo=pn+Ya>>>1,Fo=ti[Lo];Fo!==null&&!fl(Fo)&&(nn?Fo<=hi:Fo<hi)?pn=Lo+1:Ya=Lo}return Ya}return Sp(ti,hi,nl,nn)}function Sp(ti,hi,nn,pn){var Ya=0,Lo=ti==null?0:ti.length;if(Lo===0)return 0;hi=nn(hi);for(var Fo=hi!==hi,Ho=hi===null,yh=fl(hi),zh=hi===G;Ya<Lo;){var Kh=x1((Ya+Lo)/2),Gh=nn(ti[Kh]),su=Gh!==G,Fu=Gh===null,e0=Gh===Gh,F0=fl(Gh);if(Fo)var t0=pn||e0;else zh?t0=e0&&(pn||su):Ho?t0=e0&&su&&(pn||!Fu):yh?t0=e0&&su&&!Fu&&(pn||!F0):Fu||F0?t0=!1:t0=pn?Gh<=hi:Gh<hi;t0?Ya=Kh+1:Lo=Kh}return Vc(Lo,on)}function dm(ti,hi){for(var nn=-1,pn=ti.length,Ya=0,Lo=[];++nn<pn;){var Fo=ti[nn],Ho=hi?hi(Fo):Fo;if(!nn||!Ml(Ho,yh)){var yh=Ho;Lo[Ya++]=Fo===0?0:Fo}}return Lo}function pm(ti){return typeof ti=="number"?ti:fl(ti)?Y:+ti}function ol(ti){if(typeof ti=="string")return ti;if(f0(ti))return Cc(ti,ol)+"";if(fl(ti))return Gv?Gv.call(ti):"";var hi=ti+"";return hi=="0"&&1/ti==-ii?"-0":hi}function Gl(ti,hi,nn){var pn=-1,Ya=h1,Lo=ti.length,Fo=!0,Ho=[],yh=Ho;if(nn)Fo=!1,Ya=tp;else if(Lo>=Zr){var zh=hi?null:Lb(ti);if(zh)return c1(zh);Fo=!1,Ya=qd,yh=new nd}else yh=hi?[]:Ho;e:for(;++pn<Lo;){var Kh=ti[pn],Gh=hi?hi(Kh):Kh;if(Kh=nn||Kh!==0?Kh:0,Fo&&Gh===Gh){for(var su=yh.length;su--;)if(yh[su]===Gh)continue e;hi&&yh.push(Gh),Ho.push(Kh)}else Ya(yh,Gh,nn)||(yh!==Ho&&yh.push(Gh),Ho.push(Kh))}return Ho}function $p(ti,hi){return hi=Vl(hi,ti),ti=Fm(ti,hi),ti==null||delete ti[Il(gl(hi))]}function vm(ti,hi,nn,pn){return jd(ti,hi,nn(ad(ti,hi)),pn)}function B1(ti,hi,nn,pn){for(var Ya=ti.length,Lo=pn?Ya:-1;(pn?Lo--:++Lo<Ya)&&hi(ti[Lo],Lo,ti););return nn?ml(ti,pn?0:Lo,pn?Lo+1:Ya):ml(ti,pn?Lo+1:0,pn?Ya:Lo)}function mm(ti,hi){var nn=ti;return nn instanceof hc&&(nn=nn.value()),rp(hi,function(pn,Ya){return Ya.func.apply(Ya.thisArg,Fl([pn],Ya.args))},nn)}function Rp(ti,hi,nn){var pn=ti.length;if(pn<2)return pn?Gl(ti[0]):[];for(var Ya=-1,Lo=Uh(pn);++Ya<pn;)for(var Fo=ti[Ya],Ho=-1;++Ho<pn;)Ho!=Ya&&(Lo[Ya]=kd(Lo[Ya]||Fo,ti[Ho],hi,nn));return Gl(Gc(Lo,1),hi,nn)}function gm(ti,hi,nn){for(var pn=-1,Ya=ti.length,Lo=hi.length,Fo={};++pn<Ya;){var Ho=pn<Lo?hi[pn]:G;nn(Fo,ti[pn],Ho)}return Fo}function Ip(ti){return Nc(ti)?ti:[]}function Dp(ti){return typeof ti=="function"?ti:nl}function Vl(ti,hi){return f0(ti)?ti:Lp(ti,hi)?[ti]:Gm(Ec(ti))}var Ib=rc;function Wl(ti,hi,nn){var pn=ti.length;return nn=nn===G?pn:nn,!hi&&nn>=pn?ti:ml(ti,hi,nn)}var bm=m2||function(ti){return uc.clearTimeout(ti)};function ym(ti,hi){if(hi)return ti.slice();var nn=ti.length,pn=Uv?Uv(nn):new ti.constructor(nn);return ti.copy(pn),pn}function qp(ti){var hi=new ti.constructor(ti.byteLength);return new g1(hi).set(new g1(ti)),hi}function Db(ti,hi){var nn=hi?qp(ti.buffer):ti.buffer;return new ti.constructor(nn,ti.byteOffset,ti.byteLength)}function qb(ti){var hi=new ti.constructor(ti.source,Uu.exec(ti));return hi.lastIndex=ti.lastIndex,hi}function Bb(ti){return Td?Dc(Td.call(ti)):{}}function wm(ti,hi){var nn=hi?qp(ti.buffer):ti.buffer;return new ti.constructor(nn,ti.byteOffset,ti.length)}function _m(ti,hi){if(ti!==hi){var nn=ti!==G,pn=ti===null,Ya=ti===ti,Lo=fl(ti),Fo=hi!==G,Ho=hi===null,yh=hi===hi,zh=fl(hi);if(!Ho&&!zh&&!Lo&&ti>hi||Lo&&Fo&&yh&&!Ho&&!zh||pn&&Fo&&yh||!nn&&yh||!Ya)return 1;if(!pn&&!Lo&&!zh&&ti<hi||zh&&nn&&Ya&&!pn&&!Lo||Ho&&nn&&Ya||!Fo&&Ya||!yh)return-1}return 0}function Cb(ti,hi,nn){for(var pn=-1,Ya=ti.criteria,Lo=hi.criteria,Fo=Ya.length,Ho=nn.length;++pn<Fo;){var yh=_m(Ya[pn],Lo[pn]);if(yh){if(pn>=Ho)return yh;var zh=nn[pn];return yh*(zh=="desc"?-1:1)}}return ti.index-hi.index}function Mm(ti,hi,nn,pn){for(var Ya=-1,Lo=ti.length,Fo=nn.length,Ho=-1,yh=hi.length,zh=Fc(Lo-Fo,0),Kh=Uh(yh+zh),Gh=!pn;++Ho<yh;)Kh[Ho]=hi[Ho];for(;++Ya<Fo;)(Gh||Ya<Lo)&&(Kh[nn[Ya]]=ti[Ya]);for(;zh--;)Kh[Ho++]=ti[Ya++];return Kh}function xm(ti,hi,nn,pn){for(var Ya=-1,Lo=ti.length,Fo=-1,Ho=nn.length,yh=-1,zh=hi.length,Kh=Fc(Lo-Ho,0),Gh=Uh(Kh+zh),su=!pn;++Ya<Kh;)Gh[Ya]=ti[Ya];for(var Fu=Ya;++yh<zh;)Gh[Fu+yh]=hi[yh];for(;++Fo<Ho;)(su||Ya<Lo)&&(Gh[Fu+nn[Fo]]=ti[Ya++]);return Gh}function tl(ti,hi){var nn=-1,pn=ti.length;for(hi||(hi=Uh(pn));++nn<pn;)hi[nn]=ti[nn];return hi}function Rl(ti,hi,nn,pn){var Ya=!nn;nn||(nn={});for(var Lo=-1,Fo=hi.length;++Lo<Fo;){var Ho=hi[Lo],yh=pn?pn(nn[Ho],ti[Ho],Ho,nn,ti):G;yh===G&&(yh=ti[Ho]),Ya?Cl(nn,Ho,yh):Nd(nn,Ho,yh)}return nn}function Pb(ti,hi){return Rl(ti,kp(ti),hi)}function Ob(ti,hi){return Rl(ti,Tm(ti),hi)}function C1(ti,hi){return function(nn,pn){var Ya=f0(nn)?Ig:ib,Lo=hi?hi():{};return Ya(nn,ti,Hu(pn,2),Lo)}}function Md(ti){return rc(function(hi,nn){var pn=-1,Ya=nn.length,Lo=Ya>1?nn[Ya-1]:G,Fo=Ya>2?nn[2]:G;for(Lo=ti.length>3&&typeof Lo=="function"?(Ya--,Lo):G,Fo&&Qc(nn[0],nn[1],Fo)&&(Lo=Ya<3?G:Lo,Ya=1),hi=Dc(hi);++pn<Ya;){var Ho=nn[pn];Ho&&ti(hi,Ho,pn,Lo)}return hi})}function Em(ti,hi){return function(nn,pn){if(nn==null)return nn;if(!rl(nn))return ti(nn,pn);for(var Ya=nn.length,Lo=hi?Ya:-1,Fo=Dc(nn);(hi?Lo--:++Lo<Ya)&&pn(Fo[Lo],Lo,Fo)!==!1;);return nn}}function Am(ti){return function(hi,nn,pn){for(var Ya=-1,Lo=Dc(hi),Fo=pn(hi),Ho=Fo.length;Ho--;){var yh=Fo[ti?Ho:++Ya];if(nn(Lo[yh],yh,Lo)===!1)break}return hi}}function Tb(ti,hi,nn){var pn=hi&ln,Ya=Fd(ti);function Lo(){var Fo=this&&this!==uc&&this instanceof Lo?Ya:ti;return Fo.apply(pn?nn:this,arguments)}return Lo}function Sm(ti){return function(hi){hi=Ec(hi);var nn=vd(hi)?wl(hi):G,pn=nn?nn[0]:hi.charAt(0),Ya=nn?Wl(nn,1).join(""):hi.slice(1);return pn[ti]()+Ya}}function xd(ti){return function(hi){return rp(Eg(xg(hi).replace(Id,"")),ti,"")}}function Fd(ti){return function(){var hi=arguments;switch(hi.length){case 0:return new ti;case 1:return new ti(hi[0]);case 2:return new ti(hi[0],hi[1]);case 3:return new ti(hi[0],hi[1],hi[2]);case 4:return new ti(hi[0],hi[1],hi[2],hi[3]);case 5:return new ti(hi[0],hi[1],hi[2],hi[3],hi[4]);case 6:return new ti(hi[0],hi[1],hi[2],hi[3],hi[4],hi[5]);case 7:return new ti(hi[0],hi[1],hi[2],hi[3],hi[4],hi[5],hi[6])}var nn=_d(ti.prototype),pn=ti.apply(nn,hi);return Pc(pn)?pn:nn}}function Nb(ti,hi,nn){var pn=Fd(ti);function Ya(){for(var Lo=arguments.length,Fo=Uh(Lo),Ho=Lo,yh=Ed(Ya);Ho--;)Fo[Ho]=arguments[Ho];var zh=Lo<3&&Fo[0]!==yh&&Fo[Lo-1]!==yh?[]:zl(Fo,yh);if(Lo-=zh.length,Lo<nn)return qm(ti,hi,P1,Ya.placeholder,G,Fo,zh,G,G,nn-Lo);var Kh=this&&this!==uc&&this instanceof Ya?pn:ti;return Kc(Kh,this,Fo)}return Ya}function $m(ti){return function(hi,nn,pn){var Ya=Dc(hi);if(!rl(hi)){var Lo=Hu(nn,3);hi=Hc(hi),nn=function(Ho){return Lo(Ya[Ho],Ho,Ya)}}var Fo=ti(hi,nn,pn);return Fo>-1?Ya[Lo?hi[Fo]:Fo]:G}}function Rm(ti){return Ol(function(hi){var nn=hi.length,pn=nn,Ya=pl.prototype.thru;for(ti&&hi.reverse();pn--;){var Lo=hi[pn];if(typeof Lo!="function")throw new dl(ni);if(Ya&&!Fo&&k1(Lo)=="wrapper")var Fo=new pl([],!0)}for(pn=Fo?pn:nn;++pn<nn;){Lo=hi[pn];var Ho=k1(Lo),yh=Ho=="wrapper"?Tp(Lo):G;yh&&Up(yh[0])&&yh[1]==(hn|Rn|Cn|Zn)&&!yh[4].length&&yh[9]==1?Fo=Fo[k1(yh[0])].apply(Fo,yh[3]):Fo=Lo.length==1&&Up(Lo)?Fo[Ho]():Fo.thru(Lo)}return function(){var zh=arguments,Kh=zh[0];if(Fo&&zh.length==1&&f0(Kh))return Fo.plant(Kh).value();for(var Gh=0,su=nn?hi[Gh].apply(this,zh):Kh;++Gh<nn;)su=hi[Gh].call(this,su);return su}})}function P1(ti,hi,nn,pn,Ya,Lo,Fo,Ho,yh,zh){var Kh=hi&hn,Gh=hi&ln,su=hi&mn,Fu=hi&(Rn|vn),e0=hi&Do,F0=su?G:Fd(ti);function t0(){for(var ic=arguments.length,cc=Uh(ic),hl=ic;hl--;)cc[hl]=arguments[hl];if(Fu)var Yc=Ed(t0),ul=Lg(cc,Yc);if(pn&&(cc=Mm(cc,pn,Ya,Fu)),Lo&&(cc=xm(cc,Lo,Fo,Fu)),ic-=ul,Fu&&ic<zh){var kc=zl(cc,Yc);return qm(ti,hi,P1,t0.placeholder,nn,cc,kc,Ho,yh,zh-ic)}var xl=Gh?nn:this,Ll=su?xl[ti]:ti;return ic=cc.length,Ho?cc=iy(cc,Ho):e0&&ic>1&&cc.reverse(),Kh&&yh<ic&&(cc.length=yh),this&&this!==uc&&this instanceof t0&&(Ll=F0||Fd(Ll)),Ll.apply(xl,cc)}return t0}function Im(ti,hi){return function(nn,pn){return cb(nn,ti,hi(pn),{})}}function O1(ti,hi){return function(nn,pn){var Ya;if(nn===G&&pn===G)return hi;if(nn!==G&&(Ya=nn),pn!==G){if(Ya===G)return pn;typeof nn=="string"||typeof pn=="string"?(nn=ol(nn),pn=ol(pn)):(nn=pm(nn),pn=pm(pn)),Ya=ti(nn,pn)}return Ya}}function Bp(ti){return Ol(function(hi){return hi=Cc(hi,al(Hu())),rc(function(nn){var pn=this;return ti(hi,function(Ya){return Kc(Ya,pn,nn)})})})}function T1(ti,hi){hi=hi===G?" ":ol(hi);var nn=hi.length;if(nn<2)return nn?Ap(hi,ti):hi;var pn=Ap(hi,M1(ti/md(hi)));return vd(hi)?Wl(wl(pn),0,ti).join(""):pn.slice(0,ti)}function kb(ti,hi,nn,pn){var Ya=hi&ln,Lo=Fd(ti);function Fo(){for(var Ho=-1,yh=arguments.length,zh=-1,Kh=pn.length,Gh=Uh(Kh+yh),su=this&&this!==uc&&this instanceof Fo?Lo:ti;++zh<Kh;)Gh[zh]=pn[zh];for(;yh--;)Gh[zh++]=arguments[++Ho];return Kc(su,Ya?nn:this,Gh)}return Fo}function Dm(ti){return function(hi,nn,pn){return pn&&typeof pn!="number"&&Qc(hi,nn,pn)&&(nn=pn=G),hi=kl(hi),nn===G?(nn=hi,hi=0):nn=kl(nn),pn=pn===G?hi<nn?1:-1:kl(pn),xb(hi,nn,pn,ti)}}function N1(ti){return function(hi,nn){return typeof hi=="string"&&typeof nn=="string"||(hi=bl(hi),nn=bl(nn)),ti(hi,nn)}}function qm(ti,hi,nn,pn,Ya,Lo,Fo,Ho,yh,zh){var Kh=hi&Rn,Gh=Kh?Fo:G,su=Kh?G:Fo,Fu=Kh?Lo:G,e0=Kh?G:Lo;hi|=Kh?Cn:ho,hi&=~(Kh?ho:Cn),hi&cn||(hi&=~(ln|mn));var F0=[ti,hi,Ya,Fu,Gh,e0,su,Ho,yh,zh],t0=nn.apply(G,F0);return Up(ti)&&zm(t0,F0),t0.placeholder=pn,Km(t0,ti,hi)}function Cp(ti){var hi=jc[ti];return function(nn,pn){if(nn=bl(nn),pn=pn==null?0:Vc(D0(pn),292),pn&&Kv(nn)){var Ya=(Ec(nn)+"e").split("e"),Lo=hi(Ya[0]+"e"+(+Ya[1]+pn));return Ya=(Ec(Lo)+"e").split("e"),+(Ya[0]+"e"+(+Ya[1]-pn))}return hi(nn)}}var Lb=yd&&1/c1(new yd([,-0]))[1]==ii?function(ti){return new yd(ti)}:yv;function Bm(ti){return function(hi){var nn=Wc(hi);return nn==kh?hp(hi):nn==Vf?r2(hi):Ng(hi,ti(hi))}}function Pl(ti,hi,nn,pn,Ya,Lo,Fo,Ho){var yh=hi&mn;if(!yh&&typeof ti!="function")throw new dl(ni);var zh=pn?pn.length:0;if(zh||(hi&=~(Cn|ho),pn=Ya=G),Fo=Fo===G?Fo:Fc(D0(Fo),0),Ho=Ho===G?Ho:D0(Ho),zh-=Ya?Ya.length:0,hi&ho){var Kh=pn,Gh=Ya;pn=Ya=G}var su=yh?G:Tp(ti),Fu=[ti,hi,nn,pn,Ya,Kh,Gh,Lo,Fo,Ho];if(su&&ey(Fu,su),ti=Fu[0],hi=Fu[1],nn=Fu[2],pn=Fu[3],Ya=Fu[4],Ho=Fu[9]=Fu[9]===G?yh?0:ti.length:Fc(Fu[9]-zh,0),!Ho&&hi&(Rn|vn)&&(hi&=~(Rn|vn)),!hi||hi==ln)var e0=Tb(ti,hi,nn);else hi==Rn||hi==vn?e0=Nb(ti,hi,Ho):(hi==Cn||hi==(ln|Cn))&&!Ya.length?e0=kb(ti,hi,nn,pn):e0=P1.apply(G,Fu);var F0=su?lm:zm;return Km(F0(e0,Fu),ti,hi)}function Cm(ti,hi,nn,pn){return ti===G||Ml(ti,bd[nn])&&!Ac.call(pn,nn)?hi:ti}function Pm(ti,hi,nn,pn,Ya,Lo){return Pc(ti)&&Pc(hi)&&(Lo.set(hi,ti),D1(ti,hi,G,Pm,Lo),Lo.delete(hi)),ti}function Ub(ti){return Hd(ti)?G:ti}function Om(ti,hi,nn,pn,Ya,Lo){var Fo=nn&$i,Ho=ti.length,yh=hi.length;if(Ho!=yh&&!(Fo&&yh>Ho))return!1;var zh=Lo.get(ti),Kh=Lo.get(hi);if(zh&&Kh)return zh==hi&&Kh==ti;var Gh=-1,su=!0,Fu=nn&sn?new nd:G;for(Lo.set(ti,hi),Lo.set(hi,ti);++Gh<Ho;){var e0=ti[Gh],F0=hi[Gh];if(pn)var t0=Fo?pn(F0,e0,Gh,hi,ti,Lo):pn(e0,F0,Gh,ti,hi,Lo);if(t0!==G){if(t0)continue;su=!1;break}if(Fu){if(!ip(hi,function(ic,cc){if(!qd(Fu,cc)&&(e0===ic||Ya(e0,ic,nn,pn,Lo)))return Fu.push(cc)})){su=!1;break}}else if(!(e0===F0||Ya(e0,F0,nn,pn,Lo))){su=!1;break}}return Lo.delete(ti),Lo.delete(hi),su}function jb(ti,hi,nn,pn,Ya,Lo,Fo){switch(nn){case Lf:if(ti.byteLength!=hi.byteLength||ti.byteOffset!=hi.byteOffset)return!1;ti=ti.buffer,hi=hi.buffer;case Xf:return!(ti.byteLength!=hi.byteLength||!Lo(new g1(ti),new g1(hi)));case gn:case An:case Vo:return Ml(+ti,+hi);case qo:return ti.name==hi.name&&ti.message==hi.message;case Jh:case Zo:return ti==hi+"";case kh:var Ho=hp;case Vf:var yh=pn&$i;if(Ho||(Ho=c1),ti.size!=hi.size&&!yh)return!1;var zh=Fo.get(ti);if(zh)return zh==hi;pn|=sn,Fo.set(ti,hi);var Kh=Om(Ho(ti),Ho(hi),pn,Ya,Lo,Fo);return Fo.delete(ti),Kh;case Vh:if(Td)return Td.call(ti)==Td.call(hi)}return!1}function Fb(ti,hi,nn,pn,Ya,Lo){var Fo=nn&$i,Ho=Pp(ti),yh=Ho.length,zh=Pp(hi),Kh=zh.length;if(yh!=Kh&&!Fo)return!1;for(var Gh=yh;Gh--;){var su=Ho[Gh];if(!(Fo?su in hi:Ac.call(hi,su)))return!1}var Fu=Lo.get(ti),e0=Lo.get(hi);if(Fu&&e0)return Fu==hi&&e0==ti;var F0=!0;Lo.set(ti,hi),Lo.set(hi,ti);for(var t0=Fo;++Gh<yh;){su=Ho[Gh];var ic=ti[su],cc=hi[su];if(pn)var hl=Fo?pn(cc,ic,su,hi,ti,Lo):pn(ic,cc,su,ti,hi,Lo);if(!(hl===G?ic===cc||Ya(ic,cc,nn,pn,Lo):hl)){F0=!1;break}t0||(t0=su=="constructor")}if(F0&&!t0){var Yc=ti.constructor,ul=hi.constructor;Yc!=ul&&"constructor"in ti&&"constructor"in hi&&!(typeof Yc=="function"&&Yc instanceof Yc&&typeof ul=="function"&&ul instanceof ul)&&(F0=!1)}return Lo.delete(ti),Lo.delete(hi),F0}function Ol(ti){return Fp(jm(ti,G,Zm),ti+"")}function Pp(ti){return tm(ti,Hc,kp)}function Op(ti){return tm(ti,il,Tm)}var Tp=E1?function(ti){return E1.get(ti)}:yv;function k1(ti){for(var hi=ti.name+"",nn=wd[hi],pn=Ac.call(wd,hi)?nn.length:0;pn--;){var Ya=nn[pn],Lo=Ya.func;if(Lo==null||Lo==ti)return Ya.name}return hi}function Ed(ti){var hi=Ac.call(To,"placeholder")?To:ti;return hi.placeholder}function Hu(){var ti=To.iteratee||Xp;return ti=ti===Xp?nm:ti,arguments.length?ti(arguments[0],arguments[1]):ti}function L1(ti,hi){var nn=ti.__data__;return Zb(hi)?nn[typeof hi=="string"?"string":"hash"]:nn.map}function Np(ti){for(var hi=Hc(ti),nn=hi.length;nn--;){var pn=hi[nn],Ya=ti[pn];hi[nn]=[pn,Ya,Lm(Ya)]}return hi}function od(ti,hi){var nn=Hg(ti,hi);return im(nn)?nn:G}function zb(ti){var hi=Ac.call(ti,rd),nn=ti[rd];try{ti[rd]=G;var pn=!0}catch{}var Ya=v1.call(ti);return pn&&(hi?ti[rd]=nn:delete ti[rd]),Ya}var kp=cp?function(ti){return ti==null?[]:(ti=Dc(ti),jl(cp(ti),function(hi){return Fv.call(ti,hi)}))}:Mv,Tm=cp?function(ti){for(var hi=[];ti;)Fl(hi,kp(ti)),ti=b1(ti);return hi}:Mv,Wc=Zc;(lp&&Wc(new lp(new ArrayBuffer(1)))!=Lf||Cd&&Wc(new Cd)!=kh||dp&&Wc(dp.resolve())!=Rh||yd&&Wc(new yd)!=Vf||Pd&&Wc(new Pd)!=Ko)&&(Wc=function(ti){var hi=Zc(ti),nn=hi==Wh?ti.constructor:G,pn=nn?fd(nn):"";if(pn)switch(pn){case A2:return Lf;case S2:return kh;case $2:return Rh;case R2:return Vf;case I2:return Ko}return hi});function Kb(ti,hi,nn){for(var pn=-1,Ya=nn.length;++pn<Ya;){var Lo=nn[pn],Fo=Lo.size;switch(Lo.type){case"drop":ti+=Fo;break;case"dropRight":hi-=Fo;break;case"take":hi=Vc(hi,ti+Fo);break;case"takeRight":ti=Fc(ti,hi-Fo);break}}return{start:ti,end:hi}}function Hb(ti){var hi=ti.match(au);return hi?hi[1].split(Oh):[]}function Nm(ti,hi,nn){hi=Vl(hi,ti);for(var pn=-1,Ya=hi.length,Lo=!1;++pn<Ya;){var Fo=Il(hi[pn]);if(!(Lo=ti!=null&&nn(ti,Fo)))break;ti=ti[Fo]}return Lo||++pn!=Ya?Lo:(Ya=ti==null?0:ti.length,!!Ya&&G1(Ya)&&Tl(Fo,Ya)&&(f0(ti)||hd(ti)))}function Gb(ti){var hi=ti.length,nn=new ti.constructor(hi);return hi&&typeof ti[0]=="string"&&Ac.call(ti,"index")&&(nn.index=ti.index,nn.input=ti.input),nn}function km(ti){return typeof ti.constructor=="function"&&!zd(ti)?_d(b1(ti)):{}}function Vb(ti,hi,nn){var pn=ti.constructor;switch(hi){case Xf:return qp(ti);case gn:case An:return new pn(+ti);case Lf:return Db(ti,nn);case Qh:case bh:case jf:case Yh:case Sh:case ph:case Xh:case Th:case $h:return wm(ti,nn);case kh:return new pn;case Vo:case Zo:return new pn(ti);case Jh:return qb(ti);case Vf:return new pn;case Vh:return Bb(ti)}}function Wb(ti,hi){var nn=hi.length;if(!nn)return ti;var pn=nn-1;return hi[pn]=(nn>1?"& ":"")+hi[pn],hi=hi.join(nn>2?", ":" "),ti.replace(Mh,`{
/* [wrapped with `+hi+`] */
`)}function Jb(ti){return f0(ti)||hd(ti)||!!(zv&&ti&&ti[zv])}function Tl(ti,hi){var nn=typeof ti;return hi=hi??oi,!!hi&&(nn=="number"||nn!="symbol"&&fc.test(ti))&&ti>-1&&ti%1==0&&ti<hi}function Qc(ti,hi,nn){if(!Pc(nn))return!1;var pn=typeof hi;return(pn=="number"?rl(nn)&&Tl(hi,nn.length):pn=="string"&&hi in nn)?Ml(nn[hi],ti):!1}function Lp(ti,hi){if(f0(ti))return!1;var nn=typeof ti;return nn=="number"||nn=="symbol"||nn=="boolean"||ti==null||fl(ti)?!0:xh.test(ti)||!Dh.test(ti)||hi!=null&&ti in Dc(hi)}function Zb(ti){var hi=typeof ti;return hi=="string"||hi=="number"||hi=="symbol"||hi=="boolean"?ti!=="__proto__":ti===null}function Up(ti){var hi=k1(ti),nn=To[hi];if(typeof nn!="function"||!(hi in hc.prototype))return!1;if(ti===nn)return!0;var pn=Tp(nn);return!!pn&&ti===pn[0]}function Qb(ti){return!!Lv&&Lv in ti}var Yb=d1?Nl:xv;function zd(ti){var hi=ti&&ti.constructor,nn=typeof hi=="function"&&hi.prototype||bd;return ti===nn}function Lm(ti){return ti===ti&&!Pc(ti)}function Um(ti,hi){return function(nn){return nn==null?!1:nn[ti]===hi&&(hi!==G||ti in Dc(nn))}}function Xb(ti){var hi=K1(ti,function(pn){return nn.size===ai&&nn.clear(),pn}),nn=hi.cache;return hi}function ey(ti,hi){var nn=ti[1],pn=hi[1],Ya=nn|pn,Lo=Ya<(ln|mn|hn),Fo=pn==hn&&nn==Rn||pn==hn&&nn==Zn&&ti[7].length<=hi[8]||pn==(hn|Zn)&&hi[7].length<=hi[8]&&nn==Rn;if(!(Lo||Fo))return ti;pn&ln&&(ti[2]=hi[2],Ya|=nn&ln?0:cn);var Ho=hi[3];if(Ho){var yh=ti[3];ti[3]=yh?Mm(yh,Ho,hi[4]):Ho,ti[4]=yh?zl(ti[3],si):hi[4]}return Ho=hi[5],Ho&&(yh=ti[5],ti[5]=yh?xm(yh,Ho,hi[6]):Ho,ti[6]=yh?zl(ti[5],si):hi[6]),Ho=hi[7],Ho&&(ti[7]=Ho),pn&hn&&(ti[8]=ti[8]==null?hi[8]:Vc(ti[8],hi[8])),ti[9]==null&&(ti[9]=hi[9]),ti[0]=hi[0],ti[1]=Ya,ti}function ty(ti){var hi=[];if(ti!=null)for(var nn in Dc(ti))hi.push(nn);return hi}function ry(ti){return v1.call(ti)}function jm(ti,hi,nn){return hi=Fc(hi===G?ti.length-1:hi,0),function(){for(var pn=arguments,Ya=-1,Lo=Fc(pn.length-hi,0),Fo=Uh(Lo);++Ya<Lo;)Fo[Ya]=pn[hi+Ya];Ya=-1;for(var Ho=Uh(hi+1);++Ya<hi;)Ho[Ya]=pn[Ya];return Ho[hi]=nn(Fo),Kc(ti,this,Ho)}}function Fm(ti,hi){return hi.length<2?ti:ad(ti,ml(hi,0,-1))}function iy(ti,hi){for(var nn=ti.length,pn=Vc(hi.length,nn),Ya=tl(ti);pn--;){var Lo=hi[pn];ti[pn]=Tl(Lo,nn)?Ya[Lo]:G}return ti}function jp(ti,hi){if(!(hi==="constructor"&&typeof ti[hi]=="function")&&hi!="__proto__")return ti[hi]}var zm=Hm(lm),Kd=b2||function(ti,hi){return uc.setTimeout(ti,hi)},Fp=Hm(Sb);function Km(ti,hi,nn){var pn=hi+"";return Fp(ti,Wb(pn,ny(Hb(pn),nn)))}function Hm(ti){var hi=0,nn=0;return function(){var pn=M2(),Ya=X-(pn-nn);if(nn=pn,Ya>0){if(++hi>=H)return arguments[0]}else hi=0;return ti.apply(G,arguments)}}function U1(ti,hi){var nn=-1,pn=ti.length,Ya=pn-1;for(hi=hi===G?pn:hi;++nn<hi;){var Lo=Ep(nn,Ya),Fo=ti[Lo];ti[Lo]=ti[nn],ti[nn]=Fo}return ti.length=hi,ti}var Gm=Xb(function(ti){var hi=[];return ti.charCodeAt(0)===46&&hi.push(""),ti.replace(Lu,function(nn,pn,Ya,Lo){hi.push(Ya?Lo.replace(jh,"$1"):pn||nn)}),hi});function Il(ti){if(typeof ti=="string"||fl(ti))return ti;var hi=ti+"";return hi=="0"&&1/ti==-ii?"-0":hi}function fd(ti){if(ti!=null){try{return p1.call(ti)}catch{}try{return ti+""}catch{}}return""}function ny(ti,hi){return ll(Bn,function(nn){var pn="_."+nn[0];hi&nn[1]&&!h1(ti,pn)&&ti.push(pn)}),ti.sort()}function Vm(ti){if(ti instanceof hc)return ti.clone();var hi=new pl(ti.__wrapped__,ti.__chain__);return hi.__actions__=tl(ti.__actions__),hi.__index__=ti.__index__,hi.__values__=ti.__values__,hi}function sy(ti,hi,nn){(nn?Qc(ti,hi,nn):hi===G)?hi=1:hi=Fc(D0(hi),0);var pn=ti==null?0:ti.length;if(!pn||hi<1)return[];for(var Ya=0,Lo=0,Fo=Uh(M1(pn/hi));Ya<pn;)Fo[Lo++]=ml(ti,Ya,Ya+=hi);return Fo}function ay(ti){for(var hi=-1,nn=ti==null?0:ti.length,pn=0,Ya=[];++hi<nn;){var Lo=ti[hi];Lo&&(Ya[pn++]=Lo)}return Ya}function oy(){var ti=arguments.length;if(!ti)return[];for(var hi=Uh(ti-1),nn=arguments[0],pn=ti;pn--;)hi[pn-1]=arguments[pn];return Fl(f0(nn)?tl(nn):[nn],Gc(hi,1))}var fy=rc(function(ti,hi){return Nc(ti)?kd(ti,Gc(hi,1,Nc,!0)):[]}),hy=rc(function(ti,hi){var nn=gl(hi);return Nc(nn)&&(nn=G),Nc(ti)?kd(ti,Gc(hi,1,Nc,!0),Hu(nn,2)):[]}),uy=rc(function(ti,hi){var nn=gl(hi);return Nc(nn)&&(nn=G),Nc(ti)?kd(ti,Gc(hi,1,Nc,!0),G,nn):[]});function cy(ti,hi,nn){var pn=ti==null?0:ti.length;return pn?(hi=nn||hi===G?1:D0(hi),ml(ti,hi<0?0:hi,pn)):[]}function ly(ti,hi,nn){var pn=ti==null?0:ti.length;return pn?(hi=nn||hi===G?1:D0(hi),hi=pn-hi,ml(ti,0,hi<0?0:hi)):[]}function dy(ti,hi){return ti&&ti.length?B1(ti,Hu(hi,3),!0,!0):[]}function py(ti,hi){return ti&&ti.length?B1(ti,Hu(hi,3),!0):[]}function vy(ti,hi,nn,pn){var Ya=ti==null?0:ti.length;return Ya?(nn&&typeof nn!="number"&&Qc(ti,hi,nn)&&(nn=0,pn=Ya),ob(ti,hi,nn,pn)):[]}function Wm(ti,hi,nn){var pn=ti==null?0:ti.length;if(!pn)return-1;var Ya=nn==null?0:D0(nn);return Ya<0&&(Ya=Fc(pn+Ya,0)),u1(ti,Hu(hi,3),Ya)}function Jm(ti,hi,nn){var pn=ti==null?0:ti.length;if(!pn)return-1;var Ya=pn-1;return nn!==G&&(Ya=D0(nn),Ya=nn<0?Fc(pn+Ya,0):Vc(Ya,pn-1)),u1(ti,Hu(hi,3),Ya,!0)}function Zm(ti){var hi=ti==null?0:ti.length;return hi?Gc(ti,1):[]}function my(ti){var hi=ti==null?0:ti.length;return hi?Gc(ti,ii):[]}function gy(ti,hi){var nn=ti==null?0:ti.length;return nn?(hi=hi===G?1:D0(hi),Gc(ti,hi)):[]}function by(ti){for(var hi=-1,nn=ti==null?0:ti.length,pn={};++hi<nn;){var Ya=ti[hi];pn[Ya[0]]=Ya[1]}return pn}function Qm(ti){return ti&&ti.length?ti[0]:G}function yy(ti,hi,nn){var pn=ti==null?0:ti.length;if(!pn)return-1;var Ya=nn==null?0:D0(nn);return Ya<0&&(Ya=Fc(pn+Ya,0)),pd(ti,hi,Ya)}function wy(ti){var hi=ti==null?0:ti.length;return hi?ml(ti,0,-1):[]}var _y=rc(function(ti){var hi=Cc(ti,Ip);return hi.length&&hi[0]===ti[0]?yp(hi):[]}),My=rc(function(ti){var hi=gl(ti),nn=Cc(ti,Ip);return hi===gl(nn)?hi=G:nn.pop(),nn.length&&nn[0]===ti[0]?yp(nn,Hu(hi,2)):[]}),xy=rc(function(ti){var hi=gl(ti),nn=Cc(ti,Ip);return hi=typeof hi=="function"?hi:G,hi&&nn.pop(),nn.length&&nn[0]===ti[0]?yp(nn,G,hi):[]});function Ey(ti,hi){return ti==null?"":w2.call(ti,hi)}function gl(ti){var hi=ti==null?0:ti.length;return hi?ti[hi-1]:G}function Ay(ti,hi,nn){var pn=ti==null?0:ti.length;if(!pn)return-1;var Ya=pn;return nn!==G&&(Ya=D0(nn),Ya=Ya<0?Fc(pn+Ya,0):Vc(Ya,pn-1)),hi===hi?n2(ti,hi,Ya):u1(ti,Rv,Ya,!0)}function Sy(ti,hi){return ti&&ti.length?fm(ti,D0(hi)):G}var $y=rc(Ym);function Ym(ti,hi){return ti&&ti.length&&hi&&hi.length?xp(ti,hi):ti}function Ry(ti,hi,nn){return ti&&ti.length&&hi&&hi.length?xp(ti,hi,Hu(nn,2)):ti}function Iy(ti,hi,nn){return ti&&ti.length&&hi&&hi.length?xp(ti,hi,G,nn):ti}var Dy=Ol(function(ti,hi){var nn=ti==null?0:ti.length,pn=vp(ti,hi);return cm(ti,Cc(hi,function(Ya){return Tl(Ya,nn)?+Ya:Ya}).sort(_m)),pn});function qy(ti,hi){var nn=[];if(!(ti&&ti.length))return nn;var pn=-1,Ya=[],Lo=ti.length;for(hi=Hu(hi,3);++pn<Lo;){var Fo=ti[pn];hi(Fo,pn,ti)&&(nn.push(Fo),Ya.push(pn))}return cm(ti,Ya),nn}function zp(ti){return ti==null?ti:E2.call(ti)}function By(ti,hi,nn){var pn=ti==null?0:ti.length;return pn?(nn&&typeof nn!="number"&&Qc(ti,hi,nn)?(hi=0,nn=pn):(hi=hi==null?0:D0(hi),nn=nn===G?pn:D0(nn)),ml(ti,hi,nn)):[]}function Cy(ti,hi){return q1(ti,hi)}function Py(ti,hi,nn){return Sp(ti,hi,Hu(nn,2))}function Oy(ti,hi){var nn=ti==null?0:ti.length;if(nn){var pn=q1(ti,hi);if(pn<nn&&Ml(ti[pn],hi))return pn}return-1}function Ty(ti,hi){return q1(ti,hi,!0)}function Ny(ti,hi,nn){return Sp(ti,hi,Hu(nn,2),!0)}function ky(ti,hi){var nn=ti==null?0:ti.length;if(nn){var pn=q1(ti,hi,!0)-1;if(Ml(ti[pn],hi))return pn}return-1}function Ly(ti){return ti&&ti.length?dm(ti):[]}function Uy(ti,hi){return ti&&ti.length?dm(ti,Hu(hi,2)):[]}function jy(ti){var hi=ti==null?0:ti.length;return hi?ml(ti,1,hi):[]}function Fy(ti,hi,nn){return ti&&ti.length?(hi=nn||hi===G?1:D0(hi),ml(ti,0,hi<0?0:hi)):[]}function zy(ti,hi,nn){var pn=ti==null?0:ti.length;return pn?(hi=nn||hi===G?1:D0(hi),hi=pn-hi,ml(ti,hi<0?0:hi,pn)):[]}function Ky(ti,hi){return ti&&ti.length?B1(ti,Hu(hi,3),!1,!0):[]}function Hy(ti,hi){return ti&&ti.length?B1(ti,Hu(hi,3)):[]}var Gy=rc(function(ti){return Gl(Gc(ti,1,Nc,!0))}),Vy=rc(function(ti){var hi=gl(ti);return Nc(hi)&&(hi=G),Gl(Gc(ti,1,Nc,!0),Hu(hi,2))}),Wy=rc(function(ti){var hi=gl(ti);return hi=typeof hi=="function"?hi:G,Gl(Gc(ti,1,Nc,!0),G,hi)});function Jy(ti){return ti&&ti.length?Gl(ti):[]}function Zy(ti,hi){return ti&&ti.length?Gl(ti,Hu(hi,2)):[]}function Qy(ti,hi){return hi=typeof hi=="function"?hi:G,ti&&ti.length?Gl(ti,G,hi):[]}function Kp(ti){if(!(ti&&ti.length))return[];var hi=0;return ti=jl(ti,function(nn){if(Nc(nn))return hi=Fc(nn.length,hi),!0}),op(hi,function(nn){return Cc(ti,np(nn))})}function Xm(ti,hi){if(!(ti&&ti.length))return[];var nn=Kp(ti);return hi==null?nn:Cc(nn,function(pn){return Kc(hi,G,pn)})}var Yy=rc(function(ti,hi){return Nc(ti)?kd(ti,hi):[]}),Xy=rc(function(ti){return Rp(jl(ti,Nc))}),e3=rc(function(ti){var hi=gl(ti);return Nc(hi)&&(hi=G),Rp(jl(ti,Nc),Hu(hi,2))}),t3=rc(function(ti){var hi=gl(ti);return hi=typeof hi=="function"?hi:G,Rp(jl(ti,Nc),G,hi)}),r3=rc(Kp);function i3(ti,hi){return gm(ti||[],hi||[],Nd)}function n3(ti,hi){return gm(ti||[],hi||[],jd)}var s3=rc(function(ti){var hi=ti.length,nn=hi>1?ti[hi-1]:G;return nn=typeof nn=="function"?(ti.pop(),nn):G,Xm(ti,nn)});function eg(ti){var hi=To(ti);return hi.__chain__=!0,hi}function a3(ti,hi){return hi(ti),ti}function j1(ti,hi){return hi(ti)}var o3=Ol(function(ti){var hi=ti.length,nn=hi?ti[0]:0,pn=this.__wrapped__,Ya=function(Lo){return vp(Lo,ti)};return hi>1||this.__actions__.length||!(pn instanceof hc)||!Tl(nn)?this.thru(Ya):(pn=pn.slice(nn,+nn+(hi?1:0)),pn.__actions__.push({func:j1,args:[Ya],thisArg:G}),new pl(pn,this.__chain__).thru(function(Lo){return hi&&!Lo.length&&Lo.push(G),Lo}))});function f3(){return eg(this)}function h3(){return new pl(this.value(),this.__chain__)}function u3(){this.__values__===G&&(this.__values__=pg(this.value()));var ti=this.__index__>=this.__values__.length,hi=ti?G:this.__values__[this.__index__++];return{done:ti,value:hi}}function c3(){return this}function l3(ti){for(var hi,nn=this;nn instanceof S1;){var pn=Vm(nn);pn.__index__=0,pn.__values__=G,hi?Ya.__wrapped__=pn:hi=pn;var Ya=pn;nn=nn.__wrapped__}return Ya.__wrapped__=ti,hi}function d3(){var ti=this.__wrapped__;if(ti instanceof hc){var hi=ti;return this.__actions__.length&&(hi=new hc(this)),hi=hi.reverse(),hi.__actions__.push({func:j1,args:[zp],thisArg:G}),new pl(hi,this.__chain__)}return this.thru(zp)}function p3(){return mm(this.__wrapped__,this.__actions__)}var v3=C1(function(ti,hi,nn){Ac.call(ti,nn)?++ti[nn]:Cl(ti,nn,1)});function m3(ti,hi,nn){var pn=f0(ti)?Sv:ab;return nn&&Qc(ti,hi,nn)&&(hi=G),pn(ti,Hu(hi,3))}function g3(ti,hi){var nn=f0(ti)?jl:Xv;return nn(ti,Hu(hi,3))}var b3=$m(Wm),y3=$m(Jm);function w3(ti,hi){return Gc(F1(ti,hi),1)}function _3(ti,hi){return Gc(F1(ti,hi),ii)}function M3(ti,hi,nn){return nn=nn===G?1:D0(nn),Gc(F1(ti,hi),nn)}function tg(ti,hi){var nn=f0(ti)?ll:Hl;return nn(ti,Hu(hi,3))}function rg(ti,hi){var nn=f0(ti)?Dg:Yv;return nn(ti,Hu(hi,3))}var x3=C1(function(ti,hi,nn){Ac.call(ti,nn)?ti[nn].push(hi):Cl(ti,nn,[hi])});function E3(ti,hi,nn,pn){ti=rl(ti)?ti:Sd(ti),nn=nn&&!pn?D0(nn):0;var Ya=ti.length;return nn<0&&(nn=Fc(Ya+nn,0)),V1(ti)?nn<=Ya&&ti.indexOf(hi,nn)>-1:!!Ya&&pd(ti,hi,nn)>-1}var A3=rc(function(ti,hi,nn){var pn=-1,Ya=typeof hi=="function",Lo=rl(ti)?Uh(ti.length):[];return Hl(ti,function(Fo){Lo[++pn]=Ya?Kc(hi,Fo,nn):Ld(Fo,hi,nn)}),Lo}),S3=C1(function(ti,hi,nn){Cl(ti,nn,hi)});function F1(ti,hi){var nn=f0(ti)?Cc:sm;return nn(ti,Hu(hi,3))}function $3(ti,hi,nn,pn){return ti==null?[]:(f0(hi)||(hi=hi==null?[]:[hi]),nn=pn?G:nn,f0(nn)||(nn=nn==null?[]:[nn]),hm(ti,hi,nn))}var R3=C1(function(ti,hi,nn){ti[nn?0:1].push(hi)},function(){return[[],[]]});function I3(ti,hi,nn){var pn=f0(ti)?rp:qv,Ya=arguments.length<3;return pn(ti,Hu(hi,4),nn,Ya,Hl)}function D3(ti,hi,nn){var pn=f0(ti)?qg:qv,Ya=arguments.length<3;return pn(ti,Hu(hi,4),nn,Ya,Yv)}function q3(ti,hi){var nn=f0(ti)?jl:Xv;return nn(ti,H1(Hu(hi,3)))}function B3(ti){var hi=f0(ti)?Wv:Eb;return hi(ti)}function C3(ti,hi,nn){(nn?Qc(ti,hi,nn):hi===G)?hi=1:hi=D0(hi);var pn=f0(ti)?tb:Ab;return pn(ti,hi)}function P3(ti){var hi=f0(ti)?rb:$b;return hi(ti)}function O3(ti){if(ti==null)return 0;if(rl(ti))return V1(ti)?md(ti):ti.length;var hi=Wc(ti);return hi==kh||hi==Vf?ti.size:_p(ti).length}function T3(ti,hi,nn){var pn=f0(ti)?ip:Rb;return nn&&Qc(ti,hi,nn)&&(hi=G),pn(ti,Hu(hi,3))}var N3=rc(function(ti,hi){if(ti==null)return[];var nn=hi.length;return nn>1&&Qc(ti,hi[0],hi[1])?hi=[]:nn>2&&Qc(hi[0],hi[1],hi[2])&&(hi=[hi[0]]),hm(ti,Gc(hi,1),[])}),z1=g2||function(){return uc.Date.now()};function k3(ti,hi){if(typeof hi!="function")throw new dl(ni);return ti=D0(ti),function(){if(--ti<1)return hi.apply(this,arguments)}}function ig(ti,hi,nn){return hi=nn?G:hi,hi=ti&&hi==null?ti.length:hi,Pl(ti,hn,G,G,G,G,hi)}function ng(ti,hi){var nn;if(typeof hi!="function")throw new dl(ni);return ti=D0(ti),function(){return--ti>0&&(nn=hi.apply(this,arguments)),ti<=1&&(hi=G),nn}}var Hp=rc(function(ti,hi,nn){var pn=ln;if(nn.length){var Ya=zl(nn,Ed(Hp));pn|=Cn}return Pl(ti,pn,hi,nn,Ya)}),sg=rc(function(ti,hi,nn){var pn=ln|mn;if(nn.length){var Ya=zl(nn,Ed(sg));pn|=Cn}return Pl(hi,pn,ti,nn,Ya)});function ag(ti,hi,nn){hi=nn?G:hi;var pn=Pl(ti,Rn,G,G,G,G,G,hi);return pn.placeholder=ag.placeholder,pn}function og(ti,hi,nn){hi=nn?G:hi;var pn=Pl(ti,vn,G,G,G,G,G,hi);return pn.placeholder=og.placeholder,pn}function fg(ti,hi,nn){var pn,Ya,Lo,Fo,Ho,yh,zh=0,Kh=!1,Gh=!1,su=!0;if(typeof ti!="function")throw new dl(ni);hi=bl(hi)||0,Pc(nn)&&(Kh=!!nn.leading,Gh="maxWait"in nn,Lo=Gh?Fc(bl(nn.maxWait)||0,hi):Lo,su="trailing"in nn?!!nn.trailing:su);function Fu(kc){var xl=pn,Ll=Ya;return pn=Ya=G,zh=kc,Fo=ti.apply(Ll,xl),Fo}function e0(kc){return zh=kc,Ho=Kd(ic,hi),Kh?Fu(kc):Fo}function F0(kc){var xl=kc-yh,Ll=kc-zh,$g=hi-xl;return Gh?Vc($g,Lo-Ll):$g}function t0(kc){var xl=kc-yh,Ll=kc-zh;return yh===G||xl>=hi||xl<0||Gh&&Ll>=Lo}function ic(){var kc=z1();if(t0(kc))return cc(kc);Ho=Kd(ic,F0(kc))}function cc(kc){return Ho=G,su&&pn?Fu(kc):(pn=Ya=G,Fo)}function hl(){Ho!==G&&bm(Ho),zh=0,pn=yh=Ya=Ho=G}function Yc(){return Ho===G?Fo:cc(z1())}function ul(){var kc=z1(),xl=t0(kc);if(pn=arguments,Ya=this,yh=kc,xl){if(Ho===G)return e0(yh);if(Gh)return bm(Ho),Ho=Kd(ic,hi),Fu(yh)}return Ho===G&&(Ho=Kd(ic,hi)),Fo}return ul.cancel=hl,ul.flush=Yc,ul}var L3=rc(function(ti,hi){return Qv(ti,1,hi)}),U3=rc(function(ti,hi,nn){return Qv(ti,bl(hi)||0,nn)});function j3(ti){return Pl(ti,Do)}function K1(ti,hi){if(typeof ti!="function"||hi!=null&&typeof hi!="function")throw new dl(ni);var nn=function(){var pn=arguments,Ya=hi?hi.apply(this,pn):pn[0],Lo=nn.cache;if(Lo.has(Ya))return Lo.get(Ya);var Fo=ti.apply(this,pn);return nn.cache=Lo.set(Ya,Fo)||Lo,Fo};return nn.cache=new(K1.Cache||Bl),nn}K1.Cache=Bl;function H1(ti){if(typeof ti!="function")throw new dl(ni);return function(){var hi=arguments;switch(hi.length){case 0:return!ti.call(this);case 1:return!ti.call(this,hi[0]);case 2:return!ti.call(this,hi[0],hi[1]);case 3:return!ti.call(this,hi[0],hi[1],hi[2])}return!ti.apply(this,hi)}}function F3(ti){return ng(2,ti)}var z3=Ib(function(ti,hi){hi=hi.length==1&&f0(hi[0])?Cc(hi[0],al(Hu())):Cc(Gc(hi,1),al(Hu()));var nn=hi.length;return rc(function(pn){for(var Ya=-1,Lo=Vc(pn.length,nn);++Ya<Lo;)pn[Ya]=hi[Ya].call(this,pn[Ya]);return Kc(ti,this,pn)})}),Gp=rc(function(ti,hi){var nn=zl(hi,Ed(Gp));return Pl(ti,Cn,G,hi,nn)}),hg=rc(function(ti,hi){var nn=zl(hi,Ed(hg));return Pl(ti,ho,G,hi,nn)}),K3=Ol(function(ti,hi){return Pl(ti,Zn,G,G,G,hi)});function H3(ti,hi){if(typeof ti!="function")throw new dl(ni);return hi=hi===G?hi:D0(hi),rc(ti,hi)}function G3(ti,hi){if(typeof ti!="function")throw new dl(ni);return hi=hi==null?0:Fc(D0(hi),0),rc(function(nn){var pn=nn[hi],Ya=Wl(nn,0,hi);return pn&&Fl(Ya,pn),Kc(ti,this,Ya)})}function V3(ti,hi,nn){var pn=!0,Ya=!0;if(typeof ti!="function")throw new dl(ni);return Pc(nn)&&(pn="leading"in nn?!!nn.leading:pn,Ya="trailing"in nn?!!nn.trailing:Ya),fg(ti,hi,{leading:pn,maxWait:hi,trailing:Ya})}function W3(ti){return ig(ti,1)}function J3(ti,hi){return Gp(Dp(hi),ti)}function Z3(){if(!arguments.length)return[];var ti=arguments[0];return f0(ti)?ti:[ti]}function Q3(ti){return vl(ti,di)}function Y3(ti,hi){return hi=typeof hi=="function"?hi:G,vl(ti,di,hi)}function X3(ti){return vl(ti,li|di)}function ew(ti,hi){return hi=typeof hi=="function"?hi:G,vl(ti,li|di,hi)}function tw(ti,hi){return hi==null||Zv(ti,hi,Hc(hi))}function Ml(ti,hi){return ti===hi||ti!==ti&&hi!==hi}var rw=N1(bp),iw=N1(function(ti,hi){return ti>=hi}),hd=rm(function(){return arguments}())?rm:function(ti){return Oc(ti)&&Ac.call(ti,"callee")&&!Fv.call(ti,"callee")},f0=Uh.isArray,nw=Jc?al(Jc):lb;function rl(ti){return ti!=null&&G1(ti.length)&&!Nl(ti)}function Nc(ti){return Oc(ti)&&rl(ti)}function sw(ti){return ti===!0||ti===!1||Oc(ti)&&Zc(ti)==gn}var Jl=y2||xv,aw=yl?al(yl):db;function ow(ti){return Oc(ti)&&ti.nodeType===1&&!Hd(ti)}function fw(ti){if(ti==null)return!0;if(rl(ti)&&(f0(ti)||typeof ti=="string"||typeof ti.splice=="function"||Jl(ti)||Ad(ti)||hd(ti)))return!ti.length;var hi=Wc(ti);if(hi==kh||hi==Vf)return!ti.size;if(zd(ti))return!_p(ti).length;for(var nn in ti)if(Ac.call(ti,nn))return!1;return!0}function hw(ti,hi){return Ud(ti,hi)}function uw(ti,hi,nn){nn=typeof nn=="function"?nn:G;var pn=nn?nn(ti,hi):G;return pn===G?Ud(ti,hi,G,nn):!!pn}function Vp(ti){if(!Oc(ti))return!1;var hi=Zc(ti);return hi==qo||hi==an||typeof ti.message=="string"&&typeof ti.name=="string"&&!Hd(ti)}function cw(ti){return typeof ti=="number"&&Kv(ti)}function Nl(ti){if(!Pc(ti))return!1;var hi=Zc(ti);return hi==ko||hi==Uo||hi==un||hi==vh}function ug(ti){return typeof ti=="number"&&ti==D0(ti)}function G1(ti){return typeof ti=="number"&&ti>-1&&ti%1==0&&ti<=oi}function Pc(ti){var hi=typeof ti;return ti!=null&&(hi=="object"||hi=="function")}function Oc(ti){return ti!=null&&typeof ti=="object"}var cg=cl?al(cl):vb;function lw(ti,hi){return ti===hi||wp(ti,hi,Np(hi))}function dw(ti,hi,nn){return nn=typeof nn=="function"?nn:G,wp(ti,hi,Np(hi),nn)}function pw(ti){return lg(ti)&&ti!=+ti}function vw(ti){if(Yb(ti))throw new s0(Ie);return im(ti)}function mw(ti){return ti===null}function gw(ti){return ti==null}function lg(ti){return typeof ti=="number"||Oc(ti)&&Zc(ti)==Vo}function Hd(ti){if(!Oc(ti)||Zc(ti)!=Wh)return!1;var hi=b1(ti);if(hi===null)return!0;var nn=Ac.call(hi,"constructor")&&hi.constructor;return typeof nn=="function"&&nn instanceof nn&&p1.call(nn)==d2}var Wp=Sl?al(Sl):mb;function bw(ti){return ug(ti)&&ti>=-oi&&ti<=oi}var dg=Dd?al(Dd):gb;function V1(ti){return typeof ti=="string"||!f0(ti)&&Oc(ti)&&Zc(ti)==Zo}function fl(ti){return typeof ti=="symbol"||Oc(ti)&&Zc(ti)==Vh}var Ad=td?al(td):bb;function yw(ti){return ti===G}function ww(ti){return Oc(ti)&&Wc(ti)==Ko}function _w(ti){return Oc(ti)&&Zc(ti)==Zh}var Mw=N1(Mp),xw=N1(function(ti,hi){return ti<=hi});function pg(ti){if(!ti)return[];if(rl(ti))return V1(ti)?wl(ti):tl(ti);if(Bd&&ti[Bd])return t2(ti[Bd]());var hi=Wc(ti),nn=hi==kh?hp:hi==Vf?c1:Sd;return nn(ti)}function kl(ti){if(!ti)return ti===0?ti:0;if(ti=bl(ti),ti===ii||ti===-ii){var hi=ti<0?-1:1;return hi*ei}return ti===ti?ti:0}function D0(ti){var hi=kl(ti),nn=hi%1;return hi===hi?nn?hi-nn:hi:0}function vg(ti){return ti?sd(D0(ti),0,Xr):0}function bl(ti){if(typeof ti=="number")return ti;if(fl(ti))return Y;if(Pc(ti)){var hi=typeof ti.valueOf=="function"?ti.valueOf():ti;ti=Pc(hi)?hi+"":hi}if(typeof ti!="string")return ti===0?ti:+ti;ti=Bv(ti);var nn=sc.test(ti);return nn||oc.test(ti)?o0(ti.slice(2),nn?2:8):nc.test(ti)?Y:+ti}function mg(ti){return Rl(ti,il(ti))}function Ew(ti){return ti?sd(D0(ti),-oi,oi):ti===0?ti:0}function Ec(ti){return ti==null?"":ol(ti)}var Aw=Md(function(ti,hi){if(zd(hi)||rl(hi)){Rl(hi,Hc(hi),ti);return}for(var nn in hi)Ac.call(hi,nn)&&Nd(ti,nn,hi[nn])}),gg=Md(function(ti,hi){Rl(hi,il(hi),ti)}),W1=Md(function(ti,hi,nn,pn){Rl(hi,il(hi),ti,pn)}),Sw=Md(function(ti,hi,nn,pn){Rl(hi,Hc(hi),ti,pn)}),$w=Ol(vp);function Rw(ti,hi){var nn=_d(ti);return hi==null?nn:Jv(nn,hi)}var Iw=rc(function(ti,hi){ti=Dc(ti);var nn=-1,pn=hi.length,Ya=pn>2?hi[2]:G;for(Ya&&Qc(hi[0],hi[1],Ya)&&(pn=1);++nn<pn;)for(var Lo=hi[nn],Fo=il(Lo),Ho=-1,yh=Fo.length;++Ho<yh;){var zh=Fo[Ho],Kh=ti[zh];(Kh===G||Ml(Kh,bd[zh])&&!Ac.call(ti,zh))&&(ti[zh]=Lo[zh])}return ti}),Dw=rc(function(ti){return ti.push(G,Pm),Kc(bg,G,ti)});function qw(ti,hi){return $v(ti,Hu(hi,3),$l)}function Bw(ti,hi){return $v(ti,Hu(hi,3),gp)}function Cw(ti,hi){return ti==null?ti:mp(ti,Hu(hi,3),il)}function Pw(ti,hi){return ti==null?ti:em(ti,Hu(hi,3),il)}function Ow(ti,hi){return ti&&$l(ti,Hu(hi,3))}function Tw(ti,hi){return ti&&gp(ti,Hu(hi,3))}function Nw(ti){return ti==null?[]:I1(ti,Hc(ti))}function kw(ti){return ti==null?[]:I1(ti,il(ti))}function Jp(ti,hi,nn){var pn=ti==null?G:ad(ti,hi);return pn===G?nn:pn}function Lw(ti,hi){return ti!=null&&Nm(ti,hi,fb)}function Zp(ti,hi){return ti!=null&&Nm(ti,hi,hb)}var Uw=Im(function(ti,hi,nn){hi!=null&&typeof hi.toString!="function"&&(hi=v1.call(hi)),ti[hi]=nn},Yp(nl)),jw=Im(function(ti,hi,nn){hi!=null&&typeof hi.toString!="function"&&(hi=v1.call(hi)),Ac.call(ti,hi)?ti[hi].push(nn):ti[hi]=[nn]},Hu),Fw=rc(Ld);function Hc(ti){return rl(ti)?Vv(ti):_p(ti)}function il(ti){return rl(ti)?Vv(ti,!0):yb(ti)}function zw(ti,hi){var nn={};return hi=Hu(hi,3),$l(ti,function(pn,Ya,Lo){Cl(nn,hi(pn,Ya,Lo),pn)}),nn}function Kw(ti,hi){var nn={};return hi=Hu(hi,3),$l(ti,function(pn,Ya,Lo){Cl(nn,Ya,hi(pn,Ya,Lo))}),nn}var Hw=Md(function(ti,hi,nn){D1(ti,hi,nn)}),bg=Md(function(ti,hi,nn,pn){D1(ti,hi,nn,pn)}),Gw=Ol(function(ti,hi){var nn={};if(ti==null)return nn;var pn=!1;hi=Cc(hi,function(Lo){return Lo=Vl(Lo,ti),pn||(pn=Lo.length>1),Lo}),Rl(ti,Op(ti),nn),pn&&(nn=vl(nn,li|mi|di,Ub));for(var Ya=hi.length;Ya--;)$p(nn,hi[Ya]);return nn});function Vw(ti,hi){return yg(ti,H1(Hu(hi)))}var Ww=Ol(function(ti,hi){return ti==null?{}:_b(ti,hi)});function yg(ti,hi){if(ti==null)return{};var nn=Cc(Op(ti),function(pn){return[pn]});return hi=Hu(hi),um(ti,nn,function(pn,Ya){return hi(pn,Ya[0])})}function Jw(ti,hi,nn){hi=Vl(hi,ti);var pn=-1,Ya=hi.length;for(Ya||(Ya=1,ti=G);++pn<Ya;){var Lo=ti==null?G:ti[Il(hi[pn])];Lo===G&&(pn=Ya,Lo=nn),ti=Nl(Lo)?Lo.call(ti):Lo}return ti}function Zw(ti,hi,nn){return ti==null?ti:jd(ti,hi,nn)}function Qw(ti,hi,nn,pn){return pn=typeof pn=="function"?pn:G,ti==null?ti:jd(ti,hi,nn,pn)}var wg=Bm(Hc),_g=Bm(il);function Yw(ti,hi,nn){var pn=f0(ti),Ya=pn||Jl(ti)||Ad(ti);if(hi=Hu(hi,4),nn==null){var Lo=ti&&ti.constructor;Ya?nn=pn?new Lo:[]:Pc(ti)?nn=Nl(Lo)?_d(b1(ti)):{}:nn={}}return(Ya?ll:$l)(ti,function(Fo,Ho,yh){return hi(nn,Fo,Ho,yh)}),nn}function Xw(ti,hi){return ti==null?!0:$p(ti,hi)}function e6(ti,hi,nn){return ti==null?ti:vm(ti,hi,Dp(nn))}function t6(ti,hi,nn,pn){return pn=typeof pn=="function"?pn:G,ti==null?ti:vm(ti,hi,Dp(nn),pn)}function Sd(ti){return ti==null?[]:fp(ti,Hc(ti))}function r6(ti){return ti==null?[]:fp(ti,il(ti))}function i6(ti,hi,nn){return nn===G&&(nn=hi,hi=G),nn!==G&&(nn=bl(nn),nn=nn===nn?nn:0),hi!==G&&(hi=bl(hi),hi=hi===hi?hi:0),sd(bl(ti),hi,nn)}function n6(ti,hi,nn){return hi=kl(hi),nn===G?(nn=hi,hi=0):nn=kl(nn),ti=bl(ti),ub(ti,hi,nn)}function s6(ti,hi,nn){if(nn&&typeof nn!="boolean"&&Qc(ti,hi,nn)&&(hi=nn=G),nn===G&&(typeof hi=="boolean"?(nn=hi,hi=G):typeof ti=="boolean"&&(nn=ti,ti=G)),ti===G&&hi===G?(ti=0,hi=1):(ti=kl(ti),hi===G?(hi=ti,ti=0):hi=kl(hi)),ti>hi){var pn=ti;ti=hi,hi=pn}if(nn||ti%1||hi%1){var Ya=Hv();return Vc(ti+Ya*(hi-ti+Rc("1e-"+((Ya+"").length-1))),hi)}return Ep(ti,hi)}var a6=xd(function(ti,hi,nn){return hi=hi.toLowerCase(),ti+(nn?Mg(hi):hi)});function Mg(ti){return Qp(Ec(ti).toLowerCase())}function xg(ti){return ti=Ec(ti),ti&&ti.replace($0,Ug).replace(X1,"")}function o6(ti,hi,nn){ti=Ec(ti),hi=ol(hi);var pn=ti.length;nn=nn===G?pn:sd(D0(nn),0,pn);var Ya=nn;return nn-=hi.length,nn>=0&&ti.slice(nn,Ya)==hi}function f6(ti){return ti=Ec(ti),ti&&hu.test(ti)?ti.replace(Lh,Fg):ti}function h6(ti){return ti=Ec(ti),ti&&Eh.test(ti)?ti.replace(Bh,"\\$&"):ti}var u6=xd(function(ti,hi,nn){return ti+(nn?"-":"")+hi.toLowerCase()}),c6=xd(function(ti,hi,nn){return ti+(nn?" ":"")+hi.toLowerCase()}),l6=Sm("toLowerCase");function d6(ti,hi,nn){ti=Ec(ti),hi=D0(hi);var pn=hi?md(ti):0;if(!hi||pn>=hi)return ti;var Ya=(hi-pn)/2;return T1(x1(Ya),nn)+ti+T1(M1(Ya),nn)}function p6(ti,hi,nn){ti=Ec(ti),hi=D0(hi);var pn=hi?md(ti):0;return hi&&pn<hi?ti+T1(hi-pn,nn):ti}function v6(ti,hi,nn){ti=Ec(ti),hi=D0(hi);var pn=hi?md(ti):0;return hi&&pn<hi?T1(hi-pn,nn)+ti:ti}function m6(ti,hi,nn){return nn||hi==null?hi=0:hi&&(hi=+hi),x2(Ec(ti).replace(ku,""),hi||0)}function g6(ti,hi,nn){return(nn?Qc(ti,hi,nn):hi===G)?hi=1:hi=D0(hi),Ap(Ec(ti),hi)}function b6(){var ti=arguments,hi=Ec(ti[0]);return ti.length<3?hi:hi.replace(ti[1],ti[2])}var y6=xd(function(ti,hi,nn){return ti+(nn?"_":"")+hi.toLowerCase()});function w6(ti,hi,nn){return nn&&typeof nn!="number"&&Qc(ti,hi,nn)&&(hi=nn=G),nn=nn===G?Xr:nn>>>0,nn?(ti=Ec(ti),ti&&(typeof hi=="string"||hi!=null&&!Wp(hi))&&(hi=ol(hi),!hi&&vd(ti))?Wl(wl(ti),0,nn):ti.split(hi,nn)):[]}var _6=xd(function(ti,hi,nn){return ti+(nn?" ":"")+Qp(hi)});function M6(ti,hi,nn){return ti=Ec(ti),nn=nn==null?0:sd(D0(nn),0,ti.length),hi=ol(hi),ti.slice(nn,nn+hi.length)==hi}function x6(ti,hi,nn){var pn=To.templateSettings;nn&&Qc(ti,hi,nn)&&(hi=G),ti=Ec(ti),hi=W1({},hi,pn,Cm);var Ya=W1({},hi.imports,pn.imports,Cm),Lo=Hc(Ya),Fo=fp(Ya,Lo),Ho,yh,zh=0,Kh=hi.interpolate||lc,Gh="__p += '",su=up((hi.escape||lc).source+"|"+Kh.source+"|"+(Kh===qu?Ph:lc).source+"|"+(hi.evaluate||lc).source+"|$","g"),Fu="//# sourceURL="+(Ac.call(hi,"sourceURL")?(hi.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ep+"]")+`
`;ti.replace(su,function(t0,ic,cc,hl,Yc,ul){return cc||(cc=hl),Gh+=ti.slice(zh,ul).replace(gc,zg),ic&&(Ho=!0,Gh+=`' +
__e(`+ic+`) +
'`),Yc&&(yh=!0,Gh+=`';
`+Yc+`;
__p += '`),cc&&(Gh+=`' +
((__t = (`+cc+`)) == null ? '' : __t) +
'`),zh=ul+t0.length,t0}),Gh+=`';
`;var e0=Ac.call(hi,"variable")&&hi.variable;if(!e0)Gh=`with (obj) {
`+Gh+`
}
`;else if(r0.test(e0))throw new s0(fi);Gh=(yh?Gh.replace(zu,""):Gh).replace(Nh,"$1").replace(Ih,"$1;"),Gh="function("+(e0||"obj")+`) {
`+(e0?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ho?", __e = _.escape":"")+(yh?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Gh+`return __p
}`;var F0=Ag(function(){return xc(Lo,Fu+"return "+Gh).apply(G,Fo)});if(F0.source=Gh,Vp(F0))throw F0;return F0}function E6(ti){return Ec(ti).toLowerCase()}function A6(ti){return Ec(ti).toUpperCase()}function S6(ti,hi,nn){if(ti=Ec(ti),ti&&(nn||hi===G))return Bv(ti);if(!ti||!(hi=ol(hi)))return ti;var pn=wl(ti),Ya=wl(hi),Lo=Ov(pn,Ya),Fo=Tv(pn,Ya)+1;return Wl(pn,Lo,Fo).join("")}function $6(ti,hi,nn){if(ti=Ec(ti),ti&&(nn||hi===G))return ti.slice(0,kv(ti)+1);if(!ti||!(hi=ol(hi)))return ti;var pn=wl(ti),Ya=Tv(pn,wl(hi))+1;return Wl(pn,0,Ya).join("")}function R6(ti,hi,nn){if(ti=Ec(ti),ti&&(nn||hi===G))return ti.replace(ku,"");if(!ti||!(hi=ol(hi)))return ti;var pn=wl(ti),Ya=Ov(pn,wl(hi));return Wl(pn,Ya).join("")}function I6(ti,hi){var nn=Yo,pn=ui;if(Pc(hi)){var Ya="separator"in hi?hi.separator:Ya;nn="length"in hi?D0(hi.length):nn,pn="omission"in hi?ol(hi.omission):pn}ti=Ec(ti);var Lo=ti.length;if(vd(ti)){var Fo=wl(ti);Lo=Fo.length}if(nn>=Lo)return ti;var Ho=nn-md(pn);if(Ho<1)return pn;var yh=Fo?Wl(Fo,0,Ho).join(""):ti.slice(0,Ho);if(Ya===G)return yh+pn;if(Fo&&(Ho+=yh.length-Ho),Wp(Ya)){if(ti.slice(Ho).search(Ya)){var zh,Kh=yh;for(Ya.global||(Ya=up(Ya.source,Ec(Uu.exec(Ya))+"g")),Ya.lastIndex=0;zh=Ya.exec(Kh);)var Gh=zh.index;yh=yh.slice(0,Gh===G?Ho:Gh)}}else if(ti.indexOf(ol(Ya),Ho)!=Ho){var su=yh.lastIndexOf(Ya);su>-1&&(yh=yh.slice(0,su))}return yh+pn}function D6(ti){return ti=Ec(ti),ti&&wh.test(ti)?ti.replace(Ku,s2):ti}var q6=xd(function(ti,hi,nn){return ti+(nn?" ":"")+hi.toUpperCase()}),Qp=Sm("toUpperCase");function Eg(ti,hi,nn){return ti=Ec(ti),hi=nn?G:hi,hi===G?e2(ti)?f2(ti):Pg(ti):ti.match(hi)||[]}var Ag=rc(function(ti,hi){try{return Kc(ti,G,hi)}catch(nn){return Vp(nn)?nn:new s0(nn)}}),B6=Ol(function(ti,hi){return ll(hi,function(nn){nn=Il(nn),Cl(ti,nn,Hp(ti[nn],ti))}),ti});function C6(ti){var hi=ti==null?0:ti.length,nn=Hu();return ti=hi?Cc(ti,function(pn){if(typeof pn[1]!="function")throw new dl(ni);return[nn(pn[0]),pn[1]]}):[],rc(function(pn){for(var Ya=-1;++Ya<hi;){var Lo=ti[Ya];if(Kc(Lo[0],this,pn))return Kc(Lo[1],this,pn)}})}function P6(ti){return sb(vl(ti,li))}function Yp(ti){return function(){return ti}}function O6(ti,hi){return ti==null||ti!==ti?hi:ti}var T6=Rm(),N6=Rm(!0);function nl(ti){return ti}function Xp(ti){return nm(typeof ti=="function"?ti:vl(ti,li))}function k6(ti){return am(vl(ti,li))}function L6(ti,hi){return om(ti,vl(hi,li))}var U6=rc(function(ti,hi){return function(nn){return Ld(nn,ti,hi)}}),j6=rc(function(ti,hi){return function(nn){return Ld(ti,nn,hi)}});function bv(ti,hi,nn){var pn=Hc(hi),Ya=I1(hi,pn);nn==null&&!(Pc(hi)&&(Ya.length||!pn.length))&&(nn=hi,hi=ti,ti=this,Ya=I1(hi,Hc(hi)));var Lo=!(Pc(nn)&&"chain"in nn)||!!nn.chain,Fo=Nl(ti);return ll(Ya,function(Ho){var yh=hi[Ho];ti[Ho]=yh,Fo&&(ti.prototype[Ho]=function(){var zh=this.__chain__;if(Lo||zh){var Kh=ti(this.__wrapped__),Gh=Kh.__actions__=tl(this.__actions__);return Gh.push({func:yh,args:arguments,thisArg:ti}),Kh.__chain__=zh,Kh}return yh.apply(ti,Fl([this.value()],arguments))})}),ti}function F6(){return uc._===this&&(uc._=p2),this}function yv(){}function z6(ti){return ti=D0(ti),rc(function(hi){return fm(hi,ti)})}var K6=Bp(Cc),H6=Bp(Sv),G6=Bp(ip);function Sg(ti){return Lp(ti)?np(Il(ti)):Mb(ti)}function V6(ti){return function(hi){return ti==null?G:ad(ti,hi)}}var W6=Dm(),J6=Dm(!0);function Mv(){return[]}function xv(){return!1}function Z6(){return{}}function Q6(){return""}function Y6(){return!0}function X6(ti,hi){if(ti=D0(ti),ti<1||ti>oi)return[];var nn=Xr,pn=Vc(ti,Xr);hi=Hu(hi),ti-=Xr;for(var Ya=op(pn,hi);++nn<ti;)hi(nn);return Ya}function e5(ti){return f0(ti)?Cc(ti,Il):fl(ti)?[ti]:tl(Gm(Ec(ti)))}function t5(ti){var hi=++l2;return Ec(ti)+hi}var r5=O1(function(ti,hi){return ti+hi},0),i5=Cp("ceil"),n5=O1(function(ti,hi){return ti/hi},1),s5=Cp("floor");function a5(ti){return ti&&ti.length?R1(ti,nl,bp):G}function o5(ti,hi){return ti&&ti.length?R1(ti,Hu(hi,2),bp):G}function f5(ti){return Dv(ti,nl)}function h5(ti,hi){return Dv(ti,Hu(hi,2))}function u5(ti){return ti&&ti.length?R1(ti,nl,Mp):G}function c5(ti,hi){return ti&&ti.length?R1(ti,Hu(hi,2),Mp):G}var l5=O1(function(ti,hi){return ti*hi},1),d5=Cp("round"),p5=O1(function(ti,hi){return ti-hi},0);function v5(ti){return ti&&ti.length?ap(ti,nl):0}function m5(ti,hi){return ti&&ti.length?ap(ti,Hu(hi,2)):0}return To.after=k3,To.ary=ig,To.assign=Aw,To.assignIn=gg,To.assignInWith=W1,To.assignWith=Sw,To.at=$w,To.before=ng,To.bind=Hp,To.bindAll=B6,To.bindKey=sg,To.castArray=Z3,To.chain=eg,To.chunk=sy,To.compact=ay,To.concat=oy,To.cond=C6,To.conforms=P6,To.constant=Yp,To.countBy=v3,To.create=Rw,To.curry=ag,To.curryRight=og,To.debounce=fg,To.defaults=Iw,To.defaultsDeep=Dw,To.defer=L3,To.delay=U3,To.difference=fy,To.differenceBy=hy,To.differenceWith=uy,To.drop=cy,To.dropRight=ly,To.dropRightWhile=dy,To.dropWhile=py,To.fill=vy,To.filter=g3,To.flatMap=w3,To.flatMapDeep=_3,To.flatMapDepth=M3,To.flatten=Zm,To.flattenDeep=my,To.flattenDepth=gy,To.flip=j3,To.flow=T6,To.flowRight=N6,To.fromPairs=by,To.functions=Nw,To.functionsIn=kw,To.groupBy=x3,To.initial=wy,To.intersection=_y,To.intersectionBy=My,To.intersectionWith=xy,To.invert=Uw,To.invertBy=jw,To.invokeMap=A3,To.iteratee=Xp,To.keyBy=S3,To.keys=Hc,To.keysIn=il,To.map=F1,To.mapKeys=zw,To.mapValues=Kw,To.matches=k6,To.matchesProperty=L6,To.memoize=K1,To.merge=Hw,To.mergeWith=bg,To.method=U6,To.methodOf=j6,To.mixin=bv,To.negate=H1,To.nthArg=z6,To.omit=Gw,To.omitBy=Vw,To.once=F3,To.orderBy=$3,To.over=K6,To.overArgs=z3,To.overEvery=H6,To.overSome=G6,To.partial=Gp,To.partialRight=hg,To.partition=R3,To.pick=Ww,To.pickBy=yg,To.property=Sg,To.propertyOf=V6,To.pull=$y,To.pullAll=Ym,To.pullAllBy=Ry,To.pullAllWith=Iy,To.pullAt=Dy,To.range=W6,To.rangeRight=J6,To.rearg=K3,To.reject=q3,To.remove=qy,To.rest=H3,To.reverse=zp,To.sampleSize=C3,To.set=Zw,To.setWith=Qw,To.shuffle=P3,To.slice=By,To.sortBy=N3,To.sortedUniq=Ly,To.sortedUniqBy=Uy,To.split=w6,To.spread=G3,To.tail=jy,To.take=Fy,To.takeRight=zy,To.takeRightWhile=Ky,To.takeWhile=Hy,To.tap=a3,To.throttle=V3,To.thru=j1,To.toArray=pg,To.toPairs=wg,To.toPairsIn=_g,To.toPath=e5,To.toPlainObject=mg,To.transform=Yw,To.unary=W3,To.union=Gy,To.unionBy=Vy,To.unionWith=Wy,To.uniq=Jy,To.uniqBy=Zy,To.uniqWith=Qy,To.unset=Xw,To.unzip=Kp,To.unzipWith=Xm,To.update=e6,To.updateWith=t6,To.values=Sd,To.valuesIn=r6,To.without=Yy,To.words=Eg,To.wrap=J3,To.xor=Xy,To.xorBy=e3,To.xorWith=t3,To.zip=r3,To.zipObject=i3,To.zipObjectDeep=n3,To.zipWith=s3,To.entries=wg,To.entriesIn=_g,To.extend=gg,To.extendWith=W1,bv(To,To),To.add=r5,To.attempt=Ag,To.camelCase=a6,To.capitalize=Mg,To.ceil=i5,To.clamp=i6,To.clone=Q3,To.cloneDeep=X3,To.cloneDeepWith=ew,To.cloneWith=Y3,To.conformsTo=tw,To.deburr=xg,To.defaultTo=O6,To.divide=n5,To.endsWith=o6,To.eq=Ml,To.escape=f6,To.escapeRegExp=h6,To.every=m3,To.find=b3,To.findIndex=Wm,To.findKey=qw,To.findLast=y3,To.findLastIndex=Jm,To.findLastKey=Bw,To.floor=s5,To.forEach=tg,To.forEachRight=rg,To.forIn=Cw,To.forInRight=Pw,To.forOwn=Ow,To.forOwnRight=Tw,To.get=Jp,To.gt=rw,To.gte=iw,To.has=Lw,To.hasIn=Zp,To.head=Qm,To.identity=nl,To.includes=E3,To.indexOf=yy,To.inRange=n6,To.invoke=Fw,To.isArguments=hd,To.isArray=f0,To.isArrayBuffer=nw,To.isArrayLike=rl,To.isArrayLikeObject=Nc,To.isBoolean=sw,To.isBuffer=Jl,To.isDate=aw,To.isElement=ow,To.isEmpty=fw,To.isEqual=hw,To.isEqualWith=uw,To.isError=Vp,To.isFinite=cw,To.isFunction=Nl,To.isInteger=ug,To.isLength=G1,To.isMap=cg,To.isMatch=lw,To.isMatchWith=dw,To.isNaN=pw,To.isNative=vw,To.isNil=gw,To.isNull=mw,To.isNumber=lg,To.isObject=Pc,To.isObjectLike=Oc,To.isPlainObject=Hd,To.isRegExp=Wp,To.isSafeInteger=bw,To.isSet=dg,To.isString=V1,To.isSymbol=fl,To.isTypedArray=Ad,To.isUndefined=yw,To.isWeakMap=ww,To.isWeakSet=_w,To.join=Ey,To.kebabCase=u6,To.last=gl,To.lastIndexOf=Ay,To.lowerCase=c6,To.lowerFirst=l6,To.lt=Mw,To.lte=xw,To.max=a5,To.maxBy=o5,To.mean=f5,To.meanBy=h5,To.min=u5,To.minBy=c5,To.stubArray=Mv,To.stubFalse=xv,To.stubObject=Z6,To.stubString=Q6,To.stubTrue=Y6,To.multiply=l5,To.nth=Sy,To.noConflict=F6,To.noop=yv,To.now=z1,To.pad=d6,To.padEnd=p6,To.padStart=v6,To.parseInt=m6,To.random=s6,To.reduce=I3,To.reduceRight=D3,To.repeat=g6,To.replace=b6,To.result=Jw,To.round=d5,To.runInContext=gh,To.sample=B3,To.size=O3,To.snakeCase=y6,To.some=T3,To.sortedIndex=Cy,To.sortedIndexBy=Py,To.sortedIndexOf=Oy,To.sortedLastIndex=Ty,To.sortedLastIndexBy=Ny,To.sortedLastIndexOf=ky,To.startCase=_6,To.startsWith=M6,To.subtract=p5,To.sum=v5,To.sumBy=m5,To.template=x6,To.times=X6,To.toFinite=kl,To.toInteger=D0,To.toLength=vg,To.toLower=E6,To.toNumber=bl,To.toSafeInteger=Ew,To.toString=Ec,To.toUpper=A6,To.trim=S6,To.trimEnd=$6,To.trimStart=R6,To.truncate=I6,To.unescape=D6,To.uniqueId=t5,To.upperCase=q6,To.upperFirst=Qp,To.each=tg,To.eachRight=rg,To.first=Qm,bv(To,function(){var ti={};return $l(To,function(hi,nn){Ac.call(To.prototype,nn)||(ti[nn]=hi)}),ti}(),{chain:!1}),To.VERSION=Te,ll(["bind","bindKey","curry","curryRight","partial","partialRight"],function(ti){To[ti].placeholder=To}),ll(["drop","take"],function(ti,hi){hc.prototype[ti]=function(nn){nn=nn===G?1:Fc(D0(nn),0);var pn=this.__filtered__&&!hi?new hc(this):this.clone();return pn.__filtered__?pn.__takeCount__=Vc(nn,pn.__takeCount__):pn.__views__.push({size:Vc(nn,Xr),type:ti+(pn.__dir__<0?"Right":"")}),pn},hc.prototype[ti+"Right"]=function(nn){return this.reverse()[ti](nn).reverse()}}),ll(["filter","map","takeWhile"],function(ti,hi){var nn=hi+1,pn=nn==Br||nn==ri;hc.prototype[ti]=function(Ya){var Lo=this.clone();return Lo.__iteratees__.push({iteratee:Hu(Ya,3),type:nn}),Lo.__filtered__=Lo.__filtered__||pn,Lo}}),ll(["head","last"],function(ti,hi){var nn="take"+(hi?"Right":"");hc.prototype[ti]=function(){return this[nn](1).value()[0]}}),ll(["initial","tail"],function(ti,hi){var nn="drop"+(hi?"":"Right");hc.prototype[ti]=function(){return this.__filtered__?new hc(this):this[nn](1)}}),hc.prototype.compact=function(){return this.filter(nl)},hc.prototype.find=function(ti){return this.filter(ti).head()},hc.prototype.findLast=function(ti){return this.reverse().find(ti)},hc.prototype.invokeMap=rc(function(ti,hi){return typeof ti=="function"?new hc(this):this.map(function(nn){return Ld(nn,ti,hi)})}),hc.prototype.reject=function(ti){return this.filter(H1(Hu(ti)))},hc.prototype.slice=function(ti,hi){ti=D0(ti);var nn=this;return nn.__filtered__&&(ti>0||hi<0)?new hc(nn):(ti<0?nn=nn.takeRight(-ti):ti&&(nn=nn.drop(ti)),hi!==G&&(hi=D0(hi),nn=hi<0?nn.dropRight(-hi):nn.take(hi-ti)),nn)},hc.prototype.takeRightWhile=function(ti){return this.reverse().takeWhile(ti).reverse()},hc.prototype.toArray=function(){return this.take(Xr)},$l(hc.prototype,function(ti,hi){var nn=/^(?:filter|find|map|reject)|While$/.test(hi),pn=/^(?:head|last)$/.test(hi),Ya=To[pn?"take"+(hi=="last"?"Right":""):hi],Lo=pn||/^find/.test(hi);Ya&&(To.prototype[hi]=function(){var Fo=this.__wrapped__,Ho=pn?[1]:arguments,yh=Fo instanceof hc,zh=Ho[0],Kh=yh||f0(Fo),Gh=function(ic){var cc=Ya.apply(To,Fl([ic],Ho));return pn&&su?cc[0]:cc};Kh&&nn&&typeof zh=="function"&&zh.length!=1&&(yh=Kh=!1);var su=this.__chain__,Fu=!!this.__actions__.length,e0=Lo&&!su,F0=yh&&!Fu;if(!Lo&&Kh){Fo=F0?Fo:new hc(this);var t0=ti.apply(Fo,Ho);return t0.__actions__.push({func:j1,args:[Gh],thisArg:G}),new pl(t0,su)}return e0&&F0?ti.apply(this,Ho):(t0=this.thru(Gh),e0?pn?t0.value()[0]:t0.value():t0)})}),ll(["pop","push","shift","sort","splice","unshift"],function(ti){var hi=l1[ti],nn=/^(?:push|sort|unshift)$/.test(ti)?"tap":"thru",pn=/^(?:pop|shift)$/.test(ti);To.prototype[ti]=function(){var Ya=arguments;if(pn&&!this.__chain__){var Lo=this.value();return hi.apply(f0(Lo)?Lo:[],Ya)}return this[nn](function(Fo){return hi.apply(f0(Fo)?Fo:[],Ya)})}}),$l(hc.prototype,function(ti,hi){var nn=To[hi];if(nn){var pn=nn.name+"";Ac.call(wd,pn)||(wd[pn]=[]),wd[pn].push({name:hi,func:nn})}}),wd[P1(G,mn).name]=[{name:"wrapper",func:G}],hc.prototype.clone=D2,hc.prototype.reverse=q2,hc.prototype.value=B2,To.prototype.at=o3,To.prototype.chain=f3,To.prototype.commit=h3,To.prototype.next=u3,To.prototype.plant=l3,To.prototype.reverse=d3,To.prototype.toJSON=To.prototype.valueOf=To.prototype.value=p3,To.prototype.first=To.prototype.head,Bd&&(To.prototype[Bd]=c3),To},gd=h2();Tc?((Tc.exports=gd)._=gd,Ic._=gd):uc._=gd}).call(_e)})(Ui,Ui.exports);var Xg=Object.defineProperty,Qg=Object.defineProperties,Vg=Object.getOwnPropertyDescriptors,Oa=Object.getOwnPropertySymbols,kg=Object.prototype.hasOwnProperty,jg=Object.prototype.propertyIsEnumerable,Ra=(te,t,G)=>t in te?Xg(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,lr=(te,t)=>{for(var G in t||(t={}))kg.call(t,G)&&Ra(te,G,t[G]);if(Oa)for(var G of Oa(t))jg.call(t,G)&&Ra(te,G,t[G]);return te},tv=(te,t)=>Qg(te,Vg(t));function Lt(te,t,G){var Te;const Zr=dn(te);return((Te=t.rpcMap)==null?void 0:Te[Zr.reference])||`${Zg}?chainId=${Zr.namespace}:${Zr.reference}&projectId=${G}`}function In(te){return te.includes(":")?te.split(":")[1]:te}function ba(te){return te.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function nv(te,t){const G=Object.keys(t.namespaces).filter(Zr=>Zr.includes(te));if(!G.length)return[];const Te=[];return G.forEach(Zr=>{const Ie=t.namespaces[Zr].accounts;Te.push(...Ie)}),Te}function Fi(te={},t={}){const G=Ta(te),Te=Ta(t);return Ui.exports.merge(G,Te)}function Ta(te){var t,G,Te,Zr;const Ie={};if(!Yr(te))return Ie;for(const[ni,fi]of Object.entries(te)){const ci=Zi$1(ni)?[ni]:fi.chains,ai=fi.methods||[],si=fi.events||[],li=fi.rpcMap||{},mi=vo(ni);Ie[mi]=tv(lr(lr({},Ie[mi]),fi),{chains:ge$1(ci,(t=Ie[mi])==null?void 0:t.chains),methods:ge$1(ai,(G=Ie[mi])==null?void 0:G.methods),events:ge$1(si,(Te=Ie[mi])==null?void 0:Te.events),rpcMap:lr(lr({},li),(Zr=Ie[mi])==null?void 0:Zr.rpcMap)})}return Ie}function ev(te){return te.includes(":")?te.split(":")[2]:te}function La(te){const t={};for(const[G,Te]of Object.entries(te)){const Zr=Te.methods||[],Ie=Te.events||[],ni=Te.accounts||[],fi=Zi$1(G)?[G]:Te.chains?Te.chains:ba(Te.accounts);t[G]={chains:fi,methods:Zr,events:Ie,accounts:ni}}return t}function Wi(te){return typeof te=="number"?te:te.includes("0x")?parseInt(te,16):(te=te.includes(":")?te.split(":")[1]:te,isNaN(Number(te))?te:Number(te))}const Ha={},F=te=>Ha[te],Mi=(te,t)=>{Ha[te]=t};class rv{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,G){this.httpProviders[t]||this.setHttpProvider(t,G),this.chainId=t,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(G=>G.split(":")[1]===this.chainId.toString()).map(G=>G.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(G=>{var Te;const Zr=In(G);t[Zr]=this.createHttpProvider(Zr,(Te=this.namespace.rpcMap)==null?void 0:Te[G])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,G=this.httpProviders[t];if(typeof G>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return G}setHttpProvider(t,G){const Te=this.createHttpProvider(t,G);Te&&(this.httpProviders[t]=Te)}createHttpProvider(t,G){const Te=G||Lt(t,this.namespace,this.client.core.projectId);if(!Te)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f(Te,F("disableProviderPing")))}}var iv=Object.defineProperty,sv=Object.defineProperties,uv=Object.getOwnPropertyDescriptors,Da=Object.getOwnPropertySymbols,av=Object.prototype.hasOwnProperty,ov=Object.prototype.propertyIsEnumerable,Na=(te,t,G)=>t in te?iv(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,$a=(te,t)=>{for(var G in t||(t={}))av.call(t,G)&&Na(te,G,t[G]);if(Da)for(var G of Da(t))ov.call(t,G)&&Na(te,G,t[G]);return te},qa=(te,t)=>sv(te,uv(t));class fv{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=F("events"),this.client=F("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,G){this.httpProviders[t]||this.setHttpProvider(parseInt(t),G),this.chainId=parseInt(t),this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,G){const Te=G||Lt(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!Te)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f(Te,F("disableProviderPing")))}setHttpProvider(t,G){const Te=this.createHttpProvider(t,G);Te&&(this.httpProviders[t]=Te)}createHttpProviders(){const t={};return this.namespace.chains.forEach(G=>{var Te;const Zr=parseInt(In(G));t[Zr]=this.createHttpProvider(Zr,(Te=this.namespace.rpcMap)==null?void 0:Te[G])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(G=>G.split(":")[1]===this.chainId.toString()).map(G=>G.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,G=this.httpProviders[t];if(typeof G>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return G}async handleSwitchChain(t){var G,Te;let Zr=t.request.params?(G=t.request.params[0])==null?void 0:G.chainId:"0x0";Zr=Zr.startsWith("0x")?Zr:`0x${Zr}`;const Ie=parseInt(Zr,16);if(this.isChainApproved(Ie))this.setDefaultChain(`${Ie}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:Zr}]},chainId:(Te=this.namespace.chains)==null?void 0:Te[0]}),this.setDefaultChain(`${Ie}`);else throw new Error(`Failed to switch to chain 'eip155:${Ie}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var G,Te,Zr;const Ie=(Te=(G=t.request)==null?void 0:G.params)==null?void 0:Te[0];if(!Ie)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const ni=this.client.session.get(t.topic),fi=((Zr=ni==null?void 0:ni.sessionProperties)==null?void 0:Zr.capabilities)||{};if(fi!=null&&fi[Ie])return fi==null?void 0:fi[Ie];const ci=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:qa($a({},ni.sessionProperties||{}),{capabilities:qa($a({},fi||{}),{[Ie]:ci})})})}catch(ai){console.warn("Failed to update session with capabilities",ai)}return ci}}class cv{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,G){this.httpProviders[t]||this.setHttpProvider(t,G),this.chainId=t,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(G=>G.split(":")[1]===this.chainId.toString()).map(G=>G.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(G=>{var Te;const Zr=In(G);t[Zr]=this.createHttpProvider(Zr,(Te=this.namespace.rpcMap)==null?void 0:Te[G])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,G=this.httpProviders[t];if(typeof G>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return G}setHttpProvider(t,G){const Te=this.createHttpProvider(t,G);Te&&(this.httpProviders[t]=Te)}createHttpProvider(t,G){const Te=G||Lt(t,this.namespace,this.client.core.projectId);if(!Te)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f(Te,F("disableProviderPing")))}}class hv{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,G){this.httpProviders[t]||this.setHttpProvider(t,G),this.chainId=t,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(G=>G.split(":")[1]===this.chainId.toString()).map(G=>G.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(G=>{var Te;const Zr=In(G);t[Zr]=this.createHttpProvider(Zr,(Te=this.namespace.rpcMap)==null?void 0:Te[G])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,G=this.httpProviders[t];if(typeof G>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return G}setHttpProvider(t,G){const Te=this.createHttpProvider(t,G);Te&&(this.httpProviders[t]=Te)}createHttpProvider(t,G){const Te=G||Lt(t,this.namespace,this.client.core.projectId);if(!Te)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f(Te,F("disableProviderPing")))}}class lv{constructor(t){this.name="algorand",this.namespace=t.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,G){if(!this.httpProviders[t]){const Te=G||Lt(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!Te)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,Te)}this.chainId=t,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(G=>G.split(":")[1]===this.chainId.toString()).map(G=>G.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(G=>{var Te;t[G]=this.createHttpProvider(G,(Te=this.namespace.rpcMap)==null?void 0:Te[G])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,G=this.httpProviders[t];if(typeof G>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return G}setHttpProvider(t,G){const Te=this.createHttpProvider(t,G);Te&&(this.httpProviders[t]=Te)}createHttpProvider(t,G){const Te=G||Lt(t,this.namespace,this.client.core.projectId);return typeof Te>"u"?void 0:new o$1(new f(Te,F("disableProviderPing")))}}class pv{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,G){this.httpProviders[t]||this.setHttpProvider(t,G),this.chainId=t,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(G=>G.split(":")[1]===this.chainId.toString()).map(G=>G.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(G=>{const Te=this.getCardanoRPCUrl(G),Zr=In(G);t[Zr]=this.createHttpProvider(Zr,Te)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,G=this.httpProviders[t];if(typeof G>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return G}getCardanoRPCUrl(t){const G=this.namespace.rpcMap;if(G)return G[t]}setHttpProvider(t,G){const Te=this.createHttpProvider(t,G);Te&&(this.httpProviders[t]=Te)}createHttpProvider(t,G){const Te=G||this.getCardanoRPCUrl(t);if(!Te)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f(Te,F("disableProviderPing")))}}class dv{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,G){this.httpProviders[t]||this.setHttpProvider(t,G),this.chainId=t,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(G=>G.split(":")[1]===this.chainId.toString()).map(G=>G.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(G=>{var Te;const Zr=In(G);t[Zr]=this.createHttpProvider(Zr,(Te=this.namespace.rpcMap)==null?void 0:Te[G])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,G=this.httpProviders[t];if(typeof G>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return G}setHttpProvider(t,G){const Te=this.createHttpProvider(t,G);Te&&(this.httpProviders[t]=Te)}createHttpProvider(t,G){const Te=G||Lt(t,this.namespace,this.client.core.projectId);if(!Te)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f(Te,F("disableProviderPing")))}}class gv{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,G){this.httpProviders[t]||this.setHttpProvider(t,G),this.chainId=t,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(G=>G.split(":")[1]===this.chainId.toString()).map(G=>G.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(G=>{var Te;const Zr=In(G);t[Zr]=this.createHttpProvider(Zr,(Te=this.namespace.rpcMap)==null?void 0:Te[G])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,G=this.httpProviders[t];if(typeof G>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return G}setHttpProvider(t,G){const Te=this.createHttpProvider(t,G);Te&&(this.httpProviders[t]=Te)}createHttpProvider(t,G){const Te=G||Lt(t,this.namespace,this.client.core.projectId);if(!Te)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f(Te,F("disableProviderPing")))}}class vv{constructor(t){this.name="near",this.namespace=t.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,G){if(this.chainId=t,!this.httpProviders[t]){const Te=G||Lt(`${this.name}:${t}`,this.namespace);if(!Te)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,Te)}this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(G=>G.split(":")[1]===this.chainId.toString()).map(G=>G.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(G=>{var Te;t[G]=this.createHttpProvider(G,(Te=this.namespace.rpcMap)==null?void 0:Te[G])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,G=this.httpProviders[t];if(typeof G>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return G}setHttpProvider(t,G){const Te=this.createHttpProvider(t,G);Te&&(this.httpProviders[t]=Te)}createHttpProvider(t,G){const Te=G||Lt(t,this.namespace);return typeof Te>"u"?void 0:new o$1(new f(Te,F("disableProviderPing")))}}class _v{constructor(t){this.name=Kn,this.namespace=t.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,G){this.httpProviders[t]||this.setHttpProvider(t,G),this.chainId=t,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(G=>G.split(":")[1]===this.chainId.toString()).map(G=>G.split(":")[2]))]:[]}createHttpProviders(){var t,G;const Te={};return(G=(t=this.namespace)==null?void 0:t.accounts)==null||G.forEach(Zr=>{const Ie=dn(Zr);Te[`${Ie.namespace}:${Ie.reference}`]=this.createHttpProvider(Zr)}),Te}getHttpProvider(t){const G=this.httpProviders[t];if(typeof G>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return G}setHttpProvider(t,G){const Te=this.createHttpProvider(t,G);Te&&(this.httpProviders[t]=Te)}createHttpProvider(t,G){const Te=G||Lt(t,this.namespace,this.client.core.projectId);if(!Te)throw new Error(`No RPC url provided for chainId: ${t}`);return new o$1(new f(Te,F("disableProviderPing")))}}var mv=Object.defineProperty,wv=Object.defineProperties,Pv=Object.getOwnPropertyDescriptors,Ua=Object.getOwnPropertySymbols,Cv=Object.prototype.hasOwnProperty,Av=Object.prototype.propertyIsEnumerable,Fa=(te,t,G)=>t in te?mv(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,pr=(te,t)=>{for(var G in t||(t={}))Cv.call(t,G)&&Fa(te,G,t[G]);if(Ua)for(var G of Ua(t))Av.call(t,G)&&Fa(te,G,t[G]);return te},Bi=(te,t)=>wv(te,Pv(t));class dr{constructor(t){this.events=new Gg,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Wg(k({level:(t==null?void 0:t.logger)||ya})),this.disableProviderPing=(t==null?void 0:t.disableProviderPing)||!1}static async init(t){const G=new dr(t);return await G.initialize(),G}async request(t,G,Te){const[Zr,Ie]=this.validateChain(G);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(Zr).request({request:pr({},t),chainId:`${Zr}:${Ie}`,topic:this.session.topic,expiry:Te})}sendAsync(t,G,Te,Zr){const Ie=new Date().getTime();this.request(t,Te,Zr).then(ni=>G(null,formatJsonRpcResult(Ie,ni))).catch(ni=>G(ni,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:tr$1("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:G,response:Te}=await this.client.authenticate(t);G&&(this.uri=G,this.events.emit("display_uri",G));const Zr=await Te();if(this.session=Zr.session,this.session){const Ie=La(this.session.namespaces);this.namespaces=Fi(this.namespaces,Ie),this.persist("namespaces",this.namespaces),this.onConnect()}return Zr}on(t,G){this.events.on(t,G)}once(t,G){this.events.once(t,G)}removeListener(t,G){this.events.removeListener(t,G)}off(t,G){this.events.off(t,G)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let G=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(G>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:Te,approval:Zr}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});Te&&(this.uri=Te,this.events.emit("display_uri",Te)),await Zr().then(Ie=>{this.session=Ie;const ni=La(Ie.namespaces);this.namespaces=Fi(this.namespaces,ni),this.persist("namespaces",this.namespaces)}).catch(Ie=>{if(Ie.message!==Ge)throw Ie;G++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,G){try{if(!this.session)return;const[Te,Zr]=this.validateChain(t),Ie=this.getProvider(Te);Ie.name===Kn?Ie.setDefaultChain(`${Te}:${Zr}`,G):Ie.setDefaultChain(Zr,G)}catch(Te){if(!/Please call connect/.test(Te.message))throw Te}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const G=this.client.pairing.getAll();if(Er$1(G)){for(const Te of G)t.deletePairings?this.client.core.expirer.set(Te.topic,0):await this.client.core.relayer.subscriber.unsubscribe(Te.topic);this.logger.info(`Inactive pairings cleared: ${G.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await oe.init({logger:this.providerOpts.logger||ya,relayUrl:this.providerOpts.relayUrl||Kg,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(G=>vo(G)))];Mi("client",this.client),Mi("events",this.events),Mi("disableProviderPing",this.disableProviderPing),t.forEach(G=>{if(!this.session)return;const Te=nv(G,this.session),Zr=ba(Te),Ie=Fi(this.namespaces,this.optionalNamespaces),ni=Bi(pr({},Ie[G]),{accounts:Te,chains:Zr});switch(G){case"eip155":this.rpcProviders[G]=new fv({namespace:ni});break;case"algorand":this.rpcProviders[G]=new lv({namespace:ni});break;case"solana":this.rpcProviders[G]=new cv({namespace:ni});break;case"cosmos":this.rpcProviders[G]=new hv({namespace:ni});break;case"polkadot":this.rpcProviders[G]=new rv({namespace:ni});break;case"cip34":this.rpcProviders[G]=new pv({namespace:ni});break;case"elrond":this.rpcProviders[G]=new dv({namespace:ni});break;case"multiversx":this.rpcProviders[G]=new gv({namespace:ni});break;case"near":this.rpcProviders[G]=new vv({namespace:ni});break;default:this.rpcProviders[Kn]?this.rpcProviders[Kn].updateNamespace(ni):this.rpcProviders[Kn]=new _v({namespace:ni})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:G}=t,{event:Te}=G;if(Te.name==="accountsChanged"){const Zr=Te.data;Zr&&Er$1(Zr)&&this.events.emit("accountsChanged",Zr.map(ev))}else if(Te.name==="chainChanged"){const Zr=G.chainId,Ie=G.event.data,ni=vo(Zr),fi=Wi(Zr)!==Wi(Ie)?`${ni}:${Wi(Ie)}`:Zr;this.onChainChanged(fi)}else this.events.emit(Te.name,Te.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:G})=>{var Te;const{namespaces:Zr}=G,Ie=(Te=this.client)==null?void 0:Te.session.get(t);this.session=Bi(pr({},Ie),{namespaces:Zr}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:G})}),this.client.on("session_delete",async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",Bi(pr({},tr$1("USER_DISCONNECTED")),{data:t.topic}))}),this.on(Tt.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[Kn]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var G;this.getProvider(t).updateNamespace((G=this.session)==null?void 0:G.namespaces[t])})}setNamespaces(t){const{namespaces:G,optionalNamespaces:Te,sessionProperties:Zr}=t;G&&Object.keys(G).length&&(this.namespaces=G),Te&&Object.keys(Te).length&&(this.optionalNamespaces=Te),this.sessionProperties=Zr,this.persist("namespaces",G),this.persist("optionalNamespaces",Te)}validateChain(t){const[G,Te]=(t==null?void 0:t.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[G,Te];if(G&&!Object.keys(this.namespaces||{}).map(ni=>vo(ni)).includes(G))throw new Error(`Namespace '${G}' is not configured. Please call connect() first with namespace config.`);if(G&&Te)return[G,Te];const Zr=vo(Object.keys(this.namespaces)[0]),Ie=this.rpcProviders[Zr].getDefaultChain();return[Zr,Ie]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,G=!1){if(!this.namespaces)return;const[Te,Zr]=this.validateChain(t);Zr&&(G||this.getProvider(Te).setDefaultChain(Zr),this.namespaces[Te]?this.namespaces[Te].defaultChain=Zr:this.namespaces[`${Te}:${Zr}`]?this.namespaces[`${Te}:${Zr}`].defaultChain=Zr:this.namespaces[`${Te}:${Zr}`]={defaultChain:Zr},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",Zr))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,G){this.client.core.storage.setItem(`${Sa}/${t}`,G)}async getFromStore(t){return await this.client.core.storage.getItem(`${Sa}/${t}`)}}const Iv=dr,T="wc",S="ethereum_provider",$=`${T}@2:${S}:`,j="https://rpc.walletconnect.com/v1/",u=["eth_sendTransaction","personal_sign"],y=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],g=["chainChanged","accountsChanged"],M=["chainChanged","accountsChanged","message","disconnect","connect"];var q=Object.defineProperty,N=Object.defineProperties,D=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,b=(te,t,G)=>t in te?q(te,t,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[t]=G,p=(te,t)=>{for(var G in t||(t={}))U.call(t,G)&&b(te,G,t[G]);if(O)for(var G of O(t))Q.call(t,G)&&b(te,G,t[G]);return te},E=(te,t)=>N(te,D(t));function m(te){return Number(te[0].split(":")[1])}function v(te){return`0x${te.toString(16)}`}function L(te){const{chains:t,optionalChains:G,methods:Te,optionalMethods:Zr,events:Ie,optionalEvents:ni,rpcMap:fi}=te;if(!Er$1(t))throw new Error("Invalid chains");const ci={chains:t,methods:Te||u,events:Ie||g,rpcMap:p({},t.length?{[m(t)]:fi[m(t)]}:{})},ai=Ie==null?void 0:Ie.filter(di=>!g.includes(di)),si=Te==null?void 0:Te.filter(di=>!u.includes(di));if(!G&&!ni&&!Zr&&!(ai!=null&&ai.length)&&!(si!=null&&si.length))return{required:t.length?ci:void 0};const li=(ai==null?void 0:ai.length)&&(si==null?void 0:si.length)||!G,mi={chains:[...new Set(li?ci.chains.concat(G||[]):G)],methods:[...new Set(ci.methods.concat(Zr!=null&&Zr.length?Zr:y))],events:[...new Set(ci.events.concat(ni!=null&&ni.length?ni:M))],rpcMap:fi};return{required:t.length?ci:void 0,optional:G.length?mi:void 0}}class C{constructor(){this.events=new eventsExports.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=$,this.on=(t,G)=>(this.events.on(t,G),this),this.once=(t,G)=>(this.events.once(t,G),this),this.removeListener=(t,G)=>(this.events.removeListener(t,G),this),this.off=(t,G)=>(this.events.off(t,G),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const G=new C;return await G.initialize(t),G}async request(t,G){return await this.signer.request(t,this.formatChainId(this.chainId),G)}sendAsync(t,G,Te){this.signer.sendAsync(t,G,this.formatChainId(this.chainId),Te)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:G,optional:Te}=L(this.rpc);try{const Zr=await new Promise(async(ni,fi)=>{var ci;this.rpc.showQrModal&&((ci=this.modal)==null||ci.subscribeModal(ai=>{!ai.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),fi(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(E(p({namespaces:p({},G&&{[this.namespace]:G})},Te&&{optionalNamespaces:{[this.namespace]:Te}}),{pairingTopic:t==null?void 0:t.pairingTopic})).then(ai=>{ni(ai)}).catch(ai=>{fi(new Error(ai.message))})});if(!Zr)return;const Ie=zo(Zr.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:Ie),this.setAccounts(Ie),this.events.emit("connect",{chainId:v(this.chainId)})}catch(Zr){throw this.signer.logger.error(Zr),Zr}finally{this.modal&&this.modal.closeModal()}}async authenticate(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t==null?void 0:t.chains});try{const G=await new Promise(async(Zr,Ie)=>{var ni;this.rpc.showQrModal&&((ni=this.modal)==null||ni.subscribeModal(fi=>{!fi.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),Ie(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(E(p({},t),{chains:this.rpc.chains})).then(fi=>{Zr(fi)}).catch(fi=>{Ie(new Error(fi.message))})}),Te=G.session;if(Te){const Zr=zo(Te.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:Zr),this.setAccounts(Zr),this.events.emit("connect",{chainId:v(this.chainId)})}return G}catch(G){throw this.signer.logger.error(G),G}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{const{params:G}=t,{event:Te}=G;Te.name==="accountsChanged"?(this.accounts=this.parseAccounts(Te.data),this.events.emit("accountsChanged",this.accounts)):Te.name==="chainChanged"?this.setChainId(this.formatChainId(Te.data)):this.events.emit(Te.name,Te.data),this.events.emit("session_event",t)}),this.signer.on("chainChanged",t=>{const G=parseInt(t);this.chainId=G,this.events.emit("chainChanged",v(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",E(p({},tr$1("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{var G,Te;this.rpc.showQrModal&&((G=this.modal)==null||G.closeModal(),(Te=this.modal)==null||Te.openModal({uri:t})),this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const G=t.filter(Te=>this.isCompatibleChainId(Te)).map(Te=>this.parseChainId(Te));G.length&&(this.chainId=G[0],this.events.emit("chainChanged",v(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const G=this.parseChainId(t);this.chainId=G,this.switchEthereumChain(G)}}parseAccountId(t){const[G,Te,Zr]=t.split(":");return{chainId:`${G}:${Te}`,address:Zr}}setAccounts(t){this.accounts=t.filter(G=>this.parseChainId(this.parseAccountId(G).chainId)===this.chainId).map(G=>this.parseAccountId(G).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var G,Te;const Zr=(G=t==null?void 0:t.chains)!=null?G:[],Ie=(Te=t==null?void 0:t.optionalChains)!=null?Te:[],ni=Zr.concat(Ie);if(!ni.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const fi=Zr.length?(t==null?void 0:t.methods)||u:[],ci=Zr.length?(t==null?void 0:t.events)||g:[],ai=(t==null?void 0:t.optionalMethods)||[],si=(t==null?void 0:t.optionalEvents)||[],li=(t==null?void 0:t.rpcMap)||this.buildRpcMap(ni,t.projectId),mi=(t==null?void 0:t.qrModalOptions)||void 0;return{chains:Zr==null?void 0:Zr.map(di=>this.formatChainId(di)),optionalChains:Ie.map(di=>this.formatChainId(di)),methods:fi,events:ci,optionalMethods:ai,optionalEvents:si,rpcMap:li,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:mi,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,G){const Te={};return t.forEach(Zr=>{Te[Zr]=this.getRpcUrl(Zr,G)}),Te}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?m(this.rpc.chains):m(this.rpc.optionalChains),this.signer=await Iv.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let G;try{const{WalletConnectModal:Te}=await __vitePreload(()=>import("./index-DQgewFTe.js").then(Zr=>Zr.i),__vite__mapDeps([0,1,2]));G=Te}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(G)try{this.modal=new G(p({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(Te){throw this.signer.logger.error(Te),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:G,optionalChains:Te,rpcMap:Zr}=t;G&&Er$1(G)&&(this.rpc.chains=G.map(Ie=>this.formatChainId(Ie)),G.forEach(Ie=>{this.rpc.rpcMap[Ie]=(Zr==null?void 0:Zr[Ie])||this.getRpcUrl(Ie)})),Te&&Er$1(Te)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=Te==null?void 0:Te.map(Ie=>this.formatChainId(Ie)),Te.forEach(Ie=>{this.rpc.rpcMap[Ie]=(Zr==null?void 0:Zr[Ie])||this.getRpcUrl(Ie)}))}getRpcUrl(t,G){var Te;return((Te=this.rpc.rpcMap)==null?void 0:Te[t])||`${j}?chainId=eip155:${t}&projectId=${G||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),G=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:G==null?void 0:G.accounts),this.setAccounts(G==null?void 0:G.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch(G=>this.signer.logger.warn(G))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(G=>this.parseAccount(G))}}const z=C;export{z as EthereumProvider,M as OPTIONAL_EVENTS,y as OPTIONAL_METHODS,g as REQUIRED_EVENTS,u as REQUIRED_METHODS,C as default};
