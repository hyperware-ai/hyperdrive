import { parseAbi } from "viem";

// move to constants? // also for anvil/base
export const HYPERMAP: `0x${string}` = "0x000000000044C6B8Cb4d8f0F889a3E47664EAeda";
export const MULTICALL: `0x${string}` = "0xcA11bde05977b3631167028862bE2a173976CA11";
export const HYPER_ACCOUNT_IMPL: `0x${string}` = "0x0000000000EDAd72076CBe7b9Cfa3751D5a85C97";
export const HYPER_ACCOUNT_UPGRADABLE_IMPL: `0x${string}` = "0x0000000000691b70A051CFAF82F9622E150369f3";
export const DOTOS: `0x${string}` = "0x763Ae1AB24c4322b8933E58d76d8D9286f6C0162";
export const ERC6551_REGISTRY = '0x000000006551c19487814612e58FE06813775758';

// HyperAccountProxy creation code
export const PROXY_CREATION_CODE = '0x60a0604052348015600e575f5ffd5b50604051610506380380610506833981016040819052602b916044565b6001600160a01b03166080525f805460ff19169055606f565b5f602082840312156053575f5ffd5b81516001600160a01b03811681146068575f5ffd5b9392505050565b6080516104806100865f395f606201526104805ff3fe608060405260043610610021575f3560e01c8063d1f578941461003257610028565b3661002857005b610030610045565b005b610030610040366004610363565b610057565b610055610050610111565b610148565b565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146100be575f5460ff161561009e57610099610045565b6100be565b60405163572190d160e01b81523360048201526024015b60405180910390fd5b5f5460ff16156100e05760405162dc149f60e41b815260040160405180910390fd5b5f6100e9610111565b6001600160a01b03160361010d575f805460ff1916600117905561010d8282610166565b5050565b5f6101437f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b365f5f375f5f365f845af43d5f5f3e808015610162573d5ff35b3d5ffd5b61016f826101c0565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b905f90a28051156101b8576101b38282610236565b505050565b61010d6102a8565b806001600160a01b03163b5f036101f557604051634c9c8ce360e01b81526001600160a01b03821660048201526024016100b5565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b60605f5f846001600160a01b0316846040516102529190610434565b5f60405180830381855af49150503d805f811461028a576040519150601f19603f3d011682016040523d82523d5f602084013e61028f565b606091505b509150915061029f8583836102c7565b95945050505050565b34156100555760405163b398979f60e01b815260040160405180910390fd5b6060826102dc576102d782610326565b61031f565b81511580156102f357506001600160a01b0384163b155b1561031c57604051639996b31560e01b81526001600160a01b03851660048201526024016100b5565b50805b9392505050565b8051156103365780518082602001fd5b60405163d6bda27560e01b815260040160405180910390fd5b634e487b7160e01b5f52604160045260245ffd5b5f5f60408385031215610374575f5ffd5b82356001600160a01b038116811461038a575f5ffd5b9150602083013567ffffffffffffffff8111156103a5575f5ffd5b8301601f810185136103b5575f5ffd5b803567ffffffffffffffff8111156103cf576103cf61034f565b604051601f8201601f19908116603f0116810167ffffffffffffffff811182821017156103fe576103fe61034f565b604052818152828201602001871015610415575f5ffd5b816020840160208301375f602083830101528093505050509250929050565b5f82518060208501845e5f92019182525091905056fea2646970667358221220117e3d359e3a2bb948f5bdb70d5aeec72a9db4978309bed659036d34fc5d4f6c64736f6c634300081b0033';

export const multicallAbi = parseAbi([
    `function aggregate(Call[] calls) external payable returns (uint256 blockNumber, bytes[] returnData)`,
    `struct Call { address target; bytes callData; }`,
]);

export const hypermapAbi = parseAbi([
    "function leaf(bytes32 parenthash, bytes memory label) public pure returns (bytes32)",
    "function mint(address, bytes calldata, bytes calldata, bytes calldata, address) external returns (address tba)",
    "function note(bytes calldata,bytes calldata) external returns (bytes32)",
    "function get(bytes32 node) external view returns (address tokenBoundAccount, address tokenOwner, bytes memory note)",
]);

export const mechAbi = parseAbi([
    "function execute(address to, uint256 value, bytes calldata data, uint8 operation) returns (bytes memory returnData)",
    "function token() external view returns (uint256,address,uint256)"
])

export const dotOsAbi = parseAbi([
    "function commit(bytes32 _commit) external",
]);

export const tbaMintAbi = parseAbi([
    "function mint(address who, bytes calldata name, bytes calldata initialization, address implementation) external returns (address)"
]);
