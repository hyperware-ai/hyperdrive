var fv=Object.defineProperty;var dv=(e,t,r)=>t in e?fv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ft=(e,t,r)=>(dv(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(t,i);return new a}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Rh={exports:{}},il={},Oh={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ts=Symbol.for("react.element"),gv=Symbol.for("react.portal"),vv=Symbol.for("react.fragment"),yv=Symbol.for("react.strict_mode"),mv=Symbol.for("react.profiler"),Cv=Symbol.for("react.provider"),Ev=Symbol.for("react.context"),Sv=Symbol.for("react.forward_ref"),xv=Symbol.for("react.suspense"),Tv=Symbol.for("react.memo"),wv=Symbol.for("react.lazy"),E0=Symbol.iterator;function Iv(e){return e===null||typeof e!="object"?null:(e=E0&&e[E0]||e["@@iterator"],typeof e=="function"?e:null)}var Ph={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uh=Object.assign,Mh={};function ha(e,t,r){this.props=e,this.context=t,this.refs=Mh,this.updater=r||Ph}ha.prototype.isReactComponent={};ha.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ha.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fh(){}Fh.prototype=ha.prototype;function Wc(e,t,r){this.props=e,this.context=t,this.refs=Mh,this.updater=r||Ph}var Yc=Wc.prototype=new Fh;Yc.constructor=Wc;Uh(Yc,ha.prototype);Yc.isPureReactComponent=!0;var S0=Array.isArray,Vh=Object.prototype.hasOwnProperty,Xc={current:null},jh={key:!0,ref:!0,__self:!0,__source:!0};function Kh(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)Vh.call(t,n)&&!jh.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Ts,type:e,key:a,ref:s,props:i,_owner:Xc.current}}function _v(e,t){return{$$typeof:Ts,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ts}function Av(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var x0=/\/+/g;function Fl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Av(""+e.key):t.toString(36)}function io(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ts:case gv:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Fl(s,0):n,S0(i)?(r="",e!=null&&(r=e.replace(x0,"$&/")+"/"),io(i,t,r,"",function(u){return u})):i!=null&&(Zc(i)&&(i=_v(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(x0,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",S0(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+Fl(a,o);s+=io(a,t,r,l,i)}else if(l=Iv(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+Fl(a,o++),s+=io(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ls(e,t,r){if(e==null)return e;var n=[],i=0;return io(e,n,"","",function(a){return t.call(r,a,i++)}),n}function Bv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},ao={transition:null},kv={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:ao,ReactCurrentOwner:Xc};we.Children={map:Ls,forEach:function(e,t,r){Ls(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ls(e,function(){t++}),t},toArray:function(e){return Ls(e,function(t){return t})||[]},only:function(e){if(!Zc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=ha;we.Fragment=vv;we.Profiler=mv;we.PureComponent=Wc;we.StrictMode=yv;we.Suspense=xv;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kv;we.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Uh({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Xc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Vh.call(t,l)&&!jh.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Ts,type:e.type,key:i,ref:a,props:n,_owner:s}};we.createContext=function(e){return e={$$typeof:Ev,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cv,_context:e},e.Consumer=e};we.createElement=Kh;we.createFactory=function(e){var t=Kh.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:Sv,render:e}};we.isValidElement=Zc;we.lazy=function(e){return{$$typeof:wv,_payload:{_status:-1,_result:e},_init:Bv}};we.memo=function(e,t){return{$$typeof:Tv,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=ao.transition;ao.transition={};try{e()}finally{ao.transition=t}};we.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};we.useCallback=function(e,t){return $t.current.useCallback(e,t)};we.useContext=function(e){return $t.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};we.useEffect=function(e,t){return $t.current.useEffect(e,t)};we.useId=function(){return $t.current.useId()};we.useImperativeHandle=function(e,t,r){return $t.current.useImperativeHandle(e,t,r)};we.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return $t.current.useMemo(e,t)};we.useReducer=function(e,t,r){return $t.current.useReducer(e,t,r)};we.useRef=function(e){return $t.current.useRef(e)};we.useState=function(e){return $t.current.useState(e)};we.useSyncExternalStore=function(e,t,r){return $t.current.useSyncExternalStore(e,t,r)};we.useTransition=function(){return $t.current.useTransition()};we.version="18.2.0";Oh.exports=we;var $=Oh.exports;const bv=Qc($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv=$,Dv=Symbol.for("react.element"),Lv=Symbol.for("react.fragment"),Rv=Object.prototype.hasOwnProperty,Ov=Nv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pv={key:!0,ref:!0,__self:!0,__source:!0};function zh(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Rv.call(t,n)&&!Pv.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Dv,type:e,key:a,ref:s,props:i,_owner:Ov.current}}il.Fragment=Lv;il.jsx=zh;il.jsxs=zh;Rh.exports=il;var D=Rh.exports,bu={},Hh={exports:{}},fr={},$h={exports:{}},qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,ae){var ne=W.length;W.push(ae);e:for(;0<ne;){var ee=ne-1>>>1,ie=W[ee];if(0<i(ie,ae))W[ee]=ae,W[ne]=ie,ne=ee;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var ae=W[0],ne=W.pop();if(ne!==ae){W[0]=ne;e:for(var ee=0,ie=W.length,Oe=ie>>>1;ee<Oe;){var se=2*(ee+1)-1,Fe=W[se],Le=se+1,ke=W[Le];if(0>i(Fe,ne))Le<ie&&0>i(ke,Fe)?(W[ee]=ke,W[Le]=ne,ee=Le):(W[ee]=Fe,W[se]=ne,ee=se);else if(Le<ie&&0>i(ke,ne))W[ee]=ke,W[Le]=ne,ee=Le;else break e}}return ae}function i(W,ae){var ne=W.sortIndex-ae.sortIndex;return ne!==0?ne:W.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,d=3,v=!1,g=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var ae=r(u);ae!==null;){if(ae.callback===null)n(u);else if(ae.startTime<=W)n(u),ae.sortIndex=ae.expirationTime,t(l,ae);else break;ae=r(u)}}function B(W){if(C=!1,S(W),!g)if(r(l)!==null)g=!0,Re(L);else{var ae=r(u);ae!==null&&te(B,ae.startTime-W)}}function L(W,ae){g=!1,C&&(C=!1,y(V),V=-1),v=!0;var ne=d;try{for(S(ae),f=r(l);f!==null&&(!(f.expirationTime>ae)||W&&!ce());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,d=f.priorityLevel;var ie=ee(f.expirationTime<=ae);ae=e.unstable_now(),typeof ie=="function"?f.callback=ie:f===r(l)&&n(l),S(ae)}else n(l);f=r(l)}if(f!==null)var Oe=!0;else{var se=r(u);se!==null&&te(B,se.startTime-ae),Oe=!1}return Oe}finally{f=null,d=ne,v=!1}}var R=!1,M=null,V=-1,Q=5,G=-1;function ce(){return!(e.unstable_now()-G<Q)}function pe(){if(M!==null){var W=e.unstable_now();G=W;var ae=!0;try{ae=M(!0,W)}finally{ae?De():(R=!1,M=null)}}else R=!1}var De;if(typeof m=="function")De=function(){m(pe)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Ce=Ue.port2;Ue.port1.onmessage=pe,De=function(){Ce.postMessage(null)}}else De=function(){I(pe,0)};function Re(W){M=W,R||(R=!0,De())}function te(W,ae){V=I(function(){W(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){g||v||(g=!0,Re(L))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(W){switch(d){case 1:case 2:case 3:var ae=3;break;default:ae=d}var ne=d;d=ae;try{return W()}finally{d=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ne=d;d=W;try{return ae()}finally{d=ne}},e.unstable_scheduleCallback=function(W,ae,ne){var ee=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ee+ne:ee):ne=ee,W){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ne+ie,W={id:c++,callback:ae,priorityLevel:W,startTime:ne,expirationTime:ie,sortIndex:-1},ne>ee?(W.sortIndex=ne,t(u,W),r(l)===null&&W===r(u)&&(C?(y(V),V=-1):C=!0,te(B,ne-ee))):(W.sortIndex=ie,t(l,W),g||v||(g=!0,Re(L))),W},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(W){var ae=d;return function(){var ne=d;d=ae;try{return W.apply(this,arguments)}finally{d=ne}}}})(qh);$h.exports=qh;var Uv=$h.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=$,cr=Uv;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qh=new Set,rs={};function Ti(e,t){ra(e,t),ra(e+"Capture",t)}function ra(e,t){for(rs[e]=t,e=0;e<t.length;e++)Qh.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=Object.prototype.hasOwnProperty,Mv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T0={},w0={};function Fv(e){return Nu.call(w0,e)?!0:Nu.call(T0,e)?!1:Mv.test(e)?w0[e]=!0:(T0[e]=!0,!1)}function Vv(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jv(e,t,r,n){if(t===null||typeof t>"u"||Vv(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qt(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jc=/[\-:]([a-z])/g;function ef(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jc,ef);Lt[t]=new qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jc,ef);Lt[t]=new qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jc,ef);Lt[t]=new qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function tf(e,t,r,n){var i=Lt.hasOwnProperty(t)?Lt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jv(t,r,i,n)&&(r=null),n||i===null?Fv(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var mn=Gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rs=Symbol.for("react.element"),Oi=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),rf=Symbol.for("react.strict_mode"),Du=Symbol.for("react.profiler"),Wh=Symbol.for("react.provider"),Yh=Symbol.for("react.context"),nf=Symbol.for("react.forward_ref"),Lu=Symbol.for("react.suspense"),Ru=Symbol.for("react.suspense_list"),af=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),Xh=Symbol.for("react.offscreen"),I0=Symbol.iterator;function Ta(e){return e===null||typeof e!="object"?null:(e=I0&&e[I0]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,Vl;function Oa(e){if(Vl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Vl=t&&t[1]||""}return`
`+Vl+e}var jl=!1;function Kl(e,t){if(!e||jl)return"";jl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{jl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Oa(e):""}function Kv(e){switch(e.tag){case 5:return Oa(e.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return e=Kl(e.type,!1),e;case 11:return e=Kl(e.type.render,!1),e;case 1:return e=Kl(e.type,!0),e;default:return""}}function Ou(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pi:return"Fragment";case Oi:return"Portal";case Du:return"Profiler";case rf:return"StrictMode";case Lu:return"Suspense";case Ru:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yh:return(e.displayName||"Context")+".Consumer";case Wh:return(e._context.displayName||"Context")+".Provider";case nf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case af:return t=e.displayName||null,t!==null?t:Ou(e.type)||"Memo";case An:t=e._payload,e=e._init;try{return Ou(e(t))}catch{}}return null}function zv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ou(t);case 8:return t===rf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hv(e){var t=Zh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Os(e){e._valueTracker||(e._valueTracker=Hv(e))}function Jh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Zh(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function To(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pu(e,t){var r=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function _0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Wn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ep(e,t){t=t.checked,t!=null&&tf(e,"checked",t,!1)}function Uu(e,t){ep(e,t);var r=Wn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Mu(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function A0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Mu(e,t,r){(t!=="number"||To(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Pa=Array.isArray;function Yi(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Wn(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Fu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function B0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(H(92));if(Pa(r)){if(1<r.length)throw Error(H(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Wn(r)}}function tp(e,t){var r=Wn(t.value),n=Wn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function k0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ps,np=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ns(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$v=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(e){$v.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ka[t]=Ka[e]})});function ip(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ka.hasOwnProperty(e)&&Ka[e]?(""+t).trim():t+"px"}function ap(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ip(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var qv=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ju(e,t){if(t){if(qv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Ku(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=null;function sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hu=null,Xi=null,Zi=null;function b0(e){if(e=_s(e)){if(typeof Hu!="function")throw Error(H(280));var t=e.stateNode;t&&(t=ul(t),Hu(e.stateNode,e.type,t))}}function sp(e){Xi?Zi?Zi.push(e):Zi=[e]:Xi=e}function op(){if(Xi){var e=Xi,t=Zi;if(Zi=Xi=null,b0(e),t)for(e=0;e<t.length;e++)b0(t[e])}}function lp(e,t){return e(t)}function up(){}var zl=!1;function cp(e,t,r){if(zl)return e(t,r);zl=!0;try{return lp(e,t,r)}finally{zl=!1,(Xi!==null||Zi!==null)&&(up(),op())}}function is(e,t){var r=e.stateNode;if(r===null)return null;var n=ul(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(H(231,t,typeof r));return r}var $u=!1;if(pn)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){$u=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{$u=!1}function Gv(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var za=!1,wo=null,Io=!1,qu=null,Qv={onError:function(e){za=!0,wo=e}};function Wv(e,t,r,n,i,a,s,o,l){za=!1,wo=null,Gv.apply(Qv,arguments)}function Yv(e,t,r,n,i,a,s,o,l){if(Wv.apply(this,arguments),za){if(za){var u=wo;za=!1,wo=null}else throw Error(H(198));Io||(Io=!0,qu=u)}}function wi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N0(e){if(wi(e)!==e)throw Error(H(188))}function Xv(e){var t=e.alternate;if(!t){if(t=wi(e),t===null)throw Error(H(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return N0(i),e;if(a===n)return N0(i),t;a=a.sibling}throw Error(H(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?e:t}function dp(e){return e=Xv(e),e!==null?hp(e):null}function hp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hp(e);if(t!==null)return t;e=e.sibling}return null}var pp=cr.unstable_scheduleCallback,D0=cr.unstable_cancelCallback,Zv=cr.unstable_shouldYield,Jv=cr.unstable_requestPaint,dt=cr.unstable_now,ey=cr.unstable_getCurrentPriorityLevel,of=cr.unstable_ImmediatePriority,gp=cr.unstable_UserBlockingPriority,_o=cr.unstable_NormalPriority,ty=cr.unstable_LowPriority,vp=cr.unstable_IdlePriority,al=null,en=null;function ry(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(al,e,void 0,(e.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:ay,ny=Math.log,iy=Math.LN2;function ay(e){return e>>>=0,e===0?32:31-(ny(e)/iy|0)|0}var Us=64,Ms=4194304;function Ua(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ao(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Ua(o):(a&=s,a!==0&&(n=Ua(a)))}else s=r&~i,s!==0?n=Ua(s):a!==0&&(n=Ua(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Fr(t),i=1<<r,n|=e[r],t&=~i;return n}function sy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oy(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Fr(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=sy(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Gu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yp(){var e=Us;return Us<<=1,!(Us&4194240)&&(Us=64),e}function Hl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ws(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fr(t),e[t]=r}function ly(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Fr(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function lf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Fr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Me=0;function mp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cp,uf,Ep,Sp,xp,Qu=!1,Fs=[],Fn=null,Vn=null,jn=null,as=new Map,ss=new Map,bn=[],uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L0(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":as.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function Ia(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=_s(t),t!==null&&uf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function cy(e,t,r,n,i){switch(t){case"focusin":return Fn=Ia(Fn,e,t,r,n,i),!0;case"dragenter":return Vn=Ia(Vn,e,t,r,n,i),!0;case"mouseover":return jn=Ia(jn,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return as.set(a,Ia(as.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ss.set(a,Ia(ss.get(a)||null,e,t,r,n,i)),!0}return!1}function Tp(e){var t=li(e.target);if(t!==null){var r=wi(t);if(r!==null){if(t=r.tag,t===13){if(t=fp(r),t!==null){e.blockedOn=t,xp(e.priority,function(){Ep(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function so(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zu=n,r.target.dispatchEvent(n),zu=null}else return t=_s(r),t!==null&&uf(t),e.blockedOn=r,!1;t.shift()}return!0}function R0(e,t,r){so(e)&&r.delete(t)}function fy(){Qu=!1,Fn!==null&&so(Fn)&&(Fn=null),Vn!==null&&so(Vn)&&(Vn=null),jn!==null&&so(jn)&&(jn=null),as.forEach(R0),ss.forEach(R0)}function _a(e,t){e.blockedOn===t&&(e.blockedOn=null,Qu||(Qu=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,fy)))}function os(e){function t(i){return _a(i,e)}if(0<Fs.length){_a(Fs[0],e);for(var r=1;r<Fs.length;r++){var n=Fs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Fn!==null&&_a(Fn,e),Vn!==null&&_a(Vn,e),jn!==null&&_a(jn,e),as.forEach(t),ss.forEach(t),r=0;r<bn.length;r++)n=bn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<bn.length&&(r=bn[0],r.blockedOn===null);)Tp(r),r.blockedOn===null&&bn.shift()}var Ji=mn.ReactCurrentBatchConfig,Bo=!0;function dy(e,t,r,n){var i=Me,a=Ji.transition;Ji.transition=null;try{Me=1,cf(e,t,r,n)}finally{Me=i,Ji.transition=a}}function hy(e,t,r,n){var i=Me,a=Ji.transition;Ji.transition=null;try{Me=4,cf(e,t,r,n)}finally{Me=i,Ji.transition=a}}function cf(e,t,r,n){if(Bo){var i=Wu(e,t,r,n);if(i===null)eu(e,t,n,ko,r),L0(e,n);else if(cy(i,e,t,r,n))n.stopPropagation();else if(L0(e,n),t&4&&-1<uy.indexOf(e)){for(;i!==null;){var a=_s(i);if(a!==null&&Cp(a),a=Wu(e,t,r,n),a===null&&eu(e,t,n,ko,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else eu(e,t,n,null,r)}}var ko=null;function Wu(e,t,r,n){if(ko=null,e=sf(n),e=li(e),e!==null)if(t=wi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ko=e,null}function wp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ey()){case of:return 1;case gp:return 4;case _o:case ty:return 16;case vp:return 536870912;default:return 16}default:return 16}}var Dn=null,ff=null,oo=null;function Ip(){if(oo)return oo;var e,t=ff,r=t.length,n,i="value"in Dn?Dn.value:Dn.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return oo=i.slice(e,1<n?1-n:void 0)}function lo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vs(){return!0}function O0(){return!1}function dr(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Vs:O0,this.isPropagationStopped=O0,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),t}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},df=dr(pa),Is=st({},pa,{view:0,detail:0}),py=dr(Is),$l,ql,Aa,sl=st({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Aa&&(Aa&&e.type==="mousemove"?($l=e.screenX-Aa.screenX,ql=e.screenY-Aa.screenY):ql=$l=0,Aa=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:ql}}),P0=dr(sl),gy=st({},sl,{dataTransfer:0}),vy=dr(gy),yy=st({},Is,{relatedTarget:0}),Gl=dr(yy),my=st({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),Cy=dr(my),Ey=st({},pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sy=dr(Ey),xy=st({},pa,{data:0}),U0=dr(xy),Ty={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _y(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Iy[e])?!!t[e]:!1}function hf(){return _y}var Ay=st({},Is,{key:function(e){if(e.key){var t=Ty[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hf,charCode:function(e){return e.type==="keypress"?lo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),By=dr(Ay),ky=st({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M0=dr(ky),by=st({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hf}),Ny=dr(by),Dy=st({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ly=dr(Dy),Ry=st({},sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Oy=dr(Ry),Py=[9,13,27,32],pf=pn&&"CompositionEvent"in window,Ha=null;pn&&"documentMode"in document&&(Ha=document.documentMode);var Uy=pn&&"TextEvent"in window&&!Ha,_p=pn&&(!pf||Ha&&8<Ha&&11>=Ha),F0=String.fromCharCode(32),V0=!1;function Ap(e,t){switch(e){case"keyup":return Py.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ui=!1;function My(e,t){switch(e){case"compositionend":return Bp(t);case"keypress":return t.which!==32?null:(V0=!0,F0);case"textInput":return e=t.data,e===F0&&V0?null:e;default:return null}}function Fy(e,t){if(Ui)return e==="compositionend"||!pf&&Ap(e,t)?(e=Ip(),oo=ff=Dn=null,Ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _p&&t.locale!=="ko"?null:t.data;default:return null}}var Vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vy[e.type]:t==="textarea"}function kp(e,t,r,n){sp(n),t=bo(t,"onChange"),0<t.length&&(r=new df("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $a=null,ls=null;function jy(e){Vp(e,0)}function ol(e){var t=Vi(e);if(Jh(t))return e}function Ky(e,t){if(e==="change")return t}var bp=!1;if(pn){var Ql;if(pn){var Wl="oninput"in document;if(!Wl){var K0=document.createElement("div");K0.setAttribute("oninput","return;"),Wl=typeof K0.oninput=="function"}Ql=Wl}else Ql=!1;bp=Ql&&(!document.documentMode||9<document.documentMode)}function z0(){$a&&($a.detachEvent("onpropertychange",Np),ls=$a=null)}function Np(e){if(e.propertyName==="value"&&ol(ls)){var t=[];kp(t,ls,e,sf(e)),cp(jy,t)}}function zy(e,t,r){e==="focusin"?(z0(),$a=t,ls=r,$a.attachEvent("onpropertychange",Np)):e==="focusout"&&z0()}function Hy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ol(ls)}function $y(e,t){if(e==="click")return ol(t)}function qy(e,t){if(e==="input"||e==="change")return ol(t)}function Gy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jr=typeof Object.is=="function"?Object.is:Gy;function us(e,t){if(jr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Nu.call(t,i)||!jr(e[i],t[i]))return!1}return!0}function H0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $0(e,t){var r=H0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=H0(r)}}function Dp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lp(){for(var e=window,t=To();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=To(e.document)}return t}function gf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qy(e){var t=Lp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Dp(r.ownerDocument.documentElement,r)){if(n!==null&&gf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=$0(r,a);var s=$0(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wy=pn&&"documentMode"in document&&11>=document.documentMode,Mi=null,Yu=null,qa=null,Xu=!1;function q0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xu||Mi==null||Mi!==To(n)||(n=Mi,"selectionStart"in n&&gf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qa&&us(qa,n)||(qa=n,n=bo(Yu,"onSelect"),0<n.length&&(t=new df("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mi)))}function js(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fi={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},Yl={},Rp={};pn&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function ll(e){if(Yl[e])return Yl[e];if(!Fi[e])return e;var t=Fi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Rp)return Yl[e]=t[r];return e}var Op=ll("animationend"),Pp=ll("animationiteration"),Up=ll("animationstart"),Mp=ll("transitionend"),Fp=new Map,G0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(e,t){Fp.set(e,t),Ti(t,[e])}for(var Xl=0;Xl<G0.length;Xl++){var Zl=G0[Xl],Yy=Zl.toLowerCase(),Xy=Zl[0].toUpperCase()+Zl.slice(1);Jn(Yy,"on"+Xy)}Jn(Op,"onAnimationEnd");Jn(Pp,"onAnimationIteration");Jn(Up,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(Mp,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function Q0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Yv(n,t,void 0,e),e.currentTarget=null}function Vp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Q0(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Q0(i,o,u),a=l}}}if(Io)throw e=qu,Io=!1,qu=null,e}function Xe(e,t){var r=t[rc];r===void 0&&(r=t[rc]=new Set);var n=e+"__bubble";r.has(n)||(jp(t,e,2,!1),r.add(n))}function Jl(e,t,r){var n=0;t&&(n|=4),jp(r,e,n,t)}var Ks="_reactListening"+Math.random().toString(36).slice(2);function cs(e){if(!e[Ks]){e[Ks]=!0,Qh.forEach(function(r){r!=="selectionchange"&&(Zy.has(r)||Jl(r,!1,e),Jl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ks]||(t[Ks]=!0,Jl("selectionchange",!1,t))}}function jp(e,t,r,n){switch(wp(t)){case 1:var i=dy;break;case 4:i=hy;break;default:i=cf}r=i.bind(null,t,r,e),i=void 0,!$u||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function eu(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=li(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}cp(function(){var u=a,c=sf(r),f=[];e:{var d=Fp.get(e);if(d!==void 0){var v=df,g=e;switch(e){case"keypress":if(lo(r)===0)break e;case"keydown":case"keyup":v=By;break;case"focusin":g="focus",v=Gl;break;case"focusout":g="blur",v=Gl;break;case"beforeblur":case"afterblur":v=Gl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=P0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=vy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Ny;break;case Op:case Pp:case Up:v=Cy;break;case Mp:v=Ly;break;case"scroll":v=py;break;case"wheel":v=Oy;break;case"copy":case"cut":case"paste":v=Sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=M0}var C=(t&4)!==0,I=!C&&e==="scroll",y=C?d!==null?d+"Capture":null:d;C=[];for(var m=u,S;m!==null;){S=m;var B=S.stateNode;if(S.tag===5&&B!==null&&(S=B,y!==null&&(B=is(m,y),B!=null&&C.push(fs(m,B,S)))),I)break;m=m.return}0<C.length&&(d=new v(d,g,null,r,c),f.push({event:d,listeners:C}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",d&&r!==zu&&(g=r.relatedTarget||r.fromElement)&&(li(g)||g[gn]))break e;if((v||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,v?(g=r.relatedTarget||r.toElement,v=u,g=g?li(g):null,g!==null&&(I=wi(g),g!==I||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(C=P0,B="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(C=M0,B="onPointerLeave",y="onPointerEnter",m="pointer"),I=v==null?d:Vi(v),S=g==null?d:Vi(g),d=new C(B,m+"leave",v,r,c),d.target=I,d.relatedTarget=S,B=null,li(c)===u&&(C=new C(y,m+"enter",g,r,c),C.target=S,C.relatedTarget=I,B=C),I=B,v&&g)t:{for(C=v,y=g,m=0,S=C;S;S=ki(S))m++;for(S=0,B=y;B;B=ki(B))S++;for(;0<m-S;)C=ki(C),m--;for(;0<S-m;)y=ki(y),S--;for(;m--;){if(C===y||y!==null&&C===y.alternate)break t;C=ki(C),y=ki(y)}C=null}else C=null;v!==null&&W0(f,d,v,C,!1),g!==null&&I!==null&&W0(f,I,g,C,!0)}}e:{if(d=u?Vi(u):window,v=d.nodeName&&d.nodeName.toLowerCase(),v==="select"||v==="input"&&d.type==="file")var L=Ky;else if(j0(d))if(bp)L=qy;else{L=Hy;var R=zy}else(v=d.nodeName)&&v.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(L=$y);if(L&&(L=L(e,u))){kp(f,L,r,c);break e}R&&R(e,d,u),e==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&Mu(d,"number",d.value)}switch(R=u?Vi(u):window,e){case"focusin":(j0(R)||R.contentEditable==="true")&&(Mi=R,Yu=u,qa=null);break;case"focusout":qa=Yu=Mi=null;break;case"mousedown":Xu=!0;break;case"contextmenu":case"mouseup":case"dragend":Xu=!1,q0(f,r,c);break;case"selectionchange":if(Wy)break;case"keydown":case"keyup":q0(f,r,c)}var M;if(pf)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Ui?Ap(e,r)&&(V="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(V="onCompositionStart");V&&(_p&&r.locale!=="ko"&&(Ui||V!=="onCompositionStart"?V==="onCompositionEnd"&&Ui&&(M=Ip()):(Dn=c,ff="value"in Dn?Dn.value:Dn.textContent,Ui=!0)),R=bo(u,V),0<R.length&&(V=new U0(V,e,null,r,c),f.push({event:V,listeners:R}),M?V.data=M:(M=Bp(r),M!==null&&(V.data=M)))),(M=Uy?My(e,r):Fy(e,r))&&(u=bo(u,"onBeforeInput"),0<u.length&&(c=new U0("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=M))}Vp(f,t)})}function fs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bo(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=is(e,r),a!=null&&n.unshift(fs(e,a,i)),a=is(e,t),a!=null&&n.push(fs(e,a,i))),e=e.return}return n}function ki(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function W0(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=is(r,a),l!=null&&s.unshift(fs(r,l,o))):i||(l=is(r,a),l!=null&&s.push(fs(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Jy=/\r\n?/g,em=/\u0000|\uFFFD/g;function Y0(e){return(typeof e=="string"?e:""+e).replace(Jy,`
`).replace(em,"")}function zs(e,t,r){if(t=Y0(t),Y0(e)!==t&&r)throw Error(H(425))}function No(){}var Zu=null,Ju=null;function ec(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tc=typeof setTimeout=="function"?setTimeout:void 0,tm=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,rm=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(e){return X0.resolve(null).then(e).catch(nm)}:tc;function nm(e){setTimeout(function(){throw e})}function tu(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),os(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);os(t)}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Z0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ga=Math.random().toString(36).slice(2),Qr="__reactFiber$"+ga,ds="__reactProps$"+ga,gn="__reactContainer$"+ga,rc="__reactEvents$"+ga,im="__reactListeners$"+ga,am="__reactHandles$"+ga;function li(e){var t=e[Qr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gn]||r[Qr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Z0(e);e!==null;){if(r=e[Qr])return r;e=Z0(e)}return t}e=r,r=e.parentNode}return null}function _s(e){return e=e[Qr]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function ul(e){return e[ds]||null}var nc=[],ji=-1;function ei(e){return{current:e}}function et(e){0>ji||(e.current=nc[ji],nc[ji]=null,ji--)}function Ge(e,t){ji++,nc[ji]=e.current,e.current=t}var Yn={},Mt=ei(Yn),Xt=ei(!1),vi=Yn;function na(e,t){var r=e.type.contextTypes;if(!r)return Yn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(e){return e=e.childContextTypes,e!=null}function Do(){et(Xt),et(Mt)}function J0(e,t,r){if(Mt.current!==Yn)throw Error(H(168));Ge(Mt,t),Ge(Xt,r)}function Kp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(H(108,zv(e)||"Unknown",i));return st({},r,n)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,vi=Mt.current,Ge(Mt,e),Ge(Xt,Xt.current),!0}function ed(e,t,r){var n=e.stateNode;if(!n)throw Error(H(169));r?(e=Kp(e,t,vi),n.__reactInternalMemoizedMergedChildContext=e,et(Xt),et(Mt),Ge(Mt,e)):et(Xt),Ge(Xt,r)}var ln=null,cl=!1,ru=!1;function zp(e){ln===null?ln=[e]:ln.push(e)}function sm(e){cl=!0,zp(e)}function ti(){if(!ru&&ln!==null){ru=!0;var e=0,t=Me;try{var r=ln;for(Me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ln=null,cl=!1}catch(i){throw ln!==null&&(ln=ln.slice(e+1)),pp(of,ti),i}finally{Me=t,ru=!1}}return null}var Ki=[],zi=0,Ro=null,Oo=0,Sr=[],xr=0,yi=null,un=1,cn="";function ni(e,t){Ki[zi++]=Oo,Ki[zi++]=Ro,Ro=e,Oo=t}function Hp(e,t,r){Sr[xr++]=un,Sr[xr++]=cn,Sr[xr++]=yi,yi=e;var n=un;e=cn;var i=32-Fr(n)-1;n&=~(1<<i),r+=1;var a=32-Fr(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,un=1<<32-Fr(t)+i|r<<i|n,cn=a+e}else un=1<<a|r<<i|n,cn=e}function vf(e){e.return!==null&&(ni(e,1),Hp(e,1,0))}function yf(e){for(;e===Ro;)Ro=Ki[--zi],Ki[zi]=null,Oo=Ki[--zi],Ki[zi]=null;for(;e===yi;)yi=Sr[--xr],Sr[xr]=null,cn=Sr[--xr],Sr[xr]=null,un=Sr[--xr],Sr[xr]=null}var ur=null,lr=null,rt=!1,Ur=null;function $p(e,t){var r=wr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function td(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ur=e,lr=Kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ur=e,lr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yi!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=wr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ur=e,lr=null,!0):!1;default:return!1}}function ic(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ac(e){if(rt){var t=lr;if(t){var r=t;if(!td(e,t)){if(ic(e))throw Error(H(418));t=Kn(r.nextSibling);var n=ur;t&&td(e,t)?$p(n,r):(e.flags=e.flags&-4097|2,rt=!1,ur=e)}}else{if(ic(e))throw Error(H(418));e.flags=e.flags&-4097|2,rt=!1,ur=e}}}function rd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ur=e}function Hs(e){if(e!==ur)return!1;if(!rt)return rd(e),rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ec(e.type,e.memoizedProps)),t&&(t=lr)){if(ic(e))throw qp(),Error(H(418));for(;t;)$p(e,t),t=Kn(t.nextSibling)}if(rd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){lr=Kn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}lr=null}}else lr=ur?Kn(e.stateNode.nextSibling):null;return!0}function qp(){for(var e=lr;e;)e=Kn(e.nextSibling)}function ia(){lr=ur=null,rt=!1}function mf(e){Ur===null?Ur=[e]:Ur.push(e)}var om=mn.ReactCurrentBatchConfig;function Or(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Po=ei(null),Uo=null,Hi=null,Cf=null;function Ef(){Cf=Hi=Uo=null}function Sf(e){var t=Po.current;et(Po),e._currentValue=t}function sc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ea(e,t){Uo=e,Cf=Hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function br(e){var t=e._currentValue;if(Cf!==e)if(e={context:e,memoizedValue:t,next:null},Hi===null){if(Uo===null)throw Error(H(308));Hi=e,Uo.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var ui=null;function xf(e){ui===null?ui=[e]:ui.push(e)}function Gp(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,xf(t)):(r.next=i.next,i.next=r),t.interleaved=r,vn(e,n)}function vn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bn=!1;function Tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,vn(e,r)}return i=n.interleaved,i===null?(t.next=t,xf(n)):(t.next=i.next,i.next=t),n.interleaved=t,vn(e,r)}function uo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,lf(e,r)}}function nd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Mo(e,t,r,n){var i=e.updateQueue;Bn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var d=o.lane,v=o.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,C=o;switch(d=t,v=r,C.tag){case 1:if(g=C.payload,typeof g=="function"){f=g.call(v,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=C.payload,d=typeof g=="function"?g.call(v,f,d):g,d==null)break e;f=st({},f,d);break e;case 2:Bn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else v={eventTime:v,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=v,l=f):c=c.next=v,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ci|=s,e.lanes=s,e.memoizedState=f}}function id(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(H(191,i));i.call(n)}}}var Wp=new Gh.Component().refs;function oc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:st({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fl={isMounted:function(e){return(e=e._reactInternals)?wi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ht(),i=$n(e),a=dn(n,i);a.payload=t,r!=null&&(a.callback=r),t=zn(e,a,i),t!==null&&(Vr(t,e,i,n),uo(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ht(),i=$n(e),a=dn(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=zn(e,a,i),t!==null&&(Vr(t,e,i,n),uo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ht(),n=$n(e),i=dn(r,n);i.tag=2,t!=null&&(i.callback=t),t=zn(e,i,n),t!==null&&(Vr(t,e,n,r),uo(t,e,n))}};function ad(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!us(r,n)||!us(i,a):!0}function Yp(e,t,r){var n=!1,i=Yn,a=t.contextType;return typeof a=="object"&&a!==null?a=br(a):(i=Zt(t)?vi:Mt.current,n=t.contextTypes,a=(n=n!=null)?na(e,i):Yn),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function sd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fl.enqueueReplaceState(t,t.state,null)}function lc(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Wp,Tf(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=br(a):(a=Zt(t)?vi:Mt.current,i.context=na(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(oc(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&fl.enqueueReplaceState(i,i.state,null),Mo(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ba(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;o===Wp&&(o=i.refs={}),s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,e))}return e}function $s(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function od(e){var t=e._init;return t(e._payload)}function Xp(e){function t(y,m){if(e){var S=y.deletions;S===null?(y.deletions=[m],y.flags|=16):S.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=qn(y,m),y.index=0,y.sibling=null,y}function a(y,m,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<m?(y.flags|=2,m):S):(y.flags|=2,m)):(y.flags|=1048576,m)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,m,S,B){return m===null||m.tag!==6?(m=uu(S,y.mode,B),m.return=y,m):(m=i(m,S),m.return=y,m)}function l(y,m,S,B){var L=S.type;return L===Pi?c(y,m,S.props.children,B,S.key):m!==null&&(m.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===An&&od(L)===m.type)?(B=i(m,S.props),B.ref=Ba(y,m,S),B.return=y,B):(B=vo(S.type,S.key,S.props,null,y.mode,B),B.ref=Ba(y,m,S),B.return=y,B)}function u(y,m,S,B){return m===null||m.tag!==4||m.stateNode.containerInfo!==S.containerInfo||m.stateNode.implementation!==S.implementation?(m=cu(S,y.mode,B),m.return=y,m):(m=i(m,S.children||[]),m.return=y,m)}function c(y,m,S,B,L){return m===null||m.tag!==7?(m=hi(S,y.mode,B,L),m.return=y,m):(m=i(m,S),m.return=y,m)}function f(y,m,S){if(typeof m=="string"&&m!==""||typeof m=="number")return m=uu(""+m,y.mode,S),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Rs:return S=vo(m.type,m.key,m.props,null,y.mode,S),S.ref=Ba(y,null,m),S.return=y,S;case Oi:return m=cu(m,y.mode,S),m.return=y,m;case An:var B=m._init;return f(y,B(m._payload),S)}if(Pa(m)||Ta(m))return m=hi(m,y.mode,S,null),m.return=y,m;$s(y,m)}return null}function d(y,m,S,B){var L=m!==null?m.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return L!==null?null:o(y,m,""+S,B);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Rs:return S.key===L?l(y,m,S,B):null;case Oi:return S.key===L?u(y,m,S,B):null;case An:return L=S._init,d(y,m,L(S._payload),B)}if(Pa(S)||Ta(S))return L!==null?null:c(y,m,S,B,null);$s(y,S)}return null}function v(y,m,S,B,L){if(typeof B=="string"&&B!==""||typeof B=="number")return y=y.get(S)||null,o(m,y,""+B,L);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Rs:return y=y.get(B.key===null?S:B.key)||null,l(m,y,B,L);case Oi:return y=y.get(B.key===null?S:B.key)||null,u(m,y,B,L);case An:var R=B._init;return v(y,m,S,R(B._payload),L)}if(Pa(B)||Ta(B))return y=y.get(S)||null,c(m,y,B,L,null);$s(m,B)}return null}function g(y,m,S,B){for(var L=null,R=null,M=m,V=m=0,Q=null;M!==null&&V<S.length;V++){M.index>V?(Q=M,M=null):Q=M.sibling;var G=d(y,M,S[V],B);if(G===null){M===null&&(M=Q);break}e&&M&&G.alternate===null&&t(y,M),m=a(G,m,V),R===null?L=G:R.sibling=G,R=G,M=Q}if(V===S.length)return r(y,M),rt&&ni(y,V),L;if(M===null){for(;V<S.length;V++)M=f(y,S[V],B),M!==null&&(m=a(M,m,V),R===null?L=M:R.sibling=M,R=M);return rt&&ni(y,V),L}for(M=n(y,M);V<S.length;V++)Q=v(M,y,V,S[V],B),Q!==null&&(e&&Q.alternate!==null&&M.delete(Q.key===null?V:Q.key),m=a(Q,m,V),R===null?L=Q:R.sibling=Q,R=Q);return e&&M.forEach(function(ce){return t(y,ce)}),rt&&ni(y,V),L}function C(y,m,S,B){var L=Ta(S);if(typeof L!="function")throw Error(H(150));if(S=L.call(S),S==null)throw Error(H(151));for(var R=L=null,M=m,V=m=0,Q=null,G=S.next();M!==null&&!G.done;V++,G=S.next()){M.index>V?(Q=M,M=null):Q=M.sibling;var ce=d(y,M,G.value,B);if(ce===null){M===null&&(M=Q);break}e&&M&&ce.alternate===null&&t(y,M),m=a(ce,m,V),R===null?L=ce:R.sibling=ce,R=ce,M=Q}if(G.done)return r(y,M),rt&&ni(y,V),L;if(M===null){for(;!G.done;V++,G=S.next())G=f(y,G.value,B),G!==null&&(m=a(G,m,V),R===null?L=G:R.sibling=G,R=G);return rt&&ni(y,V),L}for(M=n(y,M);!G.done;V++,G=S.next())G=v(M,y,V,G.value,B),G!==null&&(e&&G.alternate!==null&&M.delete(G.key===null?V:G.key),m=a(G,m,V),R===null?L=G:R.sibling=G,R=G);return e&&M.forEach(function(pe){return t(y,pe)}),rt&&ni(y,V),L}function I(y,m,S,B){if(typeof S=="object"&&S!==null&&S.type===Pi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Rs:e:{for(var L=S.key,R=m;R!==null;){if(R.key===L){if(L=S.type,L===Pi){if(R.tag===7){r(y,R.sibling),m=i(R,S.props.children),m.return=y,y=m;break e}}else if(R.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===An&&od(L)===R.type){r(y,R.sibling),m=i(R,S.props),m.ref=Ba(y,R,S),m.return=y,y=m;break e}r(y,R);break}else t(y,R);R=R.sibling}S.type===Pi?(m=hi(S.props.children,y.mode,B,S.key),m.return=y,y=m):(B=vo(S.type,S.key,S.props,null,y.mode,B),B.ref=Ba(y,m,S),B.return=y,y=B)}return s(y);case Oi:e:{for(R=S.key;m!==null;){if(m.key===R)if(m.tag===4&&m.stateNode.containerInfo===S.containerInfo&&m.stateNode.implementation===S.implementation){r(y,m.sibling),m=i(m,S.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=cu(S,y.mode,B),m.return=y,y=m}return s(y);case An:return R=S._init,I(y,m,R(S._payload),B)}if(Pa(S))return g(y,m,S,B);if(Ta(S))return C(y,m,S,B);$s(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,m!==null&&m.tag===6?(r(y,m.sibling),m=i(m,S),m.return=y,y=m):(r(y,m),m=uu(S,y.mode,B),m.return=y,y=m),s(y)):r(y,m)}return I}var aa=Xp(!0),Zp=Xp(!1),As={},tn=ei(As),hs=ei(As),ps=ei(As);function ci(e){if(e===As)throw Error(H(174));return e}function wf(e,t){switch(Ge(ps,t),Ge(hs,e),Ge(tn,As),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vu(t,e)}et(tn),Ge(tn,t)}function sa(){et(tn),et(hs),et(ps)}function Jp(e){ci(ps.current);var t=ci(tn.current),r=Vu(t,e.type);t!==r&&(Ge(hs,e),Ge(tn,r))}function If(e){hs.current===e&&(et(tn),et(hs))}var it=ei(0);function Fo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nu=[];function _f(){for(var e=0;e<nu.length;e++)nu[e]._workInProgressVersionPrimary=null;nu.length=0}var co=mn.ReactCurrentDispatcher,iu=mn.ReactCurrentBatchConfig,mi=0,at=null,vt=null,Tt=null,Vo=!1,Ga=!1,gs=0,lm=0;function Rt(){throw Error(H(321))}function Af(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!jr(e[r],t[r]))return!1;return!0}function Bf(e,t,r,n,i,a){if(mi=a,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,co.current=e===null||e.memoizedState===null?dm:hm,e=r(n,i),Ga){a=0;do{if(Ga=!1,gs=0,25<=a)throw Error(H(301));a+=1,Tt=vt=null,t.updateQueue=null,co.current=pm,e=r(n,i)}while(Ga)}if(co.current=jo,t=vt!==null&&vt.next!==null,mi=0,Tt=vt=at=null,Vo=!1,t)throw Error(H(300));return e}function kf(){var e=gs!==0;return gs=0,e}function Hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?at.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function Nr(){if(vt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=Tt===null?at.memoizedState:Tt.next;if(t!==null)Tt=t,vt=e;else{if(e===null)throw Error(H(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Tt===null?at.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function vs(e,t){return typeof t=="function"?t(e):t}function au(e){var t=Nr(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=vt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((mi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,at.lanes|=c,Ci|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,jr(n,t.memoizedState)||(Wt=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,at.lanes|=a,Ci|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function su(e){var t=Nr(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);jr(a,t.memoizedState)||(Wt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function eg(){}function tg(e,t){var r=at,n=Nr(),i=t(),a=!jr(n.memoizedState,i);if(a&&(n.memoizedState=i,Wt=!0),n=n.queue,bf(ig.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Tt!==null&&Tt.memoizedState.tag&1){if(r.flags|=2048,ys(9,ng.bind(null,r,n,i,t),void 0,null),It===null)throw Error(H(349));mi&30||rg(r,t,i)}return i}function rg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ng(e,t,r,n){t.value=r,t.getSnapshot=n,ag(t)&&sg(e)}function ig(e,t,r){return r(function(){ag(t)&&sg(e)})}function ag(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jr(e,r)}catch{return!0}}function sg(e){var t=vn(e,1);t!==null&&Vr(t,e,1,-1)}function ld(e){var t=Hr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=fm.bind(null,at,e),[t.memoizedState,e]}function ys(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function og(){return Nr().memoizedState}function fo(e,t,r,n){var i=Hr();at.flags|=e,i.memoizedState=ys(1|t,r,void 0,n===void 0?null:n)}function dl(e,t,r,n){var i=Nr();n=n===void 0?null:n;var a=void 0;if(vt!==null){var s=vt.memoizedState;if(a=s.destroy,n!==null&&Af(n,s.deps)){i.memoizedState=ys(t,r,a,n);return}}at.flags|=e,i.memoizedState=ys(1|t,r,a,n)}function ud(e,t){return fo(8390656,8,e,t)}function bf(e,t){return dl(2048,8,e,t)}function lg(e,t){return dl(4,2,e,t)}function ug(e,t){return dl(4,4,e,t)}function cg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fg(e,t,r){return r=r!=null?r.concat([e]):null,dl(4,4,cg.bind(null,t,e),r)}function Nf(){}function dg(e,t){var r=Nr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Af(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function hg(e,t){var r=Nr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Af(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function pg(e,t,r){return mi&21?(jr(r,t)||(r=yp(),at.lanes|=r,Ci|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=r)}function um(e,t){var r=Me;Me=r!==0&&4>r?r:4,e(!0);var n=iu.transition;iu.transition={};try{e(!1),t()}finally{Me=r,iu.transition=n}}function gg(){return Nr().memoizedState}function cm(e,t,r){var n=$n(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},vg(e))yg(t,r);else if(r=Gp(e,t,r,n),r!==null){var i=Ht();Vr(r,e,n,i),mg(r,t,n)}}function fm(e,t,r){var n=$n(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(vg(e))yg(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,jr(o,s)){var l=t.interleaved;l===null?(i.next=i,xf(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Gp(e,t,i,n),r!==null&&(i=Ht(),Vr(r,e,n,i),mg(r,t,n))}}function vg(e){var t=e.alternate;return e===at||t!==null&&t===at}function yg(e,t){Ga=Vo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function mg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,lf(e,r)}}var jo={readContext:br,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},dm={readContext:br,useCallback:function(e,t){return Hr().memoizedState=[e,t===void 0?null:t],e},useContext:br,useEffect:ud,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fo(4194308,4,cg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return fo(4,2,e,t)},useMemo:function(e,t){var r=Hr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Hr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=cm.bind(null,at,e),[n.memoizedState,e]},useRef:function(e){var t=Hr();return e={current:e},t.memoizedState=e},useState:ld,useDebugValue:Nf,useDeferredValue:function(e){return Hr().memoizedState=e},useTransition:function(){var e=ld(!1),t=e[0];return e=um.bind(null,e[1]),Hr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=at,i=Hr();if(rt){if(r===void 0)throw Error(H(407));r=r()}else{if(r=t(),It===null)throw Error(H(349));mi&30||rg(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,ud(ig.bind(null,n,a,e),[e]),n.flags|=2048,ys(9,ng.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Hr(),t=It.identifierPrefix;if(rt){var r=cn,n=un;r=(n&~(1<<32-Fr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=gs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=lm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hm={readContext:br,useCallback:dg,useContext:br,useEffect:bf,useImperativeHandle:fg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:hg,useReducer:au,useRef:og,useState:function(){return au(vs)},useDebugValue:Nf,useDeferredValue:function(e){var t=Nr();return pg(t,vt.memoizedState,e)},useTransition:function(){var e=au(vs)[0],t=Nr().memoizedState;return[e,t]},useMutableSource:eg,useSyncExternalStore:tg,useId:gg,unstable_isNewReconciler:!1},pm={readContext:br,useCallback:dg,useContext:br,useEffect:bf,useImperativeHandle:fg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:hg,useReducer:su,useRef:og,useState:function(){return su(vs)},useDebugValue:Nf,useDeferredValue:function(e){var t=Nr();return vt===null?t.memoizedState=e:pg(t,vt.memoizedState,e)},useTransition:function(){var e=su(vs)[0],t=Nr().memoizedState;return[e,t]},useMutableSource:eg,useSyncExternalStore:tg,useId:gg,unstable_isNewReconciler:!1};function oa(e,t){try{var r="",n=t;do r+=Kv(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function ou(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gm=typeof WeakMap=="function"?WeakMap:Map;function Cg(e,t,r){r=dn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zo||(zo=!0,Cc=n),uc(e,t)},r}function Eg(e,t,r){r=dn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){uc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){uc(e,t),typeof n!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function cd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gm;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=km.bind(null,e,t,r),t.then(e,e))}function fd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dd(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dn(-1,1),t.tag=2,zn(r,t,1))),r.lanes|=1),e)}var vm=mn.ReactCurrentOwner,Wt=!1;function jt(e,t,r,n){t.child=e===null?Zp(t,null,r,n):aa(t,e.child,r,n)}function hd(e,t,r,n,i){r=r.render;var a=t.ref;return ea(t,i),n=Bf(e,t,r,n,a,i),r=kf(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,yn(e,t,i)):(rt&&r&&vf(t),t.flags|=1,jt(e,t,n,i),t.child)}function pd(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Ff(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Sg(e,t,a,n,i)):(e=vo(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:us,r(s,n)&&e.ref===t.ref)return yn(e,t,i)}return t.flags|=1,e=qn(a,n),e.ref=t.ref,e.return=t,t.child=e}function Sg(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(us(a,n)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,yn(e,t,i)}return cc(e,t,r,n,i)}function xg(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(qi,ar),ar|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(qi,ar),ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ge(qi,ar),ar|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ge(qi,ar),ar|=n;return jt(e,t,i,r),t.child}function Tg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cc(e,t,r,n,i){var a=Zt(r)?vi:Mt.current;return a=na(t,a),ea(t,i),r=Bf(e,t,r,n,a,i),n=kf(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,yn(e,t,i)):(rt&&n&&vf(t),t.flags|=1,jt(e,t,r,i),t.child)}function gd(e,t,r,n,i){if(Zt(r)){var a=!0;Lo(t)}else a=!1;if(ea(t,i),t.stateNode===null)ho(e,t),Yp(t,r,n),lc(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=br(u):(u=Zt(r)?vi:Mt.current,u=na(t,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&sd(t,s,n,u),Bn=!1;var d=t.memoizedState;s.state=d,Mo(t,n,s,i),l=t.memoizedState,o!==n||d!==l||Xt.current||Bn?(typeof c=="function"&&(oc(t,r,c,n),l=t.memoizedState),(o=Bn||ad(t,r,o,n,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Qp(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Or(t.type,o),s.props=u,f=t.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=br(l):(l=Zt(r)?vi:Mt.current,l=na(t,l));var v=r.getDerivedStateFromProps;(c=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&sd(t,s,n,l),Bn=!1,d=t.memoizedState,s.state=d,Mo(t,n,s,i);var g=t.memoizedState;o!==f||d!==g||Xt.current||Bn?(typeof v=="function"&&(oc(t,r,v,n),g=t.memoizedState),(u=Bn||ad(t,r,u,n,d,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return fc(e,t,r,n,a,i)}function fc(e,t,r,n,i,a){Tg(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&ed(t,r,!1),yn(e,t,a);n=t.stateNode,vm.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=aa(t,e.child,null,a),t.child=aa(t,null,o,a)):jt(e,t,o,a),t.memoizedState=n.state,i&&ed(t,r,!0),t.child}function wg(e){var t=e.stateNode;t.pendingContext?J0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&J0(e,t.context,!1),wf(e,t.containerInfo)}function vd(e,t,r,n,i){return ia(),mf(i),t.flags|=256,jt(e,t,r,n),t.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function hc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ig(e,t,r){var n=t.pendingProps,i=it.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ge(it,i&1),e===null)return ac(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=gl(s,n,0,null),e=hi(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=hc(r),t.memoizedState=dc,e):Df(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return ym(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=qn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=qn(o,a):(a=hi(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?hc(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=dc,n}return a=e.child,e=a.sibling,n=qn(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Df(e,t){return t=gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qs(e,t,r,n){return n!==null&&mf(n),aa(t,e.child,null,r),e=Df(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ym(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=ou(Error(H(422))),qs(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=gl({mode:"visible",children:n.children},i,0,null),a=hi(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&aa(t,e.child,null,s),t.child.memoizedState=hc(s),t.memoizedState=dc,a);if(!(t.mode&1))return qs(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(H(419)),n=ou(a,n,void 0),qs(e,t,s,n)}if(o=(s&e.childLanes)!==0,Wt||o){if(n=It,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,vn(e,i),Vr(n,e,i,-1))}return Mf(),n=ou(Error(H(421))),qs(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=bm.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,lr=Kn(i.nextSibling),ur=t,rt=!0,Ur=null,e!==null&&(Sr[xr++]=un,Sr[xr++]=cn,Sr[xr++]=yi,un=e.id,cn=e.overflow,yi=t),t=Df(t,n.children),t.flags|=4096,t)}function yd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sc(e.return,t,r)}function lu(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function _g(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(jt(e,t,n.children,r),n=it.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yd(e,r,t);else if(e.tag===19)yd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ge(it,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Fo(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),lu(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Fo(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}lu(t,!0,r,null,a);break;case"together":lu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ci|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,r=qn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mm(e,t,r){switch(t.tag){case 3:wg(t),ia();break;case 5:Jp(t);break;case 1:Zt(t.type)&&Lo(t);break;case 4:wf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ge(Po,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ge(it,it.current&1),t.flags|=128,null):r&t.child.childLanes?Ig(e,t,r):(Ge(it,it.current&1),e=yn(e,t,r),e!==null?e.sibling:null);Ge(it,it.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return _g(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(it,it.current),n)break;return null;case 22:case 23:return t.lanes=0,xg(e,t,r)}return yn(e,t,r)}var Ag,pc,Bg,kg;Ag=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pc=function(){};Bg=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ci(tn.current);var a=null;switch(r){case"input":i=Pu(e,i),n=Pu(e,n),a=[];break;case"select":i=st({},i,{value:void 0}),n=st({},n,{value:void 0}),a=[];break;case"textarea":i=Fu(e,i),n=Fu(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=No)}ju(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rs.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xe("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};kg=function(e,t,r,n){r!==n&&(t.flags|=4)};function ka(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Cm(e,t,r){var n=t.pendingProps;switch(yf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return Zt(t.type)&&Do(),Ot(t),null;case 3:return n=t.stateNode,sa(),et(Xt),et(Mt),_f(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Hs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ur!==null&&(xc(Ur),Ur=null))),pc(e,t),Ot(t),null;case 5:If(t);var i=ci(ps.current);if(r=t.type,e!==null&&t.stateNode!=null)Bg(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(H(166));return Ot(t),null}if(e=ci(tn.current),Hs(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Qr]=t,n[ds]=a,e=(t.mode&1)!==0,r){case"dialog":Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":case"embed":Xe("load",n);break;case"video":case"audio":for(i=0;i<Ma.length;i++)Xe(Ma[i],n);break;case"source":Xe("error",n);break;case"img":case"image":case"link":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"input":_0(n,a),Xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Xe("invalid",n);break;case"textarea":B0(n,a),Xe("invalid",n)}ju(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&zs(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&zs(n.textContent,o,e),i=["children",""+o]):rs.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Xe("scroll",n)}switch(r){case"input":Os(n),A0(n,a,!0);break;case"textarea":Os(n),k0(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=No)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Qr]=t,e[ds]=n,Ag(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ku(r,n),r){case"dialog":Xe("cancel",e),Xe("close",e),i=n;break;case"iframe":case"object":case"embed":Xe("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ma.length;i++)Xe(Ma[i],e);i=n;break;case"source":Xe("error",e),i=n;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),i=n;break;case"details":Xe("toggle",e),i=n;break;case"input":_0(e,n),i=Pu(e,n),Xe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=st({},n,{value:void 0}),Xe("invalid",e);break;case"textarea":B0(e,n),i=Fu(e,n),Xe("invalid",e);break;default:i=n}ju(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?ap(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&np(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ns(e,l):typeof l=="number"&&ns(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(rs.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Xe("scroll",e):l!=null&&tf(e,a,l,s))}switch(r){case"input":Os(e),A0(e,n,!1);break;case"textarea":Os(e),k0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Wn(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Yi(e,!!n.multiple,a,!1):n.defaultValue!=null&&Yi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=No)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ot(t),null;case 6:if(e&&t.stateNode!=null)kg(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(H(166));if(r=ci(ps.current),ci(tn.current),Hs(t)){if(n=t.stateNode,r=t.memoizedProps,n[Qr]=t,(a=n.nodeValue!==r)&&(e=ur,e!==null))switch(e.tag){case 3:zs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zs(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qr]=t,t.stateNode=n}return Ot(t),null;case 13:if(et(it),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&lr!==null&&t.mode&1&&!(t.flags&128))qp(),ia(),t.flags|=98560,a=!1;else if(a=Hs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(H(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(H(317));a[Qr]=t}else ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ot(t),a=!1}else Ur!==null&&(xc(Ur),Ur=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?yt===0&&(yt=3):Mf())),t.updateQueue!==null&&(t.flags|=4),Ot(t),null);case 4:return sa(),pc(e,t),e===null&&cs(t.stateNode.containerInfo),Ot(t),null;case 10:return Sf(t.type._context),Ot(t),null;case 17:return Zt(t.type)&&Do(),Ot(t),null;case 19:if(et(it),a=t.memoizedState,a===null)return Ot(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)ka(a,!1);else{if(yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Fo(e),s!==null){for(t.flags|=128,ka(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ge(it,it.current&1|2),t.child}e=e.sibling}a.tail!==null&&dt()>la&&(t.flags|=128,n=!0,ka(a,!1),t.lanes=4194304)}else{if(!n)if(e=Fo(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ka(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!rt)return Ot(t),null}else 2*dt()-a.renderingStartTime>la&&r!==1073741824&&(t.flags|=128,n=!0,ka(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=dt(),t.sibling=null,r=it.current,Ge(it,n?r&1|2:r&1),t):(Ot(t),null);case 22:case 23:return Uf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ar&1073741824&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Em(e,t){switch(yf(t),t.tag){case 1:return Zt(t.type)&&Do(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(),et(Xt),et(Mt),_f(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return If(t),null;case 13:if(et(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return et(it),null;case 4:return sa(),null;case 10:return Sf(t.type._context),null;case 22:case 23:return Uf(),null;case 24:return null;default:return null}}var Gs=!1,Ut=!1,Sm=typeof WeakSet=="function"?WeakSet:Set,re=null;function $i(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){lt(e,t,n)}else r.current=null}function gc(e,t,r){try{r()}catch(n){lt(e,t,n)}}var md=!1;function xm(e,t){if(Zu=Bo,e=Lp(),gf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var v;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(v=f.firstChild)!==null;)d=f,f=v;for(;;){if(f===e)break t;if(d===r&&++u===i&&(o=s),d===a&&++c===n&&(l=s),(v=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=v}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ju={focusedElem:e,selectionRange:r},Bo=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var C=g.memoizedProps,I=g.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?C:Or(t.type,C),I);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(B){lt(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return g=md,md=!1,g}function Qa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&gc(t,r,a)}i=i.next}while(i!==n)}}function hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bg(e){var t=e.alternate;t!==null&&(e.alternate=null,bg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qr],delete t[ds],delete t[rc],delete t[im],delete t[am])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ng(e){return e.tag===5||e.tag===3||e.tag===4}function Cd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ng(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=No));else if(n!==4&&(e=e.child,e!==null))for(yc(e,t,r),e=e.sibling;e!==null;)yc(e,t,r),e=e.sibling}function mc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mc(e,t,r),e=e.sibling;e!==null;)mc(e,t,r),e=e.sibling}var Bt=null,Pr=!1;function xn(e,t,r){for(r=r.child;r!==null;)Dg(e,t,r),r=r.sibling}function Dg(e,t,r){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(al,r)}catch{}switch(r.tag){case 5:Ut||$i(r,t);case 6:var n=Bt,i=Pr;Bt=null,xn(e,t,r),Bt=n,Pr=i,Bt!==null&&(Pr?(e=Bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bt.removeChild(r.stateNode));break;case 18:Bt!==null&&(Pr?(e=Bt,r=r.stateNode,e.nodeType===8?tu(e.parentNode,r):e.nodeType===1&&tu(e,r),os(e)):tu(Bt,r.stateNode));break;case 4:n=Bt,i=Pr,Bt=r.stateNode.containerInfo,Pr=!0,xn(e,t,r),Bt=n,Pr=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&gc(r,t,s),i=i.next}while(i!==n)}xn(e,t,r);break;case 1:if(!Ut&&($i(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){lt(r,t,o)}xn(e,t,r);break;case 21:xn(e,t,r);break;case 22:r.mode&1?(Ut=(n=Ut)||r.memoizedState!==null,xn(e,t,r),Ut=n):xn(e,t,r);break;default:xn(e,t,r)}}function Ed(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Sm),t.forEach(function(n){var i=Nm.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Lr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Bt=o.stateNode,Pr=!1;break e;case 3:Bt=o.stateNode.containerInfo,Pr=!0;break e;case 4:Bt=o.stateNode.containerInfo,Pr=!0;break e}o=o.return}if(Bt===null)throw Error(H(160));Dg(a,s,i),Bt=null,Pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){lt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lg(t,e),t=t.sibling}function Lg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lr(t,e),zr(e),n&4){try{Qa(3,e,e.return),hl(3,e)}catch(C){lt(e,e.return,C)}try{Qa(5,e,e.return)}catch(C){lt(e,e.return,C)}}break;case 1:Lr(t,e),zr(e),n&512&&r!==null&&$i(r,r.return);break;case 5:if(Lr(t,e),zr(e),n&512&&r!==null&&$i(r,r.return),e.flags&32){var i=e.stateNode;try{ns(i,"")}catch(C){lt(e,e.return,C)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&ep(i,a),Ku(o,s);var u=Ku(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?ap(i,f):c==="dangerouslySetInnerHTML"?np(i,f):c==="children"?ns(i,f):tf(i,c,f,u)}switch(o){case"input":Uu(i,a);break;case"textarea":tp(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Yi(i,!!a.multiple,v,!1):d!==!!a.multiple&&(a.defaultValue!=null?Yi(i,!!a.multiple,a.defaultValue,!0):Yi(i,!!a.multiple,a.multiple?[]:"",!1))}i[ds]=a}catch(C){lt(e,e.return,C)}}break;case 6:if(Lr(t,e),zr(e),n&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(C){lt(e,e.return,C)}}break;case 3:if(Lr(t,e),zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{os(t.containerInfo)}catch(C){lt(e,e.return,C)}break;case 4:Lr(t,e),zr(e);break;case 13:Lr(t,e),zr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Of=dt())),n&4&&Ed(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Ut=(u=Ut)||c,Lr(t,e),Ut=u):Lr(t,e),zr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(re=e,c=e.child;c!==null;){for(f=re=c;re!==null;){switch(d=re,v=d.child,d.tag){case 0:case 11:case 14:case 15:Qa(4,d,d.return);break;case 1:$i(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(C){lt(n,r,C)}}break;case 5:$i(d,d.return);break;case 22:if(d.memoizedState!==null){xd(f);continue}}v!==null?(v.return=d,re=v):xd(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=ip("display",s))}catch(C){lt(e,e.return,C)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(C){lt(e,e.return,C)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lr(t,e),zr(e),n&4&&Ed(e);break;case 21:break;default:Lr(t,e),zr(e)}}function zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ng(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ns(i,""),n.flags&=-33);var a=Cd(e);mc(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=Cd(e);yc(e,o,s);break;default:throw Error(H(161))}}catch(l){lt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tm(e,t,r){re=e,Rg(e)}function Rg(e,t,r){for(var n=(e.mode&1)!==0;re!==null;){var i=re,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Gs;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ut;o=Gs;var u=Ut;if(Gs=s,(Ut=l)&&!u)for(re=i;re!==null;)s=re,l=s.child,s.tag===22&&s.memoizedState!==null?Td(i):l!==null?(l.return=s,re=l):Td(i);for(;a!==null;)re=a,Rg(a),a=a.sibling;re=i,Gs=o,Ut=u}Sd(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,re=a):Sd(e)}}function Sd(e){for(;re!==null;){var t=re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ut||hl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ut)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Or(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&id(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}id(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&os(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ut||t.flags&512&&vc(t)}catch(d){lt(t,t.return,d)}}if(t===e){re=null;break}if(r=t.sibling,r!==null){r.return=t.return,re=r;break}re=t.return}}function xd(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,re=r;break}re=t.return}}function Td(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hl(4,t)}catch(l){lt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){lt(t,i,l)}}var a=t.return;try{vc(t)}catch(l){lt(t,a,l)}break;case 5:var s=t.return;try{vc(t)}catch(l){lt(t,s,l)}}}catch(l){lt(t,t.return,l)}if(t===e){re=null;break}var o=t.sibling;if(o!==null){o.return=t.return,re=o;break}re=t.return}}var wm=Math.ceil,Ko=mn.ReactCurrentDispatcher,Lf=mn.ReactCurrentOwner,kr=mn.ReactCurrentBatchConfig,Ae=0,It=null,gt=null,Dt=0,ar=0,qi=ei(0),yt=0,ms=null,Ci=0,pl=0,Rf=0,Wa=null,Qt=null,Of=0,la=1/0,sn=null,zo=!1,Cc=null,Hn=null,Qs=!1,Ln=null,Ho=0,Ya=0,Ec=null,po=-1,go=0;function Ht(){return Ae&6?dt():po!==-1?po:po=dt()}function $n(e){return e.mode&1?Ae&2&&Dt!==0?Dt&-Dt:om.transition!==null?(go===0&&(go=yp()),go):(e=Me,e!==0||(e=window.event,e=e===void 0?16:wp(e.type)),e):1}function Vr(e,t,r,n){if(50<Ya)throw Ya=0,Ec=null,Error(H(185));ws(e,r,n),(!(Ae&2)||e!==It)&&(e===It&&(!(Ae&2)&&(pl|=r),yt===4&&Nn(e,Dt)),Jt(e,n),r===1&&Ae===0&&!(t.mode&1)&&(la=dt()+500,cl&&ti()))}function Jt(e,t){var r=e.callbackNode;oy(e,t);var n=Ao(e,e===It?Dt:0);if(n===0)r!==null&&D0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&D0(r),t===1)e.tag===0?sm(wd.bind(null,e)):zp(wd.bind(null,e)),rm(function(){!(Ae&6)&&ti()}),r=null;else{switch(mp(n)){case 1:r=of;break;case 4:r=gp;break;case 16:r=_o;break;case 536870912:r=vp;break;default:r=_o}r=Kg(r,Og.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Og(e,t){if(po=-1,go=0,Ae&6)throw Error(H(327));var r=e.callbackNode;if(ta()&&e.callbackNode!==r)return null;var n=Ao(e,e===It?Dt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$o(e,n);else{t=n;var i=Ae;Ae|=2;var a=Ug();(It!==e||Dt!==t)&&(sn=null,la=dt()+500,di(e,t));do try{Am();break}catch(o){Pg(e,o)}while(1);Ef(),Ko.current=a,Ae=i,gt!==null?t=0:(It=null,Dt=0,t=yt)}if(t!==0){if(t===2&&(i=Gu(e),i!==0&&(n=i,t=Sc(e,i))),t===1)throw r=ms,di(e,0),Nn(e,n),Jt(e,dt()),r;if(t===6)Nn(e,n);else{if(i=e.current.alternate,!(n&30)&&!Im(i)&&(t=$o(e,n),t===2&&(a=Gu(e),a!==0&&(n=a,t=Sc(e,a))),t===1))throw r=ms,di(e,0),Nn(e,n),Jt(e,dt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(H(345));case 2:ii(e,Qt,sn);break;case 3:if(Nn(e,n),(n&130023424)===n&&(t=Of+500-dt(),10<t)){if(Ao(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ht(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=tc(ii.bind(null,e,Qt,sn),t);break}ii(e,Qt,sn);break;case 4:if(Nn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Fr(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=dt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wm(n/1960))-n,10<n){e.timeoutHandle=tc(ii.bind(null,e,Qt,sn),n);break}ii(e,Qt,sn);break;case 5:ii(e,Qt,sn);break;default:throw Error(H(329))}}}return Jt(e,dt()),e.callbackNode===r?Og.bind(null,e):null}function Sc(e,t){var r=Wa;return e.current.memoizedState.isDehydrated&&(di(e,t).flags|=256),e=$o(e,t),e!==2&&(t=Qt,Qt=r,t!==null&&xc(t)),e}function xc(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function Im(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!jr(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nn(e,t){for(t&=~Rf,t&=~pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Fr(t),n=1<<r;e[r]=-1,t&=~n}}function wd(e){if(Ae&6)throw Error(H(327));ta();var t=Ao(e,0);if(!(t&1))return Jt(e,dt()),null;var r=$o(e,t);if(e.tag!==0&&r===2){var n=Gu(e);n!==0&&(t=n,r=Sc(e,n))}if(r===1)throw r=ms,di(e,0),Nn(e,t),Jt(e,dt()),r;if(r===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ii(e,Qt,sn),Jt(e,dt()),null}function Pf(e,t){var r=Ae;Ae|=1;try{return e(t)}finally{Ae=r,Ae===0&&(la=dt()+500,cl&&ti())}}function Ei(e){Ln!==null&&Ln.tag===0&&!(Ae&6)&&ta();var t=Ae;Ae|=1;var r=kr.transition,n=Me;try{if(kr.transition=null,Me=1,e)return e()}finally{Me=n,kr.transition=r,Ae=t,!(Ae&6)&&ti()}}function Uf(){ar=qi.current,et(qi)}function di(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,tm(r)),gt!==null)for(r=gt.return;r!==null;){var n=r;switch(yf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Do();break;case 3:sa(),et(Xt),et(Mt),_f();break;case 5:If(n);break;case 4:sa();break;case 13:et(it);break;case 19:et(it);break;case 10:Sf(n.type._context);break;case 22:case 23:Uf()}r=r.return}if(It=e,gt=e=qn(e.current,null),Dt=ar=t,yt=0,ms=null,Rf=pl=Ci=0,Qt=Wa=null,ui!==null){for(t=0;t<ui.length;t++)if(r=ui[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}ui=null}return e}function Pg(e,t){do{var r=gt;try{if(Ef(),co.current=jo,Vo){for(var n=at.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vo=!1}if(mi=0,Tt=vt=at=null,Ga=!1,gs=0,Lf.current=null,r===null||r.return===null){yt=1,ms=t,gt=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Dt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=fd(s);if(v!==null){v.flags&=-257,dd(v,s,o,a,t),v.mode&1&&cd(a,u,t),t=v,l=u;var g=t.updateQueue;if(g===null){var C=new Set;C.add(l),t.updateQueue=C}else g.add(l);break e}else{if(!(t&1)){cd(a,u,t),Mf();break e}l=Error(H(426))}}else if(rt&&o.mode&1){var I=fd(s);if(I!==null){!(I.flags&65536)&&(I.flags|=256),dd(I,s,o,a,t),mf(oa(l,o));break e}}a=l=oa(l,o),yt!==4&&(yt=2),Wa===null?Wa=[a]:Wa.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=Cg(a,l,t);nd(a,y);break e;case 1:o=l;var m=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Hn===null||!Hn.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var B=Eg(a,o,t);nd(a,B);break e}}a=a.return}while(a!==null)}Fg(r)}catch(L){t=L,gt===r&&r!==null&&(gt=r=r.return);continue}break}while(1)}function Ug(){var e=Ko.current;return Ko.current=jo,e===null?jo:e}function Mf(){(yt===0||yt===3||yt===2)&&(yt=4),It===null||!(Ci&268435455)&&!(pl&268435455)||Nn(It,Dt)}function $o(e,t){var r=Ae;Ae|=2;var n=Ug();(It!==e||Dt!==t)&&(sn=null,di(e,t));do try{_m();break}catch(i){Pg(e,i)}while(1);if(Ef(),Ae=r,Ko.current=n,gt!==null)throw Error(H(261));return It=null,Dt=0,yt}function _m(){for(;gt!==null;)Mg(gt)}function Am(){for(;gt!==null&&!Zv();)Mg(gt)}function Mg(e){var t=jg(e.alternate,e,ar);e.memoizedProps=e.pendingProps,t===null?Fg(e):gt=t,Lf.current=null}function Fg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Em(r,t),r!==null){r.flags&=32767,gt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,gt=null;return}}else if(r=Cm(r,t,ar),r!==null){gt=r;return}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);yt===0&&(yt=5)}function ii(e,t,r){var n=Me,i=kr.transition;try{kr.transition=null,Me=1,Bm(e,t,r,n)}finally{kr.transition=i,Me=n}return null}function Bm(e,t,r,n){do ta();while(Ln!==null);if(Ae&6)throw Error(H(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(ly(e,a),e===It&&(gt=It=null,Dt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qs||(Qs=!0,Kg(_o,function(){return ta(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=kr.transition,kr.transition=null;var s=Me;Me=1;var o=Ae;Ae|=4,Lf.current=null,xm(e,r),Lg(r,e),Qy(Ju),Bo=!!Zu,Ju=Zu=null,e.current=r,Tm(r),Jv(),Ae=o,Me=s,kr.transition=a}else e.current=r;if(Qs&&(Qs=!1,Ln=e,Ho=i),a=e.pendingLanes,a===0&&(Hn=null),ry(r.stateNode),Jt(e,dt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(zo)throw zo=!1,e=Cc,Cc=null,e;return Ho&1&&e.tag!==0&&ta(),a=e.pendingLanes,a&1?e===Ec?Ya++:(Ya=0,Ec=e):Ya=0,ti(),null}function ta(){if(Ln!==null){var e=mp(Ho),t=kr.transition,r=Me;try{if(kr.transition=null,Me=16>e?16:e,Ln===null)var n=!1;else{if(e=Ln,Ln=null,Ho=0,Ae&6)throw Error(H(331));var i=Ae;for(Ae|=4,re=e.current;re!==null;){var a=re,s=a.child;if(re.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(re=u;re!==null;){var c=re;switch(c.tag){case 0:case 11:case 15:Qa(8,c,a)}var f=c.child;if(f!==null)f.return=c,re=f;else for(;re!==null;){c=re;var d=c.sibling,v=c.return;if(bg(c),c===u){re=null;break}if(d!==null){d.return=v,re=d;break}re=v}}}var g=a.alternate;if(g!==null){var C=g.child;if(C!==null){g.child=null;do{var I=C.sibling;C.sibling=null,C=I}while(C!==null)}}re=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,re=s;else e:for(;re!==null;){if(a=re,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Qa(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,re=y;break e}re=a.return}}var m=e.current;for(re=m;re!==null;){s=re;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,re=S;else e:for(s=m;re!==null;){if(o=re,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:hl(9,o)}}catch(L){lt(o,o.return,L)}if(o===s){re=null;break e}var B=o.sibling;if(B!==null){B.return=o.return,re=B;break e}re=o.return}}if(Ae=i,ti(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(al,e)}catch{}n=!0}return n}finally{Me=r,kr.transition=t}}return!1}function Id(e,t,r){t=oa(r,t),t=Cg(e,t,1),e=zn(e,t,1),t=Ht(),e!==null&&(ws(e,1,t),Jt(e,t))}function lt(e,t,r){if(e.tag===3)Id(e,e,r);else for(;t!==null;){if(t.tag===3){Id(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hn===null||!Hn.has(n))){e=oa(r,e),e=Eg(t,e,1),t=zn(t,e,1),e=Ht(),t!==null&&(ws(t,1,e),Jt(t,e));break}}t=t.return}}function km(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ht(),e.pingedLanes|=e.suspendedLanes&r,It===e&&(Dt&r)===r&&(yt===4||yt===3&&(Dt&130023424)===Dt&&500>dt()-Of?di(e,0):Rf|=r),Jt(e,t)}function Vg(e,t){t===0&&(e.mode&1?(t=Ms,Ms<<=1,!(Ms&130023424)&&(Ms=4194304)):t=1);var r=Ht();e=vn(e,t),e!==null&&(ws(e,t,r),Jt(e,r))}function bm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Vg(e,r)}function Nm(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(t),Vg(e,r)}var jg;jg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Wt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wt=!1,mm(e,t,r);Wt=!!(e.flags&131072)}else Wt=!1,rt&&t.flags&1048576&&Hp(t,Oo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ho(e,t),e=t.pendingProps;var i=na(t,Mt.current);ea(t,r),i=Bf(null,t,n,e,i,r);var a=kf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zt(n)?(a=!0,Lo(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tf(t),i.updater=fl,t.stateNode=i,i._reactInternals=t,lc(t,n,e,r),t=fc(null,t,n,!0,a,r)):(t.tag=0,rt&&a&&vf(t),jt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ho(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Lm(n),e=Or(n,e),i){case 0:t=cc(null,t,n,e,r);break e;case 1:t=gd(null,t,n,e,r);break e;case 11:t=hd(null,t,n,e,r);break e;case 14:t=pd(null,t,n,Or(n.type,e),r);break e}throw Error(H(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Or(n,i),cc(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Or(n,i),gd(e,t,n,i,r);case 3:e:{if(wg(t),e===null)throw Error(H(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Qp(e,t),Mo(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=oa(Error(H(423)),t),t=vd(e,t,n,r,i);break e}else if(n!==i){i=oa(Error(H(424)),t),t=vd(e,t,n,r,i);break e}else for(lr=Kn(t.stateNode.containerInfo.firstChild),ur=t,rt=!0,Ur=null,r=Zp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ia(),n===i){t=yn(e,t,r);break e}jt(e,t,n,r)}t=t.child}return t;case 5:return Jp(t),e===null&&ac(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,ec(n,i)?s=null:a!==null&&ec(n,a)&&(t.flags|=32),Tg(e,t),jt(e,t,s,r),t.child;case 6:return e===null&&ac(t),null;case 13:return Ig(e,t,r);case 4:return wf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=aa(t,null,n,r):jt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Or(n,i),hd(e,t,n,i,r);case 7:return jt(e,t,t.pendingProps,r),t.child;case 8:return jt(e,t,t.pendingProps.children,r),t.child;case 12:return jt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ge(Po,n._currentValue),n._currentValue=s,a!==null)if(jr(a.value,s)){if(a.children===i.children&&!Xt.current){t=yn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=dn(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),sc(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(H(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),sc(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}jt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ea(t,r),i=br(i),n=n(i),t.flags|=1,jt(e,t,n,r),t.child;case 14:return n=t.type,i=Or(n,t.pendingProps),i=Or(n.type,i),pd(e,t,n,i,r);case 15:return Sg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Or(n,i),ho(e,t),t.tag=1,Zt(n)?(e=!0,Lo(t)):e=!1,ea(t,r),Yp(t,n,i),lc(t,n,i,r),fc(null,t,n,!0,e,r);case 19:return _g(e,t,r);case 22:return xg(e,t,r)}throw Error(H(156,t.tag))};function Kg(e,t){return pp(e,t)}function Dm(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(e,t,r,n){return new Dm(e,t,r,n)}function Ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lm(e){if(typeof e=="function")return Ff(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nf)return 11;if(e===af)return 14}return 2}function qn(e,t){var r=e.alternate;return r===null?(r=wr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function vo(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")Ff(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Pi:return hi(r.children,i,a,t);case rf:s=8,i|=8;break;case Du:return e=wr(12,r,t,i|2),e.elementType=Du,e.lanes=a,e;case Lu:return e=wr(13,r,t,i),e.elementType=Lu,e.lanes=a,e;case Ru:return e=wr(19,r,t,i),e.elementType=Ru,e.lanes=a,e;case Xh:return gl(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wh:s=10;break e;case Yh:s=9;break e;case nf:s=11;break e;case af:s=14;break e;case An:s=16,n=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=wr(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function hi(e,t,r,n){return e=wr(7,e,n,t),e.lanes=r,e}function gl(e,t,r,n){return e=wr(22,e,n,t),e.elementType=Xh,e.lanes=r,e.stateNode={isHidden:!1},e}function uu(e,t,r){return e=wr(6,e,null,t),e.lanes=r,e}function cu(e,t,r){return t=wr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rm(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vf(e,t,r,n,i,a,s,o,l){return e=new Rm(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=wr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tf(a),e}function Om(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zg(e){if(!e)return Yn;e=e._reactInternals;e:{if(wi(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var r=e.type;if(Zt(r))return Kp(e,r,t)}return t}function Hg(e,t,r,n,i,a,s,o,l){return e=Vf(r,n,!0,e,i,a,s,o,l),e.context=zg(null),r=e.current,n=Ht(),i=$n(r),a=dn(n,i),a.callback=t??null,zn(r,a,i),e.current.lanes=i,ws(e,i,n),Jt(e,n),e}function vl(e,t,r,n){var i=t.current,a=Ht(),s=$n(i);return r=zg(r),t.context===null?t.context=r:t.pendingContext=r,t=dn(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=zn(i,t,s),e!==null&&(Vr(e,i,s,a),uo(e,i,s)),s}function qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function jf(e,t){_d(e,t),(e=e.alternate)&&_d(e,t)}function Pm(){return null}var $g=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kf(e){this._internalRoot=e}yl.prototype.render=Kf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));vl(e,t,null,null)};yl.prototype.unmount=Kf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ei(function(){vl(null,e,null,null)}),t[gn]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bn.length&&t!==0&&t<bn[r].priority;r++);bn.splice(r,0,e),r===0&&Tp(e)}};function zf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ad(){}function Um(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=qo(s);a.call(u)}}var s=Hg(t,n,e,0,null,!1,!1,"",Ad);return e._reactRootContainer=s,e[gn]=s.current,cs(e.nodeType===8?e.parentNode:e),Ei(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=qo(l);o.call(u)}}var l=Vf(e,0,!1,null,null,!1,!1,"",Ad);return e._reactRootContainer=l,e[gn]=l.current,cs(e.nodeType===8?e.parentNode:e),Ei(function(){vl(t,l,r,n)}),l}function Cl(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=qo(s);o.call(l)}}vl(t,s,e,i)}else s=Um(r,t,e,i,n);return qo(s)}Cp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ua(t.pendingLanes);r!==0&&(lf(t,r|1),Jt(t,dt()),!(Ae&6)&&(la=dt()+500,ti()))}break;case 13:Ei(function(){var n=vn(e,1);if(n!==null){var i=Ht();Vr(n,e,1,i)}}),jf(e,1)}};uf=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var r=Ht();Vr(t,e,134217728,r)}jf(e,134217728)}};Ep=function(e){if(e.tag===13){var t=$n(e),r=vn(e,t);if(r!==null){var n=Ht();Vr(r,e,t,n)}jf(e,t)}};Sp=function(){return Me};xp=function(e,t){var r=Me;try{return Me=e,t()}finally{Me=r}};Hu=function(e,t,r){switch(t){case"input":if(Uu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=ul(n);if(!i)throw Error(H(90));Jh(n),Uu(n,i)}}}break;case"textarea":tp(e,r);break;case"select":t=r.value,t!=null&&Yi(e,!!r.multiple,t,!1)}};lp=Pf;up=Ei;var Mm={usingClientEntryPoint:!1,Events:[_s,Vi,ul,sp,op,Pf]},ba={findFiberByHostInstance:li,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Fm={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dp(e),e===null?null:e.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||Pm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ws.isDisabled&&Ws.supportsFiber)try{al=Ws.inject(Fm),en=Ws}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mm;fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zf(t))throw Error(H(200));return Om(e,t,null,r)};fr.createRoot=function(e,t){if(!zf(e))throw Error(H(299));var r=!1,n="",i=$g;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Vf(e,1,!1,null,null,r,!1,n,i),e[gn]=t.current,cs(e.nodeType===8?e.parentNode:e),new Kf(t)};fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=dp(t),e=e===null?null:e.stateNode,e};fr.flushSync=function(e){return Ei(e)};fr.hydrate=function(e,t,r){if(!ml(t))throw Error(H(200));return Cl(null,e,t,!0,r)};fr.hydrateRoot=function(e,t,r){if(!zf(e))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=$g;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=Hg(t,null,e,1,r??null,i,!1,a,s),e[gn]=t.current,cs(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new yl(t)};fr.render=function(e,t,r){if(!ml(t))throw Error(H(200));return Cl(null,e,t,!1,r)};fr.unmountComponentAtNode=function(e){if(!ml(e))throw Error(H(40));return e._reactRootContainer?(Ei(function(){Cl(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};fr.unstable_batchedUpdates=Pf;fr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ml(r))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Cl(e,t,r,!1,n)};fr.version="18.2.0-next-9e3b772b8-20220608";function qg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qg)}catch(e){console.error(e)}}qg(),Hh.exports=fr;var Vm=Hh.exports,Bd=Vm;bu.createRoot=Bd.createRoot,bu.hydrateRoot=Bd.hydrateRoot;/**
 * @license
 * Copyright (c) 2023, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Pt="w",mr="b",Et="p",Tc="n",yo="b",Fa="r",kn="q",St="k",fu="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",nr=-1,jm={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},fe={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},ve={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},du={b:[16,32,17,15],w:[-16,-32,-17,-15]},kd={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},Km=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],zm=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],Hm={p:1,n:2,b:4,r:8,q:16,k:32},$m="pnbrqkPNBRQK",bd=[Tc,yo,Fa,kn],qm=7,Gm=6,Qm=1,Wm=0,Ys={[St]:fe.KSIDE_CASTLE,[kn]:fe.QSIDE_CASTLE},Tn={w:[{square:ve.a1,flag:fe.QSIDE_CASTLE},{square:ve.h1,flag:fe.KSIDE_CASTLE}],b:[{square:ve.a8,flag:fe.QSIDE_CASTLE},{square:ve.h8,flag:fe.KSIDE_CASTLE}]},Ym={b:Qm,w:Gm},Xm=["1-0","0-1","1/2-1/2","*"];function pi(e){return e>>4}function Cs(e){return e&15}function Gg(e){return"0123456789".indexOf(e)!==-1}function ir(e){const t=Cs(e),r=pi(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(r,r+1)}function Na(e){return e===Pt?mr:Pt}function Zm(e){const t=e.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const r=parseInt(t[5],10);if(isNaN(r)||r<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const n=parseInt(t[4],10);if(isNaN(n)||n<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const i=t[0].split("/");if(i.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let s=0;s<i.length;s++){let o=0,l=!1;for(let u=0;u<i[s].length;u++)if(Gg(i[s][u])){if(l)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};o+=parseInt(i[s][u],10),l=!0}else{if(!/^[prnbqkPRNBQK]$/.test(i[s][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};o+=1,l=!1}if(o!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const a=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:s,regex:o}of a){if(!o.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${s} king`};if((t[0].match(o)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${s} kings`}}return{ok:!0}}function Jm(e,t){const r=e.from,n=e.to,i=e.piece;let a=0,s=0,o=0;for(let l=0,u=t.length;l<u;l++){const c=t[l].from,f=t[l].to,d=t[l].piece;i===d&&r!==c&&n===f&&(a++,pi(r)===pi(c)&&s++,Cs(r)===Cs(c)&&o++)}return a>0?s>0&&o>0?ir(r):o>0?ir(r).charAt(1):ir(r).charAt(0):""}function wn(e,t,r,n,i,a=void 0,s=fe.NORMAL){const o=pi(n);if(i===Et&&(o===qm||o===Wm))for(let l=0;l<bd.length;l++){const u=bd[l];e.push({color:t,from:r,to:n,piece:i,captured:a,promotion:u,flags:s|fe.PROMOTION})}else e.push({color:t,from:r,to:n,piece:i,captured:a,flags:s})}function Nd(e){let t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:Et:(t=t.toLowerCase(),t==="o"?St:t)}function hu(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class e2{constructor(t=fu){ft(this,"_board",new Array(128));ft(this,"_turn",Pt);ft(this,"_header",{});ft(this,"_kings",{w:nr,b:nr});ft(this,"_epSquare",-1);ft(this,"_halfMoves",0);ft(this,"_moveNumber",0);ft(this,"_history",[]);ft(this,"_comments",{});ft(this,"_castling",{w:0,b:0});this.load(t)}clear(t=!1){this._board=new Array(128),this._kings={w:nr,b:nr},this._turn=Pt,this._castling={w:0,b:0},this._epSquare=nr,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{},this._updateSetup(this.fen())}removeHeader(t){t in this._header&&delete this._header[t]}load(t,r=!1){let n=t.split(/\s+/);if(n.length>=2&&n.length<6){const l=["-","-","0","1"];t=n.concat(l.slice(-(6-n.length))).join(" ")}n=t.split(/\s+/);const{ok:i,error:a}=Zm(t);if(!i)throw new Error(a);const s=n[0];let o=0;this.clear(r);for(let l=0;l<s.length;l++){const u=s.charAt(l);if(u==="/")o+=8;else if(Gg(u))o+=parseInt(u,10);else{const c=u<"a"?Pt:mr;this.put({type:u.toLowerCase(),color:c},ir(o)),o++}}this._turn=n[1],n[2].indexOf("K")>-1&&(this._castling.w|=fe.KSIDE_CASTLE),n[2].indexOf("Q")>-1&&(this._castling.w|=fe.QSIDE_CASTLE),n[2].indexOf("k")>-1&&(this._castling.b|=fe.KSIDE_CASTLE),n[2].indexOf("q")>-1&&(this._castling.b|=fe.QSIDE_CASTLE),this._epSquare=n[3]==="-"?nr:ve[n[3]],this._halfMoves=parseInt(n[4],10),this._moveNumber=parseInt(n[5],10),this._updateSetup(this.fen())}fen(){var a,s;let t=0,r="";for(let o=ve.a8;o<=ve.h1;o++){if(this._board[o]){t>0&&(r+=t,t=0);const{color:l,type:u}=this._board[o];r+=l===Pt?u.toUpperCase():u.toLowerCase()}else t++;o+1&136&&(t>0&&(r+=t),o!==ve.h1&&(r+="/"),t=0,o+=8)}let n="";this._castling[Pt]&fe.KSIDE_CASTLE&&(n+="K"),this._castling[Pt]&fe.QSIDE_CASTLE&&(n+="Q"),this._castling[mr]&fe.KSIDE_CASTLE&&(n+="k"),this._castling[mr]&fe.QSIDE_CASTLE&&(n+="q"),n=n||"-";let i="-";if(this._epSquare!==nr){const o=this._epSquare+(this._turn===Pt?16:-16),l=[o+1,o-1];for(const u of l){if(u&136)continue;const c=this._turn;if(((a=this._board[u])==null?void 0:a.color)===c&&((s=this._board[u])==null?void 0:s.type)===Et){this._makeMove({color:c,from:u,to:this._epSquare,piece:Et,captured:Et,flags:fe.EP_CAPTURE});const f=!this._isKingAttacked(c);if(this._undoMove(),f){i=ir(this._epSquare);break}}}}return[r,this._turn,n,i,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(t){this._history.length>0||(t!==fu?(this._header.SetUp="1",this._header.FEN=t):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(fu)}get(t){return this._board[ve[t]]||!1}put({type:t,color:r},n){if($m.indexOf(t.toLowerCase())===-1||!(n in ve))return!1;const i=ve[n];return t==St&&!(this._kings[r]==nr||this._kings[r]==i)?!1:(this._board[i]={type:t,color:r},t===St&&(this._kings[r]=i),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0)}remove(t){const r=this.get(t);return delete this._board[ve[t]],r&&r.type===St&&(this._kings[r.color]=nr),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),r}_updateCastlingRights(){var n,i,a,s,o,l,u,c,f,d,v,g;const t=((n=this._board[ve.e1])==null?void 0:n.type)===St&&((i=this._board[ve.e1])==null?void 0:i.color)===Pt,r=((a=this._board[ve.e8])==null?void 0:a.type)===St&&((s=this._board[ve.e8])==null?void 0:s.color)===mr;(!t||((o=this._board[ve.a1])==null?void 0:o.type)!==Fa||((l=this._board[ve.a1])==null?void 0:l.color)!==Pt)&&(this._castling.w&=~fe.QSIDE_CASTLE),(!t||((u=this._board[ve.h1])==null?void 0:u.type)!==Fa||((c=this._board[ve.h1])==null?void 0:c.color)!==Pt)&&(this._castling.w&=~fe.KSIDE_CASTLE),(!r||((f=this._board[ve.a8])==null?void 0:f.type)!==Fa||((d=this._board[ve.a8])==null?void 0:d.color)!==mr)&&(this._castling.b&=~fe.QSIDE_CASTLE),(!r||((v=this._board[ve.h8])==null?void 0:v.type)!==Fa||((g=this._board[ve.h8])==null?void 0:g.color)!==mr)&&(this._castling.b&=~fe.KSIDE_CASTLE)}_updateEnPassantSquare(){var a,s;if(this._epSquare===nr)return;const t=this._epSquare+(this._turn===Pt?-16:16),r=this._epSquare+(this._turn===Pt?16:-16),n=[r+1,r-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||((a=this._board[r])==null?void 0:a.color)!==Na(this._turn)||((s=this._board[r])==null?void 0:s.type)!==Et){this._epSquare=nr;return}const i=o=>{var l,u;return!(o&136)&&((l=this._board[o])==null?void 0:l.color)===this._turn&&((u=this._board[o])==null?void 0:u.type)===Et};n.some(i)||(this._epSquare=nr)}_attacked(t,r){for(let n=ve.a8;n<=ve.h1;n++){if(n&136){n+=7;continue}if(this._board[n]===void 0||this._board[n].color!==t)continue;const i=this._board[n],a=n-r;if(a===0)continue;const s=a+119;if(Km[s]&Hm[i.type]){if(i.type===Et){if(a>0){if(i.color===Pt)return!0}else if(i.color===mr)return!0;continue}if(i.type==="n"||i.type==="k")return!0;const o=zm[s];let l=n+o,u=!1;for(;l!==r;){if(this._board[l]!=null){u=!0;break}l+=o}if(!u)return!0}}return!1}_isKingAttacked(t){const r=this._kings[t];return r===-1?!1:this._attacked(Na(t),r)}isAttacked(t,r){return this._attacked(r,ve[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},r=[];let n=0,i=0;for(let a=ve.a8;a<=ve.h1;a++){if(i=(i+1)%2,a&136){a+=7;continue}const s=this._board[a];s&&(t[s.type]=s.type in t?t[s.type]+1:1,s.type===yo&&r.push(i),n++)}if(n===2)return!0;if(n===3&&(t[yo]===1||t[Tc]===1))return!0;if(n===t[yo]+2){let a=0;const s=r.length;for(let o=0;o<s;o++)a+=r[o];if(a===0||a===s)return!0}return!1}isThreefoldRepetition(){const t=[],r={};let n=!1;for(;;){const i=this._undoMove();if(!i)break;t.push(i)}for(;;){const i=this.fen().split(" ").slice(0,4).join(" ");r[i]=i in r?r[i]+1:1,r[i]>=3&&(n=!0);const a=t.pop();if(a)this._makeMove(a);else break}return n}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:t=!1,square:r=void 0,piece:n=void 0}={}){const i=this._moves({square:r,piece:n});return t?i.map(a=>this._makePretty(a)):i.map(a=>this._moveToSan(a,i))}_moves({legal:t=!0,piece:r=void 0,square:n=void 0}={}){var v;const i=n?n.toLowerCase():void 0,a=r==null?void 0:r.toLowerCase(),s=[],o=this._turn,l=Na(o);let u=ve.a8,c=ve.h1,f=!1;if(i)if(i in ve)u=c=ve[i],f=!0;else return[];for(let g=u;g<=c;g++){if(g&136){g+=7;continue}if(!this._board[g]||this._board[g].color===l)continue;const{type:C}=this._board[g];let I;if(C===Et){if(a&&a!==C)continue;I=g+du[o][0],this._board[I]||(wn(s,o,g,I,Et),I=g+du[o][1],Ym[o]===pi(g)&&!this._board[I]&&wn(s,o,g,I,Et,void 0,fe.BIG_PAWN));for(let y=2;y<4;y++)I=g+du[o][y],!(I&136)&&(((v=this._board[I])==null?void 0:v.color)===l?wn(s,o,g,I,Et,this._board[I].type,fe.CAPTURE):I===this._epSquare&&wn(s,o,g,I,Et,Et,fe.EP_CAPTURE))}else{if(a&&a!==C)continue;for(let y=0,m=kd[C].length;y<m;y++){const S=kd[C][y];for(I=g;I+=S,!(I&136);){if(!this._board[I])wn(s,o,g,I,C);else{if(this._board[I].color===o)break;wn(s,o,g,I,C,this._board[I].type,fe.CAPTURE);break}if(C===Tc||C===St)break}}}}if((a===void 0||a===St)&&(!f||c===this._kings[o])){if(this._castling[o]&fe.KSIDE_CASTLE){const g=this._kings[o],C=g+2;!this._board[g+1]&&!this._board[C]&&!this._attacked(l,this._kings[o])&&!this._attacked(l,g+1)&&!this._attacked(l,C)&&wn(s,o,this._kings[o],C,St,void 0,fe.KSIDE_CASTLE)}if(this._castling[o]&fe.QSIDE_CASTLE){const g=this._kings[o],C=g-2;!this._board[g-1]&&!this._board[g-2]&&!this._board[g-3]&&!this._attacked(l,this._kings[o])&&!this._attacked(l,g-1)&&!this._attacked(l,C)&&wn(s,o,this._kings[o],C,St,void 0,fe.QSIDE_CASTLE)}}if(!t||this._kings[o]===-1)return s;const d=[];for(let g=0,C=s.length;g<C;g++)this._makeMove(s[g]),this._isKingAttacked(o)||d.push(s[g]),this._undoMove();return d}move(t,{strict:r=!1}={}){let n=null;if(typeof t=="string")n=this._moveFromSan(t,r);else if(typeof t=="object"){const a=this._moves();for(let s=0,o=a.length;s<o;s++)if(t.from===ir(a[s].from)&&t.to===ir(a[s].to)&&(!("promotion"in a[s])||t.promotion===a[s].promotion)){n=a[s];break}}if(!n)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);const i=this._makePretty(n);return this._makeMove(n),i}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(t){const r=this._turn,n=Na(r);if(this._push(t),this._board[t.to]=this._board[t.from],delete this._board[t.from],t.flags&fe.EP_CAPTURE&&(this._turn===mr?delete this._board[t.to-16]:delete this._board[t.to+16]),t.promotion&&(this._board[t.to]={type:t.promotion,color:r}),this._board[t.to].type===St){if(this._kings[r]=t.to,t.flags&fe.KSIDE_CASTLE){const i=t.to-1,a=t.to+1;this._board[i]=this._board[a],delete this._board[a]}else if(t.flags&fe.QSIDE_CASTLE){const i=t.to+1,a=t.to-2;this._board[i]=this._board[a],delete this._board[a]}this._castling[r]=0}if(this._castling[r]){for(let i=0,a=Tn[r].length;i<a;i++)if(t.from===Tn[r][i].square&&this._castling[r]&Tn[r][i].flag){this._castling[r]^=Tn[r][i].flag;break}}if(this._castling[n]){for(let i=0,a=Tn[n].length;i<a;i++)if(t.to===Tn[n][i].square&&this._castling[n]&Tn[n][i].flag){this._castling[n]^=Tn[n][i].flag;break}}t.flags&fe.BIG_PAWN?r===mr?this._epSquare=t.to-16:this._epSquare=t.to+16:this._epSquare=nr,t.piece===Et?this._halfMoves=0:t.flags&(fe.CAPTURE|fe.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,r===mr&&this._moveNumber++,this._turn=n}undo(){const t=this._undoMove();return t?this._makePretty(t):null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;const r=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber;const n=this._turn,i=Na(n);if(this._board[r.from]=this._board[r.to],this._board[r.from].type=r.piece,delete this._board[r.to],r.captured)if(r.flags&fe.EP_CAPTURE){let a;n===mr?a=r.to-16:a=r.to+16,this._board[a]={type:Et,color:i}}else this._board[r.to]={type:r.captured,color:i};if(r.flags&(fe.KSIDE_CASTLE|fe.QSIDE_CASTLE)){let a,s;r.flags&fe.KSIDE_CASTLE?(a=r.to+1,s=r.to-1):(a=r.to-2,s=r.to+1),this._board[a]=this._board[s],delete this._board[s]}return r}pgn({newline:t=`
`,maxWidth:r=0}={}){const n=[];let i=!1;for(const d in this._header)n.push("["+d+' "'+this._header[d]+'"]'+t),i=!0;i&&this._history.length&&n.push(t);const a=d=>{const v=this._comments[this.fen()];if(typeof v<"u"){const g=d.length>0?" ":"";d=`${d}${g}{${v}}`}return d},s=[];for(;this._history.length>0;)s.push(this._undoMove());const o=[];let l="";for(s.length===0&&o.push(a(""));s.length>0;){l=a(l);const d=s.pop();if(!d)break;if(!this._history.length&&d.color==="b"){const v=`${this._moveNumber}. ...`;l=l?`${l} ${v}`:v}else d.color==="w"&&(l.length&&o.push(l),l=this._moveNumber+".");l=l+" "+this._moveToSan(d,this._moves({legal:!0})),this._makeMove(d)}if(l.length&&o.push(a(l)),typeof this._header.Result<"u"&&o.push(this._header.Result),r===0)return n.join("")+o.join(" ");const u=function(){return n.length>0&&n[n.length-1]===" "?(n.pop(),!0):!1},c=function(d,v){for(const g of v.split(" "))if(g){if(d+g.length>r){for(;u();)d--;n.push(t),d=0}n.push(g),d+=g.length,n.push(" "),d++}return u()&&d--,d};let f=0;for(let d=0;d<o.length;d++){if(f+o[d].length>r&&o[d].includes("{")){f=c(f,o[d]);continue}f+o[d].length>r&&d!==0?(n[n.length-1]===" "&&n.pop(),n.push(t),f=0):d!==0&&(n.push(" "),f++),n.push(o[d]),f+=o[d].length}return n.join("")}header(...t){for(let r=0;r<t.length;r+=2)typeof t[r]=="string"&&typeof t[r+1]=="string"&&(this._header[t[r]]=t[r+1]);return this._header}loadPgn(t,{strict:r=!1,newlineChar:n=`\r?
`}={}){function i(S){return S.replace(/\\/g,"\\")}function a(S){const B={},L=S.split(new RegExp(i(n)));let R="",M="";for(let V=0;V<L.length;V++){const Q=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;R=L[V].replace(Q,"$1"),M=L[V].replace(Q,"$2"),R.trim().length>0&&(B[R]=M)}return B}t=t.trim();const o=new RegExp("^(\\[((?:"+i(n)+")|.)*\\])((?:\\s*"+i(n)+"){2}|(?:\\s*"+i(n)+")*$)").exec(t),l=o&&o.length>=2?o[1]:"";this.reset();const u=a(l);let c="";for(const S in u)S.toLowerCase()==="fen"&&(c=u[S]),this.header(S,u[S]);if(!r)c&&this.load(c,!0);else if(u.SetUp==="1"){if(!("FEN"in u))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(u.FEN,!0)}function f(S){return Array.from(S).map(function(B){return B.charCodeAt(0)<128?B.charCodeAt(0).toString(16):encodeURIComponent(B).replace(/%/g,"").toLowerCase()}).join("")}function d(S){return S.length==0?"":decodeURIComponent("%"+(S.match(/.{1,2}/g)||[]).join("%"))}const v=function(S){return S=S.replace(new RegExp(i(n),"g")," "),`{${f(S.slice(1,S.length-1))}}`},g=function(S){if(S.startsWith("{")&&S.endsWith("}"))return d(S.slice(1,S.length-1))};let C=t.replace(l,"").replace(new RegExp(`({[^}]*})+?|;([^${i(n)}]*)`,"g"),function(S,B,L){return B!==void 0?v(B):" "+v(`{${L.slice(1)}}`)}).replace(new RegExp(i(n),"g")," ");const I=/(\([^()]+\))+?/g;for(;I.test(C);)C=C.replace(I,"");C=C.replace(/\d+\.(\.\.)?/g,""),C=C.replace(/\.\.\./g,""),C=C.replace(/\$\d+/g,"");let y=C.trim().split(new RegExp(/\s+/));y=y.filter(S=>S!=="");let m="";for(let S=0;S<y.length;S++){const B=g(y[S]);if(B!==void 0){this._comments[this.fen()]=B;continue}const L=this._moveFromSan(y[S],r);if(L==null)if(Xm.indexOf(y[S])>-1)m=y[S];else throw new Error(`Invalid move in PGN: ${y[S]}`);else m="",this._makeMove(L)}m&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",m)}_moveToSan(t,r){let n="";if(t.flags&fe.KSIDE_CASTLE)n="O-O";else if(t.flags&fe.QSIDE_CASTLE)n="O-O-O";else{if(t.piece!==Et){const i=Jm(t,r);n+=t.piece.toUpperCase()+i}t.flags&(fe.CAPTURE|fe.EP_CAPTURE)&&(t.piece===Et&&(n+=ir(t.from)[0]),n+="x"),n+=ir(t.to),t.promotion&&(n+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(t,r=!1){const n=hu(t);let i=Nd(n),a=this._moves({legal:!0,piece:i});for(let d=0,v=a.length;d<v;d++)if(n===hu(this._moveToSan(a[d],a)))return a[d];if(r)return null;let s,o,l,u,c,f=!1;if(o=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),o?(s=o[1],l=o[2],u=o[3],c=o[4],l.length==1&&(f=!0)):(o=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),o&&(s=o[1],l=o[2],u=o[3],c=o[4],l.length==1&&(f=!0))),i=Nd(n),a=this._moves({legal:!0,piece:s||i}),!u)return null;for(let d=0,v=a.length;d<v;d++)if(l){if((!s||s.toLowerCase()==a[d].piece)&&ve[l]==a[d].from&&ve[u]==a[d].to&&(!c||c.toLowerCase()==a[d].promotion))return a[d];if(f){const g=ir(a[d].from);if((!s||s.toLowerCase()==a[d].piece)&&ve[u]==a[d].to&&(l==g[0]||l==g[1])&&(!c||c.toLowerCase()==a[d].promotion))return a[d]}}else if(n===hu(this._moveToSan(a[d],a)).replace("x",""))return a[d];return null}ascii(){let t=`   +------------------------+
`;for(let r=ve.a8;r<=ve.h1;r++){if(Cs(r)===0&&(t+=" "+"87654321"[pi(r)]+" |"),this._board[r]){const n=this._board[r].type,a=this._board[r].color===Pt?n.toUpperCase():n.toLowerCase();t+=" "+a+" "}else t+=" . ";r+1&136&&(t+=`|
`,r+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const r=this._moves({legal:!1});let n=0;const i=this._turn;for(let a=0,s=r.length;a<s;a++)this._makeMove(r[a]),this._isKingAttacked(i)||(t-1>0?n+=this.perft(t-1):n++),this._undoMove();return n}_makePretty(t){const{color:r,piece:n,from:i,to:a,flags:s,captured:o,promotion:l}=t;let u="";for(const v in fe)fe[v]&s&&(u+=jm[v]);const c=ir(i),f=ir(a),d={color:r,piece:n,from:c,to:f,san:this._moveToSan(t,this._moves({legal:!0})),flags:u,lan:c+f,before:this.fen(),after:""};return this._makeMove(t),d.after=this.fen(),this._undoMove(),o&&(d.captured=o),l&&(d.promotion=l,d.lan+=l),d}turn(){return this._turn}board(){const t=[];let r=[];for(let n=ve.a8;n<=ve.h1;n++)this._board[n]==null?r.push(null):r.push({square:ir(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(t.push(r),r=[],n+=8);return t}squareColor(t){if(t in ve){const r=ve[t];return(pi(r)+Cs(r))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const r=[],n=[];for(;this._history.length>0;)r.push(this._undoMove());for(;;){const i=r.pop();if(!i)break;t?n.push(this._makePretty(i)):n.push(this._moveToSan(i,this._moves())),this._makeMove(i)}return n}_pruneComments(){const t=[],r={},n=i=>{i in this._comments&&(r[i]=this._comments[i])};for(;this._history.length>0;)t.push(this._undoMove());for(n(this.fen());;){const i=t.pop();if(!i)break;this._makeMove(i),n(this.fen())}this._comments=r}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const r=this._comments[t];return delete this._comments[t],{fen:t,comment:r}})}setCastlingRights(t,r){for(const i of[St,kn])r[i]!==void 0&&(r[i]?this._castling[t]|=Ys[i]:this._castling[t]&=~Ys[i]);this._updateCastlingRights();const n=this.getCastlingRights(t);return(r[St]===void 0||r[St]===n[St])&&(r[kn]===void 0||r[kn]===n[kn])}getCastlingRights(t){return{[St]:(this._castling[t]&Ys[St])!==0,[kn]:(this._castling[t]&Ys[kn])!==0}}moveNumber(){return this._moveNumber}}const Qg=$.createContext({dragDropManager:void 0});function vr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Dd=typeof Symbol=="function"&&Symbol.observable||"@@observable",pu=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ld={INIT:"@@redux/INIT"+pu(),REPLACE:"@@redux/REPLACE"+pu(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+pu()}};function Wg(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(vr(0));if(typeof t=="function"&&r===void 0&&(r=t,t=void 0),r!==void 0){if(typeof r!="function")throw new Error(vr(1));return r(Wg)(e,t)}if(typeof e!="function")throw new Error(vr(2));var i=e,a=t,s=[],o=s,l=!1;function u(){o===s&&(o=s.slice())}function c(){if(l)throw new Error(vr(3));return a}function f(v){if(typeof v!="function")throw new Error(vr(4));if(l)throw new Error(vr(5));var g=!0;return u(),o.push(v),function(){if(g){if(l)throw new Error(vr(6));g=!1,u();var C=o.indexOf(v);o.splice(C,1),s=null}}}function d(v){if(!function(I){if(typeof I!="object"||I===null)return!1;for(var y=I;Object.getPrototypeOf(y)!==null;)y=Object.getPrototypeOf(y);return Object.getPrototypeOf(I)===y}(v))throw new Error(vr(7));if(v.type===void 0)throw new Error(vr(8));if(l)throw new Error(vr(9));try{l=!0,a=i(a,v)}finally{l=!1}for(var g=s=o,C=0;C<g.length;C++)(0,g[C])();return v}return d({type:Ld.INIT}),(n={dispatch:d,subscribe:f,getState:c,replaceReducer:function(v){if(typeof v!="function")throw new Error(vr(10));i=v,d({type:Ld.REPLACE})}})[Dd]=function(){var v,g=f;return(v={subscribe:function(C){if(typeof C!="object"||C===null)throw new Error(vr(11));function I(){C.next&&C.next(c())}return I(),{unsubscribe:g(I)}}})[Dd]=function(){return this},v},n}function de(e,t,...r){if(typeof process<"u"&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(t.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function Yg(e){return typeof e=="object"}const Hf="dnd-core/INIT_COORDS",$f="dnd-core/BEGIN_DRAG",Xg="dnd-core/PUBLISH_DRAG_SOURCE",El="dnd-core/HOVER",qf="dnd-core/DROP",Gf="dnd-core/END_DRAG";function Rd(e,t){return{type:Hf,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const t2={type:Hf,payload:{clientOffset:null,sourceClientOffset:null}};function r2(e){return function(t=[],r={publishSource:!0}){const{publishSource:n=!0,clientOffset:i,getSourceClientOffset:a}=r,s=e.getMonitor(),o=e.getRegistry();e.dispatch(Rd(i)),function(d,v,g){de(!v.isDragging(),"Cannot call beginDrag while dragging."),d.forEach(function(C){de(g.getSource(C),"Expected sourceIds to be registered.")})}(t,s,o);const l=function(d,v){let g=null;for(let C=d.length-1;C>=0;C--)if(v.canDragSource(d[C])){g=d[C];break}return g}(t,s);if(l==null)return void e.dispatch(t2);let u=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");(function(d){de(typeof d=="function","When clientOffset is provided, getSourceClientOffset must be a function.")})(a),u=a(l)}e.dispatch(Rd(i,u));const c=o.getSource(l).beginDrag(s,l);if(c==null)return;(function(d){de(Yg(d),"Item must be an object.")})(c),o.pinSource(l);const f=o.getSourceType(l);return{type:$f,payload:{itemType:f,item:c,sourceId:l,clientOffset:i||null,sourceClientOffset:u||null,isSourcePublic:!!n}}}}function n2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){n2(e,i,r[i])})}return e}function a2(e){return function(t={}){const r=e.getMonitor(),n=e.getRegistry();(function(a){de(a.isDragging(),"Cannot call drop while not dragging."),de(!a.didDrop(),"Cannot call drop twice during one drag operation.")})(r),function(a){const s=a.getTargetIds().filter(a.canDropOnTarget,a);return s.reverse(),s}(r).forEach((a,s)=>{const o=function(u,c,f,d){const v=f.getTarget(u);let g=v?v.drop(d,u):void 0;return function(C){de(C===void 0||Yg(C),"Drop result must either be an object or undefined.")}(g),g===void 0&&(g=c===0?{}:d.getDropResult()),g}(a,s,n,r),l={type:qf,payload:{dropResult:i2({},t,o)}};e.dispatch(l)})}}function s2(e){return function(){const t=e.getMonitor(),r=e.getRegistry();(function(i){de(i.isDragging(),"Cannot call endDrag while not dragging.")})(t);const n=t.getSourceId();return n!=null&&(r.getSource(n,!0).endDrag(t,n),r.unpinSource()),{type:Gf}}}function wc(e,t){return t===null?e===null:Array.isArray(e)?e.some(r=>r===t):e===t}function o2(e){return function(t,{clientOffset:r}={}){(function(s){de(Array.isArray(s),"Expected targetIds to be an array.")})(t);const n=t.slice(0),i=e.getMonitor(),a=e.getRegistry();return function(s,o,l){for(let u=s.length-1;u>=0;u--){const c=s[u];wc(o.getTargetType(c),l)||s.splice(u,1)}}(n,a,i.getItemType()),function(s,o,l){de(o.isDragging(),"Cannot call hover while not dragging."),de(!o.didDrop(),"Cannot call hover after drop.");for(let u=0;u<s.length;u++){const c=s[u];de(s.lastIndexOf(c)===u,"Expected targetIds to be unique in the passed array."),de(l.getTarget(c),"Expected targetIds to be registered.")}}(n,i,a),function(s,o,l){s.forEach(function(u){l.getTarget(u).hover(o,u)})}(n,i,a),{type:El,payload:{targetIds:n,clientOffset:r||null}}}}function l2(e){return function(){if(e.getMonitor().isDragging())return{type:Xg}}}class u2{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:r}=this.store,n=function(i){return{beginDrag:r2(i),publishDragSource:l2(i),hover:o2(i),drop:a2(i),endDrag:s2(i)}}(this);return Object.keys(n).reduce((i,a)=>{const s=n[a];var o;return i[a]=(o=s,(...l)=>{const u=o.apply(t,l);u!==void 0&&r(u)}),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}}function Od(e,t){return{x:e.x-t.x,y:e.y-t.y}}const Xa=[],Qf=[];Xa.__IS_NONE__=!0,Qf.__IS_ALL__=!0;class c2{subscribeToStateChange(t,r={}){const{handlerIds:n}=r;de(typeof t=="function","listener must be a function."),de(n===void 0||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;return this.store.subscribe(()=>{const a=this.store.getState(),s=a.stateId;try{s===i||s===i+1&&!function(l,u){return l!==Xa&&(l===Qf||u===void 0||(c=l,u.filter(f=>c.indexOf(f)>-1)).length>0);var c}(a.dirtyHandlerIds,n)||t()}finally{i=s}})}subscribeToOffsetChange(t){de(typeof t=="function","listener must be a function.");let r=this.store.getState().dragOffset;return this.store.subscribe(()=>{const n=this.store.getState().dragOffset;n!==r&&(r=n,t())})}canDragSource(t){if(!t)return!1;const r=this.registry.getSource(t);return de(r,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()&&r.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const r=this.registry.getTarget(t);return de(r,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop()?!1:wc(this.registry.getTargetType(t),this.getItemType())&&r.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const r=this.registry.getSource(t,!0);return de(r,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic()?!1:this.registry.getSourceType(t)===this.getItemType()&&r.isDragging(this,t)}isOverTarget(t,r={shallow:!1}){if(!t)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(t),a=this.getItemType();if(a&&!wc(i,a))return!1;const s=this.getTargetIds();if(!s.length)return!1;const o=s.indexOf(t);return n?o===s.length-1:o>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(t){const{clientOffset:r,initialClientOffset:n,initialSourceClientOffset:i}=t;return r&&n&&i?Od((s=i,{x:(a=r).x+s.x,y:a.y+s.y}),n):null;var a,s}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(t){const{clientOffset:r,initialClientOffset:n}=t;return r&&n?Od(r,n):null}(this.store.getState().dragOffset)}constructor(t,r){this.store=t,this.registry=r}}const Pd=typeof global<"u"?global:self,Ud=Pd.MutationObserver||Pd.WebKitMutationObserver;function Zg(e){return function(){const t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}const f2=typeof Ud=="function"?function(e){let t=1;const r=new Ud(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}:Zg;let d2=class{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,r){this.onError=t,this.release=r,this.task=null}};const Jg=new class{enqueueTask(e){const{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let r=0,n=e.length-this.index;r<n;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=f2(this.flush),this.requestErrorThrow=Zg(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}},h2=new class{create(e){const t=this.freeTasks,r=t.length?t.pop():new d2(this.onError,n=>t[t.length]=n);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}(Jg.registerPendingError),Wf="dnd-core/ADD_SOURCE",Yf="dnd-core/ADD_TARGET",Xf="dnd-core/REMOVE_SOURCE",Sl="dnd-core/REMOVE_TARGET";function Ic(e,t){t&&Array.isArray(e)?e.forEach(r=>Ic(r,!1)):de(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Tr;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Tr||(Tr={}));let p2=0;function g2(e){const t=(p2++).toString();switch(e){case Tr.SOURCE:return`S${t}`;case Tr.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Md(e){switch(e[0]){case"S":return Tr.SOURCE;case"T":return Tr.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Fd(e,t){const r=e.entries();let n=!1;do{const{done:i,value:[,a]}=r.next();if(a===t)return!0;n=!!i}while(!n);return!1}class v2{addSource(t,r){Ic(t),function(i){de(typeof i.canDrag=="function","Expected canDrag to be a function."),de(typeof i.beginDrag=="function","Expected beginDrag to be a function."),de(typeof i.endDrag=="function","Expected endDrag to be a function.")}(r);const n=this.addHandler(Tr.SOURCE,t,r);return this.store.dispatch(function(i){return{type:Wf,payload:{sourceId:i}}}(n)),n}addTarget(t,r){Ic(t,!0),function(i){de(typeof i.canDrop=="function","Expected canDrop to be a function."),de(typeof i.hover=="function","Expected hover to be a function."),de(typeof i.drop=="function","Expected beginDrag to be a function.")}(r);const n=this.addHandler(Tr.TARGET,t,r);return this.store.dispatch(function(i){return{type:Yf,payload:{targetId:i}}}(n)),n}containsHandler(t){return Fd(this.dragSources,t)||Fd(this.dropTargets,t)}getSource(t,r=!1){return de(this.isSourceId(t),"Expected a valid source ID."),r&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return de(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return de(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return de(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return Md(t)===Tr.SOURCE}isTargetId(t){return Md(t)===Tr.TARGET}removeSource(t){var r;de(this.getSource(t),"Expected an existing source."),this.store.dispatch(function(n){return{type:Xf,payload:{sourceId:n}}}(t)),r=()=>{this.dragSources.delete(t),this.types.delete(t)},Jg.enqueueTask(h2.create(r))}removeTarget(t){de(this.getTarget(t),"Expected an existing target."),this.store.dispatch(function(r){return{type:Sl,payload:{targetId:r}}}(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const r=this.getSource(t);de(r,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=r}unpinSource(){de(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,r,n){const i=g2(t);return this.types.set(i,r),t===Tr.SOURCE?this.dragSources.set(i,n):t===Tr.TARGET&&this.dropTargets.set(i,n),i}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const y2=(e,t)=>e===t;function m2(e=Xa,t){switch(t.type){case El:break;case Wf:case Yf:case Sl:case Xf:return Xa;default:return Qf}const{targetIds:r=[],prevTargetIds:n=[]}=t.payload,i=function(o,l){const u=new Map,c=d=>{u.set(d,u.has(d)?u.get(d)+1:1)};o.forEach(c),l.forEach(c);const f=[];return u.forEach((d,v)=>{d===1&&f.push(v)}),f}(r,n);if(!(i.length>0||!function(o,l,u=y2){if(o.length!==l.length)return!1;for(let c=0;c<o.length;++c)if(!u(o[c],l[c]))return!1;return!0}(r,n)))return Xa;const a=n[n.length-1],s=r[r.length-1];return a!==s&&(a&&i.push(a),s&&i.push(s)),i}function C2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Vd={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function E2(e=Vd,t){const{payload:r}=t;switch(t.type){case Hf:case $f:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case El:return n=e.clientOffset,i=r.clientOffset,!n&&!i||n&&i&&n.x===i.x&&n.y===i.y?e:function(a){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{},l=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(o).filter(function(u){return Object.getOwnPropertyDescriptor(o,u).enumerable}))),l.forEach(function(u){C2(a,u,o[u])})}return a}({},e,{clientOffset:r.clientOffset});case Gf:case qf:return Vd;default:return e}var n,i}function S2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){S2(e,i,r[i])})}return e}const x2={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function T2(e=x2,t){const{payload:r}=t;switch(t.type){case $f:return bi({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Xg:return bi({},e,{isSourcePublic:!0});case El:return bi({},e,{targetIds:r.targetIds});case Sl:return e.targetIds.indexOf(r.targetId)===-1?e:bi({},e,{targetIds:(n=e.targetIds,i=r.targetId,n.filter(a=>a!==i))});case qf:return bi({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Gf:return bi({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var n,i}function w2(e=0,t){switch(t.type){case Wf:case Yf:return e+1;case Xf:case Sl:return e-1;default:return e}}function I2(e=0){return e+1}function _2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){_2(e,i,r[i])})}return e}function B2(e={},t){return{dirtyHandlerIds:m2(e.dirtyHandlerIds,{type:t.type,payload:A2({},t.payload,{prevTargetIds:(r=e,n="dragOperation.targetIds",i=[],n.split(".").reduce((a,s)=>a&&a[s]?a[s]:i||null,r))})}),dragOffset:E2(e.dragOffset,t),refCount:w2(e.refCount,t),dragOperation:T2(e.dragOperation,t),stateId:I2(e.stateId)};var r,n,i}function k2(e,t=void 0,r={},n=!1){const i=function(l){const u=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Wg(B2,l&&u&&u({name:"dnd-core",instanceId:"dnd-core"}))}(n),a=new c2(i,new v2(i)),s=new u2(i,a),o=e(s,t,r);return s.receiveBackend(o),s}function b2(e,t){if(e==null)return{};var r,n,i=function(s,o){if(s==null)return{};var l,u,c={},f=Object.keys(s);for(u=0;u<f.length;u++)l=f[u],o.indexOf(l)>=0||(c[l]=s[l]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}let jd=0;const Xs=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var N2=$.memo(function(e){var{children:t}=e,r=b2(e,["children"]);const[n,i]=function(a){if("manager"in a)return[{dragDropManager:a.manager},!1];const s=function(l,u=Kd(),c,f){const d=u;return d[Xs]||(d[Xs]={dragDropManager:k2(l,u,c,f)}),d[Xs]}(a.backend,a.context,a.options,a.debugMode),o=!a.context;return[s,o]}(r);return $.useEffect(()=>{if(i){const a=Kd();return++jd,()=>{--jd==0&&(a[Xs]=null)}}},[]),D.jsx(Qg.Provider,{value:n,children:t})});function Kd(){return typeof global<"u"?global:window}var D2=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;i--!=0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;i--!=0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!=0;){var s=a[i];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r};const Si=typeof window<"u"?$.useLayoutEffect:$.useEffect;function e1(e,t,r){const[n,i]=$.useState(()=>t(e)),a=$.useCallback(()=>{const s=t(e);D2(n,s)||(i(s),r&&r())},[n,e,r]);return Si(a),[n,a]}function t1(e,t,r){return function(n,i,a){const[s,o]=e1(n,i,a);return Si(function(){const l=n.getHandlerId();if(l!=null)return n.subscribeToStateChange(o,{handlerIds:[l]})},[n,o]),s}(t,e||(()=>({})),()=>r.reconnect())}function r1(e,t){const r=[...t||[]];return t==null&&typeof e!="function"&&r.push(e),$.useMemo(()=>typeof e=="function"?e():e,r)}function L2(e){return $.useMemo(()=>e.hooks.dragSource(),[e])}function R2(e){return $.useMemo(()=>e.hooks.dragPreview(),[e])}let gu=!1,vu=!1;class O2{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){de(!gu,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return gu=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{gu=!1}}isDragging(){if(!this.sourceId)return!1;de(!vu,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return vu=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{vu=!1}}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,r){return this.internalMonitor.isOverTarget(t,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let yu=!1;class P2{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}canDrop(){if(!this.targetId)return!1;de(!yu,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return yu=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{yu=!1}}isOver(t){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function _c(e,t,r,n){let i=r?r.call(n,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;const o=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<a.length;l++){const u=a[l];if(!o(u))return!1;const c=e[u],f=t[u];if(i=r?r.call(n,c,f,u):void 0,i===!1||i===void 0&&c!==f)return!1}return!0}function Ac(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function U2(e){return(t=null,r=null)=>{if(!$.isValidElement(t)){const i=t;return e(i,r),i}const n=t;return function(i){if(typeof i.type=="string")return;const a=i.type.displayName||i.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${a} into a <div>, or turn it into a drag source or a drop target itself.`)}(n),function(i,a){const s=i.ref;return de(typeof s!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),$.cloneElement(i,s?{ref:o=>{zd(s,o),zd(a,o)}}:{ref:a})}(n,r?i=>e(i,r):e)}}function n1(e){const t={};return Object.keys(e).forEach(r=>{const n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{const i=U2(n);t[r]=()=>i}}),t}function zd(e,t){typeof e=="function"?e(t):e.current=t}class M2{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?t?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),r):(this.lastConnectedDragSource=t,r):r}reconnectDragPreview(t=!1){const r=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();n&&this.disconnectDragPreview(),this.handlerId&&(r?n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions)):this.lastConnectedDragPreview=r)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!_c(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!_c(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=n1({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Ac(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Ac(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class F2{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const r=this.dropTarget;this.handlerId&&(r?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions)):this.lastConnectedDropTarget=r)}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!_c(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=n1({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Ac(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function xi(){const{dragDropManager:e}=$.useContext(Qg);return de(e!=null,"Expected drag drop context"),e}class V2{beginDrag(){const t=this.spec,r=this.monitor;let n=null;return n=typeof t.item=="object"?t.item:typeof t.item=="function"?t.item(r):{},n??null}canDrag(){const t=this.spec,r=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag!="function"||t.canDrag(r)}isDragging(t,r){const n=this.spec,i=this.monitor,{isDragging:a}=n;return a?a(i):r===t.getSourceId()}endDrag(){const t=this.spec,r=this.monitor,n=this.connector,{end:i}=t;i&&i(r.getItem(),r),n.reconnect()}constructor(t,r,n){this.spec=t,this.monitor=r,this.connector=n}}function j2(e,t,r){const n=xi(),i=function(s,o,l){const u=$.useMemo(()=>new V2(s,o,l),[o,l]);return $.useEffect(()=>{u.spec=s},[s]),u}(e,t,r),a=function(s){return $.useMemo(()=>{const o=s.type;return de(o!=null,"spec.type must be defined"),o},[s])}(e);Si(function(){if(a!=null){const[s,o]=function(l,u,c){const f=c.getRegistry(),d=f.addSource(l,u);return[d,()=>f.removeSource(d)]}(a,i,n);return t.receiveHandlerId(s),r.receiveHandlerId(s),o}},[n,t,r,i,a])}function K2(e,t){const r=r1(e,t);de(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=function(){const a=xi();return $.useMemo(()=>new O2(a),[a])}(),i=function(a,s){const o=xi(),l=$.useMemo(()=>new M2(o.getBackend()),[o]);return Si(()=>(l.dragSourceOptions=a||null,l.reconnect(),()=>l.disconnectDragSource()),[l,a]),Si(()=>(l.dragPreviewOptions=s||null,l.reconnect(),()=>l.disconnectDragPreview()),[l,s]),l}(r.options,r.previewOptions);return j2(r,n,i),[t1(r.collect,n,i),L2(i),R2(i)]}function z2(e){return $.useMemo(()=>e.hooks.dropTarget(),[e])}class H2{canDrop(){const t=this.spec,r=this.monitor;return!t.canDrop||t.canDrop(r.getItem(),r)}hover(){const t=this.spec,r=this.monitor;t.hover&&t.hover(r.getItem(),r)}drop(){const t=this.spec,r=this.monitor;if(t.drop)return t.drop(r.getItem(),r)}constructor(t,r){this.spec=t,this.monitor=r}}function $2(e,t,r){const n=xi(),i=function(s,o){const l=$.useMemo(()=>new H2(s,o),[o]);return $.useEffect(()=>{l.spec=s},[s]),l}(e,t),a=function(s){const{accept:o}=s;return $.useMemo(()=>(de(s.accept!=null,"accept must be defined"),Array.isArray(o)?o:[o]),[o])}(e);Si(function(){const[s,o]=function(l,u,c){const f=c.getRegistry(),d=f.addTarget(l,u);return[d,()=>f.removeTarget(d)]}(a,i,n);return t.receiveHandlerId(s),r.receiveHandlerId(s),o},[n,t,i,r,a.map(s=>s.toString()).join("|")])}function q2(e,t){const r=r1(e,t),n=function(){const a=xi();return $.useMemo(()=>new P2(a),[a])}(),i=function(a){const s=xi(),o=$.useMemo(()=>new F2(s.getBackend()),[s]);return Si(()=>(o.dropTargetOptions=a||null,o.reconnect(),()=>o.disconnectDropTarget()),[a]),o}(r.options);return $2(r,n,i),[t1(r.collect,n,i),z2(i)]}function i1(e){let t=null;return()=>(t==null&&(t=e()),t)}class G2{enter(t){const r=this.entered.length;return this.entered=function(n,i){const a=new Set,s=l=>a.add(l);n.forEach(s),i.forEach(s);const o=[];return a.forEach(l=>o.push(l)),o}(this.entered.filter(n=>this.isNodeInDocument(n)&&(!n.contains||n.contains(t))),[t]),r===0&&this.entered.length>0}leave(t){const r=this.entered.length;var n,i;return this.entered=(n=this.entered.filter(this.isNodeInDocument),i=t,n.filter(a=>a!==i)),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class Q2{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null)})})}loadDataTransfer(t){if(t){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,r){return r===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const a1="__NATIVE_FILE__",s1="__NATIVE_URL__",o1="__NATIVE_TEXT__",l1="__NATIVE_HTML__";var Hd=Object.freeze({__proto__:null,FILE:a1,HTML:l1,TEXT:o1,URL:s1});function mu(e,t,r){const n=t.reduce((i,a)=>i||e.getData(a),"");return n??r}const Bc={[a1]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[l1]:{exposeProperties:{html:(e,t)=>mu(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[s1]:{exposeProperties:{urls:(e,t)=>mu(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[o1]:{exposeProperties:{text:(e,t)=>mu(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function Cu(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Bc).filter(r=>{const n=Bc[r];return!!(n!=null&&n.matchesTypes)&&n.matchesTypes.some(i=>t.indexOf(i)>-1)})[0]||null}const W2=i1(()=>/firefox/i.test(navigator.userAgent)),$d=i1(()=>!!window.safari);class qd{interpolate(t){const{xs:r,ys:n,c1s:i,c2s:a,c3s:s}=this;let o=r.length-1;if(t===r[o])return n[o];let l,u=0,c=s.length-1;for(;u<=c;){l=Math.floor(.5*(u+c));const v=r[l];if(v<t)u=l+1;else{if(!(v>t))return n[l];c=l-1}}o=Math.max(0,c);const f=t-r[o],d=f*f;return n[o]+i[o]*f+a[o]*d+s[o]*f*d}constructor(t,r){const{length:n}=t,i=[];for(let v=0;v<n;v++)i.push(v);i.sort((v,g)=>t[v]<t[g]?-1:1);const a=[],s=[];let o,l;for(let v=0;v<n-1;v++)o=t[v+1]-t[v],l=r[v+1]-r[v],a.push(o),s.push(l/o);const u=[s[0]];for(let v=0;v<a.length-1;v++){const g=s[v],C=s[v+1];if(g*C<=0)u.push(0);else{o=a[v];const I=a[v+1],y=o+I;u.push(3*y/((y+I)/g+(y+o)/C))}}u.push(s[s.length-1]);const c=[],f=[];let d;for(let v=0;v<u.length-1;v++){d=s[v];const g=u[v],C=1/a[v],I=g+u[v+1]-d-d;c.push((d-g-I)*C),f.push(I*C*C)}this.xs=t,this.ys=r,this.c1s=u,this.c2s=c,this.c3s=f}}const Y2=1;function u1(e){const t=e.nodeType===Y2?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function Zs(e){return{x:e.clientX,y:e.clientY}}function X2(e,t,r,n,i){const a=(s=t).nodeName==="IMG"&&(W2()||!(!((o=document.documentElement)===null||o===void 0)&&o.contains(s)));var s,o;const l=u1(a?e:t),u={x:r.x-l.x,y:r.y-l.y},{offsetWidth:c,offsetHeight:f}=e,{anchorX:d,anchorY:v}=n,{dragPreviewWidth:g,dragPreviewHeight:C}=function(S,B,L,R){let M=S?B.width:L,V=S?B.height:R;return $d()&&S&&(V/=window.devicePixelRatio,M/=window.devicePixelRatio),{dragPreviewWidth:M,dragPreviewHeight:V}}(a,t,c,f),{offsetX:I,offsetY:y}=i,m=y===0||y;return{x:I===0||I?I:new qd([0,.5,1],[u.x,u.x/c*g,u.x+g-c]).interpolate(d),y:m?y:(()=>{let S=new qd([0,.5,1],[u.y,u.y/f*C,u.y+C-f]).interpolate(v);return $d()&&a&&(S+=(window.devicePixelRatio-1)*C),S})()}}let Js;function Z2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Z2(e,i,r[i])})}return e}class J2{profile(){var t,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;var r;t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&((r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,r,n){this.sourceNodes.set(t,r),this.sourceNodeOptions.set(t,n);const i=s=>this.handleDragStart(s,t),a=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",a),r.setAttribute("draggable","false")}}connectDropTarget(t,r){const n=s=>this.handleDragEnter(s,t),i=s=>this.handleDragOver(s,t),a=s=>this.handleDrop(s,t);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",a),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",a)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(t);return Gd({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId();return Gd({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(t)||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(Hd).some(r=>Hd[r]===t)}beginDragNativeItem(t,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(n,i){const a=Bc[n];if(!a)throw new Error(`native type ${n} has no configuration`);const s=new Q2(a);return s.loadDataTransfer(i),s}(t,r),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t,this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var t;return this.currentDragSourceNode=null,this.rootElement&&((t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,r){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(t,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(t,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(t,r){this.dropTargetIds.unshift(r)}constructor(t,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const a=this.sourceNodes.get(i);return a&&u1(a)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:a}=this;this.dragStartSourceIds=null;const s=Zs(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:o}=i,l=Cu(o);if(this.monitor.isDragging()){if(o&&typeof o.setDragImage=="function"){const c=this.monitor.getSourceId(),f=this.sourceNodes.get(c),d=this.sourcePreviewNodes.get(c)||f;if(d){const{anchorX:v,anchorY:g,offsetX:C,offsetY:I}=this.getCurrentSourcePreviewNodeOptions(),y=X2(f,d,s,{anchorX:v,anchorY:g},{offsetX:C,offsetY:I});o.setDragImage(d,y.x,y.y)}}try{o==null||o.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(o&&!o.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{var a;if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()&&((a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)),!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:s}=i,o=Cu(s);o&&this.beginDragNativeItem(o,s)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:a}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=i.altKey,a.length>0&&this.actions.hover(a,{clientOffset:Zs(i)}),a.some(s=>this.monitor.canDropOnTarget(s))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=i=>{var a;this.dragOverTargetIds=[],this.isDraggingNativeItem()&&((a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer))},this.handleTopDragOver=i=>{const{dragOverTargetIds:a}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return i.preventDefault(),void(i.dataTransfer&&(i.dataTransfer.dropEffect="none"));this.altKeyPressed=i.altKey,this.lastClientOffset=Zs(i),this.scheduleHover(a),(a||[]).some(s=>this.monitor.canDropOnTarget(s))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{var a;this.dropTargetIds=[],this.isDraggingNativeItem()?(i.preventDefault(),(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)):Cu(i.dataTransfer)&&i.preventDefault(),this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:a}=this;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:Zs(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const a=i.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(i.preventDefault(),a.dragDrop()))},this.options=new class{get window(){return this.globalContext?this.globalContext:typeof window<"u"?window:void 0}get document(){var i;return!((i=this.globalContext)===null||i===void 0)&&i.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var i;return((i=this.optionsArgs)===null||i===void 0?void 0:i.rootElement)||this.window}constructor(i,a){this.ownerDocument=null,this.globalContext=i,this.optionsArgs=a}}(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new G2(this.isNodeInDocument)}}const eC=function(e,t,r){return new J2(e,t,r)};var Gn;(function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"})(Gn||(Gn={}));class tC{get delay(){var t;return(t=this.args.delay)!==null&&t!==void 0?t:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var t;return(t=this.args.ignoreContextMenu)!==null&&t!==void 0&&t}get enableHoverOutsideTarget(){var t;return(t=this.args.enableHoverOutsideTarget)!==null&&t!==void 0&&t}get enableKeyboardEvents(){var t;return(t=this.args.enableKeyboardEvents)!==null&&t!==void 0&&t}get enableMouseEvents(){var t;return(t=this.args.enableMouseEvents)!==null&&t!==void 0&&t}get enableTouchEvents(){var t;return(t=this.args.enableTouchEvents)===null||t===void 0||t}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var t,r,n,i;return(i=(n=(t=this.args)===null||t===void 0?void 0:t.delayTouchStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&i!==void 0?i:0}get delayMouseStart(){var t,r,n,i;return(i=(n=(t=this.args)===null||t===void 0?void 0:t.delayMouseStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&i!==void 0?i:0}get window(){return this.context&&this.context.window?this.context.window:typeof window<"u"?window:void 0}get document(){var t;return!((t=this.context)===null||t===void 0)&&t.document?this.context.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.args)===null||t===void 0?void 0:t.rootElement)||this.document}constructor(t,r){this.args=t,this.context=r}}const rC=1,nC=0;function Eu(e){return e.button===void 0||e.button===nC}function c1(e){return!!e.targetTouches}function Go(e,t){return c1(e)?function(r,n){return r.targetTouches.length===1?Go(r.targetTouches[0]):n&&r.touches.length===1&&r.touches[0].target===n.target?Go(r.touches[0]):void 0}(e,t):{x:e.clientX,y:e.clientY}}const Qd=(()=>{let e=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get:()=>(e=!0,!0)}))}catch{}return e})(),Da={[Gn.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Gn.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Gn.keyboard]:{keydown:"keydown"}};class Za{profile(){var t;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get document(){return this.options.document}setup(){const t=this.options.rootElement;t&&(de(!Za.isSetUp,"Cannot have two Touch backends at the same time."),Za.isSetUp=!0,this.addEventListener(t,"start",this.getTopMoveStartHandler()),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"move",this.handleTopMove),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(t,"keydown",this.handleCancelOnEscape,!0))}teardown(){const t=this.options.rootElement;t&&(Za.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"move",this.handleTopMove),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(t,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(t,r,n,i=!1){const a=Qd?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(s){const o=Da[s][r];o&&t.addEventListener(o,n,a)})}removeEventListener(t,r,n,i=!1){const a=Qd?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(s){const o=Da[s][r];o&&t.removeEventListener(o,n,a)})}connectDragSource(t,r){const n=this.handleMoveStart.bind(this,t);return this.sourceNodes.set(t,r),this.addEventListener(r,"start",n),()=>{this.sourceNodes.delete(t),this.removeEventListener(r,"start",n)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDropTarget(t,r){const n=this.options.rootElement;if(!this.document||!n)return()=>{};const i=a=>{if(!this.document||!n||!this.monitor.isDragging())return;let s;switch(a.type){case Da.mouse.move:s={x:a.clientX,y:a.clientY};break;case Da.touch.move:var o,l;s={x:((o=a.touches[0])===null||o===void 0?void 0:o.clientX)||0,y:((l=a.touches[0])===null||l===void 0?void 0:l.clientY)||0}}const u=s!=null?this.document.elementFromPoint(s.x,s.y):void 0,c=u&&r.contains(u);return u===r||c?this.handleMove(a,t):void 0};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(t,r),()=>{this.document&&(this.targetNodes.delete(t),this.removeEventListener(this.document.body,"move",i))}}getTopMoveStartHandler(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}installSourceNodeRemovalObserver(t){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=t,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{t&&!t.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),t&&t.parentElement&&this.draggedSourceNodeRemovalObserver.observe(t.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(t,r,n){this.getSourceClientOffset=i=>{const a=this.sourceNodes.get(i);return a&&function(s){const o=s.nodeType===1?s:s.parentElement;if(!o)return;const{top:l,left:u}=o.getBoundingClientRect();return{x:u,y:l}}(a)},this.handleTopMoveStartCapture=i=>{Eu(i)&&(this.moveStartSourceIds=[])},this.handleMoveStart=i=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(i)},this.handleTopMoveStart=i=>{if(!Eu(i))return;const a=Go(i);a&&(c1(i)&&(this.lastTargetTouchFallback=i.targetTouches[0]),this._mouseClientOffset=a),this.waitingForDelay=!1},this.handleTopMoveStartDelay=i=>{if(!Eu(i))return;const a=i.type===Da.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,i),a),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(i,a)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(a)},this.handleTopMove=i=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:a,dragOverTargetIds:s}=this,o=this.options.enableHoverOutsideTarget,l=Go(i,this.lastTargetTouchFallback);if(!l)return;if(this._isScrolling||!this.monitor.isDragging()&&function(m,S,B,L,R){if(!R)return!1;const M=180*Math.atan2(L-S,B-m)/Math.PI+180;for(let V=0;V<R.length;++V){const Q=R[V];if(Q&&(Q.start==null||M>=Q.start)&&(Q.end==null||M<=Q.end))return!0}return!1}(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y,this.options.scrollAngleRanges))return void(this._isScrolling=!0);var u,c,f,d;if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&a&&(u=this._mouseClientOffset.x||0,c=this._mouseClientOffset.y||0,f=l.x,d=l.y,Math.sqrt(Math.pow(Math.abs(f-u),2)+Math.pow(Math.abs(d-c),2))>(this.options.touchSlop?this.options.touchSlop:0))&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(a,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const v=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(v),this.actions.publishDragSource(),i.cancelable&&i.preventDefault();const g=(s||[]).map(m=>this.targetNodes.get(m)).filter(m=>!!m),C=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(l.x,l.y,g):this.document.elementsFromPoint(l.x,l.y),I=[];for(const m in C){if(!C.hasOwnProperty(m))continue;let S=C[m];for(S!=null&&I.push(S);S;)S=S.parentElement,S&&I.indexOf(S)===-1&&I.push(S)}const y=I.filter(m=>g.indexOf(m)>-1).map(m=>this._getDropTargetId(m)).filter(m=>!!m).filter((m,S,B)=>B.indexOf(m)===S);if(o)for(const m in this.targetNodes){const S=this.targetNodes.get(m);if(v&&S&&S.contains(v)&&y.indexOf(m)===-1){y.unshift(m);break}}y.reverse(),this.actions.hover(y,{clientOffset:l})},this._getDropTargetId=i=>{const a=this.targetNodes.keys();let s=a.next();for(;s.done===!1;){const o=s.value;if(i===this.targetNodes.get(o))return o;s=a.next()}},this.handleTopMoveEndCapture=i=>{this._isScrolling=!1,this.lastTargetTouchFallback=void 0,function(a){return a.buttons===void 0||(a.buttons&rC)==0}(i)&&(this.monitor.isDragging()&&!this.monitor.didDrop()?(i.cancelable&&i.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()):this.moveStartSourceIds=void 0)},this.handleCancelOnEscape=i=>{i.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new tC(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Gn.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Gn.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Gn.keyboard)}}const iC=function(e,t={},r={}){return new Za(e,t,r)},Es="abcdefgh".split(""),mo={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},aC={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},sC={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},oC=[7,6,5,4,3,2,1,0],lC=[0,1,2,3,4,5,6,7],Wd={wP:D.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:D.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:D.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:D.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[D.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),D.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),D.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),D.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),D.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),D.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),D.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:D.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:D.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[D.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),D.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),D.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),D.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:D.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:D.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[D.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[D.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),D.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),D.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),D.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:D.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:D.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[D.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),D.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),D.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),D.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),D.jsx("circle",{cx:"6",cy:"12",r:"2"}),D.jsx("circle",{cx:"14",cy:"9",r:"2"}),D.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),D.jsx("circle",{cx:"31",cy:"9",r:"2"}),D.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:D.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:D.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[D.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),D.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),D.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),D.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),D.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),D.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),D.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:D.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:D.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:D.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:D.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[D.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),D.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),D.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),D.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),D.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),D.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),D.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),D.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),D.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),D.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),D.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:D.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:D.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[D.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),D.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),D.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),D.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),D.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:D.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:D.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[D.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[D.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),D.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),D.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),D.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:D.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:D.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[D.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),D.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),D.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),D.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),D.jsx("circle",{cx:"6",cy:"12",r:"2"}),D.jsx("circle",{cx:"14",cy:"9",r:"2"}),D.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),D.jsx("circle",{cx:"31",cy:"9",r:"2"}),D.jsx("circle",{cx:"39",cy:"12",r:"2"}),D.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),D.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[D.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),D.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),D.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),D.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:D.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:D.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[D.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),D.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),D.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),D.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),D.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),D.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function kc(e,t,r){const n=t/8,i=e==="white"?oC:lC;return{x:(e==="white"?aC:sC)[r[0]]*n+n/2,y:i[parseInt(r[1],10)-1]*n+n/2}}function Yd(e){let t=!1;return Object.keys(mo).forEach(r=>{e[r]!==mo[r]&&(t=!0)}),Object.keys(e).forEach(r=>{mo[r]!==e[r]&&(t=!0)}),t}function Xd(e){return e==="start"?mo:typeof e=="string"?function(t){if(!function(a){a=a.replace(/ .+$/,""),a=function(o){return o.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}(a);const s=a.split("/");if(s.length!==8)return!1;for(let o=0;o<8;o++)if(s[o].length!==8||s[o].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}(t))return{};const r=(t=t.replace(/ .+$/,"")).split("/"),n={};let i=8;for(let a=0;a<8;a++){const s=r[a].split("");let o=0;for(let l=0;l<s.length;l++)s[l].search(/[1-8]/)!==-1?o+=parseInt(s[l],10):(n[Es[o]+i]=uC(s[l]),o+=1);i-=1}return n}(e):e}function uC(e){return e.toLowerCase()===e?"b"+e.toUpperCase():"w"+e.toUpperCase()}const f1=$.createContext({}),Cn=()=>$.useContext(f1),cC=$.forwardRef(({animationDuration:e=300,areArrowsAllowed:t=!0,arePiecesDraggable:r=!0,arePremovesAllowed:n=!1,boardOrientation:i="white",boardWidth:a,children:s,clearPremovesOnRightClick:o=!0,customArrows:l,customArrowColor:u="rgb(255,170,0)",customBoardStyle:c,customDarkSquareStyle:f={backgroundColor:"#B58863"},customDropSquareStyle:d={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:v={backgroundColor:"#F0D9B5"},customPieces:g,customPremoveDarkSquareStyle:C={backgroundColor:"#A42323"},customPremoveLightSquareStyle:I={backgroundColor:"#BD2828"},customSquare:y="div",customSquareStyles:m,dropOffBoardAction:S="snapback",id:B=0,isDraggablePiece:L=()=>!0,getPositionObject:R=()=>{},onArrowsChange:M=()=>{},onDragOverSquare:V=()=>{},onMouseOutSquare:Q=()=>{},onMouseOverSquare:G=()=>{},onPieceClick:ce=()=>{},onPieceDragBegin:pe=()=>{},onPieceDragEnd:De=()=>{},onPieceDrop:Ue=()=>!0,onPromotionCheck:Ce=(ke,be,Qe)=>(Qe==="wP"&&ke[1]==="7"&&be[1]==="8"||Qe==="bP"&&ke[1]==="2"&&be[1]==="1")&&Math.abs(ke.charCodeAt(0)-be.charCodeAt(0))<=1,onPromotionPieceSelect:Re,onSquareClick:te=()=>{},onSquareRightClick:W=()=>{},position:ae="start",promotionDialogVariant:ne="default",promotionToSquare:ee=null,showBoardNotation:ie=!0,showPromotionDialog:Oe=!1,snapToCursor:se=!0,autoPromoteToQueen:Fe=!1},Le)=>{const[ke,be]=$.useState(Xd(ae)),[Qe,ct]=$.useState({removed:{},added:{}}),[ot,je]=$.useState(void 0),[We,Ke]=$.useState(Oe&&!Fe),[ht,Ns]=$.useState(null),[Ea,Sa]=$.useState(ee),[Ds,Ai]=$.useState([]),tr=$.useRef(Ds),[Gt,En]=$.useState(),[Rl,Kr]=$.useState(Object.assign(Object.assign({},Wd),g)),[Ol,w]=$.useState(!1),[h,p]=$.useState(),[_,N]=$.useState(!1);$.useImperativeHandle(Le,()=>({clearPremoves(Ye=!0){Ne(Ye)}})),$.useEffect(()=>{Kr(Object.assign(Object.assign({},Wd),g))},[g]),$.useEffect(()=>{Ke(Oe),Sa(ee)},[ee,Oe]),$.useEffect(()=>{var Ye,mt,At;Pl();const hr=Xd(ae),Dr=function(gr,Sn){const xa={removed:{},added:{}};return Object.keys(gr).forEach(rr=>{Sn[rr]!==gr[rr]&&(xa.removed[rr]=gr[rr])}),Object.keys(Sn).forEach(rr=>{gr[rr]!==Sn[rr]&&(xa.added[rr]=Sn[rr])}),xa}(ke,hr),pr=((Ye=Object.keys(Dr.added))===null||Ye===void 0?void 0:Ye.length)<=2?(At=(mt=Object.entries(Dr.added))===null||mt===void 0?void 0:mt[0])===null||At===void 0?void 0:At[1][0]:void 0;if(_)be(hr),N(!1),n&&He(pr),h&&clearTimeout(h);else if(Ol)be(hr),N(!1),n&&He(pr);else{Yd(hr)&&ot!==void 0?je(pr):Yd(hr)?je(void 0):je("b"),ct(Dr),N(!0);const gr=setTimeout(()=>{be(hr),N(!1),n&&He(pr)},e);p(gr)}return w(!1),R(hr),ge(),()=>{clearTimeout(h)}},[ae]);const{arrows:P,newArrow:F,clearArrows:ge,drawNewArrow:tt,onArrowDrawEnd:ze}=((Ye,mt=!0,At,hr)=>{const[Dr,pr]=$.useState([]),[gr,Sn]=$.useState([]),[xa,rr]=$.useState();$.useEffect(()=>{Array.isArray(Ye)&&pr(Ye==null?void 0:Ye.filter(nn=>nn[0]!==nn[1]))},[Ye]),$.useEffect(()=>{At==null||At(gr)},[gr]);const m0=[...gr,...Dr];return{arrows:m0,newArrow:xa,clearArrows:function(){Sn([]),rr(void 0)},drawNewArrow:(nn,Bi)=>{mt&&rr([nn,Bi,hr])},setArrows:Sn,onArrowDrawEnd:(nn,Bi)=>{if(nn===Bi)return;let C0;const cv=[nn,Bi,hr];C0=m0.every(([Ul,Ml])=>!(Ul===nn&&Ml===Bi))?[...gr,cv]:gr.filter(([Ul,Ml])=>!(Ul===nn&&Ml===Bi)),rr(void 0),Sn(C0)}}})(l,t,M,u);function He(Ye){if(tr.current.length===0)return;const mt=tr.current[0];if(mt.piece[0]!==void 0&&mt.piece[0]!==Ye&&Ue.length)if(je(mt.piece[0]),w(!0),Ue(mt.sourceSq,mt.targetSq,mt.piece)){const At=[...tr.current];At.shift(),tr.current=At,Ai([...At])}else Ne()}function Ne(Ye=!0){Ye&&je(void 0),tr.current=[],Ai([])}function Pl(){Ns(null),Sa(null),Ke(!1)}const uv={animationDuration:e,arePiecesDraggable:r,arePremovesAllowed:n,boardOrientation:i,boardWidth:a,customArrowColor:u,customBoardStyle:c,customDarkSquareStyle:f,customDropSquareStyle:d,customLightSquareStyle:v,customPremoveDarkSquareStyle:C,customPremoveLightSquareStyle:I,customSquare:y,customSquareStyles:m,id:B,isDraggablePiece:L,onDragOverSquare:V,onMouseOutSquare:Q,onMouseOverSquare:G,onPieceClick:ce,onPieceDragBegin:pe,onPieceDragEnd:De,onPieceDrop:Ue,onPromotionCheck:Ce,onPromotionPieceSelect:Re,onSquareClick:te,showBoardNotation:ie,snapToCursor:se,promotionDialogVariant:ne,arrows:P,newArrow:F,onArrowDrawEnd:ze,chessPieces:Rl,clearArrows:ge,drawNewArrow:tt,clearCurrentRightClickDown:function(){En(void 0)},currentPosition:ke,handleSetPosition:function(Ye,mt,At,hr){if(Ye===mt)return;if(ge(),n&&_||n&&(ot===At[0]||tr.current.filter(pr=>pr.piece[0]===At[0]).length>0)){const pr=[...tr.current];return pr.push({sourceSq:Ye,targetSq:mt,piece:At}),tr.current=pr,Ai([...pr]),void Pl()}if(!n&&_)return;const Dr=Object.assign({},ke);w(!!hr),je(At[0]),Ue.length?Ue(Ye,mt,At)||Ne():(S!=="trash"||mt||delete Dr[Ye],delete Dr[Ye],Dr[mt]=At,be(Dr)),Pl(),R(Dr)},isWaitingForAnimation:_,lastPieceColour:ot,onRightClickDown:function(Ye){En(Ye)},onRightClickUp:function(Ye){if(Gt){if(Gt===Ye)return En(void 0),o&&Ne(!1),void W(Ye)}else En(void 0)},positionDifferences:Qe,promoteFromSquare:ht,promoteToSquare:Ea,premoves:Ds,setPromoteFromSquare:Ns,setPromoteToSquare:Sa,setShowPromoteDialog:Ke,showPromoteDialog:We,autoPromoteToQueen:Fe,currentRightClickDown:Gt};return D.jsx(f1.Provider,Object.assign({value:uv},{children:s}))});function fC({row:e,col:t}){const{boardOrientation:r,boardWidth:n,customDarkSquareStyle:i,customLightSquareStyle:a}=Cn(),s=a.backgroundColor,o=i.backgroundColor,l=t===0,u=e===7;function c(){return r==="white"?8-e:e+1}function f(){return r==="black"?Es[7-t]:Es[t]}return l&&u?D.jsxs(D.Fragment,{children:[D.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:s}),Jd(n))},{children:c()})),D.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:s}),Zd(n))},{children:f()}))]}):u?D.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:t%2!=0?o:s}),Zd(n))},{children:f()})):l?D.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:e%2==0?o:s}),Jd(n))},{children:c()})):null}const Zd=e=>({alignSelf:"flex-end",paddingLeft:e/8-e/48,fontSize:e/48}),Jd=e=>({alignSelf:"flex-start",paddingRight:e/8-e/48,fontSize:e/48});function eh({isPremovedPiece:e=!1,piece:t,square:r,squares:n}){const{animationDuration:i,arePiecesDraggable:a,arePremovesAllowed:s,boardWidth:o,boardOrientation:l,chessPieces:u,currentPosition:c,id:f,isDraggablePiece:d,isWaitingForAnimation:v,onPieceClick:g,onPieceDragBegin:C,onPieceDragEnd:I,positionDifferences:y,premoves:m}=Cn(),[S,B]=$.useState({opacity:1,zIndex:5,touchAction:"none",cursor:a&&d({piece:t,sourceSquare:r})?"-webkit-grab":"default"}),[{canDrag:L,isDragging:R},M,V]=K2(()=>({type:"piece",item:()=>(C(t,r),{piece:t,square:r,id:f}),end:()=>I(t,r),collect:Q=>({canDrag:d({piece:t,sourceSquare:r}),isDragging:!!Q.isDragging()})}),[t,r,c,f]);return V((Js||(Js=new Image,Js.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Js),{captureDraggingState:!0}),$.useEffect(()=>{B(Q=>Object.assign(Object.assign({},Q),{opacity:R?0:1}))},[R]),$.useEffect(()=>{if(!s)return;let Q=!1;!e&&m.find(G=>G.targetSq===r)&&(Q=!0),m.find(G=>G.sourceSq===r&&G.piece===t)&&(Q=!0),B(G=>Object.assign(Object.assign({},G),{display:Q?"none":"unset"}))},[c,m]),$.useEffect(()=>{var Q;const G=(Q=y.removed)===null||Q===void 0?void 0:Q[r];if(!y.added)return;const ce=Object.entries(y.added).find(([pe,De])=>De===G||(G==null?void 0:G[1])==="P"&&(pe[1]==="1"||pe[1]==="8"));if(v&&G&&ce&&!e){const pe=r,De=ce[0];if(pe&&De){const Ue=o/8;B(Ce=>Object.assign(Object.assign({},Ce),{transform:`translate(${(l==="black"?-1:1)*(De.charCodeAt(0)-pe.charCodeAt(0))*Ue}px, ${(l==="black"?-1:1)*(Number(pe[1])-Number(De[1]))*Ue}px)`,transition:`transform ${i}ms`,zIndex:6}))}}},[y]),$.useEffect(()=>{const{sourceSq:Q}={sourceSq:n[r]};Q&&B(G=>Object.assign(Object.assign({},G),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[c]),$.useEffect(()=>{B(Q=>Object.assign(Object.assign({},Q),{cursor:a&&d({piece:t,sourceSquare:r})?"-webkit-grab":"default"}))},[r,c,a]),D.jsx("div",Object.assign({ref:a&&L?M:null,onClick:()=>g(t),"data-piece":t,style:S},{children:typeof u[t]=="function"?u[t]({squareWidth:o/8,isDragging:R,square:r}):D.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:o/8,height:o/8},{children:D.jsx("g",{children:u[t]})}))}))}function dC({square:e,squareColor:t,setSquares:r,squareHasPremove:n,children:i}){const a=$.useRef(null),{autoPromoteToQueen:s,boardWidth:o,boardOrientation:l,clearArrows:u,currentPosition:c,currentRightClickDown:f,customBoardStyle:d,customDarkSquareStyle:v,customDropSquareStyle:g,customLightSquareStyle:C,customPremoveDarkSquareStyle:I,customPremoveLightSquareStyle:y,customSquare:m,customSquareStyles:S,drawNewArrow:B,handleSetPosition:L,isWaitingForAnimation:R,lastPieceColour:M,onArrowDrawEnd:V,onDragOverSquare:Q,onMouseOutSquare:G,onMouseOverSquare:ce,onPieceDrop:pe,onPromotionCheck:De,onRightClickDown:Ue,onRightClickUp:Ce,onSquareClick:Re,setPromoteFromSquare:te,setPromoteToSquare:W,setShowPromoteDialog:ae}=Cn(),[{isOver:ne},ee]=q2(()=>({accept:"piece",drop:ie,collect:se=>({isOver:!!se.isOver()})}),[e,c,pe,R,M]);function ie(se){De(se.square,e,se.piece)?s?L(se.square,e,se.piece[0]==="w"?"wQ":"bQ"):(te(se.square),W(e),ae(!0)):L(se.square,e,se.piece,!0)}$.useEffect(()=>{if(a.current){const{x:se,y:Fe}=a.current.getBoundingClientRect();r(Le=>Object.assign(Object.assign({},Le),{[e]:{x:se,y:Fe}}))}},[o,l]);const Oe=Object.assign(Object.assign(Object.assign(Object.assign({},hC(e,l,d)),t==="black"?v:C),n&&(t==="black"?I:y)),ne&&g);return D.jsx("div",Object.assign({ref:ee,style:Oe,"data-square-color":t,"data-square":e,onMouseOver:se=>{se.buttons===2&&f&&B(f,e),se.relatedTarget&&se.currentTarget.contains(se.relatedTarget)||ce(e)},onMouseOut:se=>{se.relatedTarget&&se.currentTarget.contains(se.relatedTarget)||G(e)},onMouseDown:se=>{se.button===2&&Ue(e)},onMouseUp:se=>{se.button===2&&(f&&V(f,e),Ce(e))},onDragEnter:()=>Q(e),onClick:()=>{Re(e),u()},onContextMenu:se=>{se.preventDefault()}},{children:D.jsx(m,typeof m=="string"?Object.assign({ref:a,style:Object.assign(Object.assign(Object.assign({},rh(o)),th),!n&&(S==null?void 0:S[e]))},{children:i}):Object.assign({ref:a,square:e,squareColor:t,style:Object.assign(Object.assign(Object.assign({},rh(o)),th),!n&&(S==null?void 0:S[e]))},{children:i}))}))}const th={display:"flex",justifyContent:"center"},rh=e=>({width:e/8,height:e/8}),hC=(e,t,r)=>r!=null&&r.borderRadius?e==="a1"?t==="white"?{borderBottomLeftRadius:r.borderRadius}:{borderTopRightRadius:r.borderRadius}:e==="a8"?t==="white"?{borderTopLeftRadius:r.borderRadius}:{borderBottomRightRadius:r.borderRadius}:e==="h1"?t==="white"?{borderBottomRightRadius:r.borderRadius}:{borderTopLeftRadius:r.borderRadius}:e==="h8"?t==="white"?{borderTopRightRadius:r.borderRadius}:{borderBottomLeftRadius:r.borderRadius}:{}:{};function pC(){const[e,t]=$.useState({}),{boardOrientation:r,boardWidth:n,currentPosition:i,id:a,premoves:s,showBoardNotation:o}=Cn();return D.jsx("div",Object.assign({"data-boardid":a},{children:[...Array(8)].map((l,u)=>D.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:n}},{children:[...Array(8)].map((c,f)=>{const d=r==="black"?Es[7-f]+(u+1):Es[f]+(8-u),v=f%2==u%2?"white":"black",g=s.find(I=>I.sourceSq===d||I.targetSq===d),C=s.find(I=>I.targetSq===d);return D.jsxs(dC,Object.assign({square:d,squareColor:v,setSquares:t,squareHasPremove:!!g},{children:[i[d]&&D.jsx(eh,{piece:i[d],square:d,squares:e}),C&&D.jsx(eh,{isPremovedPiece:!0,piece:C.piece,square:d,squares:e}),o&&D.jsx(fC,{row:u,col:f})]}),`${f}${u}`)})}),u.toString()))}))}const gC=()=>{const{arrows:e,newArrow:t,boardOrientation:r,boardWidth:n,customArrowColor:i}=Cn(),a=[...e,t].filter(Boolean);return D.jsx("svg",Object.assign({width:n,height:n,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:a.map((s,o)=>{const[l,u,c]=s;if(l===u)return null;const f=kc(r,n,l),d=kc(r,n,u);let v=n/32;const g=o===e.length;e.some(S=>S[0]!==l&&S[1]===u)&&!g&&(v=n/16);const C=d.x-f.x,I=d.y-f.y,y=Math.hypot(I,C),m={x:f.x+C*(y-v)/y,y:f.y+I*(y-v)/y};return D.jsxs($.Fragment,{children:[D.jsx("marker",Object.assign({id:`arrowhead-${o}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:D.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:c??i})})),D.jsx("line",{x1:f.x,y1:f.y,x2:m.x,y2:m.y,opacity:g?"0.5":"0.65",stroke:c??i,strokeWidth:g?.9*n/40:n/40,markerEnd:`url(#arrowhead-${o})`})]},`${l}-${u}${g?"-active":""}`)})}))};function vC({option:e}){const[t,r]=$.useState(!1),{boardWidth:n,chessPieces:i,customDarkSquareStyle:a,customLightSquareStyle:s,handleSetPosition:o,onPromotionPieceSelect:l,promoteFromSquare:u,promoteToSquare:c,promotionDialogVariant:f}=Cn(),d=()=>{switch(e[1]){case"Q":return a.backgroundColor;case"R":return s.backgroundColor;case"N":return f==="default"?s.backgroundColor:a.backgroundColor;case"B":return f==="default"?a.backgroundColor:s.backgroundColor}};return D.jsx("div",Object.assign({onClick:()=>{l!=null&&l.length?l(e):o(u,c,e,!0)},onMouseOver:()=>r(!0),onMouseOut:()=>r(!1),"data-piece":e,style:{cursor:"pointer",backgroundColor:t?d():`${d()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof i[e]=="function"?D.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:t?"scale(1)":"scale(0.85)"}},{children:i[e]({squareWidth:n/8,isDragging:!1})})):D.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:n/8,height:n/8,style:{transition:"all 0.1s ease-out",transform:t?"scale(1)":"scale(0.85)"}},{children:D.jsx("g",{children:i[e]})}))}))}function yC(){const{boardOrientation:e,boardWidth:t,promotionDialogVariant:r,promoteToSquare:n}=Cn(),i=(n==null?void 0:n[1])==="1"?"b":"w",a=[`${i??"w"}Q`,`${i??"w"}R`,`${i??"w"}N`,`${i??"w"}B`],s={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-t/8}px, ${-t/8}px)`},vertical:{transform:`translate(${-t/16}px, ${-t/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*t/8}px)`,width:"100%",height:t/4+"px",top:0,backgroundColor:"white",left:0}},o=kc(e,t,n||"a8");return D.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${o==null?void 0:o.y}px`,left:`${o==null?void 0:o.x}px`,zIndex:1e3},s[r]),title:"Choose promotion piece"},{children:a.map(l=>D.jsx(vC,{option:l},l))}))}const mC={whiteKing:D.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:D.jsx("g",{children:D.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function CC({children:e}){try{return D.jsx(D.Fragment,{children:e})}catch(t){return console.log(t),D.jsx(d1,{showError:!0})}}function d1({showError:e=!1}){return D.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[D.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:mC.whiteKing})),e&&D.jsx("h1",{children:"Something went wrong"})]}))}function EC(){const e=$.useRef(null),{boardWidth:t,clearCurrentRightClickDown:r,onPromotionPieceSelect:n,setShowPromoteDialog:i,showPromoteDialog:a,customBoardStyle:s}=Cn();return $.useEffect(()=>{function o(l){e.current&&!e.current.contains(l.target)&&r()}return document.addEventListener("mouseup",o),()=>{document.removeEventListener("mouseup",o)}},[]),t?D.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:D.jsxs("div",Object.assign({ref:e,style:Object.assign(Object.assign({position:"relative"},SC(t)),s)},{children:[D.jsx(pC,{}),D.jsx(gC,{}),a&&D.jsxs(D.Fragment,{children:[D.jsx("div",{onClick:()=>{i(!1),n==null||n()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:t,height:t}}),D.jsx(yC,{})]})]}))})):D.jsx(d1,{})}const SC=e=>({cursor:"default",height:e,width:e});function xC(){const{boardWidth:e,chessPieces:t,id:r,snapToCursor:n}=Cn(),i=function(c){const f=xi().getMonitor(),[d,v]=e1(f,c);return $.useEffect(()=>f.subscribeToOffsetChange(v)),$.useEffect(()=>f.subscribeToStateChange(v)),d}(c=>({item:c.getItem(),clientOffset:c.getClientOffset(),sourceClientOffset:c.getSourceClientOffset(),isDragging:c.isDragging()})),{isDragging:a,item:s,clientOffset:o,sourceClientOffset:l}=i,u=$.useCallback((c,f)=>{if(!c||!f)return{display:"none"};let{x:d,y:v}=n?c:f;if(n){const C=e/8/2;d-=C,v-=C}const g=`translate(${d}px, ${v}px)`;return{transform:g,WebkitTransform:g,touchAction:"none"}},[e,n]);return a&&s.id===r?D.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:D.jsx("div",Object.assign({style:u(o,l)},{children:typeof t[s.piece]=="function"?t[s.piece]({squareWidth:e/8,isDragging:!0}):D.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:e/8,height:e/8},{children:D.jsx("g",{children:t[s.piece]})}))}))})):null}const TC=$.forwardRef((e,t)=>{const{customDndBackend:r,customDndBackendOptions:n}=e,i=function(C,I){var y={};for(var m in C)Object.prototype.hasOwnProperty.call(C,m)&&I.indexOf(m)<0&&(y[m]=C[m]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var S=0;for(m=Object.getOwnPropertySymbols(C);S<m.length;S++)I.indexOf(m[S])<0&&Object.prototype.propertyIsEnumerable.call(C,m[S])&&(y[m[S]]=C[m[S]])}return y}(e,["customDndBackend","customDndBackendOptions"]),[a,s]=$.useState(),[o,l]=$.useState(!1),[u,c]=$.useState(!1),[f,d]=$.useState(e.boardWidth),v=$.useRef(null);$.useEffect(()=>{c("ontouchstart"in window),l(!0),s(window)},[]),$.useEffect(()=>{var C;if(e.boardWidth===void 0&&(!((C=v.current)===null||C===void 0)&&C.offsetWidth)){const I=new ResizeObserver(()=>{var y;d((y=v.current)===null||y===void 0?void 0:y.offsetWidth)});return I.observe(v.current),()=>{I.disconnect()}}},[v.current,a]);const g=r||(u?iC:eC);return o&&a?D.jsx(CC,{children:D.jsxs("div",Object.assign({style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[D.jsx("div",{ref:v,style:{width:"100%"}}),D.jsx(N2,Object.assign({backend:g,context:a,options:r?n:void 0},{children:f&&D.jsxs(cC,Object.assign({boardWidth:f},i,{ref:t},{children:[D.jsx(xC,{}),D.jsx(EC,{})]}))}))]}))}):null});var me={options:{usePureJavaScript:!1}},Zf={},wC=Zf,nh={};Zf.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=IC(e,t);else{var i=0,a=t.length,s=t.charAt(0),o=[0];for(i=0;i<e.length;++i){for(var l=0,u=e[i];l<o.length;++l)u+=o[l]<<8,o[l]=u%a,u=u/a|0;for(;u>0;)o.push(u%a),u=u/a|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=s;for(i=o.length-1;i>=0;--i)n+=t[o[i]]}if(r){var c=new RegExp(".{1,"+r+"}","g");n=n.match(c).join(`\r
`)}return n};Zf.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=nh[t];if(!r){r=nh[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,a=t.charAt(0),s=[0],n=0;n<e.length;n++){var o=r[e.charCodeAt(n)];if(o===void 0)return;for(var l=0,u=o;l<s.length;++l)u+=s[l]*i,s[l]=u&255,u>>=8;for(;u>0;)s.push(u&255),u>>=8}for(var c=0;e[c]===a&&c<e.length-1;++c)s.push(0);return typeof Buffer<"u"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function IC(e,t){var r=0,n=t.length,i=t.charAt(0),a=[0];for(r=0;r<e.length();++r){for(var s=0,o=e.at(r);s<a.length;++s)o+=a[s]<<8,a[s]=o%n,o=o/n|0;for(;o>0;)a.push(o%n),o=o/n|0}var l="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)l+=i;for(r=a.length-1;r>=0;--r)l+=t[a[r]];return l}var ih=me,ah=wC,b=ih.util=ih.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){b.nextTick=process.nextTick,typeof setImmediate=="function"?b.setImmediate=setImmediate:b.setImmediate=b.nextTick;return}if(typeof setImmediate=="function"){b.setImmediate=function(){return setImmediate.apply(void 0,arguments)},b.nextTick=function(o){return setImmediate(o)};return}if(b.setImmediate=function(o){setTimeout(o,0)},typeof window<"u"&&typeof window.postMessage=="function"){let o=function(l){if(l.source===window&&l.data===e){l.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(c){c()})}};var s=o,e="forge.setImmediate",t=[];b.setImmediate=function(l){t.push(l),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",o,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var l=t.slice();t.length=0,l.forEach(function(u){u()})}).observe(i,{attributes:!0});var a=b.setImmediate;b.setImmediate=function(l){Date.now()-r>15?(r=Date.now(),a(l)):(t.push(l),t.length===1&&i.setAttribute("a",n=!n))}}b.nextTick=b.setImmediate})();b.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;b.globalScope=function(){return b.isNodejs?hv:typeof self>"u"?window:self}();b.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};b.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};b.isArrayBufferView=function(e){return e&&b.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function Bs(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}b.ByteBuffer=Jf;function Jf(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(b.isArrayBuffer(e)||b.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof Jf||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}b.ByteStringBuffer=Jf;var _C=4096;b.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>_C&&(this.data.substr(0,1),this._constructedStringLength=0)};b.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};b.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};b.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};b.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};b.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};b.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(b.encodeUtf8(e))};b.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};b.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};b.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};b.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};b.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};b.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};b.ByteStringBuffer.prototype.putInt=function(e,t){Bs(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};b.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};b.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};b.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};b.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};b.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};b.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};b.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};b.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};b.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};b.ByteStringBuffer.prototype.getInt=function(e){Bs(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};b.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};b.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};b.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};b.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};b.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};b.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};b.ByteStringBuffer.prototype.copy=function(){var e=b.createBuffer(this.data);return e.read=this.read,e};b.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};b.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};b.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};b.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};b.ByteStringBuffer.prototype.toString=function(){return b.decodeUtf8(this.bytes())};function AC(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=b.isArrayBuffer(e),n=b.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}b.DataBuffer=AC;b.DataBuffer.prototype.length=function(){return this.write-this.read};b.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};b.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};b.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};b.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};b.DataBuffer.prototype.putBytes=function(e,t){if(b.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(b.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof b.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&b.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof b.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var a;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=b.binary.hex.decode(e,a,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=b.binary.base64.decode(e,a,this.write),this;if(t==="utf8"&&(e=b.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=b.binary.raw.decode(a),this;if(t==="utf16")return this.accommodate(e.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=b.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};b.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};b.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};b.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};b.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};b.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};b.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};b.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};b.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};b.DataBuffer.prototype.putInt=function(e,t){Bs(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};b.DataBuffer.prototype.putSignedInt=function(e,t){return Bs(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};b.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};b.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};b.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};b.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};b.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};b.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};b.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};b.DataBuffer.prototype.getInt=function(e){Bs(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};b.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};b.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};b.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};b.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};b.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};b.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};b.DataBuffer.prototype.copy=function(){return new b.DataBuffer(this)};b.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};b.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};b.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};b.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};b.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return b.binary.raw.encode(t);if(e==="hex")return b.binary.hex.encode(t);if(e==="base64")return b.binary.base64.encode(t);if(e==="utf8")return b.text.utf8.decode(t);if(e==="utf16")return b.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};b.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=b.encodeUtf8(e)),new b.ByteBuffer(e)};b.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};b.xorBytes=function(e,t,r){for(var n="",i="",a="",s=0,o=0;r>0;--r,++s)i=e.charCodeAt(s)^t.charCodeAt(s),o>=10&&(n+=a,a="",o=0),a+=String.fromCharCode(i),++o;return n+=a,n};b.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};b.bytesToHex=function(e){return b.createBuffer(e).toHex()};b.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var Rn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",On=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],h1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";b.encode64=function(e,t){for(var r="",n="",i,a,s,o=0;o<e.length;)i=e.charCodeAt(o++),a=e.charCodeAt(o++),s=e.charCodeAt(o++),r+=Rn.charAt(i>>2),r+=Rn.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=Rn.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":Rn.charAt(s&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};b.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,a,s=0;s<e.length;)r=On[e.charCodeAt(s++)-43],n=On[e.charCodeAt(s++)-43],i=On[e.charCodeAt(s++)-43],a=On[e.charCodeAt(s++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),a!==64&&(t+=String.fromCharCode((i&3)<<6|a)));return t};b.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};b.decodeUtf8=function(e){return decodeURIComponent(escape(e))};b.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:ah.encode,decode:ah.decode}};b.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};b.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n};b.binary.hex.encode=b.bytesToHex;b.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,a=r;for(e.length&1&&(i=1,n[a++]=parseInt(e[0],16));i<e.length;i+=2)n[a++]=parseInt(e.substr(i,2),16);return t?a-r:n};b.binary.base64.encode=function(e,t){for(var r="",n="",i,a,s,o=0;o<e.byteLength;)i=e[o++],a=e[o++],s=e[o++],r+=Rn.charAt(i>>2),r+=Rn.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=Rn.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":Rn.charAt(s&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};b.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,a,s,o,l=0,u=r;l<e.length;)i=On[e.charCodeAt(l++)-43],a=On[e.charCodeAt(l++)-43],s=On[e.charCodeAt(l++)-43],o=On[e.charCodeAt(l++)-43],n[u++]=i<<2|a>>4,s!==64&&(n[u++]=(a&15)<<4|s>>2,o!==64&&(n[u++]=(s&3)<<6|o));return t?u-r:n.subarray(0,u)};b.binary.base58.encode=function(e,t){return b.binary.baseN.encode(e,h1,t)};b.binary.base58.decode=function(e,t){return b.binary.baseN.decode(e,h1,t)};b.text={utf8:{},utf16:{}};b.text.utf8.encode=function(e,t,r){e=b.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n};b.text.utf8.decode=function(e){return b.decodeUtf8(String.fromCharCode.apply(null,e))};b.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var a=r,s=r,o=0;o<e.length;++o)i[s++]=e.charCodeAt(o),a+=2;return t?a-r:n};b.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};b.deflate=function(e,t,r){if(t=b.decode64(e.deflate(b.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};b.inflate=function(e,t,r){var n=e.inflate(b.encode64(t)).rval;return n===null?null:b.decode64(n)};var e0=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=b.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},t0=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(b.decode64(r))),r},BC=function(e,t,r,n){var i=t0(e,t);i===null&&(i={}),i[r]=n,e0(e,t,i)},kC=function(e,t,r){var n=t0(e,t);return n!==null&&(n=r in n?n[r]:null),n},bC=function(e,t,r){var n=t0(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),e0(e,t,n)}},NC=function(e,t){e0(e,t,null)},xl=function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,a=!1,s=null;for(var o in r){i=r[o];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),a=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),a=!0)}catch(l){s=l}if(a)break}if(!a)throw s;return n};b.setItem=function(e,t,r,n,i){xl(BC,arguments,i)};b.getItem=function(e,t,r,n){return xl(kC,arguments,n)};b.removeItem=function(e,t,r,n){xl(bC,arguments,n)};b.clearItems=function(e,t,r){xl(NC,arguments,r)};b.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};b.format=function(e){for(var t=/%./g,r,n,i=0,a=[],s=0;r=t.exec(e);){n=e.substring(s,t.lastIndex-2),n.length>0&&a.push(n),s=t.lastIndex;var o=r[0][1];switch(o){case"s":case"o":i<arguments.length?a.push(arguments[i+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+o+"?>")}}return a.push(e.substring(s)),a.join("")};b.formatNumber=function(e,t,r,n){var i=e,a=isNaN(t=Math.abs(t))?2:t,s=r===void 0?",":r,o=n===void 0?".":n,l=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",c=u.length>3?u.length%3:0;return l+(c?u.substr(0,c)+o:"")+u.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?s+Math.abs(i-u).toFixed(a).slice(2):"")};b.formatSize=function(e){return e>=1073741824?e=b.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=b.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=b.formatNumber(e/1024,0)+" KiB":e=b.formatNumber(e,0)+" bytes",e};b.bytesFromIP=function(e){return e.indexOf(".")!==-1?b.bytesFromIPv4(e):e.indexOf(":")!==-1?b.bytesFromIPv6(e):null};b.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=b.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};b.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(s){return s.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=b.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var a=b.hexToBytes(e[i]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};b.bytesToIP=function(e){return e.length===4?b.bytesToIPv4(e):e.length===16?b.bytesToIPv6(e):null};b.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};b.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var a=b.bytesToHex(e[i]+e[i+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var s=r[r.length-1],o=t.length;!s||o!==s.end+1?r.push({start:o,end:o}):(s.end=o,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(a)}if(r.length>0){var l=r[n];l.end-l.start>0&&(t.splice(l.start,l.end-l.start+1,""),l.start===0&&t.unshift(""),l.end===7&&t.push(""))}return t.join(":")};b.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in b&&!e.update)return t(null,b.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return b.cores=navigator.hardwareConcurrency,t(null,b.cores);if(typeof Worker>"u")return b.cores=1,t(null,b.cores);if(typeof Blob>"u")return b.cores=2,t(null,b.cores);var r=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(s){var o=Date.now(),l=o+4;self.postMessage({st:o,et:l})})}).toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(s,o,l){if(o===0){var u=Math.floor(s.reduce(function(c,f){return c+f},0)/s.length);return b.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,b.cores)}i(l,function(c,f){s.push(a(l,f)),n(s,o-1,l)})}function i(s,o){for(var l=[],u=[],c=0;c<s;++c){var f=new Worker(r);f.addEventListener("message",function(d){if(u.push(d.data),u.length===s){for(var v=0;v<s;++v)l[v].terminate();o(null,u)}}),l.push(f)}for(var c=0;c<s;++c)l[c].postMessage(c)}function a(s,o){for(var l=[],u=0;u<s;++u)for(var c=o[u],f=l[u]=[],d=0;d<s;++d)if(u!==d){var v=o[d];(c.st>v.st&&c.st<v.et||v.st>c.st&&v.st<c.et)&&f.push(d)}return l.reduce(function(g,C){return Math.max(g,C.length)},0)}};var _t=me;_t.cipher=_t.cipher||{};_t.cipher.algorithms=_t.cipher.algorithms||{};_t.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=_t.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new _t.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};_t.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=_t.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new _t.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};_t.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),_t.cipher.algorithms[e]=t};_t.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in _t.cipher.algorithms?_t.cipher.algorithms[e]:null};var r0=_t.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};r0.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=_t.util.createBuffer(),this.output=e.output||_t.util.createBuffer(),this.mode.start(t)};r0.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};r0.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))};var wt=me;wt.cipher=wt.cipher||{};var xe=wt.cipher.modes=wt.cipher.modes||{};xe.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};xe.ecb.prototype.start=function(e){};xe.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};xe.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};xe.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};xe.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};xe.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};xe.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Tl(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};xe.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};xe.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};xe.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};xe.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};xe.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=wt.util.createBuffer(),this._partialBytes=0};xe.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Tl(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};xe.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};xe.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};xe.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=wt.util.createBuffer(),this._partialBytes=0};xe.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Tl(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};xe.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};xe.ofb.prototype.decrypt=xe.ofb.prototype.encrypt;xe.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=wt.util.createBuffer(),this._partialBytes=0};xe.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Tl(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};xe.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}wl(this._inBlock)};xe.ctr.prototype.decrypt=xe.ctr.prototype.encrypt;xe.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=wt.util.createBuffer(),this._partialBytes=0,this._R=3774873600};xe.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=wt.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=wt.util.createBuffer(e.additionalData):r=wt.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=wt.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(bc(n*8)))}this._inBlock=this._j0.slice(0),wl(this._inBlock),this._partialBytes=0,r=wt.util.createBuffer(r),this._aDataLength=bc(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};xe.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),wl(this._inBlock)};xe.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),wl(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};xe.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=wt.util.createBuffer();var n=this._aDataLength.concat(bc(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^i[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};xe.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var a=e[i/32|0]&1<<31-i%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};xe.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};xe.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,a=this._m[r][i];t[0]^=a[0],t[1]^=a[1],t[2]^=a[2],t[3]^=a[3]}return t};xe.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};xe.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,a=new Array(i),s=0;s<i;++s){var o=[0,0,0,0],l=s/n|0,u=(n-1-s%n)*t;o[l]=1<<t-1<<u,a[s]=this.generateSubHashTable(this.multiply(o,e),t)}return a};xe.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var s=1;s<a;++s){var o=i[a],l=i[s];i[a+s]=[o[0]^l[0],o[1]^l[1],o[2]^l[2],o[3]^l[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var u=i[a^n];i[a]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function Tl(e,t){if(typeof e=="string"&&(e=wt.util.createBuffer(e)),wt.util.isArray(e)&&e.length>4){var r=e;e=wt.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!wt.util.isArray(e)){for(var i=[],a=t/4,n=0;n<a;++n)i.push(e.getInt32());e=i}return e}function wl(e){e[e.length-1]=e[e.length-1]+1&4294967295}function bc(e){return[e/4294967296|0,e&4294967295]}var qe=me;qe.aes=qe.aes||{};qe.aes.startEncrypting=function(e,t,r,n){var i=Il({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};qe.aes.createEncryptionCipher=function(e,t){return Il({key:e,output:null,decrypt:!1,mode:t})};qe.aes.startDecrypting=function(e,t,r,n){var i=Il({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};qe.aes.createDecryptionCipher=function(e,t){return Il({key:e,output:null,decrypt:!0,mode:t})};qe.aes.Algorithm=function(e,t){n0||g1();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return Dc(r._w,n,i,!1)},decrypt:function(n,i){return Dc(r._w,n,i,!0)}}}),r._init=!1};qe.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=qe.util.createBuffer(t);else if(qe.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=qe.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!qe.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!qe.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=v1(t,e.decrypt&&!s),this._init=!0}};qe.aes._expandKey=function(e,t){return n0||g1(),v1(e,t)};qe.aes._updateBlock=Dc;va("AES-ECB",qe.cipher.modes.ecb);va("AES-CBC",qe.cipher.modes.cbc);va("AES-CFB",qe.cipher.modes.cfb);va("AES-OFB",qe.cipher.modes.ofb);va("AES-CTR",qe.cipher.modes.ctr);va("AES-GCM",qe.cipher.modes.gcm);function va(e,t){var r=function(){return new qe.aes.Algorithm(e,t)};qe.cipher.registerAlgorithm(e,r)}var n0=!1,Ni=4,Ft,Nc,p1,fi,Mr;function g1(){n0=!0,p1=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Ft=new Array(256),Nc=new Array(256),fi=new Array(4),Mr=new Array(4);for(var t=0;t<4;++t)fi[t]=new Array(256),Mr[t]=new Array(256);for(var r=0,n=0,i,a,s,o,l,u,c,t=0;t<256;++t){o=n^n<<1^n<<2^n<<3^n<<4,o=o>>8^o&255^99,Ft[r]=o,Nc[o]=r,l=e[o],i=e[r],a=e[i],s=e[a],u=l<<24^o<<16^o<<8^(o^l),c=(i^a^s)<<24^(r^s)<<16^(r^a^s)<<8^(r^i^s);for(var f=0;f<4;++f)fi[f][r]=u,Mr[f][o]=c,u=u<<24|u>>>8,c=c<<24|c>>>8;r===0?r=n=1:(r=i^e[e[e[i^s]]],n^=e[e[n]])}}function v1(e,t){for(var r=e.slice(0),n,i=1,a=r.length,s=a+6+1,o=Ni*s,l=a;l<o;++l)n=r[l-1],l%a===0?(n=Ft[n>>>16&255]<<24^Ft[n>>>8&255]<<16^Ft[n&255]<<8^Ft[n>>>24]^p1[i]<<24,i++):a>6&&l%a===4&&(n=Ft[n>>>24]<<24^Ft[n>>>16&255]<<16^Ft[n>>>8&255]<<8^Ft[n&255]),r[l]=r[l-a]^n;if(t){var u,c=Mr[0],f=Mr[1],d=Mr[2],v=Mr[3],g=r.slice(0);o=r.length;for(var l=0,C=o-Ni;l<o;l+=Ni,C-=Ni)if(l===0||l===o-Ni)g[l]=r[C],g[l+1]=r[C+3],g[l+2]=r[C+2],g[l+3]=r[C+1];else for(var I=0;I<Ni;++I)u=r[C+I],g[l+(3&-I)]=c[Ft[u>>>24]]^f[Ft[u>>>16&255]]^d[Ft[u>>>8&255]]^v[Ft[u&255]];r=g}return r}function Dc(e,t,r,n){var i=e.length/4-1,a,s,o,l,u;n?(a=Mr[0],s=Mr[1],o=Mr[2],l=Mr[3],u=Nc):(a=fi[0],s=fi[1],o=fi[2],l=fi[3],u=Ft);var c,f,d,v,g,C,I;c=t[0]^e[0],f=t[n?3:1]^e[1],d=t[2]^e[2],v=t[n?1:3]^e[3];for(var y=3,m=1;m<i;++m)g=a[c>>>24]^s[f>>>16&255]^o[d>>>8&255]^l[v&255]^e[++y],C=a[f>>>24]^s[d>>>16&255]^o[v>>>8&255]^l[c&255]^e[++y],I=a[d>>>24]^s[v>>>16&255]^o[c>>>8&255]^l[f&255]^e[++y],v=a[v>>>24]^s[c>>>16&255]^o[f>>>8&255]^l[d&255]^e[++y],c=g,f=C,d=I;r[0]=u[c>>>24]<<24^u[f>>>16&255]<<16^u[d>>>8&255]<<8^u[v&255]^e[++y],r[n?3:1]=u[f>>>24]<<24^u[d>>>16&255]<<16^u[v>>>8&255]<<8^u[c&255]^e[++y],r[2]=u[d>>>24]<<24^u[v>>>16&255]<<16^u[c>>>8&255]<<8^u[f&255]^e[++y],r[n?1:3]=u[v>>>24]<<24^u[c>>>16&255]<<16^u[f>>>8&255]<<8^u[d&255]^e[++y]}function Il(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=qe.cipher.createDecipher(r,e.key):n=qe.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(a,s){var o=null;s instanceof qe.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,i.call(n,s)},n}var Ja=me;Ja.pki=Ja.pki||{};var Lc=Ja.pki.oids=Ja.oids=Ja.oids||{};function z(e,t){Lc[e]=t,Lc[t]=e}function Pe(e,t){Lc[e]=t}z("1.2.840.113549.1.1.1","rsaEncryption");z("1.2.840.113549.1.1.4","md5WithRSAEncryption");z("1.2.840.113549.1.1.5","sha1WithRSAEncryption");z("1.2.840.113549.1.1.7","RSAES-OAEP");z("1.2.840.113549.1.1.8","mgf1");z("1.2.840.113549.1.1.9","pSpecified");z("1.2.840.113549.1.1.10","RSASSA-PSS");z("1.2.840.113549.1.1.11","sha256WithRSAEncryption");z("1.2.840.113549.1.1.12","sha384WithRSAEncryption");z("1.2.840.113549.1.1.13","sha512WithRSAEncryption");z("1.3.101.112","EdDSA25519");z("1.2.840.10040.4.3","dsa-with-sha1");z("1.3.14.3.2.7","desCBC");z("1.3.14.3.2.26","sha1");z("1.3.14.3.2.29","sha1WithRSASignature");z("2.16.840.1.101.3.4.2.1","sha256");z("2.16.840.1.101.3.4.2.2","sha384");z("2.16.840.1.101.3.4.2.3","sha512");z("2.16.840.1.101.3.4.2.4","sha224");z("2.16.840.1.101.3.4.2.5","sha512-224");z("2.16.840.1.101.3.4.2.6","sha512-256");z("1.2.840.113549.2.2","md2");z("1.2.840.113549.2.5","md5");z("1.2.840.113549.1.7.1","data");z("1.2.840.113549.1.7.2","signedData");z("1.2.840.113549.1.7.3","envelopedData");z("1.2.840.113549.1.7.4","signedAndEnvelopedData");z("1.2.840.113549.1.7.5","digestedData");z("1.2.840.113549.1.7.6","encryptedData");z("1.2.840.113549.1.9.1","emailAddress");z("1.2.840.113549.1.9.2","unstructuredName");z("1.2.840.113549.1.9.3","contentType");z("1.2.840.113549.1.9.4","messageDigest");z("1.2.840.113549.1.9.5","signingTime");z("1.2.840.113549.1.9.6","counterSignature");z("1.2.840.113549.1.9.7","challengePassword");z("1.2.840.113549.1.9.8","unstructuredAddress");z("1.2.840.113549.1.9.14","extensionRequest");z("1.2.840.113549.1.9.20","friendlyName");z("1.2.840.113549.1.9.21","localKeyId");z("1.2.840.113549.1.9.22.1","x509Certificate");z("1.2.840.113549.1.12.10.1.1","keyBag");z("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");z("1.2.840.113549.1.12.10.1.3","certBag");z("1.2.840.113549.1.12.10.1.4","crlBag");z("1.2.840.113549.1.12.10.1.5","secretBag");z("1.2.840.113549.1.12.10.1.6","safeContentsBag");z("1.2.840.113549.1.5.13","pkcs5PBES2");z("1.2.840.113549.1.5.12","pkcs5PBKDF2");z("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");z("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");z("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");z("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");z("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");z("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");z("1.2.840.113549.2.7","hmacWithSHA1");z("1.2.840.113549.2.8","hmacWithSHA224");z("1.2.840.113549.2.9","hmacWithSHA256");z("1.2.840.113549.2.10","hmacWithSHA384");z("1.2.840.113549.2.11","hmacWithSHA512");z("1.2.840.113549.3.7","des-EDE3-CBC");z("2.16.840.1.101.3.4.1.2","aes128-CBC");z("2.16.840.1.101.3.4.1.22","aes192-CBC");z("2.16.840.1.101.3.4.1.42","aes256-CBC");z("2.5.4.3","commonName");z("2.5.4.4","surname");z("2.5.4.5","serialNumber");z("2.5.4.6","countryName");z("2.5.4.7","localityName");z("2.5.4.8","stateOrProvinceName");z("2.5.4.9","streetAddress");z("2.5.4.10","organizationName");z("2.5.4.11","organizationalUnitName");z("2.5.4.12","title");z("2.5.4.13","description");z("2.5.4.15","businessCategory");z("2.5.4.17","postalCode");z("2.5.4.42","givenName");z("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");z("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");z("2.16.840.1.113730.1.1","nsCertType");z("2.16.840.1.113730.1.13","nsComment");Pe("2.5.29.1","authorityKeyIdentifier");Pe("2.5.29.2","keyAttributes");Pe("2.5.29.3","certificatePolicies");Pe("2.5.29.4","keyUsageRestriction");Pe("2.5.29.5","policyMapping");Pe("2.5.29.6","subtreesConstraint");Pe("2.5.29.7","subjectAltName");Pe("2.5.29.8","issuerAltName");Pe("2.5.29.9","subjectDirectoryAttributes");Pe("2.5.29.10","basicConstraints");Pe("2.5.29.11","nameConstraints");Pe("2.5.29.12","policyConstraints");Pe("2.5.29.13","basicConstraints");z("2.5.29.14","subjectKeyIdentifier");z("2.5.29.15","keyUsage");Pe("2.5.29.16","privateKeyUsagePeriod");z("2.5.29.17","subjectAltName");z("2.5.29.18","issuerAltName");z("2.5.29.19","basicConstraints");Pe("2.5.29.20","cRLNumber");Pe("2.5.29.21","cRLReason");Pe("2.5.29.22","expirationDate");Pe("2.5.29.23","instructionCode");Pe("2.5.29.24","invalidityDate");Pe("2.5.29.25","cRLDistributionPoints");Pe("2.5.29.26","issuingDistributionPoint");Pe("2.5.29.27","deltaCRLIndicator");Pe("2.5.29.28","issuingDistributionPoint");Pe("2.5.29.29","certificateIssuer");Pe("2.5.29.30","nameConstraints");z("2.5.29.31","cRLDistributionPoints");z("2.5.29.32","certificatePolicies");Pe("2.5.29.33","policyMappings");Pe("2.5.29.34","policyConstraints");z("2.5.29.35","authorityKeyIdentifier");Pe("2.5.29.36","policyConstraints");z("2.5.29.37","extKeyUsage");Pe("2.5.29.46","freshestCRL");Pe("2.5.29.54","inhibitAnyPolicy");z("1.3.6.1.4.1.11129.2.4.2","timestampList");z("1.3.6.1.5.5.7.1.1","authorityInfoAccess");z("1.3.6.1.5.5.7.3.1","serverAuth");z("1.3.6.1.5.5.7.3.2","clientAuth");z("1.3.6.1.5.5.7.3.3","codeSigning");z("1.3.6.1.5.5.7.3.4","emailProtection");z("1.3.6.1.5.5.7.3.8","timeStamping");var Ze=me,X=Ze.asn1=Ze.asn1||{};X.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};X.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};X.create=function(e,t,r,n,i){if(Ze.util.isArray(n)){for(var a=[],s=0;s<n.length;++s)n[s]!==void 0&&a.push(n[s]);n=a}var o={tagClass:e,type:t,constructed:r,composed:r||Ze.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(o.bitStringContents=i.bitStringContents,o.original=X.copy(o)),o};X.copy=function(e,t){var r;if(Ze.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(X.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:X.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};X.equals=function(e,t,r){if(Ze.util.isArray(e)){if(!Ze.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!X.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&X.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};X.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function Va(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}var DC=function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var a=r&127;Va(e,t,a),n=e.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};X.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=Ze.util.createBuffer(e));var r=e.length(),n=Co(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function Co(e,t,r,n){var i;Va(e,t,2);var a=e.getByte();t--;var s=a&192,o=a&31;i=e.length();var l=DC(e,t);if(t-=i-e.length(),l!==void 0&&l>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=l,u}l=t}var c,f,d=(a&32)===32;if(d)if(c=[],l===void 0)for(;;){if(Va(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}i=e.length(),c.push(Co(e,t,r+1,n)),t-=i-e.length()}else for(;l>0;)i=e.length(),c.push(Co(e,l,r+1,n)),t-=i-e.length(),l-=i-e.length();if(c===void 0&&s===X.Class.UNIVERSAL&&o===X.Type.BITSTRING&&(f=e.bytes(l)),c===void 0&&n.decodeBitStrings&&s===X.Class.UNIVERSAL&&o===X.Type.BITSTRING&&l>1){var v=e.read,g=t,C=0;if(o===X.Type.BITSTRING&&(Va(e,t,1),C=e.getByte(),t--),C===0)try{i=e.length();var I={strict:!0,decodeBitStrings:!0},y=Co(e,t,r+1,I),m=i-e.length();t-=m,o==X.Type.BITSTRING&&m++;var S=y.tagClass;m===l&&(S===X.Class.UNIVERSAL||S===X.Class.CONTEXT_SPECIFIC)&&(c=[y])}catch{}c===void 0&&(e.read=v,t=g)}if(c===void 0){if(l===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");l=t}if(o===X.Type.BMPSTRING)for(c="";l>0;l-=2)Va(e,t,2),c+=String.fromCharCode(e.getInt16()),t-=2;else c=e.getBytes(l),t-=l}var B=f===void 0?null:{bitStringContents:f};return X.create(s,o,d,c,B)}X.toDer=function(e){var t=Ze.util.createBuffer(),r=e.tagClass|e.type,n=Ze.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=X.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var a=0;a<e.value.length;++a)e.value[a]!==void 0&&n.putBuffer(X.toDer(e.value[a]))}else if(e.type===X.Type.BMPSTRING)for(var a=0;a<e.value.length;++a)n.putInt16(e.value.charCodeAt(a));else e.type===X.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var s=n.length(),o="";do o+=String.fromCharCode(s&255),s=s>>>8;while(s>0);t.putByte(o.length|128);for(var a=o.length-1;a>=0;--a)t.putByte(o.charCodeAt(a))}return t.putBuffer(n),t};X.oidToDer=function(e){var t=e.split("."),r=Ze.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,a,s,o=2;o<t.length;++o){n=!0,i=[],a=parseInt(t[o],10);do s=a&127,a=a>>>7,n||(s|=128),i.push(s),n=!1;while(a>0);for(var l=i.length-1;l>=0;--l)r.putByte(i[l])}return r};X.derToOid=function(e){var t;typeof e=="string"&&(e=Ze.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};X.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),a=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var l=e.charAt(10),u=10;l!=="+"&&l!=="-"&&(o=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(a,s,o,0),u&&(l=e.charAt(u),l==="+"||l==="-")){var c=parseInt(e.substr(u+1,2),10),f=parseInt(e.substr(u+4,2),10),d=c*60+f;d*=6e4,l==="+"?t.setTime(+t-d):t.setTime(+t+d)}return t};X.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),l=0,u=0,c=!1;e.charAt(e.length-1)==="Z"&&(c=!0);var f=e.length-5,d=e.charAt(f);if(d==="+"||d==="-"){var v=parseInt(e.substr(f+1,2),10),g=parseInt(e.substr(f+4,2),10);u=v*60+g,u*=6e4,d==="+"&&(u*=-1),c=!0}return e.charAt(14)==="."&&(l=parseFloat(e.substr(14),10)*1e3),c?(t.setUTCFullYear(r,n,i),t.setUTCHours(a,s,o,l),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(a,s,o,l)),t};X.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};X.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};X.integerToDer=function(e){var t=Ze.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};X.derToInteger=function(e){typeof e=="string"&&(e=Ze.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};X.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&Ze.util.isArray(t.value))for(var a=0,s=0;i&&s<t.value.length;++s)i=t.value[s].optional||!1,e.value[a]&&(i=X.validate(e.value[a],t.value[s],r,n),i?++a:t.value[s].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e))if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var o=e.bitStringContents.charCodeAt(0);if(o!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var sh=/[^\\u0000-\\u00ff]/;X.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",a=0;a<t*r;++a)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case X.Class.UNIVERSAL:n+="Universal:";break;case X.Class.APPLICATION:n+="Application:";break;case X.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case X.Class.PRIVATE:n+="Private:";break}if(e.tagClass===X.Class.UNIVERSAL)switch(n+=e.type,e.type){case X.Type.NONE:n+=" (None)";break;case X.Type.BOOLEAN:n+=" (Boolean)";break;case X.Type.INTEGER:n+=" (Integer)";break;case X.Type.BITSTRING:n+=" (Bit string)";break;case X.Type.OCTETSTRING:n+=" (Octet string)";break;case X.Type.NULL:n+=" (Null)";break;case X.Type.OID:n+=" (Object Identifier)";break;case X.Type.ODESC:n+=" (Object Descriptor)";break;case X.Type.EXTERNAL:n+=" (External or Instance of)";break;case X.Type.REAL:n+=" (Real)";break;case X.Type.ENUMERATED:n+=" (Enumerated)";break;case X.Type.EMBEDDED:n+=" (Embedded PDV)";break;case X.Type.UTF8:n+=" (UTF8)";break;case X.Type.ROID:n+=" (Relative Object Identifier)";break;case X.Type.SEQUENCE:n+=" (Sequence)";break;case X.Type.SET:n+=" (Set)";break;case X.Type.PRINTABLESTRING:n+=" (Printable String)";break;case X.Type.IA5String:n+=" (IA5String (ASCII))";break;case X.Type.UTCTIME:n+=" (UTC time)";break;case X.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case X.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var s=0,o="",a=0;a<e.value.length;++a)e.value[a]!==void 0&&(s+=1,o+=X.prettyPrint(e.value[a],t+1,r),a+1<e.value.length&&(o+=","));n+=i+"Sub values: "+s+o}else{if(n+=i+"Value: ",e.type===X.Type.OID){var l=X.derToOid(e.value);n+=l,Ze.pki&&Ze.pki.oids&&l in Ze.pki.oids&&(n+=" ("+Ze.pki.oids[l]+") ")}if(e.type===X.Type.INTEGER)try{n+=X.derToInteger(e.value)}catch{n+="0x"+Ze.util.bytesToHex(e.value)}else if(e.type===X.Type.BITSTRING){if(e.value.length>1?n+="0x"+Ze.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===X.Type.OCTETSTRING)sh.test(e.value)||(n+="("+e.value+") "),n+="0x"+Ze.util.bytesToHex(e.value);else if(e.type===X.Type.UTF8)try{n+=Ze.util.decodeUtf8(e.value)}catch(c){if(c.message==="URI malformed")n+="0x"+Ze.util.bytesToHex(e.value)+" (malformed UTF8)";else throw c}else e.type===X.Type.PRINTABLESTRING||e.type===X.Type.IA5String?n+=e.value:sh.test(e.value)?n+="0x"+Ze.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n};var Qo=me;Qo.md=Qo.md||{};Qo.md.algorithms=Qo.md.algorithms||{};var on=me,LC=on.hmac=on.hmac||{};LC.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(a,s){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in on.md.algorithms)t=on.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else t=a;if(s===null)s=e;else{if(typeof s=="string")s=on.util.createBuffer(s);else if(on.util.isArray(s)){var o=s;s=on.util.createBuffer();for(var l=0;l<o.length;++l)s.putByte(o[l])}var u=s.length();u>t.blockLength&&(t.start(),t.update(s.bytes()),s=t.digest()),r=on.util.createBuffer(),n=on.util.createBuffer(),u=s.length();for(var l=0;l<u;++l){var o=s.at(l);r.putByte(54^o),n.putByte(92^o)}if(u<t.blockLength)for(var o=t.blockLength-u,l=0;l<o;++l)r.putByte(54),n.putByte(92);e=s,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(a){t.update(a)},i.getMac=function(){var a=t.digest().bytes();return t.start(),t.update(n),t.update(a),t.digest()},i.digest=i.getMac,i};var Wr=me,y1=Wr.md5=Wr.md5||{};Wr.md.md5=Wr.md.algorithms.md5=y1;y1.create=function(){m1||RC();var e=null,t=Wr.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=Wr.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Wr.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),oh(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Wr.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(Rc.substr(0,n.blockLength-s));for(var o,l=0,u=n.fullMessageLength.length-1;u>=0;--u)o=n.fullMessageLength[u]*8+l,l=o/4294967296>>>0,i.putInt32Le(o>>>0);var c={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};oh(c,r,i);var f=Wr.util.createBuffer();return f.putInt32Le(c.h0),f.putInt32Le(c.h1),f.putInt32Le(c.h2),f.putInt32Le(c.h3),f},n};var Rc=null,Eo=null,ja=null,Gi=null,m1=!1;function RC(){Rc=String.fromCharCode(128),Rc+=Wr.util.fillString(String.fromCharCode(0),64),Eo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],ja=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],Gi=new Array(64);for(var e=0;e<64;++e)Gi[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);m1=!0}function oh(e,t,r){for(var n,i,a,s,o,l,u,c,f=r.length();f>=64;){for(i=e.h0,a=e.h1,s=e.h2,o=e.h3,c=0;c<16;++c)t[c]=r.getInt32Le(),l=o^a&(s^o),n=i+l+Gi[c]+t[c],u=ja[c],i=o,o=s,s=a,a+=n<<u|n>>>32-u;for(;c<32;++c)l=s^o&(a^s),n=i+l+Gi[c]+t[Eo[c]],u=ja[c],i=o,o=s,s=a,a+=n<<u|n>>>32-u;for(;c<48;++c)l=a^s^o,n=i+l+Gi[c]+t[Eo[c]],u=ja[c],i=o,o=s,s=a,a+=n<<u|n>>>32-u;for(;c<64;++c)l=s^(a|~o),n=i+l+Gi[c]+t[Eo[c]],u=ja[c],i=o,o=s,s=a,a+=n<<u|n>>>32-u;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+s|0,e.h3=e.h3+o|0,f-=64}}var Wo=me,C1=Wo.pem=Wo.pem||{};C1.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=eo(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=eo(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=eo(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=eo(e.headers[i]);return e.procType&&(r+=`\r
`),r+=Wo.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};C1.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,a;a=r.exec(e),!!a;){var s=a[1];s==="NEW CERTIFICATE REQUEST"&&(s="CERTIFICATE REQUEST");var o={type:s,procType:null,contentDomain:null,dekInfo:null,headers:[],body:Wo.util.decode64(a[3])};if(t.push(o),!!a[2]){for(var l=a[2].split(i),u=0;a&&u<l.length;){for(var c=l[u].replace(/\s+$/,""),f=u+1;f<l.length;++f){var d=l[f];if(!/\s/.test(d[0]))break;c+=d,u=f}if(a=c.match(n),a){for(var v={name:a[1],values:[]},g=a[2].split(","),C=0;C<g.length;++C)v.values.push(OC(g[C]));if(o.procType)if(!o.contentDomain&&v.name==="Content-Domain")o.contentDomain=g[0]||"";else if(!o.dekInfo&&v.name==="DEK-Info"){if(v.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');o.dekInfo={algorithm:g[0],parameters:g[1]||null}}else o.headers.push(v);else{if(v.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(v.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');o.procType={version:g[0],type:g[1]}}}++u}if(o.procType==="ENCRYPTED"&&!o.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function eo(e){for(var t=e.name+": ",r=[],n=function(l,u){return" "+u},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var a=0,s=-1,i=0;i<t.length;++i,++a)if(a>65&&s!==-1){var o=t[s];o===","?(++s,t=t.substr(0,s)+`\r
 `+t.substr(s)):t=t.substr(0,s)+`\r
`+o+t.substr(s+1),a=i-s-1,s=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(s=i);return t}function OC(e){return e.replace(/^\s+/,"")}var nt=me;nt.des=nt.des||{};nt.des.startEncrypting=function(e,t,r,n){var i=_l({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};nt.des.createEncryptionCipher=function(e,t){return _l({key:e,output:null,decrypt:!1,mode:t})};nt.des.startDecrypting=function(e,t,r,n){var i=_l({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};nt.des.createDecryptionCipher=function(e,t){return _l({key:e,output:null,decrypt:!0,mode:t})};nt.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return lh(r._keys,n,i,!1)},decrypt:function(n,i){return lh(r._keys,n,i,!0)}}}),r._init=!1};nt.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=nt.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=HC(t),this._init=!0}};rn("DES-ECB",nt.cipher.modes.ecb);rn("DES-CBC",nt.cipher.modes.cbc);rn("DES-CFB",nt.cipher.modes.cfb);rn("DES-OFB",nt.cipher.modes.ofb);rn("DES-CTR",nt.cipher.modes.ctr);rn("3DES-ECB",nt.cipher.modes.ecb);rn("3DES-CBC",nt.cipher.modes.cbc);rn("3DES-CFB",nt.cipher.modes.cfb);rn("3DES-OFB",nt.cipher.modes.ofb);rn("3DES-CTR",nt.cipher.modes.ctr);function rn(e,t){var r=function(){return new nt.des.Algorithm(e,t)};nt.cipher.registerAlgorithm(e,r)}var PC=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],UC=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],MC=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],FC=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],VC=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],jC=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],KC=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],zC=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function HC(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],l=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],c=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],v=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],C=e.length()>8?3:1,I=[],y=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],m=0,S,B=0;B<C;B++){var L=e.getInt32(),R=e.getInt32();S=(L>>>4^R)&252645135,R^=S,L^=S<<4,S=(R>>>-16^L)&65535,L^=S,R^=S<<-16,S=(L>>>2^R)&858993459,R^=S,L^=S<<2,S=(R>>>-16^L)&65535,L^=S,R^=S<<-16,S=(L>>>1^R)&1431655765,R^=S,L^=S<<1,S=(R>>>8^L)&16711935,L^=S,R^=S<<8,S=(L>>>1^R)&1431655765,R^=S,L^=S<<1,S=L<<8|R>>>20&240,L=R<<24|R<<8&16711680|R>>>8&65280|R>>>24&240,R=S;for(var M=0;M<y.length;++M){y[M]?(L=L<<2|L>>>26,R=R<<2|R>>>26):(L=L<<1|L>>>27,R=R<<1|R>>>27),L&=-15,R&=-15;var V=t[L>>>28]|r[L>>>24&15]|n[L>>>20&15]|i[L>>>16&15]|a[L>>>12&15]|s[L>>>8&15]|o[L>>>4&15],Q=l[R>>>28]|u[R>>>24&15]|c[R>>>20&15]|f[R>>>16&15]|d[R>>>12&15]|v[R>>>8&15]|g[R>>>4&15];S=(Q>>>16^V)&65535,I[m++]=V^S,I[m++]=Q^S<<16}}return I}function lh(e,t,r,n){var i=e.length===32?3:9,a;i===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,o=t[0],l=t[1];s=(o>>>4^l)&252645135,l^=s,o^=s<<4,s=(o>>>16^l)&65535,l^=s,o^=s<<16,s=(l>>>2^o)&858993459,o^=s,l^=s<<2,s=(l>>>8^o)&16711935,o^=s,l^=s<<8,s=(o>>>1^l)&1431655765,l^=s,o^=s<<1,o=o<<1|o>>>31,l=l<<1|l>>>31;for(var u=0;u<i;u+=3){for(var c=a[u+1],f=a[u+2],d=a[u];d!=c;d+=f){var v=l^e[d],g=(l>>>4|l<<28)^e[d+1];s=o,o=l,l=s^(UC[v>>>24&63]|FC[v>>>16&63]|jC[v>>>8&63]|zC[v&63]|PC[g>>>24&63]|MC[g>>>16&63]|VC[g>>>8&63]|KC[g&63])}s=o,o=l,l=s}o=o>>>1|o<<31,l=l>>>1|l<<31,s=(o>>>1^l)&1431655765,l^=s,o^=s<<1,s=(l>>>8^o)&16711935,o^=s,l^=s<<8,s=(l>>>2^o)&858993459,o^=s,l^=s<<2,s=(o>>>16^l)&65535,l^=s,o^=s<<16,s=(o>>>4^l)&252645135,l^=s,o^=s<<4,r[0]=o,r[1]=l}function _l(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=nt.cipher.createDecipher(r,e.key):n=nt.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(a,s){var o=null;s instanceof nt.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,i.call(n,s)},n}const $C={},qC=Object.freeze(Object.defineProperty({__proto__:null,default:$C},Symbol.toStringTag,{value:"Module"})),i0=pv(qC);var Vt=me,GC=Vt.pkcs5=Vt.pkcs5||{},an;Vt.util.isNodejs&&!Vt.options.usePureJavaScript&&(an=i0);Vt.pbkdf2=GC.pbkdf2=function(e,t,r,n,i,a){if(typeof i=="function"&&(a=i,i=null),Vt.util.isNodejs&&!Vt.options.usePureJavaScript&&an.pbkdf2&&(i===null||typeof i!="object")&&(an.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),a?an.pbkdf2Sync.length===4?an.pbkdf2(e,t,r,n,function(S,B){if(S)return a(S);a(null,B.toString("binary"))}):an.pbkdf2(e,t,r,n,i,function(S,B){if(S)return a(S);a(null,B.toString("binary"))}):an.pbkdf2Sync.length===4?an.pbkdf2Sync(e,t,r,n).toString("binary"):an.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Vt.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Vt.md[i].create()}var s=i.digestLength;if(n>4294967295*s){var o=new Error("Derived key is too long.");if(a)return a(o);throw o}var l=Math.ceil(n/s),u=n-(l-1)*s,c=Vt.hmac.create();c.start(i,e);var f="",d,v,g;if(!a){for(var C=1;C<=l;++C){c.start(null,null),c.update(t),c.update(Vt.util.int32ToBytes(C)),d=g=c.digest().getBytes();for(var I=2;I<=r;++I)c.start(null,null),c.update(g),v=c.digest().getBytes(),d=Vt.util.xorBytes(d,v,s),g=v;f+=C<l?d:d.substr(0,u)}return f}var C=1,I;function y(){if(C>l)return a(null,f);c.start(null,null),c.update(t),c.update(Vt.util.int32ToBytes(C)),d=g=c.digest().getBytes(),I=2,m()}function m(){if(I<=r)return c.start(null,null),c.update(g),v=c.digest().getBytes(),d=Vt.util.xorBytes(d,v,s),g=v,++I,Vt.util.setImmediate(m);f+=C<l?d:d.substr(0,u),++C,y()}y()};var Yr=me,E1=Yr.sha256=Yr.sha256||{};Yr.md.sha256=Yr.md.algorithms.sha256=E1;E1.create=function(){S1||QC();var e=null,t=Yr.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=Yr.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Yr.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),uh(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Yr.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(Oc.substr(0,n.blockLength-s));for(var o,l,u=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)o=n.fullMessageLength[c+1]*8,l=o/4294967296>>>0,u+=l,i.putInt32(u>>>0),u=o>>>0;i.putInt32(u);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};uh(f,r,i);var d=Yr.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d.putInt32(f.h5),d.putInt32(f.h6),d.putInt32(f.h7),d},n};var Oc=null,S1=!1,x1=null;function QC(){Oc=String.fromCharCode(128),Oc+=Yr.util.fillString(String.fromCharCode(0),64),x1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],S1=!0}function uh(e,t,r){for(var n,i,a,s,o,l,u,c,f,d,v,g,C,I,y,m=r.length();m>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(c=e.h0,f=e.h1,d=e.h2,v=e.h3,g=e.h4,C=e.h5,I=e.h6,y=e.h7,u=0;u<64;++u)s=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),o=I^g&(C^I),a=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),l=c&f|d&(c^f),n=y+s+o+x1[u]+t[u],i=a+l,y=I,I=C,C=g,g=v+n>>>0,v=d,d=f,f=c,c=n+i>>>0;e.h0=e.h0+c|0,e.h1=e.h1+f|0,e.h2=e.h2+d|0,e.h3=e.h3+v|0,e.h4=e.h4+g|0,e.h5=e.h5+C|0,e.h6=e.h6+I|0,e.h7=e.h7+y|0,m-=64}}var qr=me,So=null;qr.util.isNodejs&&!qr.options.usePureJavaScript&&!process.versions["node-webkit"]&&(So=i0);var WC=qr.prng=qr.prng||{};WC.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,c){if(!c)return t.generateSync(u);var f=t.plugin.cipher,d=t.plugin.increment,v=t.plugin.formatKey,g=t.plugin.formatSeed,C=qr.util.createBuffer();t.key=null,I();function I(y){if(y)return c(y);if(C.length()>=u)return c(null,C.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return qr.util.nextTick(function(){a(I)});var m=f(t.key,t.seed);t.generated+=m.length,C.putBytes(m),t.key=v(f(t.key,d(t.seed))),t.seed=g(f(t.key,t.seed)),qr.util.setImmediate(I)}},t.generateSync=function(u){var c=t.plugin.cipher,f=t.plugin.increment,d=t.plugin.formatKey,v=t.plugin.formatSeed;t.key=null;for(var g=qr.util.createBuffer();g.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&s();var C=c(t.key,t.seed);t.generated+=C.length,g.putBytes(C),t.key=d(c(t.key,f(t.seed))),t.seed=v(c(t.key,t.seed))}return g.getBytes(u)};function a(u){if(t.pools[0].messageLength>=32)return o(),u();var c=32-t.pools[0].messageLength<<5;t.seedFile(c,function(f,d){if(f)return u(f);t.collect(d),o(),u()})}function s(){if(t.pools[0].messageLength>=32)return o();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),o()}function o(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var c=1,f=0;f<32;++f)t.reseeds%c===0&&(u.update(t.pools[f].digest().getBytes()),t.pools[f].start()),c=c<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var d=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(d),t.generated=0}function l(u){var c=null,f=qr.util.globalScope,d=f.crypto||f.msCrypto;d&&d.getRandomValues&&(c=function(L){return d.getRandomValues(L)});var v=qr.util.createBuffer();if(c)for(;v.length()<u;){var g=Math.max(1,Math.min(u-v.length(),65536)/4),C=new Uint32Array(Math.floor(g));try{c(C);for(var I=0;I<C.length;++I)v.putInt32(C[I])}catch(L){if(!(typeof QuotaExceededError<"u"&&L instanceof QuotaExceededError))throw L}}if(v.length()<u)for(var y,m,S,B=Math.floor(Math.random()*65536);v.length()<u;){m=16807*(B&65535),y=16807*(B>>16),m+=(y&32767)<<16,m+=y>>15,m=(m&2147483647)+(m>>31),B=m&4294967295;for(var I=0;I<3;++I)S=B>>>(I<<3),S^=Math.floor(Math.random()*256),v.putByte(S&255)}return v.getBytes(u)}return So?(t.seedFile=function(u,c){So.randomBytes(u,function(f,d){if(f)return c(f);c(null,d.toString())})},t.seedFileSync=function(u){return So.randomBytes(u).toString()}):(t.seedFile=function(u,c){try{c(null,l(u))}catch(f){c(f)}},t.seedFileSync=l),t.collect=function(u){for(var c=u.length,f=0;f<c;++f)t.pools[t.pool].update(u.substr(f,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,c){for(var f="",d=0;d<c;d+=8)f+=String.fromCharCode(u>>d&255);t.collect(f)},t.registerWorker=function(u){if(u===self)t.seedFile=function(f,d){function v(g){var C=g.data;C.forge&&C.forge.prng&&(self.removeEventListener("message",v),d(C.forge.prng.err,C.forge.prng.bytes))}self.addEventListener("message",v),self.postMessage({forge:{prng:{needed:f}}})};else{var c=function(f){var d=f.data;d.forge&&d.forge.prng&&t.seedFile(d.forge.prng.needed,function(v,g){u.postMessage({forge:{prng:{err:v,bytes:g}}})})};u.addEventListener("message",c)}},t};var Ct=me;(function(){if(Ct.random&&Ct.random.getBytes){Ct.random;return}(function(e){var t={},r=new Array(4),n=Ct.util.createBuffer();t.formatKey=function(f){var d=Ct.util.createBuffer(f);return f=new Array(4),f[0]=d.getInt32(),f[1]=d.getInt32(),f[2]=d.getInt32(),f[3]=d.getInt32(),Ct.aes._expandKey(f,!1)},t.formatSeed=function(f){var d=Ct.util.createBuffer(f);return f=new Array(4),f[0]=d.getInt32(),f[1]=d.getInt32(),f[2]=d.getInt32(),f[3]=d.getInt32(),f},t.cipher=function(f,d){return Ct.aes._updateBlock(f,d,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(f){return++f[3],f},t.md=Ct.md.sha256;function i(){var f=Ct.prng.create(t);return f.getBytes=function(d,v){return f.generate(d,v)},f.getBytesSync=function(d){return f.generate(d)},f}var a=i(),s=null,o=Ct.util.globalScope,l=o.crypto||o.msCrypto;if(l&&l.getRandomValues&&(s=function(f){return l.getRandomValues(f)}),Ct.options.usePureJavaScript||!Ct.util.isNodejs&&!s){if(a.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var c in navigator)try{typeof navigator[c]=="string"&&(u+=navigator[c])}catch{}a.collect(u),u=null}e&&(e().mousemove(function(f){a.collectInt(f.clientX,16),a.collectInt(f.clientY,16)}),e().keypress(function(f){a.collectInt(f.charCode,8)}))}if(!Ct.random)Ct.random=a;else for(var c in a)Ct.random[c]=a[c];Ct.random.createInstance=i,Ct.random})(typeof jQuery<"u"?jQuery:null)})();var Yt=me,Su=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],ch=[1,2,3,5],YC=function(e,t){return e<<t&65535|(e&65535)>>16-t},XC=function(e,t){return(e&65535)>>t|e<<16-t&65535};Yt.rc2=Yt.rc2||{};Yt.rc2.expandKey=function(e,t){typeof e=="string"&&(e=Yt.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,a=Math.ceil(i/8),s=255>>(i&7),o;for(o=n;o<128;o++)r.putByte(Su[r.at(o-1)+r.at(o-n)&255]);for(r.setAt(128-a,Su[r.at(128-a)&s]),o=127-a;o>=0;o--)r.setAt(o,Su[r.at(o+1)^r.at(o+a)]);return r};var T1=function(e,t,r){var n=!1,i=null,a=null,s=null,o,l,u,c,f=[];for(e=Yt.rc2.expandKey(e,t),u=0;u<64;u++)f.push(e.getInt16Le());r?(o=function(g){for(u=0;u<4;u++)g[u]+=f[c]+(g[(u+3)%4]&g[(u+2)%4])+(~g[(u+3)%4]&g[(u+1)%4]),g[u]=YC(g[u],ch[u]),c++},l=function(g){for(u=0;u<4;u++)g[u]+=f[g[(u+3)%4]&63]}):(o=function(g){for(u=3;u>=0;u--)g[u]=XC(g[u],ch[u]),g[u]-=f[c]+(g[(u+3)%4]&g[(u+2)%4])+(~g[(u+3)%4]&g[(u+1)%4]),c--},l=function(g){for(u=3;u>=0;u--)g[u]-=f[g[(u+3)%4]&63]});var d=function(g){var C=[];for(u=0;u<4;u++){var I=i.getInt16Le();s!==null&&(r?I^=s.getInt16Le():s.putInt16Le(I)),C.push(I&65535)}c=r?0:63;for(var y=0;y<g.length;y++)for(var m=0;m<g[y][0];m++)g[y][1](C);for(u=0;u<4;u++)s!==null&&(r?s.putInt16Le(C[u]):C[u]^=s.getInt16Le()),a.putInt16Le(C[u])},v=null;return v={start:function(g,C){g&&typeof g=="string"&&(g=Yt.util.createBuffer(g)),n=!1,i=Yt.util.createBuffer(),a=C||new Yt.util.createBuffer,s=g,v.output=a},update:function(g){for(n||i.putBuffer(g);i.length()>=8;)d([[5,o],[1,l],[6,o],[1,l],[5,o]])},finish:function(g){var C=!0;if(r)if(g)C=g(8,i,!r);else{var I=i.length()===8?8:8-i.length();i.fillWithByte(I,I)}if(C&&(n=!0,v.update()),!r&&(C=i.length()===0,C))if(g)C=g(8,a,!r);else{var y=a.length(),m=a.at(y-1);m>y?C=!1:a.truncate(m)}return C}},v};Yt.rc2.startEncrypting=function(e,t,r){var n=Yt.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};Yt.rc2.createEncryptionCipher=function(e,t){return T1(e,t,!0)};Yt.rc2.startDecrypting=function(e,t,r){var n=Yt.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};Yt.rc2.createDecryptionCipher=function(e,t){return T1(e,t,!1)};var Pc=me;Pc.jsbn=Pc.jsbn||{};var fn;function K(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}Pc.jsbn.BigInteger=K;function Be(){return new K(null)}function ZC(e,t,r,n,i,a){for(;--a>=0;){var s=t*this.data[e++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=s&67108863}return i}function JC(e,t,r,n,i,a){for(var s=t&32767,o=t>>15;--a>=0;){var l=this.data[e]&32767,u=this.data[e++]>>15,c=o*l+u*s;l=s*l+((c&32767)<<15)+r.data[n]+(i&1073741823),i=(l>>>30)+(c>>>15)+o*u+(i>>>30),r.data[n++]=l&1073741823}return i}function fh(e,t,r,n,i,a){for(var s=t&16383,o=t>>14;--a>=0;){var l=this.data[e]&16383,u=this.data[e++]>>14,c=o*l+u*s;l=s*l+((c&16383)<<14)+r.data[n]+i,i=(l>>28)+(c>>14)+o*u,r.data[n++]=l&268435455}return i}typeof navigator>"u"?(K.prototype.am=fh,fn=28):navigator.appName=="Microsoft Internet Explorer"?(K.prototype.am=JC,fn=30):navigator.appName!="Netscape"?(K.prototype.am=ZC,fn=26):(K.prototype.am=fh,fn=28);K.prototype.DB=fn;K.prototype.DM=(1<<fn)-1;K.prototype.DV=1<<fn;var a0=52;K.prototype.FV=Math.pow(2,a0);K.prototype.F1=a0-fn;K.prototype.F2=2*fn-a0;var eE="0123456789abcdefghijklmnopqrstuvwxyz",Al=new Array,ya,Ir;ya="0".charCodeAt(0);for(Ir=0;Ir<=9;++Ir)Al[ya++]=Ir;ya="a".charCodeAt(0);for(Ir=10;Ir<36;++Ir)Al[ya++]=Ir;ya="A".charCodeAt(0);for(Ir=10;Ir<36;++Ir)Al[ya++]=Ir;function dh(e){return eE.charAt(e)}function w1(e,t){var r=Al[e.charCodeAt(t)];return r??-1}function tE(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function rE(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function Pn(e){var t=Be();return t.fromInt(e),t}function nE(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,a=0;--n>=0;){var s=r==8?e[n]&255:w1(e,n);if(s<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,a==0?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&e[0]&128&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&K.ZERO.subTo(this,this)}function iE(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function aE(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,a="",s=this.t,o=this.DB-s*this.DB%t;if(s-- >0)for(o<this.DB&&(n=this.data[s]>>o)>0&&(i=!0,a=dh(n));s>=0;)o<t?(n=(this.data[s]&(1<<o)-1)<<t-o,n|=this.data[--s]>>(o+=this.DB-t)):(n=this.data[s]>>(o-=t)&r,o<=0&&(o+=this.DB,--s)),n>0&&(i=!0),i&&(a+=dh(n));return i?a:"0"}function sE(){var e=Be();return K.ZERO.subTo(this,e),e}function oE(){return this.s<0?this.negate():this}function lE(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function Bl(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function uE(){return this.t<=0?0:this.DB*(this.t-1)+Bl(this.data[this.t-1]^this.s&this.DM)}function cE(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function fE(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function dE(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)t.data[o+a+1]=this.data[o]>>n|s,s=(this.data[o]&i)<<r;for(o=a-1;o>=0;--o)t.data[o]=0;t.data[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function hE(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,a=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)t.data[s-r-1]|=(this.data[s]&a)<<i,t.data[s-r]=this.data[s]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&a)<<i),t.t=this.t-r,t.clamp()}function pE(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function gE(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&K.ZERO.subTo(t,t)}function vE(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function yE(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Be());var a=Be(),s=this.s,o=e.s,l=this.DB-Bl(n.data[n.t-1]);l>0?(n.lShiftTo(l,a),i.lShiftTo(l,r)):(n.copyTo(a),i.copyTo(r));var u=a.t,c=a.data[u-1];if(c!=0){var f=c*(1<<this.F1)+(u>1?a.data[u-2]>>this.F2:0),d=this.FV/f,v=(1<<this.F1)/f,g=1<<this.F2,C=r.t,I=C-u,y=t??Be();for(a.dlShiftTo(I,y),r.compareTo(y)>=0&&(r.data[r.t++]=1,r.subTo(y,r)),K.ONE.dlShiftTo(u,y),y.subTo(a,a);a.t<u;)a.data[a.t++]=0;for(;--I>=0;){var m=r.data[--C]==c?this.DM:Math.floor(r.data[C]*d+(r.data[C-1]+g)*v);if((r.data[C]+=a.am(0,m,r,I,0,u))<m)for(a.dlShiftTo(I,y),r.subTo(y,r);r.data[C]<--m;)r.subTo(y,r)}t!=null&&(r.drShiftTo(u,t),s!=o&&K.ZERO.subTo(t,t)),r.t=u,r.clamp(),l>0&&r.rShiftTo(l,r),s<0&&K.ZERO.subTo(r,r)}}}function mE(e){var t=Be();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(K.ZERO)>0&&e.subTo(t,t),t}function Ii(e){this.m=e}function CE(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function EE(e){return e}function SE(e){e.divRemTo(this.m,null,e)}function xE(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function TE(e,t){e.squareTo(t),this.reduce(t)}Ii.prototype.convert=CE;Ii.prototype.revert=EE;Ii.prototype.reduce=SE;Ii.prototype.mulTo=xE;Ii.prototype.sqrTo=TE;function wE(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function _i(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function IE(e){var t=Be();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(K.ZERO)>0&&this.m.subTo(t,t),t}function _E(e){var t=Be();return e.copyTo(t),this.reduce(t),t}function AE(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function BE(e,t){e.squareTo(t),this.reduce(t)}function kE(e,t,r){e.multiplyTo(t,r),this.reduce(r)}_i.prototype.convert=IE;_i.prototype.revert=_E;_i.prototype.reduce=AE;_i.prototype.mulTo=kE;_i.prototype.sqrTo=BE;function bE(){return(this.t>0?this.data[0]&1:this.s)==0}function NE(e,t){if(e>4294967295||e<1)return K.ONE;var r=Be(),n=Be(),i=t.convert(this),a=Bl(e)-1;for(i.copyTo(r);--a>=0;)if(t.sqrTo(r,n),(e&1<<a)>0)t.mulTo(n,i,r);else{var s=r;r=n,n=s}return t.revert(r)}function DE(e,t){var r;return e<256||t.isEven()?r=new Ii(t):r=new _i(t),this.exp(e,r)}K.prototype.copyTo=tE;K.prototype.fromInt=rE;K.prototype.fromString=nE;K.prototype.clamp=iE;K.prototype.dlShiftTo=cE;K.prototype.drShiftTo=fE;K.prototype.lShiftTo=dE;K.prototype.rShiftTo=hE;K.prototype.subTo=pE;K.prototype.multiplyTo=gE;K.prototype.squareTo=vE;K.prototype.divRemTo=yE;K.prototype.invDigit=wE;K.prototype.isEven=bE;K.prototype.exp=NE;K.prototype.toString=aE;K.prototype.negate=sE;K.prototype.abs=oE;K.prototype.compareTo=lE;K.prototype.bitLength=uE;K.prototype.mod=mE;K.prototype.modPowInt=DE;K.ZERO=Pn(0);K.ONE=Pn(1);function LE(){var e=Be();return this.copyTo(e),e}function RE(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function OE(){return this.t==0?this.s:this.data[0]<<24>>24}function PE(){return this.t==0?this.s:this.data[0]<<16>>16}function UE(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function ME(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function FE(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=Pn(r),i=Be(),a=Be(),s="";for(this.divRemTo(n,i,a);i.signum()>0;)s=(r+a.intValue()).toString(e).substr(1)+s,i.divRemTo(n,i,a);return a.intValue().toString(e)+s}function VE(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,a=0,s=0,o=0;o<e.length;++o){var l=w1(e,o);if(l<0){e.charAt(o)=="-"&&this.signum()==0&&(i=!0);continue}s=t*s+l,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0)}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),i&&K.ZERO.subTo(this,this)}function jE(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(K.ONE.shiftLeft(e-1),s0,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(K.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function KE(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function zE(e){return this.compareTo(e)==0}function HE(e){return this.compareTo(e)<0?this:e}function $E(e){return this.compareTo(e)>0?this:e}function qE(e,t,r){var n,i,a=Math.min(e.t,this.t);for(n=0;n<a;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=a;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function GE(e,t){return e&t}function QE(e){var t=Be();return this.bitwiseTo(e,GE,t),t}function s0(e,t){return e|t}function WE(e){var t=Be();return this.bitwiseTo(e,s0,t),t}function I1(e,t){return e^t}function YE(e){var t=Be();return this.bitwiseTo(e,I1,t),t}function _1(e,t){return e&~t}function XE(e){var t=Be();return this.bitwiseTo(e,_1,t),t}function ZE(){for(var e=Be(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function JE(e){var t=Be();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function eS(e){var t=Be();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function tS(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}function rS(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+tS(this.data[e]);return this.s<0?this.t*this.DB:-1}function nS(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function iS(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=nS(this.data[r]^t);return e}function aS(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function sS(e,t){var r=K.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function oS(e){return this.changeBit(e,s0)}function lS(e){return this.changeBit(e,_1)}function uS(e){return this.changeBit(e,I1)}function cS(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function fS(e){var t=Be();return this.addTo(e,t),t}function dS(e){var t=Be();return this.subTo(e,t),t}function hS(e){var t=Be();return this.multiplyTo(e,t),t}function pS(e){var t=Be();return this.divRemTo(e,t,null),t}function gS(e){var t=Be();return this.divRemTo(e,null,t),t}function vS(e){var t=Be(),r=Be();return this.divRemTo(e,t,r),new Array(t,r)}function yS(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function mS(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function ks(){}function A1(e){return e}function CS(e,t,r){e.multiplyTo(t,r)}function ES(e,t){e.squareTo(t)}ks.prototype.convert=A1;ks.prototype.revert=A1;ks.prototype.mulTo=CS;ks.prototype.sqrTo=ES;function SS(e){return this.exp(e,new ks)}function xS(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function TS(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function ma(e){this.r2=Be(),this.q3=Be(),K.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function wS(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Be();return e.copyTo(t),this.reduce(t),t}function IS(e){return e}function _S(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function AS(e,t){e.squareTo(t),this.reduce(t)}function BS(e,t,r){e.multiplyTo(t,r),this.reduce(r)}ma.prototype.convert=wS;ma.prototype.revert=IS;ma.prototype.reduce=_S;ma.prototype.mulTo=BS;ma.prototype.sqrTo=AS;function kS(e,t){var r=e.bitLength(),n,i=Pn(1),a;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new Ii(t):t.isEven()?a=new ma(t):a=new _i(t);var s=new Array,o=3,l=n-1,u=(1<<n)-1;if(s[1]=a.convert(this),n>1){var c=Be();for(a.sqrTo(s[1],c);o<=u;)s[o]=Be(),a.mulTo(c,s[o-2],s[o]),o+=2}var f=e.t-1,d,v=!0,g=Be(),C;for(r=Bl(e.data[f])-1;f>=0;){for(r>=l?d=e.data[f]>>r-l&u:(d=(e.data[f]&(1<<r+1)-1)<<l-r,f>0&&(d|=e.data[f-1]>>this.DB+r-l)),o=n;!(d&1);)d>>=1,--o;if((r-=o)<0&&(r+=this.DB,--f),v)s[d].copyTo(i),v=!1;else{for(;o>1;)a.sqrTo(i,g),a.sqrTo(g,i),o-=2;o>0?a.sqrTo(i,g):(C=i,i=g,g=C),a.mulTo(g,s[d],i)}for(;f>=0&&!(e.data[f]&1<<r);)a.sqrTo(i,g),C=i,i=g,g=C,--r<0&&(r=this.DB-1,--f)}return a.revert(i)}function bS(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return t;for(i<a&&(a=i),a>0&&(t.rShiftTo(a,t),r.rShiftTo(a,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function NS(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function DS(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return K.ZERO;for(var r=e.clone(),n=this.clone(),i=Pn(1),a=Pn(0),s=Pn(0),o=Pn(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!a.isEven())&&(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?((!s.isEven()||!o.isEven())&&(s.addTo(this,s),o.subTo(e,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(s,i),a.subTo(o,a)):(n.subTo(r,n),t&&s.subTo(i,s),o.subTo(a,o))}if(n.compareTo(K.ONE)!=0)return K.ZERO;if(o.compareTo(e)>=0)return o.subtract(e);if(o.signum()<0)o.addTo(e,o);else return o;return o.signum()<0?o.add(e):o}var Rr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],LS=(1<<26)/Rr[Rr.length-1];function RS(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Rr[Rr.length-1]){for(t=0;t<Rr.length;++t)if(r.data[0]==Rr[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Rr.length;){for(var n=Rr[t],i=t+1;i<Rr.length&&n<LS;)n*=Rr[i++];for(n=r.modInt(n);t<i;)if(n%Rr[t++]==0)return!1}return r.millerRabin(e)}function OS(e){var t=this.subtract(K.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=PS(),a,s=0;s<e;++s){do a=new K(this.bitLength(),i);while(a.compareTo(K.ONE)<=0||a.compareTo(t)>=0);var o=a.modPow(n,this);if(o.compareTo(K.ONE)!=0&&o.compareTo(t)!=0){for(var l=1;l++<r&&o.compareTo(t)!=0;)if(o=o.modPowInt(2,this),o.compareTo(K.ONE)==0)return!1;if(o.compareTo(t)!=0)return!1}}return!0}function PS(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}K.prototype.chunkSize=UE;K.prototype.toRadix=FE;K.prototype.fromRadix=VE;K.prototype.fromNumber=jE;K.prototype.bitwiseTo=qE;K.prototype.changeBit=sS;K.prototype.addTo=cS;K.prototype.dMultiply=yS;K.prototype.dAddOffset=mS;K.prototype.multiplyLowerTo=xS;K.prototype.multiplyUpperTo=TS;K.prototype.modInt=NS;K.prototype.millerRabin=OS;K.prototype.clone=LE;K.prototype.intValue=RE;K.prototype.byteValue=OE;K.prototype.shortValue=PE;K.prototype.signum=ME;K.prototype.toByteArray=KE;K.prototype.equals=zE;K.prototype.min=HE;K.prototype.max=$E;K.prototype.and=QE;K.prototype.or=WE;K.prototype.xor=YE;K.prototype.andNot=XE;K.prototype.not=ZE;K.prototype.shiftLeft=JE;K.prototype.shiftRight=eS;K.prototype.getLowestSetBit=rS;K.prototype.bitCount=iS;K.prototype.testBit=aS;K.prototype.setBit=oS;K.prototype.clearBit=lS;K.prototype.flipBit=uS;K.prototype.add=fS;K.prototype.subtract=dS;K.prototype.multiply=hS;K.prototype.divide=pS;K.prototype.remainder=gS;K.prototype.divideAndRemainder=vS;K.prototype.modPow=kS;K.prototype.modInverse=DS;K.prototype.pow=SS;K.prototype.gcd=bS;K.prototype.isProbablePrime=RS;var Xr=me,B1=Xr.sha1=Xr.sha1||{};Xr.md.sha1=Xr.md.algorithms.sha1=B1;B1.create=function(){k1||US();var e=null,t=Xr.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=Xr.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Xr.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),hh(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Xr.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(Uc.substr(0,n.blockLength-s));for(var o,l,u=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)o=n.fullMessageLength[c+1]*8,l=o/4294967296>>>0,u+=l,i.putInt32(u>>>0),u=o>>>0;i.putInt32(u);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};hh(f,r,i);var d=Xr.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d},n};var Uc=null,k1=!1;function US(){Uc=String.fromCharCode(128),Uc+=Xr.util.fillString(String.fromCharCode(0),64),k1=!0}function hh(e,t,r){for(var n,i,a,s,o,l,u,c,f=r.length();f>=64;){for(i=e.h0,a=e.h1,s=e.h2,o=e.h3,l=e.h4,c=0;c<16;++c)n=r.getInt32(),t[c]=n,u=o^a&(s^o),n=(i<<5|i>>>27)+u+l+1518500249+n,l=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<20;++c)n=t[c-3]^t[c-8]^t[c-14]^t[c-16],n=n<<1|n>>>31,t[c]=n,u=o^a&(s^o),n=(i<<5|i>>>27)+u+l+1518500249+n,l=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<32;++c)n=t[c-3]^t[c-8]^t[c-14]^t[c-16],n=n<<1|n>>>31,t[c]=n,u=a^s^o,n=(i<<5|i>>>27)+u+l+1859775393+n,l=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<40;++c)n=t[c-6]^t[c-16]^t[c-28]^t[c-32],n=n<<2|n>>>30,t[c]=n,u=a^s^o,n=(i<<5|i>>>27)+u+l+1859775393+n,l=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<60;++c)n=t[c-6]^t[c-16]^t[c-28]^t[c-32],n=n<<2|n>>>30,t[c]=n,u=a&s|o&(a^s),n=(i<<5|i>>>27)+u+l+2400959708+n,l=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<80;++c)n=t[c-6]^t[c-16]^t[c-28]^t[c-32],n=n<<2|n>>>30,t[c]=n,u=a^s^o,n=(i<<5|i>>>27)+u+l+3395469782+n,l=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+s|0,e.h3=e.h3+o|0,e.h4=e.h4+l|0,f-=64}}var Jr=me,b1=Jr.pkcs1=Jr.pkcs1||{};b1.encode_rsa_oaep=function(e,t,r){var n,i,a,s;typeof r=="string"?(n=r,i=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),a?a.start():a=Jr.md.sha1.create(),s||(s=a);var o=Math.ceil(e.n.bitLength()/8),l=o-2*a.digestLength-2;if(t.length>l){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=l,u}n||(n=""),a.update(n,"raw");for(var c=a.digest(),f="",d=l-t.length,v=0;v<d;v++)f+="\0";var g=c.getBytes()+f+""+t;if(!i)i=Jr.random.getBytes(a.digestLength);else if(i.length!==a.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=a.digestLength,u}var C=Yo(i,o-a.digestLength-1,s),I=Jr.util.xorBytes(g,C,g.length),y=Yo(I,a.digestLength,s),m=Jr.util.xorBytes(i,y,i.length);return"\0"+m+I};b1.decode_rsa_oaep=function(e,t,r){var n,i,a;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var s=Math.ceil(e.n.bitLength()/8);if(t.length!==s){var I=new Error("RSAES-OAEP encoded message length is invalid.");throw I.length=t.length,I.expectedLength=s,I}if(i===void 0?i=Jr.md.sha1.create():i.start(),a||(a=i),s<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var o=i.digest().getBytes(),l=t.charAt(0),u=t.substring(1,i.digestLength+1),c=t.substring(1+i.digestLength),f=Yo(c,i.digestLength,a),d=Jr.util.xorBytes(u,f,u.length),v=Yo(d,s-i.digestLength-1,a),g=Jr.util.xorBytes(c,v,c.length),C=g.substring(0,i.digestLength),I=l!=="\0",y=0;y<i.digestLength;++y)I|=o.charAt(y)!==C.charAt(y);for(var m=1,S=i.digestLength,B=i.digestLength;B<g.length;B++){var L=g.charCodeAt(B),R=L&1^1,M=m?65534:0;I|=L&M,m=m&R,S+=m}if(I||g.charCodeAt(S)!==1)throw new Error("Invalid RSAES-OAEP padding.");return g.substring(S+1)};function Yo(e,t,r){r||(r=Jr.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),a=0;a<i;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(e+s),n+=r.digest().getBytes()}return n.substring(0,t)}var In=me;(function(){if(In.prime){In.prime;return}var e=In.prime=In.prime||{},t=In.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=function(f,d){return f|d};e.generateProbablePrime=function(f,d,v){typeof d=="function"&&(v=d,d={}),d=d||{};var g=d.algorithm||"PRIMEINC";typeof g=="string"&&(g={name:g}),g.options=g.options||{};var C=d.prng||In.random,I={nextBytes:function(y){for(var m=C.getBytesSync(y.length),S=0;S<y.length;++S)y[S]=m.charCodeAt(S)}};if(g.name==="PRIMEINC")return a(f,I,g.options,v);throw new Error("Invalid prime generation algorithm: "+g.name)};function a(f,d,v,g){return"workers"in v?l(f,d,v,g):s(f,d,v,g)}function s(f,d,v,g){var C=u(f,d),I=0,y=c(C.bitLength());"millerRabinTests"in v&&(y=v.millerRabinTests);var m=10;"maxBlockTime"in v&&(m=v.maxBlockTime),o(C,f,d,I,y,m,g)}function o(f,d,v,g,C,I,y){var m=+new Date;do{if(f.bitLength()>d&&(f=u(d,v)),f.isProbablePrime(C))return y(null,f);f.dAddOffset(r[g++%8],0)}while(I<0||+new Date-m<I);In.util.setImmediate(function(){o(f,d,v,g,C,I,y)})}function l(f,d,v,g){if(typeof Worker>"u")return s(f,d,v,g);var C=u(f,d),I=v.workers,y=v.workLoad||100,m=y*30/8,S=v.workerScript||"forge/prime.worker.js";if(I===-1)return In.util.estimateCores(function(L,R){L&&(R=2),I=R-1,B()});B();function B(){I=Math.max(1,I);for(var L=[],R=0;R<I;++R)L[R]=new Worker(S);for(var R=0;R<I;++R)L[R].addEventListener("message",V);var M=!1;function V(Q){if(!M){var G=Q.data;if(G.found){for(var ce=0;ce<L.length;++ce)L[ce].terminate();return M=!0,g(null,new t(G.prime,16))}C.bitLength()>f&&(C=u(f,d));var pe=C.toString(16);Q.target.postMessage({hex:pe,workLoad:y}),C.dAddOffset(m,0)}}}}function u(f,d){var v=new t(f,d),g=f-1;return v.testBit(g)||v.bitwiseTo(t.ONE.shiftLeft(g),i,v),v.dAddOffset(31-v.mod(n).byteValue(),0),v}function c(f){return f<=100?27:f<=150?18:f<=200?15:f<=250?12:f<=300?9:f<=350?8:f<=400?7:f<=500?6:f<=600?5:f<=800?4:f<=1250?3:2}})();var oe=me;if(typeof _e>"u")var _e=oe.jsbn.BigInteger;var Mc=oe.util.isNodejs?i0:null,O=oe.asn1,_r=oe.util;oe.pki=oe.pki||{};oe.pki.rsa=oe.rsa=oe.rsa||{};var he=oe.pki,MS=[6,4,2,4,2,4,6,2],FS={name:"PrivateKeyInfo",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:O.Class.UNIVERSAL,type:O.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},VS={name:"RSAPrivateKey",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},jS={name:"RSAPublicKey",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},KS=oe.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:O.Class.UNIVERSAL,type:O.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},zS={name:"DigestInfo",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:O.Class.UNIVERSAL,type:O.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:O.Class.UNIVERSAL,type:O.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},HS=function(e){var t;if(e.algorithm in he.oids)t=he.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=O.oidToDer(t).getBytes(),i=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]),a=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[]);a.value.push(O.create(O.Class.UNIVERSAL,O.Type.OID,!1,n)),a.value.push(O.create(O.Class.UNIVERSAL,O.Type.NULL,!1,""));var s=O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(a),i.value.push(s),O.toDer(i).getBytes()},N1=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(_e.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(_e.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new _e(oe.util.bytesToHex(oe.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(_e.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),a=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(a)<0;)i=i.add(t.p);var s=i.subtract(a).multiply(t.qInv).mod(t.p).multiply(t.q).add(a);return s=s.multiply(n.modInverse(t.n)).mod(t.n),s};he.rsa.encrypt=function(e,t,r){var n=r,i,a=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=D1(e,t,r)):(i=oe.util.createBuffer(),i.putBytes(e));for(var s=new _e(i.toHex(),16),o=N1(s,t,n),l=o.toString(16),u=oe.util.createBuffer(),c=a-Math.ceil(l.length/2);c>0;)u.putByte(0),--c;return u.putBytes(oe.util.hexToBytes(l)),u.getBytes()};he.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var a=new Error("Encrypted message length is invalid.");throw a.length=e.length,a.expected=i,a}var s=new _e(oe.util.createBuffer(e).toHex(),16);if(s.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var o=N1(s,t,r),l=o.toString(16),u=oe.util.createBuffer(),c=i-Math.ceil(l.length/2);c>0;)u.putByte(0),--c;return u.putBytes(oe.util.hexToBytes(l)),n!==!1?Xo(u.getBytes(),t,r):u.getBytes()};he.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||oe.random,i={nextBytes:function(o){for(var l=n.getBytesSync(o.length),u=0;u<o.length;++u)o[u]=l.charCodeAt(u)}},a=r.algorithm||"PRIMEINC",s;if(a==="PRIMEINC")s={algorithm:a,state:0,bits:e,rng:i,eInt:t||65537,e:new _e(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+a);return s};he.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new _e(null);r.fromInt(30);for(var n=0,i=function(f,d){return f|d},a=+new Date,s,o=0;e.keys===null&&(t<=0||o<t);){if(e.state===0){var l=e.p===null?e.pBits:e.qBits,u=l-1;e.pqState===0?(e.num=new _e(l,e.rng),e.num.testBit(u)||e.num.bitwiseTo(_e.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>l?e.pqState=0:e.num.isProbablePrime(qS(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(MS[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(_e.ONE).gcd(e.e).compareTo(_e.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(_e.ONE),e.q1=e.q.subtract(_e.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(_e.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var c=e.e.modInverse(e.phi);e.keys={privateKey:he.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:he.rsa.setPublicKey(e.n,e.e)}}s=+new Date,o+=s-a,a=s}return e.keys!==null};he.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!oe.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(ph("generateKeyPair"))return Mc.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(o,l,u){if(o)return n(o);n(null,{privateKey:he.privateKeyFromPem(u),publicKey:he.publicKeyFromPem(l)})});if(gh("generateKey")&&gh("exportKey"))return _r.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:yh(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(o){return _r.globalScope.crypto.subtle.exportKey("pkcs8",o.privateKey)}).then(void 0,function(o){n(o)}).then(function(o){if(o){var l=he.privateKeyFromAsn1(O.fromDer(oe.util.createBuffer(o)));n(null,{privateKey:l,publicKey:he.setRsaPublicKey(l.n,l.e)})}});if(vh("generateKey")&&vh("exportKey")){var i=_r.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:yh(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(o){var l=o.target.result,u=_r.globalScope.msCrypto.subtle.exportKey("pkcs8",l.privateKey);u.oncomplete=function(c){var f=c.target.result,d=he.privateKeyFromAsn1(O.fromDer(oe.util.createBuffer(f)));n(null,{privateKey:d,publicKey:he.setRsaPublicKey(d.n,d.e)})},u.onerror=function(c){n(c)}},i.onerror=function(o){n(o)};return}}else if(ph("generateKeyPairSync")){var a=Mc.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:he.privateKeyFromPem(a.privateKey),publicKey:he.publicKeyFromPem(a.publicKey)}}}var s=he.rsa.createKeyPairGenerationState(e,t,r);if(!n)return he.rsa.stepKeyPairGenerationState(s,0),s.keys;$S(s,r,n)};he.setRsaPublicKey=he.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,a){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(o,l,u){return D1(o,l,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(o,l){return oe.pkcs1.encode_rsa_oaep(l,o,a)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(o){return o}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var s=i.encode(n,r,!0);return he.rsa.encrypt(s,r,!0)},r.verify=function(n,i,a,s){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),s===void 0&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:function(l,u){u=Xo(u,r,!0);var c=O.fromDer(u,{parseAllBytes:s._parseAllDigestBytes}),f={},d=[];if(!O.validate(c,zS,f,d)){var v=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw v.errors=d,v}var g=O.derToOid(f.algorithmIdentifier);if(!(g===oe.oids.md2||g===oe.oids.md5||g===oe.oids.sha1||g===oe.oids.sha224||g===oe.oids.sha256||g===oe.oids.sha384||g===oe.oids.sha512||g===oe.oids["sha512-224"]||g===oe.oids["sha512-256"])){var v=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw v.oid=g,v}if((g===oe.oids.md2||g===oe.oids.md5)&&!("parameters"in f))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return l===f.digest}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(l,u){return u=Xo(u,r,!0),l===u}});var o=he.rsa.decrypt(i,r,!0,!1);return a.verify(n,o,r.n.bitLength())},r};he.setRsaPrivateKey=he.rsa.setPrivateKey=function(e,t,r,n,i,a,s,o){var l={n:e,e:t,d:r,p:n,q:i,dP:a,dQ:s,qInv:o};return l.decrypt=function(u,c,f){typeof c=="string"?c=c.toUpperCase():c===void 0&&(c="RSAES-PKCS1-V1_5");var d=he.rsa.decrypt(u,l,!1,!1);if(c==="RSAES-PKCS1-V1_5")c={decode:Xo};else if(c==="RSA-OAEP"||c==="RSAES-OAEP")c={decode:function(v,g){return oe.pkcs1.decode_rsa_oaep(g,v,f)}};else if(["RAW","NONE","NULL",null].indexOf(c)!==-1)c={decode:function(v){return v}};else throw new Error('Unsupported encryption scheme: "'+c+'".');return c.decode(d,l,!1)},l.sign=function(u,c){var f=!1;typeof c=="string"&&(c=c.toUpperCase()),c===void 0||c==="RSASSA-PKCS1-V1_5"?(c={encode:HS},f=1):(c==="NONE"||c==="NULL"||c===null)&&(c={encode:function(){return u}},f=1);var d=c.encode(u,l.n.bitLength());return he.rsa.encrypt(d,l,f)},l};he.wrapRsaPrivateKey=function(e){return O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(0).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(he.oids.rsaEncryption).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.NULL,!1,"")]),O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,O.toDer(e).getBytes())])};he.privateKeyFromAsn1=function(e){var t={},r=[];if(O.validate(e,FS,t,r)&&(e=O.fromDer(oe.util.createBuffer(t.privateKey))),t={},r=[],!O.validate(e,VS,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,a,s,o,l,u,c,f;return i=oe.util.createBuffer(t.privateKeyModulus).toHex(),a=oe.util.createBuffer(t.privateKeyPublicExponent).toHex(),s=oe.util.createBuffer(t.privateKeyPrivateExponent).toHex(),o=oe.util.createBuffer(t.privateKeyPrime1).toHex(),l=oe.util.createBuffer(t.privateKeyPrime2).toHex(),u=oe.util.createBuffer(t.privateKeyExponent1).toHex(),c=oe.util.createBuffer(t.privateKeyExponent2).toHex(),f=oe.util.createBuffer(t.privateKeyCoefficient).toHex(),he.setRsaPrivateKey(new _e(i,16),new _e(a,16),new _e(s,16),new _e(o,16),new _e(l,16),new _e(u,16),new _e(c,16),new _e(f,16))};he.privateKeyToAsn1=he.privateKeyToRSAPrivateKey=function(e){return O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(0).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,$r(e.n)),O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,$r(e.e)),O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,$r(e.d)),O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,$r(e.p)),O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,$r(e.q)),O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,$r(e.dP)),O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,$r(e.dQ)),O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,$r(e.qInv))])};he.publicKeyFromAsn1=function(e){var t={},r=[];if(O.validate(e,KS,t,r)){var n=O.derToOid(t.publicKeyOid);if(n!==he.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!O.validate(e,jS,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var a=oe.util.createBuffer(t.publicKeyModulus).toHex(),s=oe.util.createBuffer(t.publicKeyExponent).toHex();return he.setRsaPublicKey(new _e(a,16),new _e(s,16))};he.publicKeyToAsn1=he.publicKeyToSubjectPublicKeyInfo=function(e){return O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(he.oids.rsaEncryption).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.NULL,!1,"")]),O.create(O.Class.UNIVERSAL,O.Type.BITSTRING,!1,[he.publicKeyToRSAPublicKey(e)])])};he.publicKeyToRSAPublicKey=function(e){return O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,$r(e.n)),O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,$r(e.e))])};function D1(e,t,r){var n=oe.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=i-11,a}n.putByte(0),n.putByte(r);var s=i-3-e.length,o;if(r===0||r===1){o=r===0?0:255;for(var l=0;l<s;++l)n.putByte(o)}else for(;s>0;){for(var u=0,c=oe.random.getBytes(s),l=0;l<s;++l)o=c.charCodeAt(l),o===0?++u:n.putByte(o);s=u}return n.putByte(0),n.putBytes(e),n}function Xo(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),a=oe.util.createBuffer(e),s=a.getByte(),o=a.getByte();if(s!==0||r&&o!==0&&o!==1||!r&&o!=2||r&&o===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var l=0;if(o===0){l=i-3-n;for(var u=0;u<l;++u)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(o===1)for(l=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++l}else if(o===2)for(l=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++l}var c=a.getByte();if(c!==0||l!==i-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function $S(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){a(e.pBits,function(o,l){if(o)return r(o);if(e.p=l,e.q!==null)return s(o,e.q);a(e.qBits,s)})}function a(o,l){oe.prime.generateProbablePrime(o,n,l)}function s(o,l){if(o)return r(o);if(e.q=l,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(_e.ONE).gcd(e.e).compareTo(_e.ONE)!==0){e.p=null,i();return}if(e.q.subtract(_e.ONE).gcd(e.e).compareTo(_e.ONE)!==0){e.q=null,a(e.qBits,s);return}if(e.p1=e.p.subtract(_e.ONE),e.q1=e.q.subtract(_e.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(_e.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,a(e.qBits,s);return}var c=e.e.modInverse(e.phi);e.keys={privateKey:he.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:he.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}function $r(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=oe.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function qS(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function ph(e){return oe.util.isNodejs&&typeof Mc[e]=="function"}function gh(e){return typeof _r.globalScope<"u"&&typeof _r.globalScope.crypto=="object"&&typeof _r.globalScope.crypto.subtle=="object"&&typeof _r.globalScope.crypto.subtle[e]=="function"}function vh(e){return typeof _r.globalScope<"u"&&typeof _r.globalScope.msCrypto=="object"&&typeof _r.globalScope.msCrypto.subtle=="object"&&typeof _r.globalScope.msCrypto.subtle[e]=="function"}function yh(e){for(var t=oe.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}var J=me;if(typeof GS>"u")var GS=J.jsbn.BigInteger;var U=J.asn1,ye=J.pki=J.pki||{};ye.pbe=J.pbe=J.pbe||{};var ri=ye.oids,QS={name:"EncryptedPrivateKeyInfo",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:U.Class.UNIVERSAL,type:U.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},WS={name:"PBES2Algorithms",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:U.Class.UNIVERSAL,type:U.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:U.Class.UNIVERSAL,type:U.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},YS={name:"pkcs-12PbeParams",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:U.Class.UNIVERSAL,type:U.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"iterations"}]};ye.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=J.random.getBytesSync(r.saltSize),i=r.count,a=U.integerToDer(i),s,o,l;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,c,f;switch(r.algorithm){case"aes128":s=16,u=16,c=ri["aes128-CBC"],f=J.aes.createEncryptionCipher;break;case"aes192":s=24,u=16,c=ri["aes192-CBC"],f=J.aes.createEncryptionCipher;break;case"aes256":s=32,u=16,c=ri["aes256-CBC"],f=J.aes.createEncryptionCipher;break;case"des":s=8,u=8,c=ri.desCBC,f=J.des.createEncryptionCipher;break;default:var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var v="hmacWith"+r.prfAlgorithm.toUpperCase(),g=R1(v),C=J.pkcs5.pbkdf2(t,n,i,s,g),I=J.random.getBytesSync(u),y=f(C);y.start(I),y.update(U.toDer(e)),y.finish(),l=y.output.getBytes();var m=XS(n,a,s,v);o=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(ri.pkcs5PBES2).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(ri.pkcs5PBKDF2).getBytes()),m]),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(c).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,I)])])])}else if(r.algorithm==="3des"){s=24;var S=new J.util.ByteBuffer(n),C=ye.pbe.generatePkcs12Key(t,S,1,i,s),I=ye.pbe.generatePkcs12Key(t,S,2,i,s),y=J.des.createEncryptionCipher(C);y.start(I),y.update(U.toDer(e)),y.finish(),l=y.output.getBytes(),o=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(ri["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,n),U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,a.getBytes())])])}else{var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var B=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[o,U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,l)]);return B};ye.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!U.validate(e,QS,n,i)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=U.derToOid(n.encryptionOid),o=ye.pbe.getCipher(s,n.encryptionParams,t),l=J.util.createBuffer(n.encryptedData);return o.update(l),o.finish()&&(r=U.fromDer(o.output)),r};ye.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:U.toDer(e).getBytes()};return J.pem.encode(r,{maxline:t})};ye.encryptedPrivateKeyFromPem=function(e){var t=J.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return U.fromDer(t.body)};ye.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=ye.wrapRsaPrivateKey(ye.privateKeyToAsn1(e));return n=ye.encryptPrivateKeyInfo(n,t,r),ye.encryptedPrivateKeyToPem(n)}var i,a,s,o;switch(r.algorithm){case"aes128":i="AES-128-CBC",s=16,a=J.random.getBytesSync(16),o=J.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",s=24,a=J.random.getBytesSync(16),o=J.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",s=32,a=J.random.getBytesSync(16),o=J.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",s=24,a=J.random.getBytesSync(8),o=J.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=8,a=J.random.getBytesSync(8),o=J.des.createEncryptionCipher;break;default:var l=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw l.algorithm=r.algorithm,l}var u=J.pbe.opensslDeriveBytes(t,a.substr(0,8),s),c=o(u);c.start(a),c.update(U.toDer(ye.privateKeyToAsn1(e))),c.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:J.util.bytesToHex(a).toUpperCase()},body:c.output.getBytes()};return J.pem.encode(f)};ye.decryptRsaPrivateKey=function(e,t){var r=null,n=J.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,s;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,s=J.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,s=J.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,s=J.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,s=J.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,s=J.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,s=function(f){return J.rc2.createDecryptionCipher(f,40)};break;case"RC2-64-CBC":a=8,s=function(f){return J.rc2.createDecryptionCipher(f,64)};break;case"RC2-128-CBC":a=16,s=function(f){return J.rc2.createDecryptionCipher(f,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var o=J.util.hexToBytes(n.dekInfo.parameters),l=J.pbe.opensslDeriveBytes(t,o.substr(0,8),a),u=s(l);if(u.start(o),u.update(J.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=ye.decryptPrivateKeyInfo(U.fromDer(r),t):r=U.fromDer(r),r!==null&&(r=ye.privateKeyFromAsn1(r)),r};ye.pbe.generatePkcs12Key=function(e,t,r,n,i,a){var s,o;if(typeof a>"u"||a===null){if(!("sha1"in J.md))throw new Error('"sha1" hash algorithm unavailable.');a=J.md.sha1.create()}var l=a.digestLength,u=a.blockLength,c=new J.util.ByteBuffer,f=new J.util.ByteBuffer;if(e!=null){for(o=0;o<e.length;o++)f.putInt16(e.charCodeAt(o));f.putInt16(0)}var d=f.length(),v=t.length(),g=new J.util.ByteBuffer;g.fillWithByte(r,u);var C=u*Math.ceil(v/u),I=new J.util.ByteBuffer;for(o=0;o<C;o++)I.putByte(t.at(o%v));var y=u*Math.ceil(d/u),m=new J.util.ByteBuffer;for(o=0;o<y;o++)m.putByte(f.at(o%d));var S=I;S.putBuffer(m);for(var B=Math.ceil(i/l),L=1;L<=B;L++){var R=new J.util.ByteBuffer;R.putBytes(g.bytes()),R.putBytes(S.bytes());for(var M=0;M<n;M++)a.start(),a.update(R.getBytes()),R=a.digest();var V=new J.util.ByteBuffer;for(o=0;o<u;o++)V.putByte(R.at(o%l));var Q=Math.ceil(v/u)+Math.ceil(d/u),G=new J.util.ByteBuffer;for(s=0;s<Q;s++){var ce=new J.util.ByteBuffer(S.getBytes(u)),pe=511;for(o=V.length()-1;o>=0;o--)pe=pe>>8,pe+=V.at(o)+ce.at(o),ce.setAt(o,pe&255);G.putBuffer(ce)}S=G,c.putBuffer(R)}return c.truncate(c.length()-i),c};ye.pbe.getCipher=function(e,t,r){switch(e){case ye.oids.pkcs5PBES2:return ye.pbe.getCipherForPBES2(e,t,r);case ye.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case ye.oids["pbewithSHAAnd40BitRC2-CBC"]:return ye.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};ye.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!U.validate(t,WS,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}if(e=U.derToOid(n.kdfOid),e!==ye.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=e,a.supportedOids=["pkcs5PBKDF2"],a}if(e=U.derToOid(n.encOid),e!==ye.oids["aes128-CBC"]&&e!==ye.oids["aes192-CBC"]&&e!==ye.oids["aes256-CBC"]&&e!==ye.oids["des-EDE3-CBC"]&&e!==ye.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=e,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var s=n.kdfSalt,o=J.util.createBuffer(n.kdfIterationCount);o=o.getInt(o.length()<<3);var l,u;switch(ye.oids[e]){case"aes128-CBC":l=16,u=J.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,u=J.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,u=J.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,u=J.des.createDecryptionCipher;break;case"desCBC":l=8,u=J.des.createDecryptionCipher;break}var c=L1(n.prfOid),f=J.pkcs5.pbkdf2(r,s,o,l,c),d=n.encIv,v=u(f);return v.start(d),v};ye.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!U.validate(t,YS,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=J.util.createBuffer(n.salt),o=J.util.createBuffer(n.iterations);o=o.getInt(o.length()<<3);var l,u,c;switch(e){case ye.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:l=24,u=8,c=J.des.startDecrypting;break;case ye.oids["pbewithSHAAnd40BitRC2-CBC"]:l=5,u=8,c=function(C,I){var y=J.rc2.createDecryptionCipher(C,40);return y.start(I,null),y};break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=e,a}var f=L1(n.prfOid),d=ye.pbe.generatePkcs12Key(r,s,1,o,l,f);f.start();var v=ye.pbe.generatePkcs12Key(r,s,2,o,u,f);return c(d,v)};ye.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in J.md))throw new Error('"md5" hash algorithm unavailable.');n=J.md.md5.create()}t===null&&(t="");for(var i=[mh(n,e+t)],a=16,s=1;a<r;++s,a+=16)i.push(mh(n,i[s-1]+e+t));return i.join("").substr(0,r)};function mh(e,t){return e.start().update(t).digest().getBytes()}function L1(e){var t;if(!e)t="hmacWithSHA1";else if(t=ye.oids[U.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return R1(t)}function R1(e){var t=J.md;switch(e){case"hmacWithSHA224":t=J.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function XS(e,t,r,n){var i=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,e),U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,J.util.hexToBytes(r.toString(16))),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(ye.oids[n]).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")])),i}var ua=me,Z=ua.asn1,Ca=ua.pkcs7asn1=ua.pkcs7asn1||{};ua.pkcs7=ua.pkcs7||{};ua.pkcs7.asn1=Ca;var O1={name:"ContentInfo",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Z.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};Ca.contentInfoValidator=O1;var P1={name:"EncryptedContentInfo",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Z.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Z.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};Ca.envelopedDataValidator={name:"EnvelopedData",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(P1)};Ca.encryptedDataValidator={name:"EncryptedData",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"version"}].concat(P1)};var ZS={name:"SignerInfo",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Z.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Z.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Z.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};Ca.signedDataValidator={name:"SignedData",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},O1,{name:"SignedData.Certificates",tagClass:Z.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Z.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SET,capture:"signerInfos",optional:!0,value:[ZS]}]};Ca.recipientInfoValidator={name:"RecipientInfo",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Z.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]};var gi=me;gi.mgf=gi.mgf||{};var JS=gi.mgf.mgf1=gi.mgf1=gi.mgf1||{};JS.create=function(e){var t={generate:function(r,n){for(var i=new gi.util.ByteBuffer,a=Math.ceil(n/e.digestLength),s=0;s<a;s++){var o=new gi.util.ByteBuffer;o.putInt32(s),e.start(),e.update(r+o.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()}};return t};var Zo=me;Zo.mgf=Zo.mgf||{};Zo.mgf.mgf1=Zo.mgf1;var ai=me,ex=ai.pss=ai.pss||{};ex.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=ai.util.createBuffer(i));var a;if("saltLength"in e)a=e.saltLength;else if(i!==null)a=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==a)throw new Error("Given salt length does not match length of given salt.");var s=e.prng||ai.random,o={};return o.encode=function(l,u){var c,f=u-1,d=Math.ceil(f/8),v=l.digest().getBytes();if(d<n+a+2)throw new Error("Message is too long to encrypt.");var g;i===null?g=s.getBytesSync(a):g=i.bytes();var C=new ai.util.ByteBuffer;C.fillWithByte(0,8),C.putBytes(v),C.putBytes(g),t.start(),t.update(C.getBytes());var I=t.digest().getBytes(),y=new ai.util.ByteBuffer;y.fillWithByte(0,d-a-n-2),y.putByte(1),y.putBytes(g);var m=y.getBytes(),S=d-n-1,B=r.generate(I,S),L="";for(c=0;c<S;c++)L+=String.fromCharCode(m.charCodeAt(c)^B.charCodeAt(c));var R=65280>>8*d-f&255;return L=String.fromCharCode(L.charCodeAt(0)&~R)+L.substr(1),L+I+String.fromCharCode(188)},o.verify=function(l,u,c){var f,d=c-1,v=Math.ceil(d/8);if(u=u.substr(-v),v<n+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(v-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var g=v-n-1,C=u.substr(0,g),I=u.substr(g,n),y=65280>>8*v-d&255;if(C.charCodeAt(0)&y)throw new Error("Bits beyond keysize not zero as expected.");var m=r.generate(I,g),S="";for(f=0;f<g;f++)S+=String.fromCharCode(C.charCodeAt(f)^m.charCodeAt(f));S=String.fromCharCode(S.charCodeAt(0)&~y)+S.substr(1);var B=v-n-a-2;for(f=0;f<B;f++)if(S.charCodeAt(f)!==0)throw new Error("Leftmost octets not zero as expected");if(S.charCodeAt(B)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var L=S.substr(-a),R=new ai.util.ByteBuffer;R.fillWithByte(0,8),R.putBytes(l),R.putBytes(L),t.start(),t.update(R.getBytes());var M=t.digest().getBytes();return I===M},o};var le=me,E=le.asn1,q=le.pki=le.pki||{},Ie=q.oids,ut={};ut.CN=Ie.commonName;ut.commonName="CN";ut.C=Ie.countryName;ut.countryName="C";ut.L=Ie.localityName;ut.localityName="L";ut.ST=Ie.stateOrProvinceName;ut.stateOrProvinceName="ST";ut.O=Ie.organizationName;ut.organizationName="O";ut.OU=Ie.organizationalUnitName;ut.organizationalUnitName="OU";ut.E=Ie.emailAddress;ut.emailAddress="E";var U1=le.pki.rsa.publicKeyValidator,tx={name:"Certificate",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:E.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:E.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:E.Class.UNIVERSAL,type:E.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:E.Class.UNIVERSAL,type:E.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:E.Class.UNIVERSAL,type:E.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:E.Class.UNIVERSAL,type:E.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},U1,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:E.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:E.Class.UNIVERSAL,type:E.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:E.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:E.Class.UNIVERSAL,type:E.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:E.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:E.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:E.Class.UNIVERSAL,type:E.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},rx={name:"rsapss",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:E.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:E.Class.UNIVERSAL,type:E.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:E.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:E.Class.UNIVERSAL,type:E.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:E.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:E.Class.UNIVERSAL,type:E.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:E.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:E.Class.UNIVERSAL,type:E.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},nx={name:"CertificationRequestInfo",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},U1,{name:"CertificationRequestInfo.attributes",tagClass:E.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:E.Class.UNIVERSAL,type:E.Type.SET,constructed:!0}]}]}]},ix={name:"CertificationRequest",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[nx,{name:"CertificationRequest.signatureAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:E.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:E.Class.UNIVERSAL,type:E.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};q.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,a,s=0;s<e.value.length;++s){n=e.value[s];for(var o=0;o<n.value.length;++o)a={},i=n.value[o],a.type=E.derToOid(i.value[0].value),a.value=i.value[1].value,a.valueTagClass=i.value[1].type,a.type in Ie&&(a.name=Ie[a.type],a.name in ut&&(a.shortName=ut[a.name])),t&&(t.update(a.type),t.update(a.value)),r.push(a)}return r};q.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=E.derToOid(n.value[0].value),a=n.value[1].value,s=0;s<a.length;++s){var o={};if(o.type=i,o.value=a[s].value,o.valueTagClass=a[s].type,o.type in Ie&&(o.name=Ie[o.type],o.name in ut&&(o.shortName=ut[o.name])),o.type===Ie.extensionRequest){o.extensions=[];for(var l=0;l<o.value.length;++l)o.extensions.push(q.certificateExtensionFromAsn1(o.value[l]))}t.push(o)}return t};function Xn(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}var Jo=function(e,t,r){var n={};if(e!==Ie["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Ie.sha1},mgf:{algorithmOid:Ie.mgf1,hash:{algorithmOid:Ie.sha1}},saltLength:20});var i={},a=[];if(!E.validate(t,rx,i,a)){var s=new Error("Cannot read RSASSA-PSS parameter block.");throw s.errors=a,s}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=E.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=E.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=E.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},kl=function(e){switch(Ie[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return le.md.sha1.create();case"md5WithRSAEncryption":return le.md.md5.create();case"sha256WithRSAEncryption":return le.md.sha256.create();case"sha384WithRSAEncryption":return le.md.sha384.create();case"sha512WithRSAEncryption":return le.md.sha512.create();case"RSASSA-PSS":return le.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},M1=function(e){var t=e.certificate,r;switch(t.signatureOid){case Ie.sha1WithRSAEncryption:case Ie.sha1WithRSASignature:break;case Ie["RSASSA-PSS"]:var n,i;if(n=Ie[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||le.md[n]===void 0){var a=new Error("Unsupported MGF hash function.");throw a.oid=t.signatureParameters.mgf.hash.algorithmOid,a.name=n,a}if(i=Ie[t.signatureParameters.mgf.algorithmOid],i===void 0||le.mgf[i]===void 0){var a=new Error("Unsupported MGF function.");throw a.oid=t.signatureParameters.mgf.algorithmOid,a.name=i,a}if(i=le.mgf[i].create(le.md[n].create()),n=Ie[t.signatureParameters.hash.algorithmOid],n===void 0||le.md[n]===void 0){var a=new Error("Unsupported RSASSA-PSS hash function.");throw a.oid=t.signatureParameters.hash.algorithmOid,a.name=n,a}r=le.pss.create(le.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)};q.certificateFromPem=function(e,t,r){var n=le.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=E.fromDer(n.body,r);return q.certificateFromAsn1(a,t)};q.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:E.toDer(q.certificateToAsn1(e)).getBytes()};return le.pem.encode(r,{maxline:t})};q.publicKeyFromPem=function(e){var t=le.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=E.fromDer(t.body);return q.publicKeyFromAsn1(n)};q.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:E.toDer(q.publicKeyToAsn1(e)).getBytes()};return le.pem.encode(r,{maxline:t})};q.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:E.toDer(q.publicKeyToRSAPublicKey(e)).getBytes()};return le.pem.encode(r,{maxline:t})};q.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||le.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=E.toDer(q.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=E.toDer(q.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var a=r.digest();if(t.encoding==="hex"){var s=a.toHex();return t.delimiter?s.match(/.{2}/g).join(t.delimiter):s}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};q.certificationRequestFromPem=function(e,t,r){var n=le.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=E.fromDer(n.body,r);return q.certificationRequestFromAsn1(a,t)};q.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:E.toDer(q.certificationRequestToAsn1(e)).getBytes()};return le.pem.encode(r,{maxline:t})};q.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return Xn(e.issuer,t)},e.issuer.addField=function(t){Ar([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return Xn(e.subject,t)},e.subject.addField=function(t){Ar([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){Ar(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){Ar(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)F1(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||le.md.sha1.create();var n=Ie[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=q.getTBSCertificate(e);var a=E.toDer(e.tbsCertificate);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=i.attributes,a.actualIssuer=n.attributes,a}var s=t.md;if(s===null){s=kl({signatureOid:t.signatureOid,type:"certificate"});var o=t.tbsCertificate||q.getTBSCertificate(t),l=E.toDer(o);s.update(l.getBytes())}return s!==null&&(r=M1({certificate:e,md:s,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var a,s,o=0;r&&o<n.attributes.length;++o)a=n.attributes[o],s=i.attributes[o],(a.type!==s.type||a.value!==s.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return q.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Ie.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return le.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};q.certificateFromAsn1=function(e,t){var r={},n=[];if(!E.validate(e,tx,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var a=E.derToOid(r.publicKeyOid);if(a!==q.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=q.createCertificate();s.version=r.certVersion?r.certVersion.charCodeAt(0):0;var o=le.util.createBuffer(r.certSerialNumber);s.serialNumber=o.toHex(),s.signatureOid=le.asn1.derToOid(r.certSignatureOid),s.signatureParameters=Jo(s.signatureOid,r.certSignatureParams,!0),s.siginfo.algorithmOid=le.asn1.derToOid(r.certinfoSignatureOid),s.siginfo.parameters=Jo(s.siginfo.algorithmOid,r.certinfoSignatureParams,!1),s.signature=r.certSignature;var l=[];if(r.certValidity1UTCTime!==void 0&&l.push(E.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&l.push(E.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&l.push(E.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&l.push(E.generalizedTimeToDate(r.certValidity4GeneralizedTime)),l.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(l.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(s.validity.notBefore=l[0],s.validity.notAfter=l[1],s.tbsCertificate=r.tbsCertificate,t){s.md=kl({signatureOid:s.signatureOid,type:"certificate"});var u=E.toDer(s.tbsCertificate);s.md.update(u.getBytes())}var c=le.md.sha1.create(),f=E.toDer(r.certIssuer);c.update(f.getBytes()),s.issuer.getField=function(g){return Xn(s.issuer,g)},s.issuer.addField=function(g){Ar([g]),s.issuer.attributes.push(g)},s.issuer.attributes=q.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(s.issuer.uniqueId=r.certIssuerUniqueId),s.issuer.hash=c.digest().toHex();var d=le.md.sha1.create(),v=E.toDer(r.certSubject);return d.update(v.getBytes()),s.subject.getField=function(g){return Xn(s.subject,g)},s.subject.addField=function(g){Ar([g]),s.subject.attributes.push(g)},s.subject.attributes=q.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(s.subject.uniqueId=r.certSubjectUniqueId),s.subject.hash=d.digest().toHex(),r.certExtensions?s.extensions=q.certificateExtensionsFromAsn1(r.certExtensions):s.extensions=[],s.publicKey=q.publicKeyFromAsn1(r.subjectPublicKeyInfo),s};q.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(q.certificateExtensionFromAsn1(n.value[i]));return t};q.certificateExtensionFromAsn1=function(e){var t={};if(t.id=E.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===E.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Ie){if(t.name=Ie[t.id],t.name==="keyUsage"){var r=E.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=E.fromDer(t.value);r.value.length>0&&r.value[0].type===E.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var a=null;r.value.length>0&&r.value[0].type===E.Type.INTEGER?a=r.value[0].value:r.value.length>1&&(a=r.value[1].value),a!==null&&(t.pathLenConstraint=E.derToInteger(a))}else if(t.name==="extKeyUsage")for(var r=E.fromDer(t.value),s=0;s<r.value.length;++s){var o=E.derToOid(r.value[s].value);o in Ie?t[Ie[o]]=!0:t[o]=!0}else if(t.name==="nsCertType"){var r=E.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var l,r=E.fromDer(t.value),u=0;u<r.value.length;++u){l=r.value[u];var c={type:l.type,value:l.value};switch(t.altNames.push(c),l.type){case 1:case 2:case 6:break;case 7:c.ip=le.util.bytesToIP(l.value);break;case 8:c.oid=E.derToOid(l.value);break}}}else if(t.name==="subjectKeyIdentifier"){var r=E.fromDer(t.value);t.subjectKeyIdentifier=le.util.bytesToHex(r.value)}}return t};q.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!E.validate(e,ix,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var a=E.derToOid(r.publicKeyOid);if(a!==q.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=q.createCertificationRequest();if(s.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,s.signatureOid=le.asn1.derToOid(r.csrSignatureOid),s.signatureParameters=Jo(s.signatureOid,r.csrSignatureParams,!0),s.siginfo.algorithmOid=le.asn1.derToOid(r.csrSignatureOid),s.siginfo.parameters=Jo(s.siginfo.algorithmOid,r.csrSignatureParams,!1),s.signature=r.csrSignature,s.certificationRequestInfo=r.certificationRequestInfo,t){s.md=kl({signatureOid:s.signatureOid,type:"certification request"});var o=E.toDer(s.certificationRequestInfo);s.md.update(o.getBytes())}var l=le.md.sha1.create();return s.subject.getField=function(u){return Xn(s.subject,u)},s.subject.addField=function(u){Ar([u]),s.subject.attributes.push(u)},s.subject.attributes=q.RDNAttributesAsArray(r.certificationRequestInfoSubject,l),s.subject.hash=l.digest().toHex(),s.publicKey=q.publicKeyFromAsn1(r.subjectPublicKeyInfo),s.getAttribute=function(u){return Xn(s,u)},s.addAttribute=function(u){Ar([u]),s.attributes.push(u)},s.attributes=q.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),s};q.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return Xn(e.subject,t)},e.subject.addField=function(t){Ar([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return Xn(e,t)},e.addAttribute=function(t){Ar([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){Ar(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){Ar(t),e.attributes=t},e.sign=function(t,r){e.md=r||le.md.sha1.create();var n=Ie[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=q.getCertificationRequestInfo(e);var a=E.toDer(e.certificationRequestInfo);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=kl({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||q.getCertificationRequestInfo(e),i=E.toDer(n);r.update(i.getBytes())}return r!==null&&(t=M1({certificate:e,md:r,signature:e.signature})),t},e};function ca(e){for(var t=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,a=0;a<i.length;++a){r=i[a];var s=r.value,o=E.Type.PRINTABLESTRING;"valueTagClass"in r&&(o=r.valueTagClass,o===E.Type.UTF8&&(s=le.util.encodeUtf8(s))),n=E.create(E.Class.UNIVERSAL,E.Type.SET,!0,[E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(r.type).getBytes()),E.create(E.Class.UNIVERSAL,o,!1,s)])]),t.value.push(n)}return t}function Ar(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in q.oids?t.name=q.oids[t.type]:t.shortName&&t.shortName in ut&&(t.name=q.oids[ut[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in q.oids)t.type=q.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in ut&&(t.shortName=ut[t.name]),t.type===Ie.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=E.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(q.certificateExtensionToAsn1(F1(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}function F1(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in q.oids&&(e.name=q.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in q.oids)e.id=q.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,a=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(a|=128,n=7);var s=String.fromCharCode(n);a!==0?s+=String.fromCharCode(i)+String.fromCharCode(a):i!==0&&(s+=String.fromCharCode(i)),e.value=E.create(E.Class.UNIVERSAL,E.Type.BITSTRING,!1,s)}else if(e.name==="basicConstraints")e.value=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(E.create(E.Class.UNIVERSAL,E.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,E.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[]);var o=e.value.value;for(var l in e)e[l]===!0&&(l in Ie?o.push(E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(Ie[l]).getBytes())):l.indexOf(".")!==-1&&o.push(E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(l).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var s=String.fromCharCode(n);i!==0&&(s+=String.fromCharCode(i)),e.value=E.create(E.Class.UNIVERSAL,E.Type.BITSTRING,!1,s)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[]);for(var u,c=0;c<e.altNames.length;++c){u=e.altNames[c];var s=u.value;if(u.type===7&&u.ip){if(s=le.util.bytesFromIP(u.ip),s===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?s=E.oidToDer(E.oidToDer(u.oid)):s=E.oidToDer(s));e.value.value.push(E.create(E.Class.CONTEXT_SPECIFIC,u.type,!1,s))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=E.create(E.Class.UNIVERSAL,E.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var f=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=f.toHex(),e.value=E.create(E.Class.UNIVERSAL,E.Type.OCTETSTRING,!1,f.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[]);var o=e.value.value;if(e.keyIdentifier){var d=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;o.push(E.create(E.Class.CONTEXT_SPECIFIC,0,!1,d))}if(e.authorityCertIssuer){var v=[E.create(E.Class.CONTEXT_SPECIFIC,4,!0,[ca(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];o.push(E.create(E.Class.CONTEXT_SPECIFIC,1,!0,v))}if(e.serialNumber){var g=le.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);o.push(E.create(E.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if(e.name==="cRLDistributionPoints"){e.value=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[]);for(var o=e.value.value,C=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[]),I=E.create(E.Class.CONTEXT_SPECIFIC,0,!0,[]),u,c=0;c<e.altNames.length;++c){u=e.altNames[c];var s=u.value;if(u.type===7&&u.ip){if(s=le.util.bytesFromIP(u.ip),s===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?s=E.oidToDer(E.oidToDer(u.oid)):s=E.oidToDer(s));I.value.push(E.create(E.Class.CONTEXT_SPECIFIC,u.type,!1,s))}C.value.push(E.create(E.Class.CONTEXT_SPECIFIC,0,!0,[I])),o.push(C)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}function o0(e,t){switch(e){case Ie["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(E.create(E.Class.CONTEXT_SPECIFIC,0,!0,[E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(t.hash.algorithmOid).getBytes()),E.create(E.Class.UNIVERSAL,E.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(E.create(E.Class.CONTEXT_SPECIFIC,1,!0,[E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(t.mgf.algorithmOid).getBytes()),E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(t.mgf.hash.algorithmOid).getBytes()),E.create(E.Class.UNIVERSAL,E.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(E.create(E.Class.CONTEXT_SPECIFIC,2,!0,[E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,E.integerToDer(t.saltLength).getBytes())])),E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,r);default:return E.create(E.Class.UNIVERSAL,E.Type.NULL,!1,"")}}function ax(e){var t=E.create(E.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],a=i.value,s=E.Type.UTF8;"valueTagClass"in i&&(s=i.valueTagClass),s===E.Type.UTF8&&(a=le.util.encodeUtf8(a));var o=!1;"valueConstructed"in i&&(o=i.valueConstructed);var l=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(i.type).getBytes()),E.create(E.Class.UNIVERSAL,E.Type.SET,!0,[E.create(E.Class.UNIVERSAL,s,o,a)])]);t.value.push(l)}return t}var sx=new Date("1950-01-01T00:00:00Z"),ox=new Date("2050-01-01T00:00:00Z");function Ch(e){return e>=sx&&e<ox?E.create(E.Class.UNIVERSAL,E.Type.UTCTIME,!1,E.dateToUtcTime(e)):E.create(E.Class.UNIVERSAL,E.Type.GENERALIZEDTIME,!1,E.dateToGeneralizedTime(e))}q.getTBSCertificate=function(e){var t=Ch(e.validity.notBefore),r=Ch(e.validity.notAfter),n=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.CONTEXT_SPECIFIC,0,!0,[E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,E.integerToDer(e.version).getBytes())]),E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,le.util.hexToBytes(e.serialNumber)),E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(e.siginfo.algorithmOid).getBytes()),o0(e.siginfo.algorithmOid,e.siginfo.parameters)]),ca(e.issuer),E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[t,r]),ca(e.subject),q.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(E.create(E.Class.CONTEXT_SPECIFIC,1,!0,[E.create(E.Class.UNIVERSAL,E.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(E.create(E.Class.CONTEXT_SPECIFIC,2,!0,[E.create(E.Class.UNIVERSAL,E.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(q.certificateExtensionsToAsn1(e.extensions)),n};q.getCertificationRequestInfo=function(e){var t=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,E.integerToDer(e.version).getBytes()),ca(e.subject),q.publicKeyToAsn1(e.publicKey),ax(e)]);return t};q.distinguishedNameToAsn1=function(e){return ca(e)};q.certificateToAsn1=function(e){var t=e.tbsCertificate||q.getTBSCertificate(e);return E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[t,E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(e.signatureOid).getBytes()),o0(e.signatureOid,e.signatureParameters)]),E.create(E.Class.UNIVERSAL,E.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};q.certificateExtensionsToAsn1=function(e){var t=E.create(E.Class.CONTEXT_SPECIFIC,3,!0,[]),r=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(q.certificateExtensionToAsn1(e[n]));return t};q.certificateExtensionToAsn1=function(e){var t=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[]);t.value.push(E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(e.id).getBytes())),e.critical&&t.value.push(E.create(E.Class.UNIVERSAL,E.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return typeof e.value!="string"&&(r=E.toDer(r).getBytes()),t.value.push(E.create(E.Class.UNIVERSAL,E.Type.OCTETSTRING,!1,r)),t};q.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||q.getCertificationRequestInfo(e);return E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[t,E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(e.signatureOid).getBytes()),o0(e.signatureOid,e.signatureParameters)]),E.create(E.Class.UNIVERSAL,E.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};q.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(s){var o=r(s.issuer);return o},t.addCertificate=function(s){if(typeof s=="string"&&(s=le.pki.certificateFromPem(s)),n(s.subject),!t.hasCertificate(s))if(s.subject.hash in t.certs){var o=t.certs[s.subject.hash];le.util.isArray(o)||(o=[o]),o.push(s),t.certs[s.subject.hash]=o}else t.certs[s.subject.hash]=s},t.hasCertificate=function(s){typeof s=="string"&&(s=le.pki.certificateFromPem(s));var o=r(s.subject);if(!o)return!1;le.util.isArray(o)||(o=[o]);for(var l=E.toDer(q.certificateToAsn1(s)).getBytes(),u=0;u<o.length;++u){var c=E.toDer(q.certificateToAsn1(o[u])).getBytes();if(l===c)return!0}return!1},t.listAllCertificates=function(){var s=[];for(var o in t.certs)if(t.certs.hasOwnProperty(o)){var l=t.certs[o];if(!le.util.isArray(l))s.push(l);else for(var u=0;u<l.length;++u)s.push(l[u])}return s},t.removeCertificate=function(s){var o;if(typeof s=="string"&&(s=le.pki.certificateFromPem(s)),n(s.subject),!t.hasCertificate(s))return null;var l=r(s.subject);if(!le.util.isArray(l))return o=t.certs[s.subject.hash],delete t.certs[s.subject.hash],o;for(var u=E.toDer(q.certificateToAsn1(s)).getBytes(),c=0;c<l.length;++c){var f=E.toDer(q.certificateToAsn1(l[c])).getBytes();u===f&&(o=l[c],l.splice(c,1))}return l.length===0&&delete t.certs[s.subject.hash],o};function r(s){return n(s),t.certs[s.hash]||null}function n(s){if(!s.hash){var o=le.md.sha1.create();s.attributes=q.RDNAttributesAsArray(ca(s),o),s.hash=o.digest().toHex()}}if(e)for(var i=0;i<e.length;++i){var a=e[i];t.addCertificate(a)}return t};q.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};q.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var a=!0,s=null,o=0;do{var l=t.shift(),u=null,c=!1;if(i&&(i<l.validity.notBefore||i>l.validity.notAfter)&&(s={message:"Certificate is not valid yet or has expired.",error:q.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:i}),s===null){if(u=t[0]||e.getIssuer(l),u===null&&l.isIssuer(l)&&(c=!0,u=l),u){var f=u;le.util.isArray(f)||(f=[f]);for(var d=!1;!d&&f.length>0;){u=f.shift();try{d=u.verify(l)}catch{}}d||(s={message:"Certificate signature is invalid.",error:q.certificateError.bad_certificate})}s===null&&(!u||c)&&!e.hasCertificate(l)&&(s={message:"Certificate is not trusted.",error:q.certificateError.unknown_ca})}if(s===null&&u&&!l.isIssuer(u)&&(s={message:"Certificate issuer is invalid.",error:q.certificateError.bad_certificate}),s===null)for(var v={keyUsage:!0,basicConstraints:!0},g=0;s===null&&g<l.extensions.length;++g){var C=l.extensions[g];C.critical&&!(C.name in v)&&(s={message:"Certificate has an unsupported critical extension.",error:q.certificateError.unsupported_certificate})}if(s===null&&(!a||t.length===0&&(!u||c))){var I=l.getExtension("basicConstraints"),y=l.getExtension("keyUsage");if(y!==null&&(!y.keyCertSign||I===null)&&(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:q.certificateError.bad_certificate}),s===null&&I!==null&&!I.cA&&(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:q.certificateError.bad_certificate}),s===null&&y!==null&&"pathLenConstraint"in I){var m=o-1;m>I.pathLenConstraint&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:q.certificateError.bad_certificate})}}var S=s===null?!0:s.error,B=r.verify?r.verify(S,o,n):S;if(B===!0)s=null;else throw S===!0&&(s={message:"The application rejected the certificate.",error:q.certificateError.bad_certificate}),(B||B===0)&&(typeof B=="object"&&!le.util.isArray(B)?(B.message&&(s.message=B.message),B.error&&(s.error=B.error)):typeof B=="string"&&(s.error=B)),s;a=!1,++o}while(t.length>0);return!0};var $e=me,A=$e.asn1,Ee=$e.pki,Ss=$e.pkcs12=$e.pkcs12||{},V1={name:"ContentInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:A.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},lx={name:"PFX",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"version"},V1,{name:"PFX.macData",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:A.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},ux={name:"SafeBag",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:A.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:A.Class.UNIVERSAL,type:A.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},cx={name:"Attribute",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:A.Class.UNIVERSAL,type:A.Type.SET,constructed:!0,capture:"values"}]},fx={name:"CertBag",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:A.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:A.Class.UNIVERSAL,type:A.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function La(e,t,r,n){for(var i=[],a=0;a<e.length;a++)for(var s=0;s<e[a].safeBags.length;s++){var o=e[a].safeBags[s];if(!(n!==void 0&&o.type!==n)){if(t===null){i.push(o);continue}o.attributes[t]!==void 0&&o.attributes[t].indexOf(r)>=0&&i.push(o)}}return i}Ss.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!A.validate(e,lx,n,i)){var a=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw a.errors=a,a}var s={version:n.version.charCodeAt(0),safeContents:[],getBags:function(I){var y={},m;return"localKeyId"in I?m=I.localKeyId:"localKeyIdHex"in I&&(m=$e.util.hexToBytes(I.localKeyIdHex)),m===void 0&&!("friendlyName"in I)&&"bagType"in I&&(y[I.bagType]=La(s.safeContents,null,null,I.bagType)),m!==void 0&&(y.localKeyId=La(s.safeContents,"localKeyId",m,I.bagType)),"friendlyName"in I&&(y.friendlyName=La(s.safeContents,"friendlyName",I.friendlyName,I.bagType)),y},getBagsByFriendlyName:function(I,y){return La(s.safeContents,"friendlyName",I,y)},getBagsByLocalKeyId:function(I,y){return La(s.safeContents,"localKeyId",I,y)}};if(n.version.charCodeAt(0)!==3){var a=new Error("PKCS#12 PFX of version other than 3 not supported.");throw a.version=n.version.charCodeAt(0),a}if(A.derToOid(n.contentType)!==Ee.oids.data){var a=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw a.oid=A.derToOid(n.contentType),a}var o=n.content.value[0];if(o.tagClass!==A.Class.UNIVERSAL||o.type!==A.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(o=l0(o),n.mac){var l=null,u=0,c=A.derToOid(n.macAlgorithm);switch(c){case Ee.oids.sha1:l=$e.md.sha1.create(),u=20;break;case Ee.oids.sha256:l=$e.md.sha256.create(),u=32;break;case Ee.oids.sha384:l=$e.md.sha384.create(),u=48;break;case Ee.oids.sha512:l=$e.md.sha512.create(),u=64;break;case Ee.oids.md5:l=$e.md.md5.create(),u=16;break}if(l===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+c);var f=new $e.util.ByteBuffer(n.macSalt),d="macIterations"in n?parseInt($e.util.bytesToHex(n.macIterations),16):1,v=Ss.generateKey(r,f,3,d,u,l),g=$e.hmac.create();g.start(l,v),g.update(o.value);var C=g.getMac();if(C.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return dx(s,o.value,t,r),s};function l0(e){if(e.composed||e.constructed){for(var t=$e.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function dx(e,t,r,n){if(t=A.fromDer(t,r),t.tagClass!==A.Class.UNIVERSAL||t.type!==A.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var a=t.value[i],s={},o=[];if(!A.validate(a,V1,s,o)){var l=new Error("Cannot read ContentInfo.");throw l.errors=o,l}var u={encrypted:!1},c=null,f=s.content.value[0];switch(A.derToOid(s.contentType)){case Ee.oids.data:if(f.tagClass!==A.Class.UNIVERSAL||f.type!==A.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");c=l0(f).value;break;case Ee.oids.encryptedData:c=hx(f,n),u.encrypted=!0;break;default:var l=new Error("Unsupported PKCS#12 contentType.");throw l.contentType=A.derToOid(s.contentType),l}u.safeBags=px(c,r,n),e.safeContents.push(u)}}function hx(e,t){var r={},n=[];if(!A.validate(e,$e.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var a=A.derToOid(r.contentType);if(a!==Ee.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=a,i}a=A.derToOid(r.encAlgorithm);var s=Ee.pbe.getCipher(a,r.encParameter,t),o=l0(r.encryptedContentAsn1),l=$e.util.createBuffer(o.value);if(s.update(l),!s.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return s.output.getBytes()}function px(e,t,r){if(!t&&e.length===0)return[];if(e=A.fromDer(e,t),e.tagClass!==A.Class.UNIVERSAL||e.type!==A.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var a=e.value[i],s={},o=[];if(!A.validate(a,ux,s,o)){var l=new Error("Cannot read SafeBag.");throw l.errors=o,l}var u={type:A.derToOid(s.bagId),attributes:gx(s.bagAttributes)};n.push(u);var c,f,d=s.bagValue.value[0];switch(u.type){case Ee.oids.pkcs8ShroudedKeyBag:if(d=Ee.decryptPrivateKeyInfo(d,r),d===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case Ee.oids.keyBag:try{u.key=Ee.privateKeyFromAsn1(d)}catch{u.key=null,u.asn1=d}continue;case Ee.oids.certBag:c=fx,f=function(){if(A.derToOid(s.certId)!==Ee.oids.x509Certificate){var g=new Error("Unsupported certificate type, only X.509 supported.");throw g.oid=A.derToOid(s.certId),g}var C=A.fromDer(s.cert,t);try{u.cert=Ee.certificateFromAsn1(C,!0)}catch{u.cert=null,u.asn1=C}};break;default:var l=new Error("Unsupported PKCS#12 SafeBag type.");throw l.oid=u.type,l}if(c!==void 0&&!A.validate(d,c,s,o)){var l=new Error("Cannot read PKCS#12 "+c.name);throw l.errors=o,l}f()}return n}function gx(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!A.validate(e[r],cx,n,i)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=i,a}var s=A.derToOid(n.oid);if(Ee.oids[s]!==void 0){t[Ee.oids[s]]=[];for(var o=0;o<n.values.length;++o)t[Ee.oids[s]].push(n.values[o].value)}}return t}Ss.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,a;if(i!==null)i=$e.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var s=$e.util.isArray(t)?t[0]:t;typeof s=="string"&&(s=Ee.certificateFromPem(s));var o=$e.md.sha1.create();o.update(A.toDer(Ee.certificateToAsn1(s)).getBytes()),i=o.digest().getBytes()}else i=$e.random.getBytes(20);var l=[];i!==null&&l.push(A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(Ee.oids.localKeyId).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SET,!0,[A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&l.push(A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(Ee.oids.friendlyName).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SET,!0,[A.create(A.Class.UNIVERSAL,A.Type.BMPSTRING,!1,n.friendlyName)])])),l.length>0&&(a=A.create(A.Class.UNIVERSAL,A.Type.SET,!0,l));var u=[],c=[];t!==null&&($e.util.isArray(t)?c=t:c=[t]);for(var f=[],d=0;d<c.length;++d){t=c[d],typeof t=="string"&&(t=Ee.certificateFromPem(t));var v=d===0?a:void 0,g=Ee.certificateToAsn1(t),C=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(Ee.oids.certBag).getBytes()),A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(Ee.oids.x509Certificate).getBytes()),A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,A.toDer(g).getBytes())])])]),v]);f.push(C)}if(f.length>0){var I=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,f),y=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(Ee.oids.data).getBytes()),A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,A.toDer(I).getBytes())])]);u.push(y)}var m=null;if(e!==null){var S=Ee.wrapRsaPrivateKey(Ee.privateKeyToAsn1(e));r===null?m=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(Ee.oids.keyBag).getBytes()),A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[S]),a]):m=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(Ee.oids.pkcs8ShroudedKeyBag).getBytes()),A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[Ee.encryptPrivateKeyInfo(S,r,n)]),a]);var B=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[m]),L=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(Ee.oids.data).getBytes()),A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,A.toDer(B).getBytes())])]);u.push(L)}var R=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,u),M;if(n.useMac){var o=$e.md.sha1.create(),V=new $e.util.ByteBuffer($e.random.getBytes(n.saltSize)),Q=n.count,e=Ss.generateKey(r,V,3,Q,20),G=$e.hmac.create();G.start(o,e),G.update(A.toDer(R).getBytes());var ce=G.getMac();M=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(Ee.oids.sha1).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")]),A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,ce.getBytes())]),A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,V.getBytes()),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(Q).getBytes())])}return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(3).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(Ee.oids.data).getBytes()),A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,A.toDer(R).getBytes())])]),M])};Ss.generateKey=$e.pbe.generatePkcs12Key;var Zn=me,u0=Zn.asn1,fa=Zn.pki=Zn.pki||{};fa.pemToDer=function(e){var t=Zn.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Zn.util.createBuffer(t.body)};fa.privateKeyFromPem=function(e){var t=Zn.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=u0.fromDer(t.body);return fa.privateKeyFromAsn1(n)};fa.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:u0.toDer(fa.privateKeyToAsn1(e)).getBytes()};return Zn.pem.encode(r,{maxline:t})};fa.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:u0.toDer(e).getBytes()};return Zn.pem.encode(r,{maxline:t})};var j=me,bl=function(e,t,r,n){var i=j.util.createBuffer(),a=e.length>>1,s=a+(e.length&1),o=e.substr(0,s),l=e.substr(a,s),u=j.util.createBuffer(),c=j.hmac.create();r=t+r;var f=Math.ceil(n/16),d=Math.ceil(n/20);c.start("MD5",o);var v=j.util.createBuffer();u.putBytes(r);for(var g=0;g<f;++g)c.start(null,null),c.update(u.getBytes()),u.putBuffer(c.digest()),c.start(null,null),c.update(u.bytes()+r),v.putBuffer(c.digest());c.start("SHA1",l);var C=j.util.createBuffer();u.clear(),u.putBytes(r);for(var g=0;g<d;++g)c.start(null,null),c.update(u.getBytes()),u.putBuffer(c.digest()),c.start(null,null),c.update(u.bytes()+r),C.putBuffer(c.digest());return i.putBytes(j.util.xorBytes(v.getBytes(),C.getBytes(),n)),i},vx=function(e,t,r){var n=j.hmac.create();n.start("SHA1",e);var i=j.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},yx=function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=j.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},mx=function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=j.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},sr=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return j.util.createBuffer(e.getBytes(r))},Er=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},T={};T.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};T.SupportedVersions=[T.Versions.TLS_1_1,T.Versions.TLS_1_0];T.Version=T.SupportedVersions[0];T.MaxFragment=16384-1024;T.ConnectionEnd={server:0,client:1};T.PRFAlgorithm={tls_prf_sha256:0};T.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};T.CipherType={stream:0,block:1,aead:2};T.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};T.CompressionMethod={none:0,deflate:1};T.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};T.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};T.Alert={};T.Alert.Level={warning:1,fatal:2};T.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};T.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};T.CipherSuites={};T.getCipherSuite=function(e){var t=null;for(var r in T.CipherSuites){var n=T.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};T.handleUnexpected=function(e,t){var r=!e.open&&e.entity===T.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.unexpected_message}})};T.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(T.queue(e,T.createAlert(e,{level:T.Alert.Level.warning,description:T.Alert.Description.no_renegotiation})),T.flush(e)),e.process()};T.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===T.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.illegal_parameter}});else{var a=t.fragment,s=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:j.util.createBuffer(a.getBytes(32)),session_id:sr(a,1),extensions:[]},i?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=sr(a,2),n.compression_methods=sr(a,1)),s=r-(s-a.length()),s>0){for(var o=sr(a,2);o.length()>0;)n.extensions.push({type:[o.getByte(),o.getByte()],data:sr(o,2)});if(!i)for(var l=0;l<n.extensions.length;++l){var u=n.extensions[l];if(u.type[0]===0&&u.type[1]===0)for(var c=sr(u.data,2);c.length()>0;){var f=c.getByte();if(f!==0)break;e.session.extensions.server_name.serverNameList.push(sr(c,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=T.getCipherSuite(n.cipher_suite);else for(var d=j.util.createBuffer(n.cipher_suites.bytes());d.length()>0&&(e.session.cipherSuite=T.getCipherSuite(d.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.handshake_failure},cipherSuite:j.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=T.CompressionMethod.none}return n};T.createSecurityParameters=function(e,t){var r=e.entity===T.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,a=r?n:T.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:T.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:a}};T.handleServerHello=function(e,t,r){var n=T.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=j1,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=Ex,e.session.resuming=!1,T.createSecurityParameters(e,n)),e.session.id=i,e.process()}};T.handleClientHello=function(e,t,r){var n=T.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),a=null;if(e.sessionCache&&(a=e.sessionCache.getSession(i),a===null?i="":(a.version.major!==n.version.major||a.version.minor>n.version.minor)&&(a=null,i="")),i.length===0&&(i=j.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},a)e.version=e.session.version=a.version,e.session.sp=a.sp;else{for(var s,o=1;o<T.SupportedVersions.length&&(s=T.SupportedVersions[o],!(s.minor<=n.version.minor));++o);e.version={major:s.major,minor:s.minor},e.session.version=e.version}a!==null?(e.expect=c0,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?Ax:Fc,e.session.resuming=!1,T.createSecurityParameters(e,n)),e.open=!0,T.queue(e,T.createRecord(e,{type:T.ContentType.handshake,data:T.createServerHello(e)})),e.session.resuming?(T.queue(e,T.createRecord(e,{type:T.ContentType.change_cipher_spec,data:T.createChangeCipherSpec()})),e.state.pending=T.createConnectionState(e),e.state.current.write=e.state.pending.write,T.queue(e,T.createRecord(e,{type:T.ContentType.handshake,data:T.createFinished(e)}))):(T.queue(e,T.createRecord(e,{type:T.ContentType.handshake,data:T.createCertificate(e)})),e.fail||(T.queue(e,T.createRecord(e,{type:T.ContentType.handshake,data:T.createServerKeyExchange(e)})),e.verifyClient!==!1&&T.queue(e,T.createRecord(e,{type:T.ContentType.handshake,data:T.createCertificateRequest(e)})),T.queue(e,T.createRecord(e,{type:T.ContentType.handshake,data:T.createServerHelloDone(e)})))),T.flush(e),e.process()}};T.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:sr(n,3)},a,s,o=[];try{for(;i.certificate_list.length()>0;)a=sr(i.certificate_list,3),s=j.asn1.fromDer(a),a=j.pki.certificateFromAsn1(s,!0),o.push(a)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.bad_certificate}})}var l=e.entity===T.ConnectionEnd.client;(l||e.verifyClient===!0)&&o.length===0?e.error(e,{message:l?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.illegal_parameter}}):o.length===0?e.expect=l?Eh:Fc:(l?e.session.serverCertificate=o[0]:e.session.clientCertificate=o[0],T.verifyCertificateChain(e,o)&&(e.expect=l?Eh:Fc)),e.process()};T.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.unsupported_certificate}});e.expect=Sx,e.process()};T.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:sr(n,2).getBytes()},a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.serverCertificate),a=j.pki.privateKeyFromPem(a)}catch(l){e.error(e,{message:"Could not get private key.",cause:l,send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.internal_error}})}if(a===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.internal_error}});try{var s=e.session.sp;s.pre_master_secret=a.decrypt(i.enc_pre_master_secret);var o=e.session.clientHelloVersion;if(o.major!==s.pre_master_secret.charCodeAt(0)||o.minor!==s.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{s.pre_master_secret=j.random.getBytes(48)}e.expect=c0,e.session.clientCertificate!==null&&(e.expect=Bx),e.process()};T.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:sr(n,1),certificate_authorities:sr(n,2)};e.session.certificateRequest=i,e.expect=xx,e.process()};T.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a={signature:sr(n,2).getBytes()},s=j.util.createBuffer();s.putBuffer(e.session.md5.digest()),s.putBuffer(e.session.sha1.digest()),s=s.getBytes();try{var o=e.session.clientCertificate;if(!o.publicKey.verify(s,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.handshake_failure}})}e.expect=c0,e.process()};T.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.insufficient_security}},i=0,a=e.verify(e,n.alert.description,i,[]);if(a!==!0)return(a||a===0)&&(typeof a=="object"&&!j.util.isArray(a)?(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert)):typeof a=="number"&&(n.alert.description=a)),e.error(e,n)}e.session.certificateRequest!==null&&(t=T.createRecord(e,{type:T.ContentType.handshake,data:T.createCertificate(e)}),T.queue(e,t)),t=T.createRecord(e,{type:T.ContentType.handshake,data:T.createClientKeyExchange(e)}),T.queue(e,t),e.expect=Ix;var s=function(o,l){o.session.certificateRequest!==null&&o.session.clientCertificate!==null&&T.queue(o,T.createRecord(o,{type:T.ContentType.handshake,data:T.createCertificateVerify(o,l)})),T.queue(o,T.createRecord(o,{type:T.ContentType.change_cipher_spec,data:T.createChangeCipherSpec()})),o.state.pending=T.createConnectionState(o),o.state.current.write=o.state.pending.write,T.queue(o,T.createRecord(o,{type:T.ContentType.handshake,data:T.createFinished(o)})),o.expect=j1,T.flush(o),o.process()};if(e.session.certificateRequest===null||e.session.clientCertificate===null)return s(e,null);T.getClientSignature(e,s)};T.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.illegal_parameter}});var r=e.entity===T.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=T.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?Tx:kx,e.process()};T.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a=t.fragment.getBytes();n=j.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var s=e.entity===T.ConnectionEnd.client,o=s?"server finished":"client finished",l=e.session.sp,u=12,c=bl;if(n=c(l.master_secret,o,n.getBytes(),u),n.getBytes()!==a)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&s||!e.session.resuming&&!s)&&(T.queue(e,T.createRecord(e,{type:T.ContentType.change_cipher_spec,data:T.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,T.queue(e,T.createRecord(e,{type:T.ContentType.handshake,data:T.createFinished(e)}))),e.expect=s?wx:bx,e.handshaking=!1,++e.handshakes,e.peerCertificate=s?e.session.serverCertificate:e.session.clientCertificate,T.flush(e),e.isConnected=!0,e.connected(e),e.process()};T.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case T.Alert.Description.close_notify:i="Connection closed.";break;case T.Alert.Description.unexpected_message:i="Unexpected message.";break;case T.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case T.Alert.Description.decryption_failed:i="Decryption failed.";break;case T.Alert.Description.record_overflow:i="Record overflow.";break;case T.Alert.Description.decompression_failure:i="Decompression failed.";break;case T.Alert.Description.handshake_failure:i="Handshake failure.";break;case T.Alert.Description.bad_certificate:i="Bad certificate.";break;case T.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case T.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case T.Alert.Description.certificate_expired:i="Certificate expired.";break;case T.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case T.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case T.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case T.Alert.Description.access_denied:i="Access denied.";break;case T.Alert.Description.decode_error:i="Decode error.";break;case T.Alert.Description.decrypt_error:i="Decrypt error.";break;case T.Alert.Description.export_restriction:i="Export restriction.";break;case T.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case T.Alert.Description.insufficient_security:i="Insufficient security.";break;case T.Alert.Description.internal_error:i="Internal error.";break;case T.Alert.Description.user_canceled:i="User canceled.";break;case T.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===T.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===T.ConnectionEnd.client?"server":"client",alert:n}),e.process()};T.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=j.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var a=r.bytes(i+4);r.read+=4,n in el[e.entity][e.expect]?(e.entity===T.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:j.md.md5.create(),sha1:j.md.sha1.create()}),n!==T.HandshakeType.hello_request&&n!==T.HandshakeType.certificate_verify&&n!==T.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),el[e.entity][e.expect][n](e,t,i)):T.handleUnexpected(e,t)};T.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};T.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),a=r.getBytes(i);if(n===T.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>a.length)return e.process();T.queue(e,T.createRecord(e,{type:T.ContentType.heartbeat,data:T.createHeartbeat(T.HeartbeatMessageType.heartbeat_response,a)})),T.flush(e)}else if(n===T.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,j.util.createBuffer(a))}e.process()};var Cx=0,Ex=1,Eh=2,Sx=3,xx=4,j1=5,Tx=6,wx=7,Ix=8,_x=0,Ax=1,Fc=2,Bx=3,c0=4,kx=5,bx=6,x=T.handleUnexpected,K1=T.handleChangeCipherSpec,kt=T.handleAlert,Kt=T.handleHandshake,z1=T.handleApplicationData,bt=T.handleHeartbeat,f0=[];f0[T.ConnectionEnd.client]=[[x,kt,Kt,x,bt],[x,kt,Kt,x,bt],[x,kt,Kt,x,bt],[x,kt,Kt,x,bt],[x,kt,Kt,x,bt],[K1,kt,x,x,bt],[x,kt,Kt,x,bt],[x,kt,Kt,z1,bt],[x,kt,Kt,x,bt]];f0[T.ConnectionEnd.server]=[[x,kt,Kt,x,bt],[x,kt,Kt,x,bt],[x,kt,Kt,x,bt],[x,kt,Kt,x,bt],[K1,kt,x,x,bt],[x,kt,Kt,x,bt],[x,kt,Kt,z1,bt],[x,kt,Kt,x,bt]];var _n=T.handleHelloRequest,Nx=T.handleServerHello,H1=T.handleCertificate,Sh=T.handleServerKeyExchange,xu=T.handleCertificateRequest,to=T.handleServerHelloDone,$1=T.handleFinished,el=[];el[T.ConnectionEnd.client]=[[x,x,Nx,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[_n,x,x,x,x,x,x,x,x,x,x,H1,Sh,xu,to,x,x,x,x,x,x],[_n,x,x,x,x,x,x,x,x,x,x,x,Sh,xu,to,x,x,x,x,x,x],[_n,x,x,x,x,x,x,x,x,x,x,x,x,xu,to,x,x,x,x,x,x],[_n,x,x,x,x,x,x,x,x,x,x,x,x,x,to,x,x,x,x,x,x],[_n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[_n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,$1],[_n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[_n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x]];var Dx=T.handleClientHello,Lx=T.handleClientKeyExchange,Rx=T.handleCertificateVerify;el[T.ConnectionEnd.server]=[[x,Dx,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,H1,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,Lx,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,Rx,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,$1],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x]];T.generateKeys=function(e,t){var r=bl,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===T.Versions.TLS_1_0.major&&e.version.minor===T.Versions.TLS_1_0.minor;a&&(i+=2*t.fixed_iv_length);var s=r(t.master_secret,"key expansion",n,i),o={client_write_MAC_key:s.getBytes(t.mac_key_length),server_write_MAC_key:s.getBytes(t.mac_key_length),client_write_key:s.getBytes(t.enc_key_length),server_write_key:s.getBytes(t.enc_key_length)};return a&&(o.client_write_IV=s.getBytes(t.fixed_iv_length),o.server_write_IV=s.getBytes(t.fixed_iv_length)),o};T.createConnectionState=function(e){var t=e.entity===T.ConnectionEnd.client,r=function(){var a={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(s){return!0},compressionState:null,compressFunction:function(s){return!0},updateSequenceNumber:function(){a.sequenceNumber[1]===4294967295?(a.sequenceNumber[1]=0,++a.sequenceNumber[0]):++a.sequenceNumber[1]}};return a},n={read:r(),write:r()};if(n.read.update=function(a,s){return n.read.cipherFunction(s,n.read)?n.read.compressFunction(a,s,n.read)||a.error(a,{message:"Could not decompress record.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.decompression_failure}}):a.error(a,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.bad_record_mac}}),!a.fail},n.write.update=function(a,s){return n.write.compressFunction(a,s,n.write)?n.write.cipherFunction(s,n.write)||a.error(a,{message:"Could not encrypt record.",send:!1,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.internal_error}}):a.error(a,{message:"Could not compress record.",send:!1,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.internal_error}}),!a.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=T.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case T.CompressionMethod.none:break;case T.CompressionMethod.deflate:n.read.compressFunction=mx,n.write.compressFunction=yx;break;default:throw new Error("Unsupported compression algorithm.")}}return n};T.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=j.util.createBuffer();return r.putInt32(t),r.putBytes(j.random.getBytes(28)),r};T.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};T.createAlert=function(e,t){var r=j.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),T.createRecord(e,{type:T.ContentType.alert,data:r})};T.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=j.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),a=j.util.createBuffer();a.putByte(T.CompressionMethod.none);var s=a.length(),o=j.util.createBuffer();if(e.virtualHost){var l=j.util.createBuffer();l.putByte(0),l.putByte(0);var u=j.util.createBuffer();u.putByte(0),Er(u,2,j.util.createBuffer(e.virtualHost));var c=j.util.createBuffer();Er(c,2,u),Er(l,2,c),o.putBuffer(l)}var f=o.length();f>0&&(f+=2);var d=e.session.id,v=d.length+1+2+4+28+2+i+1+s+f,g=j.util.createBuffer();return g.putByte(T.HandshakeType.client_hello),g.putInt24(v),g.putByte(e.version.major),g.putByte(e.version.minor),g.putBytes(e.session.sp.client_random),Er(g,1,j.util.createBuffer(d)),Er(g,2,t),Er(g,1,a),f>0&&Er(g,2,o),g};T.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=j.util.createBuffer();return n.putByte(T.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Er(n,1,j.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};T.createCertificate=function(e){var t=e.entity===T.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=j.util.createBuffer();if(r!==null)try{j.util.isArray(r)||(r=[r]);for(var a=null,s=0;s<r.length;++s){var o=j.pem.decode(r[s])[0];if(o.type!=="CERTIFICATE"&&o.type!=="X509 CERTIFICATE"&&o.type!=="TRUSTED CERTIFICATE"){var l=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw l.headerType=o.type,l}if(o.procType&&o.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=j.util.createBuffer(o.body);a===null&&(a=j.asn1.fromDer(u.bytes(),!1));var c=j.util.createBuffer();Er(c,3,u),i.putBuffer(c)}r=j.pki.certificateFromAsn1(a),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(v){return e.error(e,{message:"Could not send certificate list.",cause:v,send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.bad_certificate}})}var f=3+i.length(),d=j.util.createBuffer();return d.putByte(T.HandshakeType.certificate),d.putInt24(f),Er(d,3,i),d};T.createClientKeyExchange=function(e){var t=j.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(j.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,a=j.util.createBuffer();return a.putByte(T.HandshakeType.client_key_exchange),a.putInt24(i),a.putInt16(t.length),a.putBytes(t),a};T.createServerKeyExchange=function(e){var t=j.util.createBuffer();return t};T.getClientSignature=function(e,t){var r=j.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,a){var s=null;if(n.getPrivateKey)try{s=n.getPrivateKey(n,n.session.clientCertificate),s=j.pki.privateKeyFromPem(s)}catch(o){n.error(n,{message:"Could not get private key.",cause:o,send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.internal_error}})}s===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.internal_error}}):i=s.sign(i,null),a(n,i)},e.getSignature(e,r,t)};T.createCertificateVerify=function(e,t){var r=t.length+2,n=j.util.createBuffer();return n.putByte(T.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};T.createCertificateRequest=function(e){var t=j.util.createBuffer();t.putByte(1);var r=j.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],a=j.pki.distinguishedNameToAsn1(i.subject),s=j.asn1.toDer(a);r.putInt16(s.length()),r.putBuffer(s)}var o=1+t.length()+2+r.length(),l=j.util.createBuffer();return l.putByte(T.HandshakeType.certificate_request),l.putInt24(o),Er(l,1,t),Er(l,2,r),l};T.createServerHelloDone=function(e){var t=j.util.createBuffer();return t.putByte(T.HandshakeType.server_hello_done),t.putInt24(0),t};T.createChangeCipherSpec=function(){var e=j.util.createBuffer();return e.putByte(1),e};T.createFinished=function(e){var t=j.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===T.ConnectionEnd.client,n=e.session.sp,i=12,a=bl,s=r?"client finished":"server finished";t=a(n.master_secret,s,t.getBytes(),i);var o=j.util.createBuffer();return o.putByte(T.HandshakeType.finished),o.putInt24(t.length()),o.putBuffer(t),o};T.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=j.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),a=Math.max(16,i-r-3);return n.putBytes(j.random.getBytes(a)),n};T.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===T.ContentType.handshake||t.type===T.ContentType.alert||t.type===T.ContentType.change_cipher_spec))){if(t.type===T.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=T.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>T.MaxFragment;)n.push(T.createRecord(e,{type:t.type,data:j.util.createBuffer(i.slice(0,T.MaxFragment))})),i=i.slice(T.MaxFragment);i.length>0&&n.push(T.createRecord(e,{type:t.type,data:j.util.createBuffer(i)}))}for(var a=0;a<n.length&&!e.fail;++a){var s=n[a],o=e.state.current.write;o.update(e,s)&&e.records.push(s)}}};T.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var Tu=function(e){switch(e){case!0:return!0;case j.pki.certificateError.bad_certificate:return T.Alert.Description.bad_certificate;case j.pki.certificateError.unsupported_certificate:return T.Alert.Description.unsupported_certificate;case j.pki.certificateError.certificate_revoked:return T.Alert.Description.certificate_revoked;case j.pki.certificateError.certificate_expired:return T.Alert.Description.certificate_expired;case j.pki.certificateError.certificate_unknown:return T.Alert.Description.certificate_unknown;case j.pki.certificateError.unknown_ca:return T.Alert.Description.unknown_ca;default:return T.Alert.Description.bad_certificate}},Ox=function(e){switch(e){case!0:return!0;case T.Alert.Description.bad_certificate:return j.pki.certificateError.bad_certificate;case T.Alert.Description.unsupported_certificate:return j.pki.certificateError.unsupported_certificate;case T.Alert.Description.certificate_revoked:return j.pki.certificateError.certificate_revoked;case T.Alert.Description.certificate_expired:return j.pki.certificateError.certificate_expired;case T.Alert.Description.certificate_unknown:return j.pki.certificateError.certificate_unknown;case T.Alert.Description.unknown_ca:return j.pki.certificateError.unknown_ca;default:return j.pki.certificateError.bad_certificate}};T.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(a,s,o){var l=Tu(a),u=e.verify(e,a,s,o);if(u!==!0){if(typeof u=="object"&&!j.util.isArray(u)){var c=new Error("The application rejected the certificate.");throw c.send=!0,c.alert={level:T.Alert.Level.fatal,description:T.Alert.Description.bad_certificate},u.message&&(c.message=u.message),u.alert&&(c.alert.description=u.alert),c}u!==a&&(u=Ox(u))}return u},j.pki.verifyCertificateChain(e.caStore,t,r)}catch(a){var i=a;(typeof i!="object"||j.util.isArray(i))&&(i={send:!0,alert:{level:T.Alert.Level.fatal,description:Tu(a)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:T.Alert.Level.fatal,description:Tu(i.error)}),e.error(e,i)}return!e.fail};T.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var a=null,s=null;if(i?s=j.util.bytesToHex(i):r.order.length>0&&(s=r.order[0]),s!==null&&s in r.cache){a=r.cache[s],delete r.cache[s];for(var o in r.order)if(r.order[o]===s){r.order.splice(o,1);break}}return a},r.setSession=function(i,a){if(r.order.length===r.capacity){var s=r.order.shift();delete r.cache[s]}var s=j.util.bytesToHex(i);r.order.push(s),r.cache[s]=a}}return r};T.createConnection=function(e){var t=null;e.caStore?j.util.isArray(e.caStore)?t=j.pki.createCaStore(e.caStore):t=e.caStore:t=j.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in T.CipherSuites)r.push(T.CipherSuites[n])}var i=e.server?T.ConnectionEnd.server:T.ConnectionEnd.client,a=e.sessionCache?T.createSessionCache(e.sessionCache):null,s={version:{major:T.Version.major,minor:T.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(c,f,d,v){return f},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:j.util.createBuffer(),tlsData:j.util.createBuffer(),data:j.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(c,f){f.origin=f.origin||(c.entity===T.ConnectionEnd.client?"client":"server"),f.send&&(T.queue(c,T.createAlert(c,f.alert)),T.flush(c));var d=f.fatal!==!1;d&&(c.fail=!0),e.error(c,f),d&&c.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};s.reset=function(c){s.version={major:T.Version.major,minor:T.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=s.entity===T.ConnectionEnd.client?Cx:_x,s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(c||typeof c>"u"),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=T.createConnectionState(s)},s.reset();var o=function(c,f){var d=f.type-T.ContentType.change_cipher_spec,v=f0[c.entity][c.expect];d in v?v[d](c,f):T.handleUnexpected(c,f)},l=function(c){var f=0,d=c.input,v=d.length();if(v<5)f=5-v;else{c.record={type:d.getByte(),version:{major:d.getByte(),minor:d.getByte()},length:d.getInt16(),fragment:j.util.createBuffer(),ready:!1};var g=c.record.version.major===c.version.major;g&&c.session&&c.session.version&&(g=c.record.version.minor===c.version.minor),g||c.error(c,{message:"Incompatible TLS version.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.protocol_version}})}return f},u=function(c){var f=0,d=c.input,v=d.length();if(v<c.record.length)f=c.record.length-v;else{c.record.fragment.putBytes(d.getBytes(c.record.length)),d.compact();var g=c.state.current.read;g.update(c,c.record)&&(c.fragmented!==null&&(c.fragmented.type===c.record.type?(c.fragmented.fragment.putBuffer(c.record.fragment),c.record=c.fragmented):c.error(c,{message:"Invalid fragmented record.",send:!0,alert:{level:T.Alert.Level.fatal,description:T.Alert.Description.unexpected_message}})),c.record.ready=!0)}return f};return s.handshake=function(c){if(s.entity!==T.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&s.handshakes===0&&(s.fail=!1),s.handshaking=!0,c=c||"";var f=null;c.length>0&&(s.sessionCache&&(f=s.sessionCache.getSession(c)),f===null&&(c="")),c.length===0&&s.sessionCache&&(f=s.sessionCache.getSession(),f!==null&&(c=f.id)),s.session={id:c,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:j.md.md5.create(),sha1:j.md.sha1.create()},f&&(s.version=f.version,s.session.sp=f.sp),s.session.sp.client_random=T.createRandom().getBytes(),s.open=!0,T.queue(s,T.createRecord(s,{type:T.ContentType.handshake,data:T.createClientHello(s)})),T.flush(s)}},s.process=function(c){var f=0;return c&&s.input.putBytes(c),s.fail||(s.record!==null&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),s.record===null&&(f=l(s)),!s.fail&&s.record!==null&&!s.record.ready&&(f=u(s)),!s.fail&&s.record!==null&&s.record.ready&&o(s,s.record)),f},s.prepare=function(c){return T.queue(s,T.createRecord(s,{type:T.ContentType.application_data,data:j.util.createBuffer(c)})),T.flush(s)},s.prepareHeartbeatRequest=function(c,f){return c instanceof j.util.ByteBuffer&&(c=c.bytes()),typeof f>"u"&&(f=c.length),s.expectedHeartbeatPayload=c,T.queue(s,T.createRecord(s,{type:T.ContentType.heartbeat,data:T.createHeartbeat(T.HeartbeatMessageType.heartbeat_request,c,f)})),T.flush(s)},s.close=function(c){if(!s.fail&&s.sessionCache&&s.session){var f={id:s.session.id,version:s.session.version,sp:s.session.sp};f.sp.keys=null,s.sessionCache.setSession(f.id,f)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,T.queue(s,T.createAlert(s,{level:T.Alert.Level.warning,description:T.Alert.Description.close_notify})),T.flush(s)),s.closed(s)),s.reset(c)},s};j.tls=j.tls||{};for(var wu in T)typeof T[wu]!="function"&&(j.tls[wu]=T[wu]);j.tls.prf_tls1=bl;j.tls.hmac_sha1=vx;j.tls.createSessionCache=T.createSessionCache;j.tls.createConnection=T.createConnection;var Qn=me,Br=Qn.tls;Br.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Br.BulkCipherAlgorithm.aes,e.cipher_type=Br.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Br.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:q1};Br.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Br.BulkCipherAlgorithm.aes,e.cipher_type=Br.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Br.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:q1};function q1(e,t,r){var n=t.entity===Qn.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:Qn.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:Qn.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=Fx,e.write.cipherFunction=Px,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Br.hmac_sha1}function Px(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===Br.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=Qn.random.getBytesSync(16),t.cipherState.init=!0;var a=t.cipherState.cipher;return a.start({iv:i}),e.version.minor>=Br.Versions.TLS_1_1.minor&&a.output.putBytes(i),a.update(e.fragment),a.finish(Ux)&&(e.fragment=a.output,e.length=e.fragment.length(),r=!0),r}function Ux(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function Mx(e,t,r){var n=!0;if(r){for(var i=t.length(),a=t.last(),s=i-1-a;s<i-1;++s)n=n&&t.at(s)==a;n&&t.truncate(a+1)}return n}function Fx(e,t){var r=!1,n;e.version.minor===Br.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(Mx);var a=t.macLength,s=Qn.random.getBytesSync(a),o=i.output.length();o>=a?(e.fragment=i.output.getBytes(o-a),s=i.output.getBytes(a)):e.fragment=i.output.getBytes(),e.fragment=Qn.util.createBuffer(e.fragment),e.length=e.fragment.length();var l=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=Vx(t.macKey,s,l)&&r,r}function Vx(e,t,r){var n=Qn.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}var Je=me,bs=Je.sha512=Je.sha512||{};Je.md.sha512=Je.md.algorithms.sha512=bs;var G1=Je.sha384=Je.sha512.sha384=Je.sha512.sha384||{};G1.create=function(){return bs.create("SHA-384")};Je.md.sha384=Je.md.algorithms.sha384=G1;Je.sha512.sha256=Je.sha512.sha256||{create:function(){return bs.create("SHA-512/256")}};Je.md["sha512/256"]=Je.md.algorithms["sha512/256"]=Je.sha512.sha256;Je.sha512.sha224=Je.sha512.sha224||{create:function(){return bs.create("SHA-512/224")}};Je.md["sha512/224"]=Je.md.algorithms["sha512/224"]=Je.sha512.sha224;bs.create=function(e){if(Q1||jx(),typeof e>"u"&&(e="SHA-512"),!(e in si))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=si[e],r=null,n=Je.util.createBuffer(),i=new Array(80),a=0;a<80;++a)i[a]=new Array(2);var s=64;switch(e){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var o={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var l=o.messageLengthSize/4,u=0;u<l;++u)o.fullMessageLength.push(0);n=Je.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return o},o.start(),o.update=function(l,u){u==="utf8"&&(l=Je.util.encodeUtf8(l));var c=l.length;o.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var f=o.fullMessageLength.length-1;f>=0;--f)o.fullMessageLength[f]+=c[1],c[1]=c[0]+(o.fullMessageLength[f]/4294967296>>>0),o.fullMessageLength[f]=o.fullMessageLength[f]>>>0,c[0]=c[1]/4294967296>>>0;return n.putBytes(l),xh(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),o},o.digest=function(){var l=Je.util.createBuffer();l.putBytes(n.bytes());var u=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,c=u&o.blockLength-1;l.putBytes(Vc.substr(0,o.blockLength-c));for(var f,d,v=o.fullMessageLength[0]*8,g=0;g<o.fullMessageLength.length-1;++g)f=o.fullMessageLength[g+1]*8,d=f/4294967296>>>0,v+=d,l.putInt32(v>>>0),v=f>>>0;l.putInt32(v);for(var C=new Array(r.length),g=0;g<r.length;++g)C[g]=r[g].slice(0);xh(C,i,l);var I=Je.util.createBuffer(),y;e==="SHA-512"?y=C.length:e==="SHA-384"?y=C.length-2:y=C.length-4;for(var g=0;g<y;++g)I.putInt32(C[g][0]),(g!==y-1||e!=="SHA-512/224")&&I.putInt32(C[g][1]);return I},o};var Vc=null,Q1=!1,jc=null,si=null;function jx(){Vc=String.fromCharCode(128),Vc+=Je.util.fillString(String.fromCharCode(0),128),jc=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],si={},si["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],si["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],si["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],si["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Q1=!0}function xh(e,t,r){for(var n,i,a,s,o,l,u,c,f,d,v,g,C,I,y,m,S,B,L,R,M,V,Q,G,ce,pe,De,Ue,Ce,Re,te,W,ae,ne,ee,ie=r.length();ie>=128;){for(Ce=0;Ce<16;++Ce)t[Ce][0]=r.getInt32()>>>0,t[Ce][1]=r.getInt32()>>>0;for(;Ce<80;++Ce)W=t[Ce-2],Re=W[0],te=W[1],n=((Re>>>19|te<<13)^(te>>>29|Re<<3)^Re>>>6)>>>0,i=((Re<<13|te>>>19)^(te<<3|Re>>>29)^(Re<<26|te>>>6))>>>0,ne=t[Ce-15],Re=ne[0],te=ne[1],a=((Re>>>1|te<<31)^(Re>>>8|te<<24)^Re>>>7)>>>0,s=((Re<<31|te>>>1)^(Re<<24|te>>>8)^(Re<<25|te>>>7))>>>0,ae=t[Ce-7],ee=t[Ce-16],te=i+ae[1]+s+ee[1],t[Ce][0]=n+ae[0]+a+ee[0]+(te/4294967296>>>0)>>>0,t[Ce][1]=te>>>0;for(C=e[0][0],I=e[0][1],y=e[1][0],m=e[1][1],S=e[2][0],B=e[2][1],L=e[3][0],R=e[3][1],M=e[4][0],V=e[4][1],Q=e[5][0],G=e[5][1],ce=e[6][0],pe=e[6][1],De=e[7][0],Ue=e[7][1],Ce=0;Ce<80;++Ce)u=((M>>>14|V<<18)^(M>>>18|V<<14)^(V>>>9|M<<23))>>>0,c=((M<<18|V>>>14)^(M<<14|V>>>18)^(V<<23|M>>>9))>>>0,f=(ce^M&(Q^ce))>>>0,d=(pe^V&(G^pe))>>>0,o=((C>>>28|I<<4)^(I>>>2|C<<30)^(I>>>7|C<<25))>>>0,l=((C<<4|I>>>28)^(I<<30|C>>>2)^(I<<25|C>>>7))>>>0,v=(C&y|S&(C^y))>>>0,g=(I&m|B&(I^m))>>>0,te=Ue+c+d+jc[Ce][1]+t[Ce][1],n=De+u+f+jc[Ce][0]+t[Ce][0]+(te/4294967296>>>0)>>>0,i=te>>>0,te=l+g,a=o+v+(te/4294967296>>>0)>>>0,s=te>>>0,De=ce,Ue=pe,ce=Q,pe=G,Q=M,G=V,te=R+i,M=L+n+(te/4294967296>>>0)>>>0,V=te>>>0,L=S,R=B,S=y,B=m,y=C,m=I,te=i+s,C=n+a+(te/4294967296>>>0)>>>0,I=te>>>0;te=e[0][1]+I,e[0][0]=e[0][0]+C+(te/4294967296>>>0)>>>0,e[0][1]=te>>>0,te=e[1][1]+m,e[1][0]=e[1][0]+y+(te/4294967296>>>0)>>>0,e[1][1]=te>>>0,te=e[2][1]+B,e[2][0]=e[2][0]+S+(te/4294967296>>>0)>>>0,e[2][1]=te>>>0,te=e[3][1]+R,e[3][0]=e[3][0]+L+(te/4294967296>>>0)>>>0,e[3][1]=te>>>0,te=e[4][1]+V,e[4][0]=e[4][0]+M+(te/4294967296>>>0)>>>0,e[4][1]=te>>>0,te=e[5][1]+G,e[5][0]=e[5][0]+Q+(te/4294967296>>>0)>>>0,e[5][1]=te>>>0,te=e[6][1]+pe,e[6][0]=e[6][0]+ce+(te/4294967296>>>0)>>>0,e[6][1]=te>>>0,te=e[7][1]+Ue,e[7][0]=e[7][0]+De+(te/4294967296>>>0)>>>0,e[7][1]=te>>>0,ie-=128}}var d0={},Kx=me,xt=Kx.asn1;d0.privateKeyValidator={name:"PrivateKeyInfo",tagClass:xt.Class.UNIVERSAL,type:xt.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:xt.Class.UNIVERSAL,type:xt.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:xt.Class.UNIVERSAL,type:xt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:xt.Class.UNIVERSAL,type:xt.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:xt.Class.UNIVERSAL,type:xt.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};d0.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:xt.Class.UNIVERSAL,type:xt.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:xt.Class.UNIVERSAL,type:xt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:xt.Class.UNIVERSAL,type:xt.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:xt.Class.UNIVERSAL,type:xt.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]};var Nt=me,W1=d0,zx=W1.publicKeyValidator,Hx=W1.privateKeyValidator;if(typeof $x>"u")var $x=Nt.jsbn.BigInteger;var Kc=Nt.util.ByteBuffer,er=typeof Buffer>"u"?Uint8Array:Buffer;Nt.pki=Nt.pki||{};Nt.pki.ed25519=Nt.ed25519=Nt.ed25519||{};var Se=Nt.ed25519;Se.constants={};Se.constants.PUBLIC_KEY_BYTE_LENGTH=32;Se.constants.PRIVATE_KEY_BYTE_LENGTH=64;Se.constants.SEED_BYTE_LENGTH=32;Se.constants.SIGN_BYTE_LENGTH=64;Se.constants.HASH_BYTE_LENGTH=64;Se.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=Nt.random.getBytesSync(Se.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==Se.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+Se.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=hn({message:t,encoding:"binary"});for(var r=new er(Se.constants.PUBLIC_KEY_BYTE_LENGTH),n=new er(Se.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return Wx(r,n),{publicKey:r,privateKey:n}};Se.privateKeyFromAsn1=function(e){var t={},r=[],n=Nt.asn1.validate(e,Hx,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=Nt.asn1.derToOid(t.privateKeyOid),s=Nt.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var o=t.privateKey,l=hn({message:Nt.asn1.fromDer(o).value,encoding:"binary"});return{privateKeyBytes:l}};Se.publicKeyFromAsn1=function(e){var t={},r=[],n=Nt.asn1.validate(e,zx,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=Nt.asn1.derToOid(t.publicKeyOid),s=Nt.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var o=t.ed25519PublicKey;if(o.length!==Se.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return hn({message:o,encoding:"binary"})};Se.publicKeyFromPrivateKey=function(e){e=e||{};var t=hn({message:e.privateKey,encoding:"binary"});if(t.length!==Se.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Se.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new er(Se.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};Se.sign=function(e){e=e||{};var t=hn(e),r=hn({message:e.privateKey,encoding:"binary"});if(r.length===Se.constants.SEED_BYTE_LENGTH){var n=Se.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==Se.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Se.constants.SEED_BYTE_LENGTH+" or "+Se.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new er(Se.constants.SIGN_BYTE_LENGTH+t.length);Yx(i,t,t.length,r);for(var a=new er(Se.constants.SIGN_BYTE_LENGTH),s=0;s<a.length;++s)a[s]=i[s];return a};Se.verify=function(e){e=e||{};var t=hn(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=hn({message:e.signature,encoding:"binary"});if(r.length!==Se.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+Se.constants.SIGN_BYTE_LENGTH);var n=hn({message:e.publicKey,encoding:"binary"});if(n.length!==Se.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+Se.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new er(Se.constants.SIGN_BYTE_LENGTH+t.length),a=new er(Se.constants.SIGN_BYTE_LENGTH+t.length),s;for(s=0;s<Se.constants.SIGN_BYTE_LENGTH;++s)i[s]=r[s];for(s=0;s<t.length;++s)i[s+Se.constants.SIGN_BYTE_LENGTH]=t[s];return Xx(a,i,i.length,n)>=0};function hn(e){var t=e.message;if(t instanceof Uint8Array||t instanceof er)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new Kc(t,r)}else if(!(t instanceof Kc))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new er(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}var zc=ue(),tl=ue([1]),qx=ue([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Gx=ue([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Th=ue([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),wh=ue([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Iu=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),Qx=ue([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function es(e,t){var r=Nt.md.sha512.create(),n=new Kc(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var a=new er(Se.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)a[s]=i.charCodeAt(s);return a}function Wx(e,t){var r=[ue(),ue(),ue(),ue()],n,i=es(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,p0(r,i),h0(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}function Yx(e,t,r,n){var i,a,s=new Float64Array(64),o=[ue(),ue(),ue(),ue()],l=es(n,32);l[0]&=248,l[31]&=127,l[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=l[32+i];var c=es(e.subarray(32),r+32);for(Hc(c),p0(o,c),h0(e,o),i=32;i<64;++i)e[i]=n[i];var f=es(e,r+64);for(Hc(f),i=32;i<64;++i)s[i]=0;for(i=0;i<32;++i)s[i]=c[i];for(i=0;i<32;++i)for(a=0;a<32;a++)s[i+a]+=f[i]*l[a];return Y1(e.subarray(32),s),u}function Xx(e,t,r,n){var i,a,s=new er(32),o=[ue(),ue(),ue(),ue()],l=[ue(),ue(),ue(),ue()];if(a=-1,r<64||Zx(l,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=es(e,r);if(Hc(u),J1(o,l,u),p0(l,t.subarray(32)),$c(o,l),h0(s,o),r-=64,X1(t,0,s,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return a=r,a}function Y1(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*Iu[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*Iu[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*Iu[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}function Hc(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;Y1(e,t)}function $c(e,t){var r=ue(),n=ue(),i=ue(),a=ue(),s=ue(),o=ue(),l=ue(),u=ue(),c=ue();Qi(r,e[1],e[0]),Qi(c,t[1],t[0]),Ve(r,r,c),Ri(n,e[0],e[1]),Ri(c,t[0],t[1]),Ve(n,n,c),Ve(i,e[3],t[3]),Ve(i,i,Gx),Ve(a,e[2],t[2]),Ri(a,a,a),Qi(s,n,r),Qi(o,a,i),Ri(l,a,i),Ri(u,n,r),Ve(e[0],s,o),Ve(e[1],u,l),Ve(e[2],l,o),Ve(e[3],s,u)}function Ih(e,t,r){for(var n=0;n<4;++n)ev(e[n],t[n],r)}function h0(e,t){var r=ue(),n=ue(),i=ue();rT(i,t[2]),Ve(r,t[0],i),Ve(n,t[1],i),rl(e,n),e[31]^=Z1(r)<<7}function rl(e,t){var r,n,i,a=ue(),s=ue();for(r=0;r<16;++r)s[r]=t[r];for(_u(s),_u(s),_u(s),n=0;n<2;++n){for(a[0]=s[0]-65517,r=1;r<15;++r)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,ev(s,a,1-i)}for(r=0;r<16;r++)e[2*r]=s[r]&255,e[2*r+1]=s[r]>>8}function Zx(e,t){var r=ue(),n=ue(),i=ue(),a=ue(),s=ue(),o=ue(),l=ue();return Un(e[2],tl),Jx(e[1],t),oi(i,e[1]),Ve(a,i,qx),Qi(i,i,e[2]),Ri(a,e[2],a),oi(s,a),oi(o,s),Ve(l,o,s),Ve(r,l,i),Ve(r,r,a),eT(r,r),Ve(r,r,i),Ve(r,r,a),Ve(r,r,a),Ve(e[0],r,a),oi(n,e[0]),Ve(n,n,a),_h(n,i)&&Ve(e[0],e[0],Qx),oi(n,e[0]),Ve(n,n,a),_h(n,i)?-1:(Z1(e[0])===t[31]>>7&&Qi(e[0],zc,e[0]),Ve(e[3],e[0],e[1]),0)}function Jx(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function eT(e,t){var r=ue(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)oi(r,r),n!==1&&Ve(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function _h(e,t){var r=new er(32),n=new er(32);return rl(r,e),rl(n,t),X1(r,0,n,0)}function X1(e,t,r,n){return tT(e,t,r,n,32)}function tT(e,t,r,n,i){var a,s=0;for(a=0;a<i;++a)s|=e[t+a]^r[n+a];return(1&s-1>>>8)-1}function Z1(e){var t=new er(32);return rl(t,e),t[0]&1}function J1(e,t,r){var n,i;for(Un(e[0],zc),Un(e[1],tl),Un(e[2],tl),Un(e[3],zc),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,Ih(e,t,n),$c(t,e),$c(e,e),Ih(e,t,n)}function p0(e,t){var r=[ue(),ue(),ue(),ue()];Un(r[0],Th),Un(r[1],wh),Un(r[2],tl),Ve(r[3],Th,wh),J1(e,r,t)}function Un(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}function rT(e,t){var r=ue(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)oi(r,r),n!==2&&n!==4&&Ve(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function _u(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}function ev(e,t,r){for(var n,i=~(r-1),a=0;a<16;++a)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function ue(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function Ri(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function Qi(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function oi(e,t){Ve(e,t,t)}function Ve(e,t,r){var n,i,a=0,s=0,o=0,l=0,u=0,c=0,f=0,d=0,v=0,g=0,C=0,I=0,y=0,m=0,S=0,B=0,L=0,R=0,M=0,V=0,Q=0,G=0,ce=0,pe=0,De=0,Ue=0,Ce=0,Re=0,te=0,W=0,ae=0,ne=r[0],ee=r[1],ie=r[2],Oe=r[3],se=r[4],Fe=r[5],Le=r[6],ke=r[7],be=r[8],Qe=r[9],ct=r[10],ot=r[11],je=r[12],We=r[13],Ke=r[14],ht=r[15];n=t[0],a+=n*ne,s+=n*ee,o+=n*ie,l+=n*Oe,u+=n*se,c+=n*Fe,f+=n*Le,d+=n*ke,v+=n*be,g+=n*Qe,C+=n*ct,I+=n*ot,y+=n*je,m+=n*We,S+=n*Ke,B+=n*ht,n=t[1],s+=n*ne,o+=n*ee,l+=n*ie,u+=n*Oe,c+=n*se,f+=n*Fe,d+=n*Le,v+=n*ke,g+=n*be,C+=n*Qe,I+=n*ct,y+=n*ot,m+=n*je,S+=n*We,B+=n*Ke,L+=n*ht,n=t[2],o+=n*ne,l+=n*ee,u+=n*ie,c+=n*Oe,f+=n*se,d+=n*Fe,v+=n*Le,g+=n*ke,C+=n*be,I+=n*Qe,y+=n*ct,m+=n*ot,S+=n*je,B+=n*We,L+=n*Ke,R+=n*ht,n=t[3],l+=n*ne,u+=n*ee,c+=n*ie,f+=n*Oe,d+=n*se,v+=n*Fe,g+=n*Le,C+=n*ke,I+=n*be,y+=n*Qe,m+=n*ct,S+=n*ot,B+=n*je,L+=n*We,R+=n*Ke,M+=n*ht,n=t[4],u+=n*ne,c+=n*ee,f+=n*ie,d+=n*Oe,v+=n*se,g+=n*Fe,C+=n*Le,I+=n*ke,y+=n*be,m+=n*Qe,S+=n*ct,B+=n*ot,L+=n*je,R+=n*We,M+=n*Ke,V+=n*ht,n=t[5],c+=n*ne,f+=n*ee,d+=n*ie,v+=n*Oe,g+=n*se,C+=n*Fe,I+=n*Le,y+=n*ke,m+=n*be,S+=n*Qe,B+=n*ct,L+=n*ot,R+=n*je,M+=n*We,V+=n*Ke,Q+=n*ht,n=t[6],f+=n*ne,d+=n*ee,v+=n*ie,g+=n*Oe,C+=n*se,I+=n*Fe,y+=n*Le,m+=n*ke,S+=n*be,B+=n*Qe,L+=n*ct,R+=n*ot,M+=n*je,V+=n*We,Q+=n*Ke,G+=n*ht,n=t[7],d+=n*ne,v+=n*ee,g+=n*ie,C+=n*Oe,I+=n*se,y+=n*Fe,m+=n*Le,S+=n*ke,B+=n*be,L+=n*Qe,R+=n*ct,M+=n*ot,V+=n*je,Q+=n*We,G+=n*Ke,ce+=n*ht,n=t[8],v+=n*ne,g+=n*ee,C+=n*ie,I+=n*Oe,y+=n*se,m+=n*Fe,S+=n*Le,B+=n*ke,L+=n*be,R+=n*Qe,M+=n*ct,V+=n*ot,Q+=n*je,G+=n*We,ce+=n*Ke,pe+=n*ht,n=t[9],g+=n*ne,C+=n*ee,I+=n*ie,y+=n*Oe,m+=n*se,S+=n*Fe,B+=n*Le,L+=n*ke,R+=n*be,M+=n*Qe,V+=n*ct,Q+=n*ot,G+=n*je,ce+=n*We,pe+=n*Ke,De+=n*ht,n=t[10],C+=n*ne,I+=n*ee,y+=n*ie,m+=n*Oe,S+=n*se,B+=n*Fe,L+=n*Le,R+=n*ke,M+=n*be,V+=n*Qe,Q+=n*ct,G+=n*ot,ce+=n*je,pe+=n*We,De+=n*Ke,Ue+=n*ht,n=t[11],I+=n*ne,y+=n*ee,m+=n*ie,S+=n*Oe,B+=n*se,L+=n*Fe,R+=n*Le,M+=n*ke,V+=n*be,Q+=n*Qe,G+=n*ct,ce+=n*ot,pe+=n*je,De+=n*We,Ue+=n*Ke,Ce+=n*ht,n=t[12],y+=n*ne,m+=n*ee,S+=n*ie,B+=n*Oe,L+=n*se,R+=n*Fe,M+=n*Le,V+=n*ke,Q+=n*be,G+=n*Qe,ce+=n*ct,pe+=n*ot,De+=n*je,Ue+=n*We,Ce+=n*Ke,Re+=n*ht,n=t[13],m+=n*ne,S+=n*ee,B+=n*ie,L+=n*Oe,R+=n*se,M+=n*Fe,V+=n*Le,Q+=n*ke,G+=n*be,ce+=n*Qe,pe+=n*ct,De+=n*ot,Ue+=n*je,Ce+=n*We,Re+=n*Ke,te+=n*ht,n=t[14],S+=n*ne,B+=n*ee,L+=n*ie,R+=n*Oe,M+=n*se,V+=n*Fe,Q+=n*Le,G+=n*ke,ce+=n*be,pe+=n*Qe,De+=n*ct,Ue+=n*ot,Ce+=n*je,Re+=n*We,te+=n*Ke,W+=n*ht,n=t[15],B+=n*ne,L+=n*ee,R+=n*ie,M+=n*Oe,V+=n*se,Q+=n*Fe,G+=n*Le,ce+=n*ke,pe+=n*be,De+=n*Qe,Ue+=n*ct,Ce+=n*ot,Re+=n*je,te+=n*We,W+=n*Ke,ae+=n*ht,a+=38*L,s+=38*R,o+=38*M,l+=38*V,u+=38*Q,c+=38*G,f+=38*ce,d+=38*pe,v+=38*De,g+=38*Ue,C+=38*Ce,I+=38*Re,y+=38*te,m+=38*W,S+=38*ae,i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=I+i+65535,i=Math.floor(n/65536),I=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,a+=i-1+37*(i-1),i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=I+i+65535,i=Math.floor(n/65536),I=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,a+=i-1+37*(i-1),e[0]=a,e[1]=s,e[2]=o,e[3]=l,e[4]=u,e[5]=c,e[6]=f,e[7]=d,e[8]=v,e[9]=g,e[10]=C,e[11]=I,e[12]=y,e[13]=m,e[14]=S,e[15]=B}var or=me;or.kem=or.kem||{};var Ah=or.jsbn.BigInteger;or.kem.rsa={};or.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||or.random,n={};return n.encrypt=function(i,a){var s=Math.ceil(i.n.bitLength()/8),o;do o=new Ah(or.util.bytesToHex(r.getBytesSync(s)),16).mod(i.n);while(o.compareTo(Ah.ONE)<=0);o=or.util.hexToBytes(o.toString(16));var l=s-o.length;l>0&&(o=or.util.fillString(String.fromCharCode(0),l)+o);var u=i.encrypt(o,"NONE"),c=e.generate(o,a);return{encapsulation:u,key:c}},n.decrypt=function(i,a,s){var o=i.decrypt(a,"NONE");return e.generate(o,s)},n};or.kem.kdf1=function(e,t){tv(this,e,0,t||e.digestLength)};or.kem.kdf2=function(e,t){tv(this,e,1,t||e.digestLength)};function tv(e,t,r,n){e.generate=function(i,a){for(var s=new or.util.ByteBuffer,o=Math.ceil(a/n)+r,l=new or.util.ByteBuffer,u=r;u<o;++u){l.putInt32(u),t.start(),t.update(i+l.getBytes());var c=t.digest();s.putBytes(c.getBytes(n))}return s.truncate(s.length()-a),s.getBytes()}}var Te=me;Te.log=Te.log||{};Te.log.levels=["none","error","warning","info","debug","verbose","max"];var nl={},qc=[],ts=null;Te.log.LEVEL_LOCKED=2;Te.log.NO_LEVEL_CHECK=4;Te.log.INTERPOLATE=8;for(var Mn=0;Mn<Te.log.levels.length;++Mn){var Bh=Te.log.levels[Mn];nl[Bh]={index:Mn,name:Bh.toUpperCase()}}Te.log.logMessage=function(e){for(var t=nl[e.level].index,r=0;r<qc.length;++r){var n=qc[r];if(n.flags&Te.log.NO_LEVEL_CHECK)n.f(e);else{var i=nl[n.level].index;t<=i&&n.f(n,e)}}};Te.log.prepareStandard=function(e){"standard"in e||(e.standard=nl[e.level].name+" ["+e.category+"] "+e.message)};Te.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Te.util.format.apply(this,t)}};Te.log.prepareStandardFull=function(e){"standardFull"in e||(Te.log.prepareStandard(e),e.standardFull=e.standard)};for(var kh=["error","warning","info","debug","verbose"],Mn=0;Mn<kh.length;++Mn)(function(t){Te.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:t,category:r,message:n,arguments:i};Te.log.logMessage(a)}})(kh[Mn]);Te.log.makeLogger=function(e){var t={flags:0,f:e};return Te.log.setLevel(t,"none"),t};Te.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Te.log.LEVEL_LOCKED))for(var n=0;n<Te.log.levels.length;++n){var i=Te.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};Te.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Te.log.LEVEL_LOCKED:e.flags&=~Te.log.LEVEL_LOCKED};Te.log.addLogger=function(e){qc.push(e)};if(typeof console<"u"&&"log"in console){var Ra;if(console.error&&console.warn&&console.info&&console.debug){var nT={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},g0=function(e,t){Te.log.prepareStandard(t);var r=nT[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)};Ra=Te.log.makeLogger(g0)}else{var g0=function(t,r){Te.log.prepareStandardFull(r),console.log(r.standardFull)};Ra=Te.log.makeLogger(g0)}Te.log.setLevel(Ra,"debug"),Te.log.addLogger(Ra),ts=Ra}else console={log:function(){}};if(ts!==null&&typeof window<"u"&&window.location){var ro=new URL(window.location.href).searchParams;if(ro.has("console.level")&&Te.log.setLevel(ts,ro.get("console.level").slice(-1)[0]),ro.has("console.lock")){var iT=ro.get("console.lock").slice(-1)[0];iT=="true"&&Te.log.lock(ts)}}Te.log.consoleLogger=ts;var Y=me,k=Y.asn1,zt=Y.pkcs7=Y.pkcs7||{};zt.messageFromPem=function(e){var t=Y.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=k.fromDer(t.body);return zt.messageFromAsn1(n)};zt.messageToPem=function(e,t){var r={type:"PKCS7",body:k.toDer(e.toAsn1()).getBytes()};return Y.pem.encode(r,{maxline:t})};zt.messageFromAsn1=function(e){var t={},r=[];if(!k.validate(e,zt.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=k.derToOid(t.contentType),a;switch(i){case Y.pki.oids.envelopedData:a=zt.createEnvelopedData();break;case Y.pki.oids.encryptedData:a=zt.createEncryptedData();break;case Y.pki.oids.signedData:a=zt.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return a.fromAsn1(t.content.value[0]),a};zt.createSignedData=function(){var e=null;return e={type:Y.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(v0(e,n,zt.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,a=0;a<i.length;++a)e.certificates.push(Y.pki.certificateFromAsn1(i[a]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(Y.pki.certificateToAsn1(e.certificates[i]));var a=[],s=k.create(k.Class.CONTEXT_SPECIFIC,0,!0,[k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(e.version).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&s.value[0].value.push(k.create(k.Class.CONTEXT_SPECIFIC,0,!0,n)),a.length>0&&s.value[0].value.push(k.create(k.Class.CONTEXT_SPECIFIC,1,!0,a)),s.value[0].value.push(k.create(k.Class.UNIVERSAL,k.Type.SET,!0,e.signerInfos)),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(e.type).getBytes()),s])},addSigner:function(n){var i=n.issuer,a=n.serialNumber;if(n.certificate){var s=n.certificate;typeof s=="string"&&(s=Y.pki.certificateFromPem(s)),i=s.issuer.attributes,a=s.serialNumber}var o=n.key;if(!o)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof o=="string"&&(o=Y.pki.privateKeyFromPem(o));var l=n.digestAlgorithm||Y.pki.oids.sha1;switch(l){case Y.pki.oids.sha1:case Y.pki.oids.sha256:case Y.pki.oids.sha384:case Y.pki.oids.sha512:case Y.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+l)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var c=!1,f=!1,d=0;d<u.length;++d){var v=u[d];if(!c&&v.type===Y.pki.oids.contentType){if(c=!0,f)break;continue}if(!f&&v.type===Y.pki.oids.messageDigest){if(f=!0,c)break;continue}}if(!c||!f)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:o,version:1,issuer:i,serialNumber:a,digestAlgorithm:l,signatureAlgorithm:Y.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(Y.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof Y.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=Y.util.encodeUtf8(e.content)),n.detached?e.detachedContent=k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(k.create(k.Class.CONTEXT_SPECIFIC,0,!0,[k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var a=t();r(a)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=Y.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var a=e.signers[i],s=a.digestAlgorithm;s in n||(n[s]=Y.md[Y.pki.oids[s]].create()),a.authenticatedAttributes.length===0?a.md=n[s]:a.md=Y.md[Y.pki.oids[s]].create()}e.digestAlgorithmIdentifiers=[];for(var s in n)e.digestAlgorithmIdentifiers.push(k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(s).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")]));return n}function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=k.derToOid(e.contentInfo.value[0].value),s=k.toDer(i);s.getByte(),k.getBerValueLength(s),s=s.getBytes();for(var o in n)n[o].start().update(s);for(var l=new Date,u=0;u<e.signers.length;++u){var c=e.signers[u];if(c.authenticatedAttributes.length===0){if(a!==Y.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{c.authenticatedAttributesAsn1=k.create(k.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var f=k.create(k.Class.UNIVERSAL,k.Type.SET,!0,[]),d=0;d<c.authenticatedAttributes.length;++d){var v=c.authenticatedAttributes[d];v.type===Y.pki.oids.messageDigest?v.value=n[c.digestAlgorithm].digest():v.type===Y.pki.oids.signingTime&&(v.value||(v.value=l)),f.value.push(Gc(v)),c.authenticatedAttributesAsn1.value.push(Gc(v))}s=k.toDer(f).getBytes(),c.md.start().update(s)}c.signature=c.key.sign(c.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=cT(e.signers)}};zt.createEncryptedData=function(){var e=null;return e={type:Y.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:Y.pki.oids["aes256-CBC"]},fromAsn1:function(t){v0(e,t,zt.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),rv(e)}},e};zt.createEnvelopedData=function(){var e=null;return e={type:Y.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:Y.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=v0(e,t,zt.asn1.envelopedDataValidator);e.recipients=oT(r.recipientInfos.value)},toAsn1:function(){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(e.type).getBytes()),k.create(k.Class.CONTEXT_SPECIFIC,0,!0,[k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(e.version).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.SET,!0,lT(e.recipients)),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,fT(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],a=i.issuer;if(i.serialNumber===t.serialNumber&&a.length===r.length){for(var s=!0,o=0;o<r.length;++o)if(a[o].type!==r[o].type||a[o].value!==r[o].value){s=!1;break}if(s)return i}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case Y.pki.oids.rsaEncryption:case Y.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=Y.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}rv(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:Y.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,a;switch(r){case Y.pki.oids["aes128-CBC"]:n=16,i=16,a=Y.aes.createEncryptionCipher;break;case Y.pki.oids["aes192-CBC"]:n=24,i=16,a=Y.aes.createEncryptionCipher;break;case Y.pki.oids["aes256-CBC"]:n=32,i=16,a=Y.aes.createEncryptionCipher;break;case Y.pki.oids["des-EDE3-CBC"]:n=24,i=8,a=Y.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=Y.util.createBuffer(Y.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=Y.util.createBuffer(Y.random.getBytes(i));var s=a(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var o=0;o<e.recipients.length;++o){var l=e.recipients[o];if(l.encryptedContent.content===void 0)switch(l.encryptedContent.algorithm){case Y.pki.oids.rsaEncryption:l.encryptedContent.content=l.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+l.encryptedContent.algorithm)}}}},e};function aT(e){var t={},r=[];if(!k.validate(e,zt.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:Y.pki.RDNAttributesAsArray(t.issuer),serialNumber:Y.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:k.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function sT(e){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(e.version).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[Y.pki.distinguishedNameToAsn1({attributes:e.issuer}),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,Y.util.hexToBytes(e.serialNumber))]),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(e.encryptedContent.algorithm).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")]),k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function oT(e){for(var t=[],r=0;r<e.length;++r)t.push(aT(e[r]));return t}function lT(e){for(var t=[],r=0;r<e.length;++r)t.push(sT(e[r]));return t}function uT(e){var t=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(e.version).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[Y.pki.distinguishedNameToAsn1({attributes:e.issuer}),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,Y.util.hexToBytes(e.serialNumber))]),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(e.digestAlgorithm).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(e.signatureAlgorithm).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")])),t.value.push(k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=k.create(k.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(Gc(i))}t.value.push(r)}return t}function cT(e){for(var t=[],r=0;r<e.length;++r)t.push(uT(e[r]));return t}function Gc(e){var t;if(e.type===Y.pki.oids.contentType)t=k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(e.value).getBytes());else if(e.type===Y.pki.oids.messageDigest)t=k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===Y.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var a=Date.parse(i);isNaN(a)?i.length===13?i=k.utcTimeToDate(i):i=k.generalizedTimeToDate(i):i=new Date(a)}i>=r&&i<n?t=k.create(k.Class.UNIVERSAL,k.Type.UTCTIME,!1,k.dateToUtcTime(i)):t=k.create(k.Class.UNIVERSAL,k.Type.GENERALIZEDTIME,!1,k.dateToGeneralizedTime(i))}return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(e.type).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.SET,!0,[t])])}function fT(e){return[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(Y.pki.oids.data).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(e.algorithm).getBytes()),e.parameter?k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),k.create(k.Class.CONTEXT_SPECIFIC,0,!0,[k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,e.content.getBytes())])]}function v0(e,t,r){var n={},i=[];if(!k.validate(t,r,n,i)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}var s=k.derToOid(n.contentType);if(s!==Y.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var o="";if(Y.util.isArray(n.encryptedContent))for(var l=0;l<n.encryptedContent.length;++l){if(n.encryptedContent[l].type!==k.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=n.encryptedContent[l].value}else o=n.encryptedContent;e.encryptedContent={algorithm:k.derToOid(n.encAlgorithm),parameter:Y.util.createBuffer(n.encParameter.value),content:Y.util.createBuffer(o)}}if(n.content){var o="";if(Y.util.isArray(n.content))for(var l=0;l<n.content.length;++l){if(n.content[l].type!==k.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=n.content[l].value}else o=n.content;e.content=Y.util.createBuffer(o)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}function rv(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case Y.pki.oids["aes128-CBC"]:case Y.pki.oids["aes192-CBC"]:case Y.pki.oids["aes256-CBC"]:t=Y.aes.createDecryptionCipher(e.encryptedContent.key);break;case Y.pki.oids.desCBC:case Y.pki.oids["des-EDE3-CBC"]:t=Y.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}var pt=me,Nl=pt.ssh=pt.ssh||{};Nl.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",a="PuTTY-User-Key-File-2: "+n+`\r
`;a+="Encryption: "+i+`\r
`,a+="Comment: "+r+`\r
`;var s=pt.util.createBuffer();Wi(s,n),Gr(s,e.e),Gr(s,e.n);var o=pt.util.encode64(s.bytes(),64),l=Math.floor(o.length/66)+1;a+="Public-Lines: "+l+`\r
`,a+=o;var u=pt.util.createBuffer();Gr(u,e.d),Gr(u,e.p),Gr(u,e.q),Gr(u,e.qInv);var c;if(!t)c=pt.util.encode64(u.bytes(),64);else{var f=u.length()+16-1;f-=f%16;var d=no(u.bytes());d.truncate(d.length()-f+u.length()),u.putBuffer(d);var v=pt.util.createBuffer();v.putBuffer(no("\0\0\0\0",t)),v.putBuffer(no("\0\0\0",t));var g=pt.aes.createEncryptionCipher(v.truncate(8),"CBC");g.start(pt.util.createBuffer().fillWithByte(0,16)),g.update(u.copy()),g.finish();var C=g.output;C.truncate(16),c=pt.util.encode64(C.bytes(),64)}l=Math.floor(c.length/66)+1,a+=`\r
Private-Lines: `+l+`\r
`,a+=c;var I=no("putty-private-key-file-mac-key",t),y=pt.util.createBuffer();Wi(y,n),Wi(y,i),Wi(y,r),y.putInt32(s.length()),y.putBuffer(s),y.putInt32(u.length()),y.putBuffer(u);var m=pt.hmac.create();return m.start("sha1",I),m.update(y.bytes()),a+=`\r
Private-MAC: `+m.digest().toHex()+`\r
`,a};Nl.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=pt.util.createBuffer();return Wi(n,r),Gr(n,e.e),Gr(n,e.n),r+" "+pt.util.encode64(n.bytes())+" "+t};Nl.privateKeyToOpenSSH=function(e,t){return t?pt.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):pt.pki.privateKeyToPem(e)};Nl.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||pt.md.md5.create(),n="ssh-rsa",i=pt.util.createBuffer();Wi(i,n),Gr(i,e.e),Gr(i,e.n),r.start(),r.update(i.getBytes());var a=r.digest();if(t.encoding==="hex"){var s=a.toHex();return t.delimiter?s.match(/.{2}/g).join(t.delimiter):s}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};function Gr(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=pt.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}function Wi(e,t){e.putInt32(t.length),e.putString(t)}function no(){for(var e=pt.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}var dT=me;const yr=Qc(dT);var xo={},Dl={};Dl.byteLength=gT;Dl.toByteArray=yT;Dl.fromByteArray=ET;var Zr=[],Cr=[],hT=typeof Uint8Array<"u"?Uint8Array:Array,Au="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Di=0,pT=Au.length;Di<pT;++Di)Zr[Di]=Au[Di],Cr[Au.charCodeAt(Di)]=Di;Cr["-".charCodeAt(0)]=62;Cr["_".charCodeAt(0)]=63;function nv(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function gT(e){var t=nv(e),r=t[0],n=t[1];return(r+n)*3/4-n}function vT(e,t,r){return(t+r)*3/4-r}function yT(e){var t,r=nv(e),n=r[0],i=r[1],a=new hT(vT(e,n,i)),s=0,o=i>0?n-4:n,l;for(l=0;l<o;l+=4)t=Cr[e.charCodeAt(l)]<<18|Cr[e.charCodeAt(l+1)]<<12|Cr[e.charCodeAt(l+2)]<<6|Cr[e.charCodeAt(l+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=Cr[e.charCodeAt(l)]<<2|Cr[e.charCodeAt(l+1)]>>4,a[s++]=t&255),i===1&&(t=Cr[e.charCodeAt(l)]<<10|Cr[e.charCodeAt(l+1)]<<4|Cr[e.charCodeAt(l+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function mT(e){return Zr[e>>18&63]+Zr[e>>12&63]+Zr[e>>6&63]+Zr[e&63]}function CT(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(mT(n));return i.join("")}function ET(e){for(var t,r=e.length,n=r%3,i=[],a=16383,s=0,o=r-n;s<o;s+=a)i.push(CT(e,s,s+a>o?o:s+a));return n===1?(t=e[r-1],i.push(Zr[t>>2]+Zr[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Zr[t>>10]+Zr[t>>4&63]+Zr[t<<2&63]+"=")),i.join("")}var y0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */y0.read=function(e,t,r,n,i){var a,s,o=i*8-n-1,l=(1<<o)-1,u=l>>1,c=-7,f=r?i-1:0,d=r?-1:1,v=e[t+f];for(f+=d,a=v&(1<<-c)-1,v>>=-c,c+=o;c>0;a=a*256+e[t+f],f+=d,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=n;c>0;s=s*256+e[t+f],f+=d,c-=8);if(a===0)a=1-u;else{if(a===l)return s?NaN:(v?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-u}return(v?-1:1)*s*Math.pow(2,a-n)};y0.write=function(e,t,r,n,i,a){var s,o,l,u=a*8-i-1,c=(1<<u)-1,f=c>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:a-1,g=n?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+f>=1?t+=d/l:t+=d*Math.pow(2,1-f),t*l>=2&&(s++,l/=2),s+f>=c?(o=0,s=c):s+f>=1?(o=(t*l-1)*Math.pow(2,i),s=s+f):(o=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+v]=o&255,v+=g,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[r+v]=s&255,v+=g,s/=256,u-=8);e[r+v-g]|=C*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Dl,r=y0,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const w=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(w,h),w.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(w){if(w>i)throw new RangeError('The value "'+w+'" is invalid for option "size"');const h=new Uint8Array(w);return Object.setPrototypeOf(h,o.prototype),h}function o(w,h,p){if(typeof w=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(w)}return l(w,h,p)}o.poolSize=8192;function l(w,h,p){if(typeof w=="string")return d(w,h);if(ArrayBuffer.isView(w))return g(w);if(w==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(Gt(w,ArrayBuffer)||w&&Gt(w.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Gt(w,SharedArrayBuffer)||w&&Gt(w.buffer,SharedArrayBuffer)))return C(w,h,p);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const _=w.valueOf&&w.valueOf();if(_!=null&&_!==w)return o.from(_,h,p);const N=I(w);if(N)return N;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return o.from(w[Symbol.toPrimitive]("string"),h,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}o.from=function(w,h,p){return l(w,h,p)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function c(w,h,p){return u(w),w<=0?s(w):h!==void 0?typeof p=="string"?s(w).fill(h,p):s(w).fill(h):s(w)}o.alloc=function(w,h,p){return c(w,h,p)};function f(w){return u(w),s(w<0?0:y(w)|0)}o.allocUnsafe=function(w){return f(w)},o.allocUnsafeSlow=function(w){return f(w)};function d(w,h){if((typeof h!="string"||h==="")&&(h="utf8"),!o.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const p=S(w,h)|0;let _=s(p);const N=_.write(w,h);return N!==p&&(_=_.slice(0,N)),_}function v(w){const h=w.length<0?0:y(w.length)|0,p=s(h);for(let _=0;_<h;_+=1)p[_]=w[_]&255;return p}function g(w){if(Gt(w,Uint8Array)){const h=new Uint8Array(w);return C(h.buffer,h.byteOffset,h.byteLength)}return v(w)}function C(w,h,p){if(h<0||w.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<h+(p||0))throw new RangeError('"length" is outside of buffer bounds');let _;return h===void 0&&p===void 0?_=new Uint8Array(w):p===void 0?_=new Uint8Array(w,h):_=new Uint8Array(w,h,p),Object.setPrototypeOf(_,o.prototype),_}function I(w){if(o.isBuffer(w)){const h=y(w.length)|0,p=s(h);return p.length===0||w.copy(p,0,0,h),p}if(w.length!==void 0)return typeof w.length!="number"||En(w.length)?s(0):v(w);if(w.type==="Buffer"&&Array.isArray(w.data))return v(w.data)}function y(w){if(w>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return w|0}function m(w){return+w!=w&&(w=0),o.alloc(+w)}o.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==o.prototype},o.compare=function(h,p){if(Gt(h,Uint8Array)&&(h=o.from(h,h.offset,h.byteLength)),Gt(p,Uint8Array)&&(p=o.from(p,p.offset,p.byteLength)),!o.isBuffer(h)||!o.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===p)return 0;let _=h.length,N=p.length;for(let P=0,F=Math.min(_,N);P<F;++P)if(h[P]!==p[P]){_=h[P],N=p[P];break}return _<N?-1:N<_?1:0},o.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(h,p){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return o.alloc(0);let _;if(p===void 0)for(p=0,_=0;_<h.length;++_)p+=h[_].length;const N=o.allocUnsafe(p);let P=0;for(_=0;_<h.length;++_){let F=h[_];if(Gt(F,Uint8Array))P+F.length>N.length?(o.isBuffer(F)||(F=o.from(F)),F.copy(N,P)):Uint8Array.prototype.set.call(N,F,P);else if(o.isBuffer(F))F.copy(N,P);else throw new TypeError('"list" argument must be an Array of Buffers');P+=F.length}return N};function S(w,h){if(o.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||Gt(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);const p=w.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&p===0)return 0;let N=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return Ea(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return Ai(w).length;default:if(N)return _?-1:Ea(w).length;h=(""+h).toLowerCase(),N=!0}}o.byteLength=S;function B(w,h,p){let _=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,h>>>=0,p<=h))return"";for(w||(w="utf8");;)switch(w){case"hex":return ae(this,h,p);case"utf8":case"utf-8":return Ue(this,h,p);case"ascii":return te(this,h,p);case"latin1":case"binary":return W(this,h,p);case"base64":return De(this,h,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,h,p);default:if(_)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),_=!0}}o.prototype._isBuffer=!0;function L(w,h,p){const _=w[h];w[h]=w[p],w[p]=_}o.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<h;p+=2)L(this,p,p+1);return this},o.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<h;p+=4)L(this,p,p+3),L(this,p+1,p+2);return this},o.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<h;p+=8)L(this,p,p+7),L(this,p+1,p+6),L(this,p+2,p+5),L(this,p+3,p+4);return this},o.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?Ue(this,0,h):B.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(h){if(!o.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:o.compare(this,h)===0},o.prototype.inspect=function(){let h="";const p=e.INSPECT_MAX_BYTES;return h=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(h+=" ... "),"<Buffer "+h+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(h,p,_,N,P){if(Gt(h,Uint8Array)&&(h=o.from(h,h.offset,h.byteLength)),!o.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(p===void 0&&(p=0),_===void 0&&(_=h?h.length:0),N===void 0&&(N=0),P===void 0&&(P=this.length),p<0||_>h.length||N<0||P>this.length)throw new RangeError("out of range index");if(N>=P&&p>=_)return 0;if(N>=P)return-1;if(p>=_)return 1;if(p>>>=0,_>>>=0,N>>>=0,P>>>=0,this===h)return 0;let F=P-N,ge=_-p;const tt=Math.min(F,ge),ze=this.slice(N,P),He=h.slice(p,_);for(let Ne=0;Ne<tt;++Ne)if(ze[Ne]!==He[Ne]){F=ze[Ne],ge=He[Ne];break}return F<ge?-1:ge<F?1:0};function R(w,h,p,_,N){if(w.length===0)return-1;if(typeof p=="string"?(_=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,En(p)&&(p=N?0:w.length-1),p<0&&(p=w.length+p),p>=w.length){if(N)return-1;p=w.length-1}else if(p<0)if(N)p=0;else return-1;if(typeof h=="string"&&(h=o.from(h,_)),o.isBuffer(h))return h.length===0?-1:M(w,h,p,_,N);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(w,h,p):Uint8Array.prototype.lastIndexOf.call(w,h,p):M(w,[h],p,_,N);throw new TypeError("val must be string, number or Buffer")}function M(w,h,p,_,N){let P=1,F=w.length,ge=h.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(w.length<2||h.length<2)return-1;P=2,F/=2,ge/=2,p/=2}function tt(He,Ne){return P===1?He[Ne]:He.readUInt16BE(Ne*P)}let ze;if(N){let He=-1;for(ze=p;ze<F;ze++)if(tt(w,ze)===tt(h,He===-1?0:ze-He)){if(He===-1&&(He=ze),ze-He+1===ge)return He*P}else He!==-1&&(ze-=ze-He),He=-1}else for(p+ge>F&&(p=F-ge),ze=p;ze>=0;ze--){let He=!0;for(let Ne=0;Ne<ge;Ne++)if(tt(w,ze+Ne)!==tt(h,Ne)){He=!1;break}if(He)return ze}return-1}o.prototype.includes=function(h,p,_){return this.indexOf(h,p,_)!==-1},o.prototype.indexOf=function(h,p,_){return R(this,h,p,_,!0)},o.prototype.lastIndexOf=function(h,p,_){return R(this,h,p,_,!1)};function V(w,h,p,_){p=Number(p)||0;const N=w.length-p;_?(_=Number(_),_>N&&(_=N)):_=N;const P=h.length;_>P/2&&(_=P/2);let F;for(F=0;F<_;++F){const ge=parseInt(h.substr(F*2,2),16);if(En(ge))return F;w[p+F]=ge}return F}function Q(w,h,p,_){return tr(Ea(h,w.length-p),w,p,_)}function G(w,h,p,_){return tr(Sa(h),w,p,_)}function ce(w,h,p,_){return tr(Ai(h),w,p,_)}function pe(w,h,p,_){return tr(Ds(h,w.length-p),w,p,_)}o.prototype.write=function(h,p,_,N){if(p===void 0)N="utf8",_=this.length,p=0;else if(_===void 0&&typeof p=="string")N=p,_=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(_)?(_=_>>>0,N===void 0&&(N="utf8")):(N=_,_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const P=this.length-p;if((_===void 0||_>P)&&(_=P),h.length>0&&(_<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");let F=!1;for(;;)switch(N){case"hex":return V(this,h,p,_);case"utf8":case"utf-8":return Q(this,h,p,_);case"ascii":case"latin1":case"binary":return G(this,h,p,_);case"base64":return ce(this,h,p,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,h,p,_);default:if(F)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),F=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function De(w,h,p){return h===0&&p===w.length?t.fromByteArray(w):t.fromByteArray(w.slice(h,p))}function Ue(w,h,p){p=Math.min(w.length,p);const _=[];let N=h;for(;N<p;){const P=w[N];let F=null,ge=P>239?4:P>223?3:P>191?2:1;if(N+ge<=p){let tt,ze,He,Ne;switch(ge){case 1:P<128&&(F=P);break;case 2:tt=w[N+1],(tt&192)===128&&(Ne=(P&31)<<6|tt&63,Ne>127&&(F=Ne));break;case 3:tt=w[N+1],ze=w[N+2],(tt&192)===128&&(ze&192)===128&&(Ne=(P&15)<<12|(tt&63)<<6|ze&63,Ne>2047&&(Ne<55296||Ne>57343)&&(F=Ne));break;case 4:tt=w[N+1],ze=w[N+2],He=w[N+3],(tt&192)===128&&(ze&192)===128&&(He&192)===128&&(Ne=(P&15)<<18|(tt&63)<<12|(ze&63)<<6|He&63,Ne>65535&&Ne<1114112&&(F=Ne))}}F===null?(F=65533,ge=1):F>65535&&(F-=65536,_.push(F>>>10&1023|55296),F=56320|F&1023),_.push(F),N+=ge}return Re(_)}const Ce=4096;function Re(w){const h=w.length;if(h<=Ce)return String.fromCharCode.apply(String,w);let p="",_=0;for(;_<h;)p+=String.fromCharCode.apply(String,w.slice(_,_+=Ce));return p}function te(w,h,p){let _="";p=Math.min(w.length,p);for(let N=h;N<p;++N)_+=String.fromCharCode(w[N]&127);return _}function W(w,h,p){let _="";p=Math.min(w.length,p);for(let N=h;N<p;++N)_+=String.fromCharCode(w[N]);return _}function ae(w,h,p){const _=w.length;(!h||h<0)&&(h=0),(!p||p<0||p>_)&&(p=_);let N="";for(let P=h;P<p;++P)N+=Rl[w[P]];return N}function ne(w,h,p){const _=w.slice(h,p);let N="";for(let P=0;P<_.length-1;P+=2)N+=String.fromCharCode(_[P]+_[P+1]*256);return N}o.prototype.slice=function(h,p){const _=this.length;h=~~h,p=p===void 0?_:~~p,h<0?(h+=_,h<0&&(h=0)):h>_&&(h=_),p<0?(p+=_,p<0&&(p=0)):p>_&&(p=_),p<h&&(p=h);const N=this.subarray(h,p);return Object.setPrototypeOf(N,o.prototype),N};function ee(w,h,p){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+h>p)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(h,p,_){h=h>>>0,p=p>>>0,_||ee(h,p,this.length);let N=this[h],P=1,F=0;for(;++F<p&&(P*=256);)N+=this[h+F]*P;return N},o.prototype.readUintBE=o.prototype.readUIntBE=function(h,p,_){h=h>>>0,p=p>>>0,_||ee(h,p,this.length);let N=this[h+--p],P=1;for(;p>0&&(P*=256);)N+=this[h+--p]*P;return N},o.prototype.readUint8=o.prototype.readUInt8=function(h,p){return h=h>>>0,p||ee(h,1,this.length),this[h]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(h,p){return h=h>>>0,p||ee(h,2,this.length),this[h]|this[h+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(h,p){return h=h>>>0,p||ee(h,2,this.length),this[h]<<8|this[h+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(h,p){return h=h>>>0,p||ee(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(h,p){return h=h>>>0,p||ee(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},o.prototype.readBigUInt64LE=Kr(function(h){h=h>>>0,We(h,"offset");const p=this[h],_=this[h+7];(p===void 0||_===void 0)&&Ke(h,this.length-8);const N=p+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,P=this[++h]+this[++h]*2**8+this[++h]*2**16+_*2**24;return BigInt(N)+(BigInt(P)<<BigInt(32))}),o.prototype.readBigUInt64BE=Kr(function(h){h=h>>>0,We(h,"offset");const p=this[h],_=this[h+7];(p===void 0||_===void 0)&&Ke(h,this.length-8);const N=p*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],P=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+_;return(BigInt(N)<<BigInt(32))+BigInt(P)}),o.prototype.readIntLE=function(h,p,_){h=h>>>0,p=p>>>0,_||ee(h,p,this.length);let N=this[h],P=1,F=0;for(;++F<p&&(P*=256);)N+=this[h+F]*P;return P*=128,N>=P&&(N-=Math.pow(2,8*p)),N},o.prototype.readIntBE=function(h,p,_){h=h>>>0,p=p>>>0,_||ee(h,p,this.length);let N=p,P=1,F=this[h+--N];for(;N>0&&(P*=256);)F+=this[h+--N]*P;return P*=128,F>=P&&(F-=Math.pow(2,8*p)),F},o.prototype.readInt8=function(h,p){return h=h>>>0,p||ee(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},o.prototype.readInt16LE=function(h,p){h=h>>>0,p||ee(h,2,this.length);const _=this[h]|this[h+1]<<8;return _&32768?_|4294901760:_},o.prototype.readInt16BE=function(h,p){h=h>>>0,p||ee(h,2,this.length);const _=this[h+1]|this[h]<<8;return _&32768?_|4294901760:_},o.prototype.readInt32LE=function(h,p){return h=h>>>0,p||ee(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},o.prototype.readInt32BE=function(h,p){return h=h>>>0,p||ee(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},o.prototype.readBigInt64LE=Kr(function(h){h=h>>>0,We(h,"offset");const p=this[h],_=this[h+7];(p===void 0||_===void 0)&&Ke(h,this.length-8);const N=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(_<<24);return(BigInt(N)<<BigInt(32))+BigInt(p+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),o.prototype.readBigInt64BE=Kr(function(h){h=h>>>0,We(h,"offset");const p=this[h],_=this[h+7];(p===void 0||_===void 0)&&Ke(h,this.length-8);const N=(p<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(N)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+_)}),o.prototype.readFloatLE=function(h,p){return h=h>>>0,p||ee(h,4,this.length),r.read(this,h,!0,23,4)},o.prototype.readFloatBE=function(h,p){return h=h>>>0,p||ee(h,4,this.length),r.read(this,h,!1,23,4)},o.prototype.readDoubleLE=function(h,p){return h=h>>>0,p||ee(h,8,this.length),r.read(this,h,!0,52,8)},o.prototype.readDoubleBE=function(h,p){return h=h>>>0,p||ee(h,8,this.length),r.read(this,h,!1,52,8)};function ie(w,h,p,_,N,P){if(!o.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>N||h<P)throw new RangeError('"value" argument is out of bounds');if(p+_>w.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(h,p,_,N){if(h=+h,p=p>>>0,_=_>>>0,!N){const ge=Math.pow(2,8*_)-1;ie(this,h,p,_,ge,0)}let P=1,F=0;for(this[p]=h&255;++F<_&&(P*=256);)this[p+F]=h/P&255;return p+_},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(h,p,_,N){if(h=+h,p=p>>>0,_=_>>>0,!N){const ge=Math.pow(2,8*_)-1;ie(this,h,p,_,ge,0)}let P=_-1,F=1;for(this[p+P]=h&255;--P>=0&&(F*=256);)this[p+P]=h/F&255;return p+_},o.prototype.writeUint8=o.prototype.writeUInt8=function(h,p,_){return h=+h,p=p>>>0,_||ie(this,h,p,1,255,0),this[p]=h&255,p+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(h,p,_){return h=+h,p=p>>>0,_||ie(this,h,p,2,65535,0),this[p]=h&255,this[p+1]=h>>>8,p+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(h,p,_){return h=+h,p=p>>>0,_||ie(this,h,p,2,65535,0),this[p]=h>>>8,this[p+1]=h&255,p+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(h,p,_){return h=+h,p=p>>>0,_||ie(this,h,p,4,4294967295,0),this[p+3]=h>>>24,this[p+2]=h>>>16,this[p+1]=h>>>8,this[p]=h&255,p+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(h,p,_){return h=+h,p=p>>>0,_||ie(this,h,p,4,4294967295,0),this[p]=h>>>24,this[p+1]=h>>>16,this[p+2]=h>>>8,this[p+3]=h&255,p+4};function Oe(w,h,p,_,N){je(h,_,N,w,p,7);let P=Number(h&BigInt(4294967295));w[p++]=P,P=P>>8,w[p++]=P,P=P>>8,w[p++]=P,P=P>>8,w[p++]=P;let F=Number(h>>BigInt(32)&BigInt(4294967295));return w[p++]=F,F=F>>8,w[p++]=F,F=F>>8,w[p++]=F,F=F>>8,w[p++]=F,p}function se(w,h,p,_,N){je(h,_,N,w,p,7);let P=Number(h&BigInt(4294967295));w[p+7]=P,P=P>>8,w[p+6]=P,P=P>>8,w[p+5]=P,P=P>>8,w[p+4]=P;let F=Number(h>>BigInt(32)&BigInt(4294967295));return w[p+3]=F,F=F>>8,w[p+2]=F,F=F>>8,w[p+1]=F,F=F>>8,w[p]=F,p+8}o.prototype.writeBigUInt64LE=Kr(function(h,p=0){return Oe(this,h,p,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Kr(function(h,p=0){return se(this,h,p,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(h,p,_,N){if(h=+h,p=p>>>0,!N){const tt=Math.pow(2,8*_-1);ie(this,h,p,_,tt-1,-tt)}let P=0,F=1,ge=0;for(this[p]=h&255;++P<_&&(F*=256);)h<0&&ge===0&&this[p+P-1]!==0&&(ge=1),this[p+P]=(h/F>>0)-ge&255;return p+_},o.prototype.writeIntBE=function(h,p,_,N){if(h=+h,p=p>>>0,!N){const tt=Math.pow(2,8*_-1);ie(this,h,p,_,tt-1,-tt)}let P=_-1,F=1,ge=0;for(this[p+P]=h&255;--P>=0&&(F*=256);)h<0&&ge===0&&this[p+P+1]!==0&&(ge=1),this[p+P]=(h/F>>0)-ge&255;return p+_},o.prototype.writeInt8=function(h,p,_){return h=+h,p=p>>>0,_||ie(this,h,p,1,127,-128),h<0&&(h=255+h+1),this[p]=h&255,p+1},o.prototype.writeInt16LE=function(h,p,_){return h=+h,p=p>>>0,_||ie(this,h,p,2,32767,-32768),this[p]=h&255,this[p+1]=h>>>8,p+2},o.prototype.writeInt16BE=function(h,p,_){return h=+h,p=p>>>0,_||ie(this,h,p,2,32767,-32768),this[p]=h>>>8,this[p+1]=h&255,p+2},o.prototype.writeInt32LE=function(h,p,_){return h=+h,p=p>>>0,_||ie(this,h,p,4,2147483647,-2147483648),this[p]=h&255,this[p+1]=h>>>8,this[p+2]=h>>>16,this[p+3]=h>>>24,p+4},o.prototype.writeInt32BE=function(h,p,_){return h=+h,p=p>>>0,_||ie(this,h,p,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[p]=h>>>24,this[p+1]=h>>>16,this[p+2]=h>>>8,this[p+3]=h&255,p+4},o.prototype.writeBigInt64LE=Kr(function(h,p=0){return Oe(this,h,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Kr(function(h,p=0){return se(this,h,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Fe(w,h,p,_,N,P){if(p+_>w.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function Le(w,h,p,_,N){return h=+h,p=p>>>0,N||Fe(w,h,p,4),r.write(w,h,p,_,23,4),p+4}o.prototype.writeFloatLE=function(h,p,_){return Le(this,h,p,!0,_)},o.prototype.writeFloatBE=function(h,p,_){return Le(this,h,p,!1,_)};function ke(w,h,p,_,N){return h=+h,p=p>>>0,N||Fe(w,h,p,8),r.write(w,h,p,_,52,8),p+8}o.prototype.writeDoubleLE=function(h,p,_){return ke(this,h,p,!0,_)},o.prototype.writeDoubleBE=function(h,p,_){return ke(this,h,p,!1,_)},o.prototype.copy=function(h,p,_,N){if(!o.isBuffer(h))throw new TypeError("argument should be a Buffer");if(_||(_=0),!N&&N!==0&&(N=this.length),p>=h.length&&(p=h.length),p||(p=0),N>0&&N<_&&(N=_),N===_||h.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),h.length-p<N-_&&(N=h.length-p+_);const P=N-_;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,_,N):Uint8Array.prototype.set.call(h,this.subarray(_,N),p),P},o.prototype.fill=function(h,p,_,N){if(typeof h=="string"){if(typeof p=="string"?(N=p,p=0,_=this.length):typeof _=="string"&&(N=_,_=this.length),N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!o.isEncoding(N))throw new TypeError("Unknown encoding: "+N);if(h.length===1){const F=h.charCodeAt(0);(N==="utf8"&&F<128||N==="latin1")&&(h=F)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(p<0||this.length<p||this.length<_)throw new RangeError("Out of range index");if(_<=p)return this;p=p>>>0,_=_===void 0?this.length:_>>>0,h||(h=0);let P;if(typeof h=="number")for(P=p;P<_;++P)this[P]=h;else{const F=o.isBuffer(h)?h:o.from(h,N),ge=F.length;if(ge===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(P=0;P<_-p;++P)this[P+p]=F[P%ge]}return this};const be={};function Qe(w,h,p){be[w]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${w}]`,this.stack,delete this.name}get code(){return w}set code(N){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:N,writable:!0})}toString(){return`${this.name} [${w}]: ${this.message}`}}}Qe("ERR_BUFFER_OUT_OF_BOUNDS",function(w){return w?`${w} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Qe("ERR_INVALID_ARG_TYPE",function(w,h){return`The "${w}" argument must be of type number. Received type ${typeof h}`},TypeError),Qe("ERR_OUT_OF_RANGE",function(w,h,p){let _=`The value of "${w}" is out of range.`,N=p;return Number.isInteger(p)&&Math.abs(p)>2**32?N=ct(String(p)):typeof p=="bigint"&&(N=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(N=ct(N)),N+="n"),_+=` It must be ${h}. Received ${N}`,_},RangeError);function ct(w){let h="",p=w.length;const _=w[0]==="-"?1:0;for(;p>=_+4;p-=3)h=`_${w.slice(p-3,p)}${h}`;return`${w.slice(0,p)}${h}`}function ot(w,h,p){We(h,"offset"),(w[h]===void 0||w[h+p]===void 0)&&Ke(h,w.length-(p+1))}function je(w,h,p,_,N,P){if(w>p||w<h){const F=typeof h=="bigint"?"n":"";let ge;throw P>3?h===0||h===BigInt(0)?ge=`>= 0${F} and < 2${F} ** ${(P+1)*8}${F}`:ge=`>= -(2${F} ** ${(P+1)*8-1}${F}) and < 2 ** ${(P+1)*8-1}${F}`:ge=`>= ${h}${F} and <= ${p}${F}`,new be.ERR_OUT_OF_RANGE("value",ge,w)}ot(_,N,P)}function We(w,h){if(typeof w!="number")throw new be.ERR_INVALID_ARG_TYPE(h,"number",w)}function Ke(w,h,p){throw Math.floor(w)!==w?(We(w,p),new be.ERR_OUT_OF_RANGE(p||"offset","an integer",w)):h<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE(p||"offset",`>= ${p?1:0} and <= ${h}`,w)}const ht=/[^+/0-9A-Za-z-_]/g;function Ns(w){if(w=w.split("=")[0],w=w.trim().replace(ht,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}function Ea(w,h){h=h||1/0;let p;const _=w.length;let N=null;const P=[];for(let F=0;F<_;++F){if(p=w.charCodeAt(F),p>55295&&p<57344){if(!N){if(p>56319){(h-=3)>-1&&P.push(239,191,189);continue}else if(F+1===_){(h-=3)>-1&&P.push(239,191,189);continue}N=p;continue}if(p<56320){(h-=3)>-1&&P.push(239,191,189),N=p;continue}p=(N-55296<<10|p-56320)+65536}else N&&(h-=3)>-1&&P.push(239,191,189);if(N=null,p<128){if((h-=1)<0)break;P.push(p)}else if(p<2048){if((h-=2)<0)break;P.push(p>>6|192,p&63|128)}else if(p<65536){if((h-=3)<0)break;P.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((h-=4)<0)break;P.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return P}function Sa(w){const h=[];for(let p=0;p<w.length;++p)h.push(w.charCodeAt(p)&255);return h}function Ds(w,h){let p,_,N;const P=[];for(let F=0;F<w.length&&!((h-=2)<0);++F)p=w.charCodeAt(F),_=p>>8,N=p%256,P.push(N),P.push(_);return P}function Ai(w){return t.toByteArray(Ns(w))}function tr(w,h,p,_){let N;for(N=0;N<_&&!(N+p>=h.length||N>=w.length);++N)h[N+p]=w[N];return N}function Gt(w,h){return w instanceof h||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===h.name}function En(w){return w!==w}const Rl=function(){const w="0123456789abcdef",h=new Array(256);for(let p=0;p<16;++p){const _=p*16;for(let N=0;N<16;++N)h[_+N]=w[p]+w[N]}return h}();function Kr(w){return typeof BigInt>"u"?Ol:w}function Ol(){throw new Error("BigInt not supported")}})(xo);const ST=e=>(window.location.pathname.includes("/http-proxy/serve/")?`/http-proxy/serve/${window.location.pathname.split("/")[3]}/${e}`:e).replace("//","/");function Li(e){const t=document.cookie.split(";");for(let r=0;r<t.length;r++){const n=t[r].trim();if(n.startsWith(e))return n.substring(e.length+1)}}function Bu(e){const t=JSON.stringify(e);return new TextEncoder().encode(t)}function xT(e){return new Promise((t,r)=>{const n=new FileReader;n.onerror=r,n.onload=function(i){const a=i.target.result,s=new Uint8Array(a);t(s)},n.readAsArrayBuffer(e)})}class TT{constructor({nodeId:t,channelId:r,uri:n="ws://"+window.location.host,onMessage:i=()=>null,onOpen:a=()=>null,onClose:s=()=>null,onError:o=()=>null,onEncryptionReady:l=()=>null}){ft(this,"nodeId");ft(this,"channelId");ft(this,"_secret");ft(this,"_cipher");ft(this,"_decipher");ft(this,"_ws");ft(this,"_encrypt",t=>{if(this._cipher){const r=yr.random.getBytesSync(12);this._cipher.start({iv:r}),this._cipher.update(yr.util.createBuffer(t,"utf8")),this._cipher.finish();const n=this._cipher.output.getBytes(),i=this._cipher.mode.tag.getBytes();return{encrypted:n+i,nonce:r}}return null});ft(this,"_decrypt",t=>{if(!this._decipher)return null;const r=t.slice(0,-28),n=t.slice(-28,-12),i=t.slice(-12);return this._decipher.start({iv:yr.util.createBuffer(i),tag:yr.util.createBuffer(n)}),this._decipher.update(yr.util.createBuffer(r)),this._decipher.finish()?this._decipher.output.toString():null});ft(this,"send",({data:t,channelId:r=this.channelId,encrypted:n=!0,target:i={node:this.nodeId,process:this.channelId}})=>{const a=Li(`uqbar-auth_${this.nodeId}`),s=Li(`uqbar-ws-auth_${this.nodeId}`);if(n){if(!this._cipher)return console.error("No cipher, unable to encrypt");this._ws.send(Bu({EncryptedWsMessage:{auth_token:a,ws_auth_token:s,channel_id:r,target:{node:i.node,process:typeof i.process=="number"?{Id:i.process}:{Name:i.process}},...this._encrypt(JSON.stringify(t))}}))}else this._ws.send(Bu({WsMessage:{auth_token:a,ws_auth_token:s,channel_id:r,target:{node:i.node,process:typeof i.process=="number"?{Id:i.process}:{Name:i.process}},json:t}}))});ft(this,"fetchJson",async(t,r)=>(console.log("Fetching JSON:",t),await(await fetch(t,r)).json()));this._secret=void 0,this.channelId=r,this.nodeId=t,this._ws=new WebSocket(n),this._ws.onmessage=async d=>{if(typeof d.data=="string")i(d.data);else if(d.data instanceof Blob){const v=await xT(d.data),g=this._decrypt(v);if(g===null){console.log("Unable to decrypt message, passing through as-is");const C=new TextDecoder().decode(v);i(C)}else i(g)}else i(d.data)},this._ws.onopen=d=>{console.log(`${t}`,Li(`uqbar-auth_${t}`),Li(`uqbar-ws-auth_${t}`)),this._ws.send(Bu({WsRegister:{auth_token:Li(`uqbar-auth_${t}`),ws_auth_token:Li(`uqbar-ws-auth_${t}`),channel_id:r}})),a(d)},this._ws.onclose=s,this._ws.onerror=o;const c=yr.pki.rsa.generateKeyPair({bits:2048,e:65537}),f=c.publicKey.n.toString(16);fetch(ST("/encryptor"),{method:"POST",body:JSON.stringify({channel_id:r,public_key_hex:f})}).then(d=>d.json()).then(d=>{const{encrypted_secret:v,signed_public_key:g}=d;fetch(`/qns-indexer/node/${this.nodeId}`).then(C=>C.json()).then(C=>{const{QnsUpdate:{public_key:I}}=C,y=I.replace("0x","");if(!y)return;if(yr.pki.ed25519.verify({message:xo.Buffer.from(f,"hex"),signature:xo.Buffer.from(g,"hex"),publicKey:xo.Buffer.from(y,"hex")})){const S=yr.util.hexToBytes(v),B=c.privateKey.decrypt(S,"RSA-OAEP",{md:yr.md.sha256.create()});this._secret=yr.util.bytesToHex(B),this._cipher=yr.cipher.createCipher("AES-GCM",B),this._decipher=yr.cipher.createDecipher("AES-GCM",B),l(this)}else console.error("Unable to verify networking key")}).catch(console.error)}).catch(console.error)}}const bh=e=>{let t;const r=new Set,n=(l,u)=>{const c=typeof l=="function"?l(t):l;if(!Object.is(c,t)){const f=t;t=u??typeof c!="object"?c:Object.assign({},t,c),r.forEach(d=>d(t,f))}},i=()=>t,o={setState:n,getState:i,subscribe:l=>(r.add(l),()=>r.delete(l)),destroy:()=>{r.clear()}};return t=e(n,i,o),o},wT=e=>e?bh(e):bh;var iv={exports:{}},av={},sv={exports:{}},ov={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=$;function IT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _T=typeof Object.is=="function"?Object.is:IT,AT=da.useState,BT=da.useEffect,kT=da.useLayoutEffect,bT=da.useDebugValue;function NT(e,t){var r=t(),n=AT({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return kT(function(){i.value=r,i.getSnapshot=t,ku(i)&&a({inst:i})},[e,r,t]),BT(function(){return ku(i)&&a({inst:i}),e(function(){ku(i)&&a({inst:i})})},[e]),bT(r),r}function ku(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_T(e,r)}catch{return!0}}function DT(e,t){return t()}var LT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DT:NT;ov.useSyncExternalStore=da.useSyncExternalStore!==void 0?da.useSyncExternalStore:LT;sv.exports=ov;var RT=sv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=$,OT=RT;function PT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UT=typeof Object.is=="function"?Object.is:PT,MT=OT.useSyncExternalStore,FT=Ll.useRef,VT=Ll.useEffect,jT=Ll.useMemo,KT=Ll.useDebugValue;av.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=FT(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=jT(function(){function l(v){if(!u){if(u=!0,c=v,v=n(v),i!==void 0&&s.hasValue){var g=s.value;if(i(g,v))return f=g}return f=v}if(g=f,UT(c,v))return g;var C=n(v);return i!==void 0&&i(g,C)?g:(c=v,f=C)}var u=!1,c,f,d=r===void 0?null:r;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,r,n,i]);var o=MT(e,a[0],a[1]);return VT(function(){s.hasValue=!0,s.value=o},[o]),KT(o),o};iv.exports=av;var zT=iv.exports;const HT=Qc(zT),{useSyncExternalStoreWithSelector:$T}=HT;function qT(e,t=e.getState,r){const n=$T(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return $.useDebugValue(n),n}const Nh=e=>{const t=typeof e=="function"?wT(e):e,r=(n,i)=>qT(t,n,i);return Object.assign(r,t),r},GT=e=>e?Nh(e):Nh;function lv(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var a;const s=l=>l===null?null:JSON.parse(l,t==null?void 0:t.reviver),o=(a=r.getItem(i))!=null?a:null;return o instanceof Promise?o.then(s):s(o)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,t==null?void 0:t.replacer)),removeItem:i=>r.removeItem(i)}}const xs=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return xs(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return xs(n)(r)}}}},QT=(e,t)=>(r,n,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:I=>I,version:0,merge:(I,y)=>({...y,...I}),...t},s=!1;const o=new Set,l=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return e((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...I)},n,i);const c=xs(a.serialize),f=()=>{const I=a.partialize({...n()});let y;const m=c({state:I,version:a.version}).then(S=>u.setItem(a.name,S)).catch(S=>{y=S});if(y)throw y;return m},d=i.setState;i.setState=(I,y)=>{d(I,y),f()};const v=e((...I)=>{r(...I),f()},n,i);let g;const C=()=>{var I;if(!u)return;s=!1,o.forEach(m=>m(n()));const y=((I=a.onRehydrateStorage)==null?void 0:I.call(a,n()))||void 0;return xs(u.getItem.bind(u))(a.name).then(m=>{if(m)return a.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate)return a.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var S;return g=a.merge(m,(S=n())!=null?S:v),r(g,!0),f()}).then(()=>{y==null||y(g,void 0),s=!0,l.forEach(m=>m(g))}).catch(m=>{y==null||y(void 0,m)})};return i.persist={setOptions:I=>{a={...a,...I},I.getStorage&&(u=I.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>C(),hasHydrated:()=>s,onHydrate:I=>(o.add(I),()=>{o.delete(I)}),onFinishHydration:I=>(l.add(I),()=>{l.delete(I)})},C(),g||v},WT=(e,t)=>(r,n,i)=>{let a={storage:lv(()=>localStorage),partialize:C=>C,version:0,merge:(C,I)=>({...I,...C}),...t},s=!1;const o=new Set,l=new Set;let u=a.storage;if(!u)return e((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...C)},n,i);const c=()=>{const C=a.partialize({...n()});return u.setItem(a.name,{state:C,version:a.version})},f=i.setState;i.setState=(C,I)=>{f(C,I),c()};const d=e((...C)=>{r(...C),c()},n,i);let v;const g=()=>{var C,I;if(!u)return;s=!1,o.forEach(m=>{var S;return m((S=n())!=null?S:d)});const y=((I=a.onRehydrateStorage)==null?void 0:I.call(a,(C=n())!=null?C:d))||void 0;return xs(u.getItem.bind(u))(a.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate)return a.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var S;return v=a.merge(m,(S=n())!=null?S:d),r(v,!0),c()}).then(()=>{y==null||y(v,void 0),v=n(),s=!0,l.forEach(m=>m(v))}).catch(m=>{y==null||y(void 0,m)})};return i.persist={setOptions:C=>{a={...a,...C},C.storage&&(u=C.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:C=>(o.add(C),()=>{o.delete(C)}),onFinishHydration:C=>(l.add(C),()=>{l.delete(C)})},a.skipHydration||g(),v||d},YT=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?QT(e,t):WT(e,t),XT=YT,ZT=GT()(XT((e,t)=>({games:{},handleWsMessage:r=>{const{kind:n,data:i}=JSON.parse(r);console.log(n,i),n==="game_update"&&e({games:{...t().games,[i.id]:i}})},set:e}),{name:"chess",storage:lv(()=>localStorage)}));let Dh=!1;const Lh=(e,t)=>(e.turns||0)%2===0?t===e.white:t===e.black;function JT(){const{games:e,handleWsMessage:t,set:r}=ZT(),[n,i]=$.useState("new"),[a,s]=$.useState(""),o=$.useMemo(()=>e[n]?{...e[n],game:new e2(e[n].board)}:void 0,[e,n]),l=$.useMemo(()=>((o==null?void 0:o.turns)||0)%2===0?`${o==null?void 0:o.white} (white)`:`${o==null?void 0:o.black} (black)`,[o]);$.useEffect(()=>{Dh||(Dh=!0,new TT({nodeId:window.our.node,channelId:window.our.process,onMessage:t})),fetch("/chess/games").then(v=>v.json()).then(v=>{r({games:v})}).catch(console.error)},[]);const u=$.useCallback(async v=>{v.preventDefault();try{const g=await fetch("/chess/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})}).then(I=>{if(I.status===409)throw e[a]?i(a):alert("Game already exists, please refresh the page and select it."),new Error("Game already exists");if(I.status===503)throw alert(`${a} may be offline, please confirm it is online and try again.`),new Error("Player offline");if(I.status===400)throw alert("Please enter a valid player ID"),new Error("Invalid player ID");if(I.status>399)throw alert("There was an error creating the game. Please try again."),new Error("Error creating game");return I.json()}),C={...e};C[g.id]=g,r({games:C}),i(a),s("")}catch(g){console.error(g)}},[e,a,s,r]),c=$.useCallback((v,g)=>{if(!o||!Lh(o,window.our.node))return!1;const C={from:v,to:g,promotion:"q"},I={...o};if(I.game.move(C)===null)return!1;I.board=I.game.fen();const m={...e};return m[o.id]=I,r({games:m}),fetch("/chess/games",{method:"PUT",body:JSON.stringify({id:o.id,move:v+g})}).then(S=>S.json()).then(S=>{const B={...e};B[o.id]=S,r({games:B})}).catch(S=>{console.error(S),alert("There was an error making your move. Please try again");const B={...e},L={...o};L.game.undo(),B[o.id]=L,r({games:B})}),!0},[o,e,r]),f=$.useCallback(v=>{v.preventDefault(),v.stopPropagation(),o&&window.confirm("Are you sure you want to resign this game?")&&fetch(`/chess/games?id=${o.id}`,{method:"DELETE"}).then(g=>g.json()).then(g=>{const C={...e};C[o.id]=g,r({games:C})}).catch(g=>{console.error(g),alert("There was an error resigning the game. Please try again")})},[o]),d=$.useCallback(async v=>{if(v.preventDefault(),v.stopPropagation(),!!o)try{const g=await fetch("/chess/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:o.id})}).then(I=>I.json()),C={...e};C[g.id]=g,r({games:C})}catch(g){console.error(g),alert("You could not create the game. Please make sure your current game with this player (if any) has ended and try again.")}},[o]);return D.jsx("div",{className:"flex flex-col justify-center items-center",children:D.jsxs("div",{className:"flex flex-col justify-center",style:{maxHeight:"100vh",maxWidth:"800px",width:"100%",position:"relative"},children:[D.jsx("a",{href:"/",className:"absolute top-6 left-0 m-4",style:{fontSize:24,color:"white"},onClick:v=>{v.preventDefault(),window.history.back()},children:"◀ Back"}),D.jsx("h1",{className:"m-4",children:"Chess by Uqbar"}),D.jsxs("div",{className:"flex flex-row justify-center items-center h-screen border rounded",children:[Object.keys(e).length>0&&D.jsxs("div",{className:"flex flex-col border-r",style:{width:"25%",height:"100%"},children:[D.jsx("h3",{className:"m-2",children:"Games"}),D.jsx("button",{className:"bg-green-600 hover:bg-green-800 text-white font-bold py-2 px-4 m-2 rounded",onClick:()=>i("new"),children:"New"}),D.jsx("div",{className:"flex flex-col overflow-scroll",children:Object.values(e).map(v=>D.jsx("div",{onClick:()=>i(v==null?void 0:v.id),className:`game-entry m-2 ${n!==(v==null?void 0:v.id)&&Lh(v,window.our.node)?"is-turn":""} ${n===(v==null?void 0:v.id)?"selected":""} ${v!=null&&v.ended?"ended":""}`,children:v==null?void 0:v.id},v==null?void 0:v.id))})]}),D.jsx("div",{className:"flex flex-col justify-center items-center",style:{width:"75%"},children:n==="new"||!o?D.jsxs(D.Fragment,{children:[D.jsx("h2",{className:"mb-2",children:"Start New Game"}),D.jsx("h4",{className:"mb-2",children:"(game creator will be white)"}),D.jsxs("form",{onSubmit:u,className:"flex flex-col justify-center mb-40",style:{maxWidth:400},children:[D.jsx("label",{className:"mb-2",style:{alignSelf:"flex-start",fontWeight:"600"},children:"Player ID"}),D.jsx("input",{className:"border rounded p-2 mb-2",style:{color:"black"},type:"text",placeholder:"Player ID",value:a,onChange:v=>s(v.target.value)}),D.jsx("button",{className:"bg-green-600 hover:bg-green-800 text-white font-bold py-2 px-4 rounded",type:"submit",children:"Start Game"})]})]}):D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"flex flex-row justify-between items-center w-full px-4 pb-2",children:[D.jsx("h3",{children:n}),D.jsx("h4",{children:o!=null&&o.ended?"Game Ended":`Turn: ${l}`}),o!=null&&o.ended?D.jsx("button",{className:"bg-green-600 hover:bg-green-800 text-white font-bold py-1 px-4 rounded",onClick:d,children:"Rematch"}):D.jsx("button",{className:"bg-green-600 hover:bg-green-800 text-white font-bold py-1 px-4 rounded",onClick:f,children:"Resign"})]}),D.jsx(TC,{position:o==null?void 0:o.game.fen(),onPieceDrop:c,boardOrientation:(o==null?void 0:o.white)===window.our.node?"white":"black"})]})})]})]})})}bu.createRoot(document.getElementById("root")).render(D.jsx(bv.StrictMode,{children:D.jsx(JT,{})}));
